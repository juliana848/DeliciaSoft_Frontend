function n$(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();var Bv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function wa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R1={exports:{}},Gn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MN;function a$(){if(MN)return Gn;MN=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=m&&B[m]||B["@@iterator"],typeof B=="function"?B:null)}var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},E=Object.assign,y={};function b(B,j,U){this.props=B,this.context=j,this.refs=y,this.updater=U||h}b.prototype.isReactComponent={},b.prototype.setState=function(B,j){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,j,"setState")},b.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function x(){}x.prototype=b.prototype;function w(B,j,U){this.props=B,this.context=j,this.refs=y,this.updater=U||h}var N=w.prototype=new x;N.constructor=w,E(N,b.prototype),N.isPureReactComponent=!0;var I=Array.isArray,P=Object.prototype.hasOwnProperty,L={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function O(B,j,U){var X,Z={},me=null,de=null;if(j!=null)for(X in j.ref!==void 0&&(de=j.ref),j.key!==void 0&&(me=""+j.key),j)P.call(j,X)&&!R.hasOwnProperty(X)&&(Z[X]=j[X]);var oe=arguments.length-2;if(oe===1)Z.children=U;else if(1<oe){for(var ee=Array(oe),le=0;le<oe;le++)ee[le]=arguments[le+2];Z.children=ee}if(B&&B.defaultProps)for(X in oe=B.defaultProps,oe)Z[X]===void 0&&(Z[X]=oe[X]);return{$$typeof:t,type:B,key:me,ref:de,props:Z,_owner:L.current}}function A(B,j){return{$$typeof:t,type:B.type,key:j,ref:B.ref,props:B.props,_owner:B._owner}}function T(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function C(B){var j={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(U){return j[U]})}var _=/\/+/g;function D(B,j){return typeof B=="object"&&B!==null&&B.key!=null?C(""+B.key):j.toString(36)}function z(B,j,U,X,Z){var me=typeof B;(me==="undefined"||me==="boolean")&&(B=null);var de=!1;if(B===null)de=!0;else switch(me){case"string":case"number":de=!0;break;case"object":switch(B.$$typeof){case t:case e:de=!0}}if(de)return de=B,Z=Z(de),B=X===""?"."+D(de,0):X,I(Z)?(U="",B!=null&&(U=B.replace(_,"$&/")+"/"),z(Z,j,U,"",function(le){return le})):Z!=null&&(T(Z)&&(Z=A(Z,U+(!Z.key||de&&de.key===Z.key?"":(""+Z.key).replace(_,"$&/")+"/")+B)),j.push(Z)),1;if(de=0,X=X===""?".":X+":",I(B))for(var oe=0;oe<B.length;oe++){me=B[oe];var ee=X+D(me,oe);de+=z(me,j,U,ee,Z)}else if(ee=v(B),typeof ee=="function")for(B=ee.call(B),oe=0;!(me=B.next()).done;)me=me.value,ee=X+D(me,oe++),de+=z(me,j,U,ee,Z);else if(me==="object")throw j=String(B),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.");return de}function V(B,j,U){if(B==null)return B;var X=[],Z=0;return z(B,X,"","",function(me){return j.call(U,me,Z++)}),X}function J(B){if(B._status===-1){var j=B._result;j=j(),j.then(function(U){(B._status===0||B._status===-1)&&(B._status=1,B._result=U)},function(U){(B._status===0||B._status===-1)&&(B._status=2,B._result=U)}),B._status===-1&&(B._status=0,B._result=j)}if(B._status===1)return B._result.default;throw B._result}var ie={current:null},G={transition:null},te={ReactCurrentDispatcher:ie,ReactCurrentBatchConfig:G,ReactCurrentOwner:L};function W(){throw Error("act(...) is not supported in production builds of React.")}return Gn.Children={map:V,forEach:function(B,j,U){V(B,function(){j.apply(this,arguments)},U)},count:function(B){var j=0;return V(B,function(){j++}),j},toArray:function(B){return V(B,function(j){return j})||[]},only:function(B){if(!T(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},Gn.Component=b,Gn.Fragment=r,Gn.Profiler=a,Gn.PureComponent=w,Gn.StrictMode=n,Gn.Suspense=c,Gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Gn.act=W,Gn.cloneElement=function(B,j,U){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var X=E({},B.props),Z=B.key,me=B.ref,de=B._owner;if(j!=null){if(j.ref!==void 0&&(me=j.ref,de=L.current),j.key!==void 0&&(Z=""+j.key),B.type&&B.type.defaultProps)var oe=B.type.defaultProps;for(ee in j)P.call(j,ee)&&!R.hasOwnProperty(ee)&&(X[ee]=j[ee]===void 0&&oe!==void 0?oe[ee]:j[ee])}var ee=arguments.length-2;if(ee===1)X.children=U;else if(1<ee){oe=Array(ee);for(var le=0;le<ee;le++)oe[le]=arguments[le+2];X.children=oe}return{$$typeof:t,type:B.type,key:Z,ref:me,props:X,_owner:de}},Gn.createContext=function(B){return B={$$typeof:s,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:i,_context:B},B.Consumer=B},Gn.createElement=O,Gn.createFactory=function(B){var j=O.bind(null,B);return j.type=B,j},Gn.createRef=function(){return{current:null}},Gn.forwardRef=function(B){return{$$typeof:l,render:B}},Gn.isValidElement=T,Gn.lazy=function(B){return{$$typeof:f,_payload:{_status:-1,_result:B},_init:J}},Gn.memo=function(B,j){return{$$typeof:u,type:B,compare:j===void 0?null:j}},Gn.startTransition=function(B){var j=G.transition;G.transition={};try{B()}finally{G.transition=j}},Gn.unstable_act=W,Gn.useCallback=function(B,j){return ie.current.useCallback(B,j)},Gn.useContext=function(B){return ie.current.useContext(B)},Gn.useDebugValue=function(){},Gn.useDeferredValue=function(B){return ie.current.useDeferredValue(B)},Gn.useEffect=function(B,j){return ie.current.useEffect(B,j)},Gn.useId=function(){return ie.current.useId()},Gn.useImperativeHandle=function(B,j,U){return ie.current.useImperativeHandle(B,j,U)},Gn.useInsertionEffect=function(B,j){return ie.current.useInsertionEffect(B,j)},Gn.useLayoutEffect=function(B,j){return ie.current.useLayoutEffect(B,j)},Gn.useMemo=function(B,j){return ie.current.useMemo(B,j)},Gn.useReducer=function(B,j,U){return ie.current.useReducer(B,j,U)},Gn.useRef=function(B){return ie.current.useRef(B)},Gn.useState=function(B){return ie.current.useState(B)},Gn.useSyncExternalStore=function(B,j,U){return ie.current.useSyncExternalStore(B,j,U)},Gn.useTransition=function(){return ie.current.useTransition()},Gn.version="18.3.1",Gn}var DN;function n3(){return DN||(DN=1,R1.exports=a$()),R1.exports}var p=n3();const o=wa(p),o$=n$({__proto__:null,default:o},[p]);var Uv={},M1={exports:{}},Ys={},D1={exports:{}},j1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jN;function i$(){return jN||(jN=1,function(t){function e(G,te){var W=G.length;G.push(te);e:for(;0<W;){var B=W-1>>>1,j=G[B];if(0<a(j,te))G[B]=te,G[W]=j,W=B;else break e}}function r(G){return G.length===0?null:G[0]}function n(G){if(G.length===0)return null;var te=G[0],W=G.pop();if(W!==te){G[0]=W;e:for(var B=0,j=G.length,U=j>>>1;B<U;){var X=2*(B+1)-1,Z=G[X],me=X+1,de=G[me];if(0>a(Z,W))me<j&&0>a(de,Z)?(G[B]=de,G[me]=W,B=me):(G[B]=Z,G[X]=W,B=X);else if(me<j&&0>a(de,W))G[B]=de,G[me]=W,B=me;else break e}}return te}function a(G,te){var W=G.sortIndex-te.sortIndex;return W!==0?W:G.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],f=1,m=null,v=3,h=!1,E=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(G){for(var te=r(u);te!==null;){if(te.callback===null)n(u);else if(te.startTime<=G)n(u),te.sortIndex=te.expirationTime,e(c,te);else break;te=r(u)}}function I(G){if(y=!1,N(G),!E)if(r(c)!==null)E=!0,J(P);else{var te=r(u);te!==null&&ie(I,te.startTime-G)}}function P(G,te){E=!1,y&&(y=!1,x(O),O=-1),h=!0;var W=v;try{for(N(te),m=r(c);m!==null&&(!(m.expirationTime>te)||G&&!C());){var B=m.callback;if(typeof B=="function"){m.callback=null,v=m.priorityLevel;var j=B(m.expirationTime<=te);te=t.unstable_now(),typeof j=="function"?m.callback=j:m===r(c)&&n(c),N(te)}else n(c);m=r(c)}if(m!==null)var U=!0;else{var X=r(u);X!==null&&ie(I,X.startTime-te),U=!1}return U}finally{m=null,v=W,h=!1}}var L=!1,R=null,O=-1,A=5,T=-1;function C(){return!(t.unstable_now()-T<A)}function _(){if(R!==null){var G=t.unstable_now();T=G;var te=!0;try{te=R(!0,G)}finally{te?D():(L=!1,R=null)}}else L=!1}var D;if(typeof w=="function")D=function(){w(_)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,V=z.port2;z.port1.onmessage=_,D=function(){V.postMessage(null)}}else D=function(){b(_,0)};function J(G){R=G,L||(L=!0,D())}function ie(G,te){O=b(function(){G(t.unstable_now())},te)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(G){G.callback=null},t.unstable_continueExecution=function(){E||h||(E=!0,J(P))},t.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<G?Math.floor(1e3/G):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(G){switch(v){case 1:case 2:case 3:var te=3;break;default:te=v}var W=v;v=te;try{return G()}finally{v=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(G,te){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var W=v;v=G;try{return te()}finally{v=W}},t.unstable_scheduleCallback=function(G,te,W){var B=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?B+W:B):W=B,G){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=W+j,G={id:f++,callback:te,priorityLevel:G,startTime:W,expirationTime:j,sortIndex:-1},W>B?(G.sortIndex=W,e(u,G),r(c)===null&&G===r(u)&&(y?(x(O),O=-1):y=!0,ie(I,W-B))):(G.sortIndex=j,e(c,G),E||h||(E=!0,J(P))),G},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(G){var te=v;return function(){var W=v;v=te;try{return G.apply(this,arguments)}finally{v=W}}}}(j1)),j1}var FN;function s$(){return FN||(FN=1,D1.exports=i$()),D1.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $N;function l$(){if($N)return Ys;$N=1;var t=n3(),e=s$();function r(d){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+d,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function i(d,g){s(d,g),s(d+"Capture",g)}function s(d,g){for(a[d]=g,d=0;d<g.length;d++)n.add(g[d])}var l=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},m={};function v(d){return c.call(m,d)?!0:c.call(f,d)?!1:u.test(d)?m[d]=!0:(f[d]=!0,!1)}function h(d,g,S,F){if(S!==null&&S.type===0)return!1;switch(typeof g){case"function":case"symbol":return!0;case"boolean":return F?!1:S!==null?!S.acceptsBooleans:(d=d.toLowerCase().slice(0,5),d!=="data-"&&d!=="aria-");default:return!1}}function E(d,g,S,F){if(g===null||typeof g>"u"||h(d,g,S,F))return!0;if(F)return!1;if(S!==null)switch(S.type){case 3:return!g;case 4:return g===!1;case 5:return isNaN(g);case 6:return isNaN(g)||1>g}return!1}function y(d,g,S,F,H,re,he){this.acceptsBooleans=g===2||g===3||g===4,this.attributeName=F,this.attributeNamespace=H,this.mustUseProperty=S,this.propertyName=d,this.type=g,this.sanitizeURL=re,this.removeEmptyString=he}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(d){b[d]=new y(d,0,!1,d,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(d){var g=d[0];b[g]=new y(g,1,!1,d[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(d){b[d]=new y(d,2,!1,d.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(d){b[d]=new y(d,2,!1,d,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(d){b[d]=new y(d,3,!1,d.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(d){b[d]=new y(d,3,!0,d,null,!1,!1)}),["capture","download"].forEach(function(d){b[d]=new y(d,4,!1,d,null,!1,!1)}),["cols","rows","size","span"].forEach(function(d){b[d]=new y(d,6,!1,d,null,!1,!1)}),["rowSpan","start"].forEach(function(d){b[d]=new y(d,5,!1,d.toLowerCase(),null,!1,!1)});var x=/[\-:]([a-z])/g;function w(d){return d[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(d){var g=d.replace(x,w);b[g]=new y(g,1,!1,d,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(d){var g=d.replace(x,w);b[g]=new y(g,1,!1,d,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(d){var g=d.replace(x,w);b[g]=new y(g,1,!1,d,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(d){b[d]=new y(d,1,!1,d.toLowerCase(),null,!1,!1)}),b.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(d){b[d]=new y(d,1,!1,d.toLowerCase(),null,!0,!0)});function N(d,g,S,F){var H=b.hasOwnProperty(g)?b[g]:null;(H!==null?H.type!==0:F||!(2<g.length)||g[0]!=="o"&&g[0]!=="O"||g[1]!=="n"&&g[1]!=="N")&&(E(g,S,H,F)&&(S=null),F||H===null?v(g)&&(S===null?d.removeAttribute(g):d.setAttribute(g,""+S)):H.mustUseProperty?d[H.propertyName]=S===null?H.type===3?!1:"":S:(g=H.attributeName,F=H.attributeNamespace,S===null?d.removeAttribute(g):(H=H.type,S=H===3||H===4&&S===!0?"":""+S,F?d.setAttributeNS(F,g,S):d.setAttribute(g,S))))}var I=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,P=Symbol.for("react.element"),L=Symbol.for("react.portal"),R=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),C=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),D=Symbol.for("react.suspense"),z=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),J=Symbol.for("react.lazy"),ie=Symbol.for("react.offscreen"),G=Symbol.iterator;function te(d){return d===null||typeof d!="object"?null:(d=G&&d[G]||d["@@iterator"],typeof d=="function"?d:null)}var W=Object.assign,B;function j(d){if(B===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);B=g&&g[1]||""}return`
`+B+d}var U=!1;function X(d,g){if(!d||U)return"";U=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(wt){var F=wt}Reflect.construct(d,[],g)}else{try{g.call()}catch(wt){F=wt}d.call(g.prototype)}else{try{throw Error()}catch(wt){F=wt}d()}}catch(wt){if(wt&&F&&typeof wt.stack=="string"){for(var H=wt.stack.split(`
`),re=F.stack.split(`
`),he=H.length-1,Fe=re.length-1;1<=he&&0<=Fe&&H[he]!==re[Fe];)Fe--;for(;1<=he&&0<=Fe;he--,Fe--)if(H[he]!==re[Fe]){if(he!==1||Fe!==1)do if(he--,Fe--,0>Fe||H[he]!==re[Fe]){var Ge=`
`+H[he].replace(" at new "," at ");return d.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",d.displayName)),Ge}while(1<=he&&0<=Fe);break}}}finally{U=!1,Error.prepareStackTrace=S}return(d=d?d.displayName||d.name:"")?j(d):""}function Z(d){switch(d.tag){case 5:return j(d.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return d=X(d.type,!1),d;case 11:return d=X(d.type.render,!1),d;case 1:return d=X(d.type,!0),d;default:return""}}function me(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case R:return"Fragment";case L:return"Portal";case A:return"Profiler";case O:return"StrictMode";case D:return"Suspense";case z:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case C:return(d.displayName||"Context")+".Consumer";case T:return(d._context.displayName||"Context")+".Provider";case _:var g=d.render;return d=d.displayName,d||(d=g.displayName||g.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case V:return g=d.displayName||null,g!==null?g:me(d.type)||"Memo";case J:g=d._payload,d=d._init;try{return me(d(g))}catch{}}return null}function de(d){var g=d.type;switch(d.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=g.render,d=d.displayName||d.name||"",g.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return me(g);case 8:return g===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function oe(d){switch(typeof d){case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function ee(d){var g=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(g==="checkbox"||g==="radio")}function le(d){var g=ee(d)?"checked":"value",S=Object.getOwnPropertyDescriptor(d.constructor.prototype,g),F=""+d[g];if(!d.hasOwnProperty(g)&&typeof S<"u"&&typeof S.get=="function"&&typeof S.set=="function"){var H=S.get,re=S.set;return Object.defineProperty(d,g,{configurable:!0,get:function(){return H.call(this)},set:function(he){F=""+he,re.call(this,he)}}),Object.defineProperty(d,g,{enumerable:S.enumerable}),{getValue:function(){return F},setValue:function(he){F=""+he},stopTracking:function(){d._valueTracker=null,delete d[g]}}}}function pe(d){d._valueTracker||(d._valueTracker=le(d))}function ce(d){if(!d)return!1;var g=d._valueTracker;if(!g)return!0;var S=g.getValue(),F="";return d&&(F=ee(d)?d.checked?"true":"false":d.value),d=F,d!==S?(g.setValue(d),!0):!1}function _e(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}function He(d,g){var S=g.checked;return W({},g,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:S??d._wrapperState.initialChecked})}function Re(d,g){var S=g.defaultValue==null?"":g.defaultValue,F=g.checked!=null?g.checked:g.defaultChecked;S=oe(g.value!=null?g.value:S),d._wrapperState={initialChecked:F,initialValue:S,controlled:g.type==="checkbox"||g.type==="radio"?g.checked!=null:g.value!=null}}function be(d,g){g=g.checked,g!=null&&N(d,"checked",g,!1)}function gt(d,g){be(d,g);var S=oe(g.value),F=g.type;if(S!=null)F==="number"?(S===0&&d.value===""||d.value!=S)&&(d.value=""+S):d.value!==""+S&&(d.value=""+S);else if(F==="submit"||F==="reset"){d.removeAttribute("value");return}g.hasOwnProperty("value")?ke(d,g.type,S):g.hasOwnProperty("defaultValue")&&ke(d,g.type,oe(g.defaultValue)),g.checked==null&&g.defaultChecked!=null&&(d.defaultChecked=!!g.defaultChecked)}function Ae(d,g,S){if(g.hasOwnProperty("value")||g.hasOwnProperty("defaultValue")){var F=g.type;if(!(F!=="submit"&&F!=="reset"||g.value!==void 0&&g.value!==null))return;g=""+d._wrapperState.initialValue,S||g===d.value||(d.value=g),d.defaultValue=g}S=d.name,S!==""&&(d.name=""),d.defaultChecked=!!d._wrapperState.initialChecked,S!==""&&(d.name=S)}function ke(d,g,S){(g!=="number"||_e(d.ownerDocument)!==d)&&(S==null?d.defaultValue=""+d._wrapperState.initialValue:d.defaultValue!==""+S&&(d.defaultValue=""+S))}var Be=Array.isArray;function Xe(d,g,S,F){if(d=d.options,g){g={};for(var H=0;H<S.length;H++)g["$"+S[H]]=!0;for(S=0;S<d.length;S++)H=g.hasOwnProperty("$"+d[S].value),d[S].selected!==H&&(d[S].selected=H),H&&F&&(d[S].defaultSelected=!0)}else{for(S=""+oe(S),g=null,H=0;H<d.length;H++){if(d[H].value===S){d[H].selected=!0,F&&(d[H].defaultSelected=!0);return}g!==null||d[H].disabled||(g=d[H])}g!==null&&(g.selected=!0)}}function Ke(d,g){if(g.dangerouslySetInnerHTML!=null)throw Error(r(91));return W({},g,{value:void 0,defaultValue:void 0,children:""+d._wrapperState.initialValue})}function Et(d,g){var S=g.value;if(S==null){if(S=g.children,g=g.defaultValue,S!=null){if(g!=null)throw Error(r(92));if(Be(S)){if(1<S.length)throw Error(r(93));S=S[0]}g=S}g==null&&(g=""),S=g}d._wrapperState={initialValue:oe(S)}}function ut(d,g){var S=oe(g.value),F=oe(g.defaultValue);S!=null&&(S=""+S,S!==d.value&&(d.value=S),g.defaultValue==null&&d.defaultValue!==S&&(d.defaultValue=S)),F!=null&&(d.defaultValue=""+F)}function zt(d){var g=d.textContent;g===d._wrapperState.initialValue&&g!==""&&g!==null&&(d.value=g)}function Gt(d){switch(d){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(d,g){return d==null||d==="http://www.w3.org/1999/xhtml"?Gt(g):d==="http://www.w3.org/2000/svg"&&g==="foreignObject"?"http://www.w3.org/1999/xhtml":d}var nt,ht=function(d){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(g,S,F,H){MSApp.execUnsafeLocalFunction(function(){return d(g,S,F,H)})}:d}(function(d,g){if(d.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in d)d.innerHTML=g;else{for(nt=nt||document.createElement("div"),nt.innerHTML="<svg>"+g.valueOf().toString()+"</svg>",g=nt.firstChild;d.firstChild;)d.removeChild(d.firstChild);for(;g.firstChild;)d.appendChild(g.firstChild)}});function Kt(d,g){if(g){var S=d.firstChild;if(S&&S===d.lastChild&&S.nodeType===3){S.nodeValue=g;return}}d.textContent=g}var bt={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ar=["Webkit","ms","Moz","O"];Object.keys(bt).forEach(function(d){Ar.forEach(function(g){g=g+d.charAt(0).toUpperCase()+d.substring(1),bt[g]=bt[d]})});function Jt(d,g,S){return g==null||typeof g=="boolean"||g===""?"":S||typeof g!="number"||g===0||bt.hasOwnProperty(d)&&bt[d]?(""+g).trim():g+"px"}function Lr(d,g){d=d.style;for(var S in g)if(g.hasOwnProperty(S)){var F=S.indexOf("--")===0,H=Jt(S,g[S],F);S==="float"&&(S="cssFloat"),F?d.setProperty(S,H):d[S]=H}}var mr=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wr(d,g){if(g){if(mr[d]&&(g.children!=null||g.dangerouslySetInnerHTML!=null))throw Error(r(137,d));if(g.dangerouslySetInnerHTML!=null){if(g.children!=null)throw Error(r(60));if(typeof g.dangerouslySetInnerHTML!="object"||!("__html"in g.dangerouslySetInnerHTML))throw Error(r(61))}if(g.style!=null&&typeof g.style!="object")throw Error(r(62))}}function Ur(d,g){if(d.indexOf("-")===-1)return typeof g.is=="string";switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sr=null;function kt(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var Ee=null,Ne=null,qe=null;function Nt(d){if(d=eu(d)){if(typeof Ee!="function")throw Error(r(280));var g=d.stateNode;g&&(g=tu(g),Ee(d.stateNode,d.type,g))}}function St(d){Ne?qe?qe.push(d):qe=[d]:Ne=d}function Ot(){if(Ne){var d=Ne,g=qe;if(qe=Ne=null,Nt(d),g)for(d=0;d<g.length;d++)Nt(g[d])}}function gr(d,g){return d(g)}function lr(){}var zr=!1;function st(d,g,S){if(zr)return d(g,S);zr=!0;try{return gr(d,g,S)}finally{zr=!1,(Ne!==null||qe!==null)&&(lr(),Ot())}}function Ct(d,g){var S=d.stateNode;if(S===null)return null;var F=tu(S);if(F===null)return null;S=F[g];e:switch(g){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(F=!F.disabled)||(d=d.type,F=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!F;break e;default:d=!1}if(d)return null;if(S&&typeof S!="function")throw Error(r(231,g,typeof S));return S}var _t=!1;if(l)try{var Kr={};Object.defineProperty(Kr,"passive",{get:function(){_t=!0}}),window.addEventListener("test",Kr,Kr),window.removeEventListener("test",Kr,Kr)}catch{_t=!1}function yn(d,g,S,F,H,re,he,Fe,Ge){var wt=Array.prototype.slice.call(arguments,3);try{g.apply(S,wt)}catch(nr){this.onError(nr)}}var en=!1,pr=null,Tr=!1,mn=null,rn={onError:function(d){en=!0,pr=d}};function er(d,g,S,F,H,re,he,Fe,Ge){en=!1,pr=null,yn.apply(rn,arguments)}function ct(d,g,S,F,H,re,he,Fe,Ge){if(er.apply(this,arguments),en){if(en){var wt=pr;en=!1,pr=null}else throw Error(r(198));Tr||(Tr=!0,mn=wt)}}function At(d){var g=d,S=d;if(d.alternate)for(;g.return;)g=g.return;else{d=g;do g=d,(g.flags&4098)!==0&&(S=g.return),d=g.return;while(d)}return g.tag===3?S:null}function Yt(d){if(d.tag===13){var g=d.memoizedState;if(g===null&&(d=d.alternate,d!==null&&(g=d.memoizedState)),g!==null)return g.dehydrated}return null}function Ye(d){if(At(d)!==d)throw Error(r(188))}function ft(d){var g=d.alternate;if(!g){if(g=At(d),g===null)throw Error(r(188));return g!==d?null:d}for(var S=d,F=g;;){var H=S.return;if(H===null)break;var re=H.alternate;if(re===null){if(F=H.return,F!==null){S=F;continue}break}if(H.child===re.child){for(re=H.child;re;){if(re===S)return Ye(H),d;if(re===F)return Ye(H),g;re=re.sibling}throw Error(r(188))}if(S.return!==F.return)S=H,F=re;else{for(var he=!1,Fe=H.child;Fe;){if(Fe===S){he=!0,S=H,F=re;break}if(Fe===F){he=!0,F=H,S=re;break}Fe=Fe.sibling}if(!he){for(Fe=re.child;Fe;){if(Fe===S){he=!0,S=re,F=H;break}if(Fe===F){he=!0,F=re,S=H;break}Fe=Fe.sibling}if(!he)throw Error(r(189))}}if(S.alternate!==F)throw Error(r(190))}if(S.tag!==3)throw Error(r(188));return S.stateNode.current===S?d:g}function ot(d){return d=ft(d),d!==null?$e(d):null}function $e(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var g=$e(d);if(g!==null)return g;d=d.sibling}return null}var at=e.unstable_scheduleCallback,Rt=e.unstable_cancelCallback,Ht=e.unstable_shouldYield,or=e.unstable_requestPaint,qt=e.unstable_now,br=e.unstable_getCurrentPriorityLevel,Pr=e.unstable_ImmediatePriority,Rr=e.unstable_UserBlockingPriority,Ze=e.unstable_NormalPriority,ae=e.unstable_LowPriority,Se=e.unstable_IdlePriority,Ue=null,tt=null;function pt(d){if(tt&&typeof tt.onCommitFiberRoot=="function")try{tt.onCommitFiberRoot(Ue,d,void 0,(d.current.flags&128)===128)}catch{}}var Bt=Math.clz32?Math.clz32:qr,ar=Math.log,Cr=Math.LN2;function qr(d){return d>>>=0,d===0?32:31-(ar(d)/Cr|0)|0}var Rn=64,Mn=4194304;function kr(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Vr(d,g){var S=d.pendingLanes;if(S===0)return 0;var F=0,H=d.suspendedLanes,re=d.pingedLanes,he=S&268435455;if(he!==0){var Fe=he&~H;Fe!==0?F=kr(Fe):(re&=he,re!==0&&(F=kr(re)))}else he=S&~H,he!==0?F=kr(he):re!==0&&(F=kr(re));if(F===0)return 0;if(g!==0&&g!==F&&(g&H)===0&&(H=F&-F,re=g&-g,H>=re||H===16&&(re&4194240)!==0))return g;if((F&4)!==0&&(F|=S&16),g=d.entangledLanes,g!==0)for(d=d.entanglements,g&=F;0<g;)S=31-Bt(g),H=1<<S,F|=d[S],g&=~H;return F}function Mr(d,g){switch(d){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function on(d,g){for(var S=d.suspendedLanes,F=d.pingedLanes,H=d.expirationTimes,re=d.pendingLanes;0<re;){var he=31-Bt(re),Fe=1<<he,Ge=H[he];Ge===-1?((Fe&S)===0||(Fe&F)!==0)&&(H[he]=Mr(Fe,g)):Ge<=g&&(d.expiredLanes|=Fe),re&=~Fe}}function Pn(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function la(){var d=Rn;return Rn<<=1,(Rn&4194240)===0&&(Rn=64),d}function ra(d){for(var g=[],S=0;31>S;S++)g.push(d);return g}function Tn(d,g,S){d.pendingLanes|=g,g!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,g=31-Bt(g),d[g]=S}function sn(d,g){var S=d.pendingLanes&~g;d.pendingLanes=g,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=g,d.mutableReadLanes&=g,d.entangledLanes&=g,g=d.entanglements;var F=d.eventTimes;for(d=d.expirationTimes;0<S;){var H=31-Bt(S),re=1<<H;g[H]=0,F[H]=-1,d[H]=-1,S&=~re}}function Sa(d,g){var S=d.entangledLanes|=g;for(d=d.entanglements;S;){var F=31-Bt(S),H=1<<F;H&g|d[F]&g&&(d[F]|=g),S&=~H}}var cn=0;function oo(d){return d&=-d,1<d?4<d?(d&268435455)!==0?16:536870912:4:1}var Co,Xt,Le,Dt,yr,In=!1,En=[],Dn=null,go=null,$a=null,Pt=new Map,De=new Map,lt=[],Vt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dr(d,g){switch(d){case"focusin":case"focusout":Dn=null;break;case"dragenter":case"dragleave":go=null;break;case"mouseover":case"mouseout":$a=null;break;case"pointerover":case"pointerout":Pt.delete(g.pointerId);break;case"gotpointercapture":case"lostpointercapture":De.delete(g.pointerId)}}function nn(d,g,S,F,H,re){return d===null||d.nativeEvent!==re?(d={blockedOn:g,domEventName:S,eventSystemFlags:F,nativeEvent:re,targetContainers:[H]},g!==null&&(g=eu(g),g!==null&&Xt(g)),d):(d.eventSystemFlags|=F,g=d.targetContainers,H!==null&&g.indexOf(H)===-1&&g.push(H),d)}function Vn(d,g,S,F,H){switch(g){case"focusin":return Dn=nn(Dn,d,g,S,F,H),!0;case"dragenter":return go=nn(go,d,g,S,F,H),!0;case"mouseover":return $a=nn($a,d,g,S,F,H),!0;case"pointerover":var re=H.pointerId;return Pt.set(re,nn(Pt.get(re)||null,d,g,S,F,H)),!0;case"gotpointercapture":return re=H.pointerId,De.set(re,nn(De.get(re)||null,d,g,S,F,H)),!0}return!1}function za(d){var g=Ul(d.target);if(g!==null){var S=At(g);if(S!==null){if(g=S.tag,g===13){if(g=Yt(S),g!==null){d.blockedOn=g,yr(d.priority,function(){Le(S)});return}}else if(g===3&&S.stateNode.current.memoizedState.isDehydrated){d.blockedOn=S.tag===3?S.stateNode.containerInfo:null;return}}}d.blockedOn=null}function io(d){if(d.blockedOn!==null)return!1;for(var g=d.targetContainers;0<g.length;){var S=_i(d.domEventName,d.eventSystemFlags,g[0],d.nativeEvent);if(S===null){S=d.nativeEvent;var F=new S.constructor(S.type,S);Sr=F,S.target.dispatchEvent(F),Sr=null}else return g=eu(S),g!==null&&Xt(g),d.blockedOn=S,!1;g.shift()}return!0}function hi(d,g,S){io(d)&&S.delete(g)}function rl(){In=!1,Dn!==null&&io(Dn)&&(Dn=null),go!==null&&io(go)&&(go=null),$a!==null&&io($a)&&($a=null),Pt.forEach(hi),De.forEach(hi)}function Ii(d,g){d.blockedOn===g&&(d.blockedOn=null,In||(In=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,rl)))}function ho(d){function g(H){return Ii(H,d)}if(0<En.length){Ii(En[0],d);for(var S=1;S<En.length;S++){var F=En[S];F.blockedOn===d&&(F.blockedOn=null)}}for(Dn!==null&&Ii(Dn,d),go!==null&&Ii(go,d),$a!==null&&Ii($a,d),Pt.forEach(g),De.forEach(g),S=0;S<lt.length;S++)F=lt[S],F.blockedOn===d&&(F.blockedOn=null);for(;0<lt.length&&(S=lt[0],S.blockedOn===null);)za(S),S.blockedOn===null&&lt.shift()}var so=I.ReactCurrentBatchConfig,Ms=!0;function hs(d,g,S,F){var H=cn,re=so.transition;so.transition=null;try{cn=1,Gi(d,g,S,F)}finally{cn=H,so.transition=re}}function vs(d,g,S,F){var H=cn,re=so.transition;so.transition=null;try{cn=4,Gi(d,g,S,F)}finally{cn=H,so.transition=re}}function Gi(d,g,S,F){if(Ms){var H=_i(d,g,S,F);if(H===null)fl(d,g,F,Ds,S),Dr(d,F);else if(Vn(H,d,g,S,F))F.stopPropagation();else if(Dr(d,F),g&4&&-1<Vt.indexOf(d)){for(;H!==null;){var re=eu(H);if(re!==null&&Co(re),re=_i(d,g,S,F),re===null&&fl(d,g,F,Ds,S),re===H)break;H=re}H!==null&&F.stopPropagation()}else fl(d,g,F,null,S)}}var Ds=null;function _i(d,g,S,F){if(Ds=null,d=kt(F),d=Ul(d),d!==null)if(g=At(d),g===null)d=null;else if(S=g.tag,S===13){if(d=Yt(g),d!==null)return d;d=null}else if(S===3){if(g.stateNode.current.memoizedState.isDehydrated)return g.tag===3?g.stateNode.containerInfo:null;d=null}else g!==d&&(d=null);return Ds=d,null}function Zo(d){switch(d){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(br()){case Pr:return 1;case Rr:return 4;case Ze:case ae:return 16;case Se:return 536870912;default:return 16}default:return 16}}var Qo=null,ei=null,uo=null;function Hc(){if(uo)return uo;var d,g=ei,S=g.length,F,H="value"in Qo?Qo.value:Qo.textContent,re=H.length;for(d=0;d<S&&g[d]===H[d];d++);var he=S-d;for(F=1;F<=he&&g[S-F]===H[re-F];F++);return uo=H.slice(d,1<F?1-F:void 0)}function ti(d){var g=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&g===13&&(d=13)):d=g,d===10&&(d=13),32<=d||d===13?d:0}function Po(){return!0}function nl(){return!1}function Ha(d){function g(S,F,H,re,he){this._reactName=S,this._targetInst=H,this.type=F,this.nativeEvent=re,this.target=he,this.currentTarget=null;for(var Fe in d)d.hasOwnProperty(Fe)&&(S=d[Fe],this[Fe]=S?S(re):re[Fe]);return this.isDefaultPrevented=(re.defaultPrevented!=null?re.defaultPrevented:re.returnValue===!1)?Po:nl,this.isPropagationStopped=nl,this}return W(g.prototype,{preventDefault:function(){this.defaultPrevented=!0;var S=this.nativeEvent;S&&(S.preventDefault?S.preventDefault():typeof S.returnValue!="unknown"&&(S.returnValue=!1),this.isDefaultPrevented=Po)},stopPropagation:function(){var S=this.nativeEvent;S&&(S.stopPropagation?S.stopPropagation():typeof S.cancelBubble!="unknown"&&(S.cancelBubble=!0),this.isPropagationStopped=Po)},persist:function(){},isPersistent:Po}),g}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vo=Ha(No),Ki=W({},No,{view:0,detail:0}),ac=Ha(Ki),al,ol,Li,Ti=W({},Ki,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==Li&&(Li&&d.type==="mousemove"?(al=d.screenX-Li.screenX,ol=d.screenY-Li.screenY):ol=al=0,Li=d),al)},movementY:function(d){return"movementY"in d?d.movementY:ol}}),Tl=Ha(Ti),Wc=W({},Ti,{dataTransfer:0}),Rl=Ha(Wc),il=W({},Ki,{relatedTarget:0}),Yi=Ha(il),Ri=W({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),Ji=Ha(Ri),sl=W({},No,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),q=Ha(sl),fe=W({},No,{data:0}),je=Ha(fe),Ve={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},it={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},It={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Zt(d){var g=this.nativeEvent;return g.getModifierState?g.getModifierState(d):(d=It[d])?!!g[d]:!1}function Er(){return Zt}var jr=W({},Ki,{key:function(d){if(d.key){var g=Ve[d.key]||d.key;if(g!=="Unidentified")return g}return d.type==="keypress"?(d=ti(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?it[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(d){return d.type==="keypress"?ti(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?ti(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),an=Ha(jr),hn=W({},Ti,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_n=Ha(hn),Ia=W({},Ki,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),Da=Ha(Ia),Mt=W({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),Me=Ha(Mt),Je=W({},Ti,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),yt=Ha(Je),Lt=[9,13,27,32],Wt=l&&"CompositionEvent"in window,Tt=null;l&&"documentMode"in document&&(Tt=document.documentMode);var tr=l&&"TextEvent"in window&&!Tt,ur=l&&(!Wt||Tt&&8<Tt&&11>=Tt),Nr=" ",Xr=!1;function Nn(d,g){switch(d){case"keyup":return Lt.indexOf(g.keyCode)!==-1;case"keydown":return g.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jn(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var tn=!1;function Wa(d,g){switch(d){case"compositionend":return jn(g);case"keypress":return g.which!==32?null:(Xr=!0,Nr);case"textInput":return d=g.data,d===Nr&&Xr?null:d;default:return null}}function $o(d,g){if(tn)return d==="compositionend"||!Wt&&Nn(d,g)?(d=Hc(),uo=ei=Qo=null,tn=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(g.ctrlKey||g.altKey||g.metaKey)||g.ctrlKey&&g.altKey){if(g.char&&1<g.char.length)return g.char;if(g.which)return String.fromCharCode(g.which)}return null;case"compositionend":return ur&&g.locale!=="ko"?null:g.data;default:return null}}var zo={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ga(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g==="input"?!!zo[d.type]:g==="textarea"}function da(d,g,S,F){St(F),g=ad(g,"onChange"),0<g.length&&(S=new vo("onChange","change",null,S,F),d.push({event:S,listeners:g}))}var vi=null,Xi=null;function ll(d){Su(d,0)}function Ba(d){var g=pc(d);if(ce(g))return d}function oc(d,g){if(d==="change")return g}var ic=!1;if(l){var ko;if(l){var js="oninput"in document;if(!js){var Ml=document.createElement("div");Ml.setAttribute("oninput","return;"),js=typeof Ml.oninput=="function"}ko=js}else ko=!1;ic=ko&&(!document.documentMode||9<document.documentMode)}function Bo(){vi&&(vi.detachEvent("onpropertychange",Ao),Xi=vi=null)}function Ao(d){if(d.propertyName==="value"&&Ba(Xi)){var g=[];da(g,Xi,d,kt(d)),st(ll,g)}}function Dl(d,g,S){d==="focusin"?(Bo(),vi=g,Xi=S,vi.attachEvent("onpropertychange",Ao)):d==="focusout"&&Bo()}function cl(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return Ba(Xi)}function ul(d,g){if(d==="click")return Ba(g)}function Gc(d,g){if(d==="input"||d==="change")return Ba(g)}function dl(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var Qn=typeof Object.is=="function"?Object.is:dl;function Fs(d,g){if(Qn(d,g))return!0;if(typeof d!="object"||d===null||typeof g!="object"||g===null)return!1;var S=Object.keys(d),F=Object.keys(g);if(S.length!==F.length)return!1;for(F=0;F<S.length;F++){var H=S[F];if(!c.call(g,H)||!Qn(d[H],g[H]))return!1}return!0}function Oo(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function ri(d,g){var S=Oo(d);d=0;for(var F;S;){if(S.nodeType===3){if(F=d+S.textContent.length,d<=g&&F>=g)return{node:S,offset:g-d};d=F}e:{for(;S;){if(S.nextSibling){S=S.nextSibling;break e}S=S.parentNode}S=void 0}S=Oo(S)}}function sc(d,g){return d&&g?d===g?!0:d&&d.nodeType===3?!1:g&&g.nodeType===3?sc(d,g.parentNode):"contains"in d?d.contains(g):d.compareDocumentPosition?!!(d.compareDocumentPosition(g)&16):!1:!1}function xu(){for(var d=window,g=_e();g instanceof d.HTMLIFrameElement;){try{var S=typeof g.contentWindow.location.href=="string"}catch{S=!1}if(S)d=g.contentWindow;else break;g=_e(d.document)}return g}function Mi(d){var g=d&&d.nodeName&&d.nodeName.toLowerCase();return g&&(g==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||g==="textarea"||d.contentEditable==="true")}function ni(d){var g=xu(),S=d.focusedElem,F=d.selectionRange;if(g!==S&&S&&S.ownerDocument&&sc(S.ownerDocument.documentElement,S)){if(F!==null&&Mi(S)){if(g=F.start,d=F.end,d===void 0&&(d=g),"selectionStart"in S)S.selectionStart=g,S.selectionEnd=Math.min(d,S.value.length);else if(d=(g=S.ownerDocument||document)&&g.defaultView||window,d.getSelection){d=d.getSelection();var H=S.textContent.length,re=Math.min(F.start,H);F=F.end===void 0?re:Math.min(F.end,H),!d.extend&&re>F&&(H=F,F=re,re=H),H=ri(S,re);var he=ri(S,F);H&&he&&(d.rangeCount!==1||d.anchorNode!==H.node||d.anchorOffset!==H.offset||d.focusNode!==he.node||d.focusOffset!==he.offset)&&(g=g.createRange(),g.setStart(H.node,H.offset),d.removeAllRanges(),re>F?(d.addRange(g),d.extend(he.node,he.offset)):(g.setEnd(he.node,he.offset),d.addRange(g)))}}for(g=[],d=S;d=d.parentNode;)d.nodeType===1&&g.push({element:d,left:d.scrollLeft,top:d.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<g.length;S++)d=g[S],d.element.scrollLeft=d.left,d.element.scrollTop=d.top}}var jl=l&&"documentMode"in document&&11>=document.documentMode,Di=null,$s=null,bs=null,zs=!1;function Bs(d,g,S){var F=S.window===S?S.document:S.nodeType===9?S:S.ownerDocument;zs||Di==null||Di!==_e(F)||(F=Di,"selectionStart"in F&&Mi(F)?F={start:F.selectionStart,end:F.selectionEnd}:(F=(F.ownerDocument&&F.ownerDocument.defaultView||window).getSelection(),F={anchorNode:F.anchorNode,anchorOffset:F.anchorOffset,focusNode:F.focusNode,focusOffset:F.focusOffset}),bs&&Fs(bs,F)||(bs=F,F=ad($s,"onSelect"),0<F.length&&(g=new vo("onSelect","select",null,g,S),d.push({event:g,listeners:F}),g.target=Di)))}function Fl(d,g){var S={};return S[d.toLowerCase()]=g.toLowerCase(),S["Webkit"+d]="webkit"+g,S["Moz"+d]="moz"+g,S}var Io={animationend:Fl("Animation","AnimationEnd"),animationiteration:Fl("Animation","AnimationIteration"),animationstart:Fl("Animation","AnimationStart"),transitionend:Fl("Transition","TransitionEnd")},bi={},fa={};l&&(fa=document.createElement("div").style,"AnimationEvent"in window||(delete Io.animationend.animation,delete Io.animationiteration.animation,delete Io.animationstart.animation),"TransitionEvent"in window||delete Io.transitionend.transition);function na(d){if(bi[d])return bi[d];if(!Io[d])return d;var g=Io[d],S;for(S in g)if(g.hasOwnProperty(S)&&S in fa)return bi[d]=g[S];return d}var Ka=na("animationend"),lo=na("animationiteration"),Us=na("animationstart"),Kc=na("transitionend"),lc=new Map,ji="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ys(d,g){lc.set(d,g),i(g,[d])}for(var Yc=0;Yc<ji.length;Yc++){var ai=ji[Yc],Zi=ai.toLowerCase(),nd=ai[0].toUpperCase()+ai.slice(1);ys(Zi,"on"+nd)}ys(Ka,"onAnimationEnd"),ys(lo,"onAnimationIteration"),ys(Us,"onAnimationStart"),ys("dblclick","onDoubleClick"),ys("focusin","onFocus"),ys("focusout","onBlur"),ys(Kc,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),i("onBeforeInput",["compositionend","keypress","textInput","paste"]),i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),om=new Set("cancel close invalid load scroll toggle".split(" ").concat($l));function wu(d,g,S){var F=d.type||"unknown-event";d.currentTarget=S,ct(F,g,void 0,d),d.currentTarget=null}function Su(d,g){g=(g&4)!==0;for(var S=0;S<d.length;S++){var F=d[S],H=F.event;F=F.listeners;e:{var re=void 0;if(g)for(var he=F.length-1;0<=he;he--){var Fe=F[he],Ge=Fe.instance,wt=Fe.currentTarget;if(Fe=Fe.listener,Ge!==re&&H.isPropagationStopped())break e;wu(H,Fe,wt),re=Ge}else for(he=0;he<F.length;he++){if(Fe=F[he],Ge=Fe.instance,wt=Fe.currentTarget,Fe=Fe.listener,Ge!==re&&H.isPropagationStopped())break e;wu(H,Fe,wt),re=Ge}}}if(Tr)throw d=mn,Tr=!1,mn=null,d}function ca(d,g){var S=g[yi];S===void 0&&(S=g[yi]=new Set);var F=d+"__bubble";S.has(F)||(Xc(g,d,2,!1),S.add(F))}function cc(d,g,S){var F=0;g&&(F|=4),Xc(S,d,F,g)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function zl(d){if(!d[Jc]){d[Jc]=!0,n.forEach(function(S){S!=="selectionchange"&&(om.has(S)||cc(S,!1,d),cc(S,!0,d))});var g=d.nodeType===9?d:d.ownerDocument;g===null||g[Jc]||(g[Jc]=!0,cc("selectionchange",!1,g))}}function Xc(d,g,S,F){switch(Zo(g)){case 1:var H=hs;break;case 4:H=vs;break;default:H=Gi}S=H.bind(null,g,S,d),H=void 0,!_t||g!=="touchstart"&&g!=="touchmove"&&g!=="wheel"||(H=!0),F?H!==void 0?d.addEventListener(g,S,{capture:!0,passive:H}):d.addEventListener(g,S,!0):H!==void 0?d.addEventListener(g,S,{passive:H}):d.addEventListener(g,S,!1)}function fl(d,g,S,F,H){var re=F;if((g&1)===0&&(g&2)===0&&F!==null)e:for(;;){if(F===null)return;var he=F.tag;if(he===3||he===4){var Fe=F.stateNode.containerInfo;if(Fe===H||Fe.nodeType===8&&Fe.parentNode===H)break;if(he===4)for(he=F.return;he!==null;){var Ge=he.tag;if((Ge===3||Ge===4)&&(Ge=he.stateNode.containerInfo,Ge===H||Ge.nodeType===8&&Ge.parentNode===H))return;he=he.return}for(;Fe!==null;){if(he=Ul(Fe),he===null)return;if(Ge=he.tag,Ge===5||Ge===6){F=re=he;continue e}Fe=Fe.parentNode}}F=F.return}st(function(){var wt=re,nr=kt(S),ir=[];e:{var rr=lc.get(d);if(rr!==void 0){var _r=vo,Hr=d;switch(d){case"keypress":if(ti(S)===0)break e;case"keydown":case"keyup":_r=an;break;case"focusin":Hr="focus",_r=Yi;break;case"focusout":Hr="blur",_r=Yi;break;case"beforeblur":case"afterblur":_r=Yi;break;case"click":if(S.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":_r=Tl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":_r=Rl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":_r=Da;break;case Ka:case lo:case Us:_r=Ji;break;case Kc:_r=Me;break;case"scroll":_r=ac;break;case"wheel":_r=yt;break;case"copy":case"cut":case"paste":_r=q;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":_r=_n}var Jr=(g&4)!==0,To=!Jr&&d==="scroll",dt=Jr?rr!==null?rr+"Capture":null:rr;Jr=[];for(var et=wt,vt;et!==null;){vt=et;var fr=vt.stateNode;if(vt.tag===5&&fr!==null&&(vt=fr,dt!==null&&(fr=Ct(et,dt),fr!=null&&Jr.push(uc(et,fr,vt)))),To)break;et=et.return}0<Jr.length&&(rr=new _r(rr,Hr,null,S,nr),ir.push({event:rr,listeners:Jr}))}}if((g&7)===0){e:{if(rr=d==="mouseover"||d==="pointerover",_r=d==="mouseout"||d==="pointerout",rr&&S!==Sr&&(Hr=S.relatedTarget||S.fromElement)&&(Ul(Hr)||Hr[qo]))break e;if((_r||rr)&&(rr=nr.window===nr?nr:(rr=nr.ownerDocument)?rr.defaultView||rr.parentWindow:window,_r?(Hr=S.relatedTarget||S.toElement,_r=wt,Hr=Hr?Ul(Hr):null,Hr!==null&&(To=At(Hr),Hr!==To||Hr.tag!==5&&Hr.tag!==6)&&(Hr=null)):(_r=null,Hr=wt),_r!==Hr)){if(Jr=Tl,fr="onMouseLeave",dt="onMouseEnter",et="mouse",(d==="pointerout"||d==="pointerover")&&(Jr=_n,fr="onPointerLeave",dt="onPointerEnter",et="pointer"),To=_r==null?rr:pc(_r),vt=Hr==null?rr:pc(Hr),rr=new Jr(fr,et+"leave",_r,S,nr),rr.target=To,rr.relatedTarget=vt,fr=null,Ul(nr)===wt&&(Jr=new Jr(dt,et+"enter",Hr,S,nr),Jr.target=vt,Jr.relatedTarget=To,fr=Jr),To=fr,_r&&Hr)t:{for(Jr=_r,dt=Hr,et=0,vt=Jr;vt;vt=dc(vt))et++;for(vt=0,fr=dt;fr;fr=dc(fr))vt++;for(;0<et-vt;)Jr=dc(Jr),et--;for(;0<vt-et;)dt=dc(dt),vt--;for(;et--;){if(Jr===dt||dt!==null&&Jr===dt.alternate)break t;Jr=dc(Jr),dt=dc(dt)}Jr=null}else Jr=null;_r!==null&&im(ir,rr,_r,Jr,!1),Hr!==null&&To!==null&&im(ir,To,Hr,Jr,!0)}}e:{if(rr=wt?pc(wt):window,_r=rr.nodeName&&rr.nodeName.toLowerCase(),_r==="select"||_r==="input"&&rr.type==="file")var Qr=oc;else if(Ga(rr))if(ic)Qr=Gc;else{Qr=cl;var dn=Dl}else(_r=rr.nodeName)&&_r.toLowerCase()==="input"&&(rr.type==="checkbox"||rr.type==="radio")&&(Qr=ul);if(Qr&&(Qr=Qr(d,wt))){da(ir,Qr,S,nr);break e}dn&&dn(d,rr,wt),d==="focusout"&&(dn=rr._wrapperState)&&dn.controlled&&rr.type==="number"&&ke(rr,"number",rr.value)}switch(dn=wt?pc(wt):window,d){case"focusin":(Ga(dn)||dn.contentEditable==="true")&&(Di=dn,$s=wt,bs=null);break;case"focusout":bs=$s=Di=null;break;case"mousedown":zs=!0;break;case"contextmenu":case"mouseup":case"dragend":zs=!1,Bs(ir,S,nr);break;case"selectionchange":if(jl)break;case"keydown":case"keyup":Bs(ir,S,nr)}var fn;if(Wt)e:{switch(d){case"compositionstart":var Cn="onCompositionStart";break e;case"compositionend":Cn="onCompositionEnd";break e;case"compositionupdate":Cn="onCompositionUpdate";break e}Cn=void 0}else tn?Nn(d,S)&&(Cn="onCompositionEnd"):d==="keydown"&&S.keyCode===229&&(Cn="onCompositionStart");Cn&&(ur&&S.locale!=="ko"&&(tn||Cn!=="onCompositionStart"?Cn==="onCompositionEnd"&&tn&&(fn=Hc()):(Qo=nr,ei="value"in Qo?Qo.value:Qo.textContent,tn=!0)),dn=ad(wt,Cn),0<dn.length&&(Cn=new je(Cn,d,null,S,nr),ir.push({event:Cn,listeners:dn}),fn?Cn.data=fn:(fn=jn(S),fn!==null&&(Cn.data=fn)))),(fn=tr?Wa(d,S):$o(d,S))&&(wt=ad(wt,"onBeforeInput"),0<wt.length&&(nr=new je("onBeforeInput","beforeinput",null,S,nr),ir.push({event:nr,listeners:wt}),nr.data=fn))}Su(ir,g)})}function uc(d,g,S){return{instance:d,listener:g,currentTarget:S}}function ad(d,g){for(var S=g+"Capture",F=[];d!==null;){var H=d,re=H.stateNode;H.tag===5&&re!==null&&(H=re,re=Ct(d,S),re!=null&&F.unshift(uc(d,re,H)),re=Ct(d,g),re!=null&&F.push(uc(d,re,H))),d=d.return}return F}function dc(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5);return d||null}function im(d,g,S,F,H){for(var re=g._reactName,he=[];S!==null&&S!==F;){var Fe=S,Ge=Fe.alternate,wt=Fe.stateNode;if(Ge!==null&&Ge===F)break;Fe.tag===5&&wt!==null&&(Fe=wt,H?(Ge=Ct(S,re),Ge!=null&&he.unshift(uc(S,Ge,Fe))):H||(Ge=Ct(S,re),Ge!=null&&he.push(uc(S,Ge,Fe)))),S=S.return}he.length!==0&&d.push({event:g,listeners:he})}var fc=/\r\n?/g,Gp=/\u0000|\uFFFD/g;function sm(d){return(typeof d=="string"?d:""+d).replace(fc,`
`).replace(Gp,"")}function od(d,g,S){if(g=sm(g),sm(d)!==g&&S)throw Error(r(425))}function Zc(){}var Bl=null,ml=null;function Xd(d,g){return d==="textarea"||d==="noscript"||typeof g.children=="string"||typeof g.children=="number"||typeof g.dangerouslySetInnerHTML=="object"&&g.dangerouslySetInnerHTML!==null&&g.dangerouslySetInnerHTML.__html!=null}var id=typeof setTimeout=="function"?setTimeout:void 0,lm=typeof clearTimeout=="function"?clearTimeout:void 0,mc=typeof Promise=="function"?Promise:void 0,Zd=typeof queueMicrotask=="function"?queueMicrotask:typeof mc<"u"?function(d){return mc.resolve(null).then(d).catch(cm)}:id;function cm(d){setTimeout(function(){throw d})}function Qd(d,g){var S=g,F=0;do{var H=S.nextSibling;if(d.removeChild(S),H&&H.nodeType===8)if(S=H.data,S==="/$"){if(F===0){d.removeChild(H),ho(g);return}F--}else S!=="$"&&S!=="$?"&&S!=="$!"||F++;S=H}while(S);ho(g)}function oi(d){for(;d!=null;d=d.nextSibling){var g=d.nodeType;if(g===1||g===3)break;if(g===8){if(g=d.data,g==="$"||g==="$!"||g==="$?")break;if(g==="/$")return null}}return d}function Qi(d){d=d.previousSibling;for(var g=0;d;){if(d.nodeType===8){var S=d.data;if(S==="$"||S==="$!"||S==="$?"){if(g===0)return d;g--}else S==="/$"&&g++}d=d.previousSibling}return null}var bo=Math.random().toString(36).slice(2),Uo="__reactFiber$"+bo,Qc="__reactProps$"+bo,qo="__reactContainer$"+bo,yi="__reactEvents$"+bo,Kp="__reactListeners$"+bo,Yp="__reactHandles$"+bo;function Ul(d){var g=d[Uo];if(g)return g;for(var S=d.parentNode;S;){if(g=S[qo]||S[Uo]){if(S=g.alternate,g.child!==null||S!==null&&S.child!==null)for(d=Qi(d);d!==null;){if(S=d[Uo])return S;d=Qi(d)}return g}d=S,S=d.parentNode}return null}function eu(d){return d=d[Uo]||d[qo],!d||d.tag!==5&&d.tag!==6&&d.tag!==13&&d.tag!==3?null:d}function pc(d){if(d.tag===5||d.tag===6)return d.stateNode;throw Error(r(33))}function tu(d){return d[Qc]||null}var ef=[],qs=-1;function Fi(d){return{current:d}}function aa(d){0>qs||(d.current=ef[qs],ef[qs]=null,qs--)}function Hn(d,g){qs++,ef[qs]=d.current,d.current=g}var pl={},fo=Fi(pl),ii=Fi(!1),gl=pl;function gc(d,g){var S=d.type.contextTypes;if(!S)return pl;var F=d.stateNode;if(F&&F.__reactInternalMemoizedUnmaskedChildContext===g)return F.__reactInternalMemoizedMaskedChildContext;var H={},re;for(re in S)H[re]=g[re];return F&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=g,d.__reactInternalMemoizedMaskedChildContext=H),H}function Vo(d){return d=d.childContextTypes,d!=null}function sd(){aa(ii),aa(fo)}function ql(d,g,S){if(fo.current!==pl)throw Error(r(168));Hn(fo,g),Hn(ii,S)}function Vs(d,g,S){var F=d.stateNode;if(g=g.childContextTypes,typeof F.getChildContext!="function")return S;F=F.getChildContext();for(var H in F)if(!(H in g))throw Error(r(108,de(d)||"Unknown",H));return W({},S,F)}function hc(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||pl,gl=fo.current,Hn(fo,d),Hn(ii,ii.current),!0}function um(d,g,S){var F=d.stateNode;if(!F)throw Error(r(169));S?(d=Vs(d,g,gl),F.__reactInternalMemoizedMergedChildContext=d,aa(ii),aa(fo),Hn(fo,d)):aa(ii),Hn(ii,S)}var hl=null,Cu=!1,k=!1;function $(d){hl===null?hl=[d]:hl.push(d)}function K(d){Cu=!0,$(d)}function ne(){if(!k&&hl!==null){k=!0;var d=0,g=cn;try{var S=hl;for(cn=1;d<S.length;d++){var F=S[d];do F=F(!0);while(F!==null)}hl=null,Cu=!1}catch(H){throw hl!==null&&(hl=hl.slice(d+1)),at(Pr,ne),H}finally{cn=g,k=!1}}return null}var ue=[],ge=0,ve=null,ye=0,xe=[],Oe=0,Q=null,M=1,Y="";function se(d,g){ue[ge++]=ye,ue[ge++]=ve,ve=d,ye=g}function Ie(d,g,S){xe[Oe++]=M,xe[Oe++]=Y,xe[Oe++]=Q,Q=d;var F=M;d=Y;var H=32-Bt(F)-1;F&=~(1<<H),S+=1;var re=32-Bt(g)+H;if(30<re){var he=H-H%5;re=(F&(1<<he)-1).toString(32),F>>=he,H-=he,M=1<<32-Bt(g)+H|S<<H|F,Y=re+d}else M=1<<re|S<<H|F,Y=d}function Ce(d){d.return!==null&&(se(d,1),Ie(d,1,0))}function we(d){for(;d===ve;)ve=ue[--ge],ue[ge]=null,ye=ue[--ge],ue[ge]=null;for(;d===Q;)Q=xe[--Oe],xe[Oe]=null,Y=xe[--Oe],xe[Oe]=null,M=xe[--Oe],xe[Oe]=null}var Pe=null,We=null,Qe=!1,rt=null;function xt(d,g){var S=Wl(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=d,g=d.deletions,g===null?(d.deletions=[S],d.flags|=16):g.push(S)}function $t(d,g){switch(d.tag){case 5:var S=d.type;return g=g.nodeType!==1||S.toLowerCase()!==g.nodeName.toLowerCase()?null:g,g!==null?(d.stateNode=g,Pe=d,We=oi(g.firstChild),!0):!1;case 6:return g=d.pendingProps===""||g.nodeType!==3?null:g,g!==null?(d.stateNode=g,Pe=d,We=null,!0):!1;case 13:return g=g.nodeType!==8?null:g,g!==null?(S=Q!==null?{id:M,overflow:Y}:null,d.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=Wl(18,null,null,0),S.stateNode=g,S.return=d,d.child=S,Pe=d,We=null,!0):!1;default:return!1}}function Qt(d){return(d.mode&1)!==0&&(d.flags&128)===0}function jt(d){if(Qe){var g=We;if(g){var S=g;if(!$t(d,g)){if(Qt(d))throw Error(r(418));g=oi(S.nextSibling);var F=Pe;g&&$t(d,g)?xt(F,S):(d.flags=d.flags&-4097|2,Qe=!1,Pe=d)}}else{if(Qt(d))throw Error(r(418));d.flags=d.flags&-4097|2,Qe=!1,Pe=d}}}function vr(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Pe=d}function xr(d){if(d!==Pe)return!1;if(!Qe)return vr(d),Qe=!0,!1;var g;if((g=d.tag!==3)&&!(g=d.tag!==5)&&(g=d.type,g=g!=="head"&&g!=="body"&&!Xd(d.type,d.memoizedProps)),g&&(g=We)){if(Qt(d))throw Br(),Error(r(418));for(;g;)xt(d,g),g=oi(g.nextSibling)}if(vr(d),d.tag===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));e:{for(d=d.nextSibling,g=0;d;){if(d.nodeType===8){var S=d.data;if(S==="/$"){if(g===0){We=oi(d.nextSibling);break e}g--}else S!=="$"&&S!=="$!"&&S!=="$?"||g++}d=d.nextSibling}We=null}}else We=Pe?oi(d.stateNode.nextSibling):null;return!0}function Br(){for(var d=We;d;)d=oi(d.nextSibling)}function Or(){We=Pe=null,Qe=!1}function Ir(d){rt===null?rt=[d]:rt.push(d)}var Yr=I.ReactCurrentBatchConfig;function dr(d,g,S){if(d=S.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(r(309));var F=S.stateNode}if(!F)throw Error(r(147,d));var H=F,re=""+d;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===re?g.ref:(g=function(he){var Fe=H.refs;he===null?delete Fe[re]:Fe[re]=he},g._stringRef=re,g)}if(typeof d!="string")throw Error(r(284));if(!S._owner)throw Error(r(290,d))}return d}function Zr(d,g){throw d=Object.prototype.toString.call(g),Error(r(31,d==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":d))}function Sn(d){var g=d._init;return g(d._payload)}function un(d){function g(dt,et){if(d){var vt=dt.deletions;vt===null?(dt.deletions=[et],dt.flags|=16):vt.push(et)}}function S(dt,et){if(!d)return null;for(;et!==null;)g(dt,et),et=et.sibling;return null}function F(dt,et){for(dt=new Map;et!==null;)et.key!==null?dt.set(et.key,et):dt.set(et.index,et),et=et.sibling;return dt}function H(dt,et){return dt=Ed(dt,et),dt.index=0,dt.sibling=null,dt}function re(dt,et,vt){return dt.index=vt,d?(vt=dt.alternate,vt!==null?(vt=vt.index,vt<et?(dt.flags|=2,et):vt):(dt.flags|=2,et)):(dt.flags|=1048576,et)}function he(dt){return d&&dt.alternate===null&&(dt.flags|=2),dt}function Fe(dt,et,vt,fr){return et===null||et.tag!==6?(et=A1(vt,dt.mode,fr),et.return=dt,et):(et=H(et,vt),et.return=dt,et)}function Ge(dt,et,vt,fr){var Qr=vt.type;return Qr===R?nr(dt,et,vt.props.children,fr,vt.key):et!==null&&(et.elementType===Qr||typeof Qr=="object"&&Qr!==null&&Qr.$$typeof===J&&Sn(Qr)===et.type)?(fr=H(et,vt.props),fr.ref=dr(dt,et,vt),fr.return=dt,fr):(fr=Tv(vt.type,vt.key,vt.props,null,dt.mode,fr),fr.ref=dr(dt,et,vt),fr.return=dt,fr)}function wt(dt,et,vt,fr){return et===null||et.tag!==4||et.stateNode.containerInfo!==vt.containerInfo||et.stateNode.implementation!==vt.implementation?(et=O1(vt,dt.mode,fr),et.return=dt,et):(et=H(et,vt.children||[]),et.return=dt,et)}function nr(dt,et,vt,fr,Qr){return et===null||et.tag!==7?(et=cf(vt,dt.mode,fr,Qr),et.return=dt,et):(et=H(et,vt),et.return=dt,et)}function ir(dt,et,vt){if(typeof et=="string"&&et!==""||typeof et=="number")return et=A1(""+et,dt.mode,vt),et.return=dt,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case P:return vt=Tv(et.type,et.key,et.props,null,dt.mode,vt),vt.ref=dr(dt,null,et),vt.return=dt,vt;case L:return et=O1(et,dt.mode,vt),et.return=dt,et;case J:var fr=et._init;return ir(dt,fr(et._payload),vt)}if(Be(et)||te(et))return et=cf(et,dt.mode,vt,null),et.return=dt,et;Zr(dt,et)}return null}function rr(dt,et,vt,fr){var Qr=et!==null?et.key:null;if(typeof vt=="string"&&vt!==""||typeof vt=="number")return Qr!==null?null:Fe(dt,et,""+vt,fr);if(typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case P:return vt.key===Qr?Ge(dt,et,vt,fr):null;case L:return vt.key===Qr?wt(dt,et,vt,fr):null;case J:return Qr=vt._init,rr(dt,et,Qr(vt._payload),fr)}if(Be(vt)||te(vt))return Qr!==null?null:nr(dt,et,vt,fr,null);Zr(dt,vt)}return null}function _r(dt,et,vt,fr,Qr){if(typeof fr=="string"&&fr!==""||typeof fr=="number")return dt=dt.get(vt)||null,Fe(et,dt,""+fr,Qr);if(typeof fr=="object"&&fr!==null){switch(fr.$$typeof){case P:return dt=dt.get(fr.key===null?vt:fr.key)||null,Ge(et,dt,fr,Qr);case L:return dt=dt.get(fr.key===null?vt:fr.key)||null,wt(et,dt,fr,Qr);case J:var dn=fr._init;return _r(dt,et,vt,dn(fr._payload),Qr)}if(Be(fr)||te(fr))return dt=dt.get(vt)||null,nr(et,dt,fr,Qr,null);Zr(et,fr)}return null}function Hr(dt,et,vt,fr){for(var Qr=null,dn=null,fn=et,Cn=et=0,xi=null;fn!==null&&Cn<vt.length;Cn++){fn.index>Cn?(xi=fn,fn=null):xi=fn.sibling;var ga=rr(dt,fn,vt[Cn],fr);if(ga===null){fn===null&&(fn=xi);break}d&&fn&&ga.alternate===null&&g(dt,fn),et=re(ga,et,Cn),dn===null?Qr=ga:dn.sibling=ga,dn=ga,fn=xi}if(Cn===vt.length)return S(dt,fn),Qe&&se(dt,Cn),Qr;if(fn===null){for(;Cn<vt.length;Cn++)fn=ir(dt,vt[Cn],fr),fn!==null&&(et=re(fn,et,Cn),dn===null?Qr=fn:dn.sibling=fn,dn=fn);return Qe&&se(dt,Cn),Qr}for(fn=F(dt,fn);Cn<vt.length;Cn++)xi=_r(fn,dt,Cn,vt[Cn],fr),xi!==null&&(d&&xi.alternate!==null&&fn.delete(xi.key===null?Cn:xi.key),et=re(xi,et,Cn),dn===null?Qr=xi:dn.sibling=xi,dn=xi);return d&&fn.forEach(function(xd){return g(dt,xd)}),Qe&&se(dt,Cn),Qr}function Jr(dt,et,vt,fr){var Qr=te(vt);if(typeof Qr!="function")throw Error(r(150));if(vt=Qr.call(vt),vt==null)throw Error(r(151));for(var dn=Qr=null,fn=et,Cn=et=0,xi=null,ga=vt.next();fn!==null&&!ga.done;Cn++,ga=vt.next()){fn.index>Cn?(xi=fn,fn=null):xi=fn.sibling;var xd=rr(dt,fn,ga.value,fr);if(xd===null){fn===null&&(fn=xi);break}d&&fn&&xd.alternate===null&&g(dt,fn),et=re(xd,et,Cn),dn===null?Qr=xd:dn.sibling=xd,dn=xd,fn=xi}if(ga.done)return S(dt,fn),Qe&&se(dt,Cn),Qr;if(fn===null){for(;!ga.done;Cn++,ga=vt.next())ga=ir(dt,ga.value,fr),ga!==null&&(et=re(ga,et,Cn),dn===null?Qr=ga:dn.sibling=ga,dn=ga);return Qe&&se(dt,Cn),Qr}for(fn=F(dt,fn);!ga.done;Cn++,ga=vt.next())ga=_r(fn,dt,Cn,ga.value,fr),ga!==null&&(d&&ga.alternate!==null&&fn.delete(ga.key===null?Cn:ga.key),et=re(ga,et,Cn),dn===null?Qr=ga:dn.sibling=ga,dn=ga);return d&&fn.forEach(function(r$){return g(dt,r$)}),Qe&&se(dt,Cn),Qr}function To(dt,et,vt,fr){if(typeof vt=="object"&&vt!==null&&vt.type===R&&vt.key===null&&(vt=vt.props.children),typeof vt=="object"&&vt!==null){switch(vt.$$typeof){case P:e:{for(var Qr=vt.key,dn=et;dn!==null;){if(dn.key===Qr){if(Qr=vt.type,Qr===R){if(dn.tag===7){S(dt,dn.sibling),et=H(dn,vt.props.children),et.return=dt,dt=et;break e}}else if(dn.elementType===Qr||typeof Qr=="object"&&Qr!==null&&Qr.$$typeof===J&&Sn(Qr)===dn.type){S(dt,dn.sibling),et=H(dn,vt.props),et.ref=dr(dt,dn,vt),et.return=dt,dt=et;break e}S(dt,dn);break}else g(dt,dn);dn=dn.sibling}vt.type===R?(et=cf(vt.props.children,dt.mode,fr,vt.key),et.return=dt,dt=et):(fr=Tv(vt.type,vt.key,vt.props,null,dt.mode,fr),fr.ref=dr(dt,et,vt),fr.return=dt,dt=fr)}return he(dt);case L:e:{for(dn=vt.key;et!==null;){if(et.key===dn)if(et.tag===4&&et.stateNode.containerInfo===vt.containerInfo&&et.stateNode.implementation===vt.implementation){S(dt,et.sibling),et=H(et,vt.children||[]),et.return=dt,dt=et;break e}else{S(dt,et);break}else g(dt,et);et=et.sibling}et=O1(vt,dt.mode,fr),et.return=dt,dt=et}return he(dt);case J:return dn=vt._init,To(dt,et,dn(vt._payload),fr)}if(Be(vt))return Hr(dt,et,vt,fr);if(te(vt))return Jr(dt,et,vt,fr);Zr(dt,vt)}return typeof vt=="string"&&vt!==""||typeof vt=="number"?(vt=""+vt,et!==null&&et.tag===6?(S(dt,et.sibling),et=H(et,vt),et.return=dt,dt=et):(S(dt,et),et=A1(vt,dt.mode,fr),et.return=dt,dt=et),he(dt)):S(dt,et)}return To}var pn=un(!0),ln=un(!1),ma=Fi(null),Ca=null,Fn=null,oa=null;function pa(){oa=Fn=Ca=null}function Un(d){var g=ma.current;aa(ma),d._currentValue=g}function ro(d,g,S){for(;d!==null;){var F=d.alternate;if((d.childLanes&g)!==g?(d.childLanes|=g,F!==null&&(F.childLanes|=g)):F!==null&&(F.childLanes&g)!==g&&(F.childLanes|=g),d===S)break;d=d.return}}function Xn(d,g){Ca=d,oa=Fn=null,d=d.dependencies,d!==null&&d.firstContext!==null&&((d.lanes&g)!==0&&(Ws=!0),d.firstContext=null)}function _a(d){var g=d._currentValue;if(oa!==d)if(d={context:d,memoizedValue:g,next:null},Fn===null){if(Ca===null)throw Error(r(308));Fn=d,Ca.dependencies={lanes:0,firstContext:d}}else Fn=Fn.next=d;return g}var ia=null;function Wn(d){ia===null?ia=[d]:ia.push(d)}function Ua(d,g,S,F){var H=g.interleaved;return H===null?(S.next=S,Wn(g)):(S.next=H.next,H.next=S),g.interleaved=S,On(d,F)}function On(d,g){d.lanes|=g;var S=d.alternate;for(S!==null&&(S.lanes|=g),S=d,d=d.return;d!==null;)d.childLanes|=g,S=d.alternate,S!==null&&(S.childLanes|=g),S=d,d=d.return;return S.tag===3?S.stateNode:null}var _o=!1;function vc(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ld(d,g){d=d.updateQueue,g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function $i(d,g){return{eventTime:d,lane:g,tag:0,payload:null,callback:null,next:null}}function si(d,g,S){var F=d.updateQueue;if(F===null)return null;if(F=F.shared,(ua&2)!==0){var H=F.pending;return H===null?g.next=g:(g.next=H.next,H.next=g),F.pending=g,On(d,S)}return H=F.interleaved,H===null?(g.next=g,Wn(F)):(g.next=H.next,H.next=g),F.interleaved=g,On(d,S)}function bc(d,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var F=g.lanes;F&=d.pendingLanes,S|=F,g.lanes=S,Sa(d,S)}}function es(d,g){var S=d.updateQueue,F=d.alternate;if(F!==null&&(F=F.updateQueue,S===F)){var H=null,re=null;if(S=S.firstBaseUpdate,S!==null){do{var he={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};re===null?H=re=he:re=re.next=he,S=S.next}while(S!==null);re===null?H=re=g:re=re.next=g}else H=re=g;S={baseState:F.baseState,firstBaseUpdate:H,lastBaseUpdate:re,shared:F.shared,effects:F.effects},d.updateQueue=S;return}d=S.lastBaseUpdate,d===null?S.firstBaseUpdate=g:d.next=g,S.lastBaseUpdate=g}function Es(d,g,S,F){var H=d.updateQueue;_o=!1;var re=H.firstBaseUpdate,he=H.lastBaseUpdate,Fe=H.shared.pending;if(Fe!==null){H.shared.pending=null;var Ge=Fe,wt=Ge.next;Ge.next=null,he===null?re=wt:he.next=wt,he=Ge;var nr=d.alternate;nr!==null&&(nr=nr.updateQueue,Fe=nr.lastBaseUpdate,Fe!==he&&(Fe===null?nr.firstBaseUpdate=wt:Fe.next=wt,nr.lastBaseUpdate=Ge))}if(re!==null){var ir=H.baseState;he=0,nr=wt=Ge=null,Fe=re;do{var rr=Fe.lane,_r=Fe.eventTime;if((F&rr)===rr){nr!==null&&(nr=nr.next={eventTime:_r,lane:0,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null});e:{var Hr=d,Jr=Fe;switch(rr=g,_r=S,Jr.tag){case 1:if(Hr=Jr.payload,typeof Hr=="function"){ir=Hr.call(_r,ir,rr);break e}ir=Hr;break e;case 3:Hr.flags=Hr.flags&-65537|128;case 0:if(Hr=Jr.payload,rr=typeof Hr=="function"?Hr.call(_r,ir,rr):Hr,rr==null)break e;ir=W({},ir,rr);break e;case 2:_o=!0}}Fe.callback!==null&&Fe.lane!==0&&(d.flags|=64,rr=H.effects,rr===null?H.effects=[Fe]:rr.push(Fe))}else _r={eventTime:_r,lane:rr,tag:Fe.tag,payload:Fe.payload,callback:Fe.callback,next:null},nr===null?(wt=nr=_r,Ge=ir):nr=nr.next=_r,he|=rr;if(Fe=Fe.next,Fe===null){if(Fe=H.shared.pending,Fe===null)break;rr=Fe,Fe=rr.next,rr.next=null,H.lastBaseUpdate=rr,H.shared.pending=null}}while(!0);if(nr===null&&(Ge=ir),H.baseState=Ge,H.firstBaseUpdate=wt,H.lastBaseUpdate=nr,g=H.shared.interleaved,g!==null){H=g;do he|=H.lane,H=H.next;while(H!==g)}else re===null&&(H.shared.lanes=0);af|=he,d.lanes=he,d.memoizedState=ir}}function yc(d,g,S){if(d=g.effects,g.effects=null,d!==null)for(g=0;g<d.length;g++){var F=d[g],H=F.callback;if(H!==null){if(F.callback=null,F=S,typeof H!="function")throw Error(r(191,H));H.call(F)}}}var Ec={},zi=Fi(Ec),xc=Fi(Ec),vl=Fi(Ec);function bl(d){if(d===Ec)throw Error(r(174));return d}function ru(d,g){switch(Hn(vl,g),Hn(xc,d),Hn(zi,Ec),d=g.nodeType,d){case 9:case 11:g=(g=g.documentElement)?g.namespaceURI:mt(null,"");break;default:d=d===8?g.parentNode:g,g=d.namespaceURI||null,d=d.tagName,g=mt(g,d)}aa(zi),Hn(zi,g)}function Ho(){aa(zi),aa(xc),aa(vl)}function Pu(d){bl(vl.current);var g=bl(zi.current),S=mt(g,d.type);g!==S&&(Hn(xc,d),Hn(zi,S))}function cd(d){xc.current===d&&(aa(zi),aa(xc))}var Pa=Fi(0);function Bi(d){for(var g=d;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||S.data==="$?"||S.data==="$!"))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if((g.flags&128)!==0)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var ud=[];function dd(){for(var d=0;d<ud.length;d++)ud[d]._workInProgressVersionPrimary=null;ud.length=0}var Nu=I.ReactCurrentDispatcher,ku=I.ReactCurrentBatchConfig,Hs=0,ja=null,Ya=null,Ja=null,fd=!1,wc=!1,md=0,e1=0;function Lo(){throw Error(r(321))}function dm(d,g){if(g===null)return!1;for(var S=0;S<g.length&&S<d.length;S++)if(!Qn(d[S],g[S]))return!1;return!0}function tf(d,g,S,F,H,re){if(Hs=re,ja=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,Nu.current=d===null||d.memoizedState===null?AF:OF,d=S(F,H),wc){re=0;do{if(wc=!1,md=0,25<=re)throw Error(r(301));re+=1,Ja=Ya=null,g.updateQueue=null,Nu.current=IF,d=S(F,H)}while(wc)}if(Nu.current=yv,g=Ya!==null&&Ya.next!==null,Hs=0,Ja=Ya=ja=null,fd=!1,g)throw Error(r(300));return d}function Vl(){var d=md!==0;return md=0,d}function yl(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ja===null?ja.memoizedState=Ja=d:Ja=Ja.next=d,Ja}function xs(){if(Ya===null){var d=ja.alternate;d=d!==null?d.memoizedState:null}else d=Ya.next;var g=Ja===null?ja.memoizedState:Ja.next;if(g!==null)Ja=g,Ya=d;else{if(d===null)throw Error(r(310));Ya=d,d={memoizedState:Ya.memoizedState,baseState:Ya.baseState,baseQueue:Ya.baseQueue,queue:Ya.queue,next:null},Ja===null?ja.memoizedState=Ja=d:Ja=Ja.next=d}return Ja}function rf(d,g){return typeof g=="function"?g(d):g}function fm(d){var g=xs(),S=g.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=d;var F=Ya,H=F.baseQueue,re=S.pending;if(re!==null){if(H!==null){var he=H.next;H.next=re.next,re.next=he}F.baseQueue=H=re,S.pending=null}if(H!==null){re=H.next,F=F.baseState;var Fe=he=null,Ge=null,wt=re;do{var nr=wt.lane;if((Hs&nr)===nr)Ge!==null&&(Ge=Ge.next={lane:0,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null}),F=wt.hasEagerState?wt.eagerState:d(F,wt.action);else{var ir={lane:nr,action:wt.action,hasEagerState:wt.hasEagerState,eagerState:wt.eagerState,next:null};Ge===null?(Fe=Ge=ir,he=F):Ge=Ge.next=ir,ja.lanes|=nr,af|=nr}wt=wt.next}while(wt!==null&&wt!==re);Ge===null?he=F:Ge.next=Fe,Qn(F,g.memoizedState)||(Ws=!0),g.memoizedState=F,g.baseState=he,g.baseQueue=Ge,S.lastRenderedState=F}if(d=S.interleaved,d!==null){H=d;do re=H.lane,ja.lanes|=re,af|=re,H=H.next;while(H!==d)}else H===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function nu(d){var g=xs(),S=g.queue;if(S===null)throw Error(r(311));S.lastRenderedReducer=d;var F=S.dispatch,H=S.pending,re=g.memoizedState;if(H!==null){S.pending=null;var he=H=H.next;do re=d(re,he.action),he=he.next;while(he!==H);Qn(re,g.memoizedState)||(Ws=!0),g.memoizedState=re,g.baseQueue===null&&(g.baseState=re),S.lastRenderedState=re}return[re,F]}function gv(){}function Jp(d,g){var S=ja,F=xs(),H=g(),re=!Qn(F.memoizedState,H);if(re&&(F.memoizedState=H,Ws=!0),F=F.queue,gm(vv.bind(null,S,F,d),[d]),F.getSnapshot!==g||re||Ja!==null&&Ja.memoizedState.tag&1){if(S.flags|=2048,ws(9,Xp.bind(null,S,F,H,g),void 0,null),Ei===null)throw Error(r(349));(Hs&30)!==0||hv(S,g,H)}return H}function hv(d,g,S){d.flags|=16384,d={getSnapshot:g,value:S},g=ja.updateQueue,g===null?(g={lastEffect:null,stores:null},ja.updateQueue=g,g.stores=[d]):(S=g.stores,S===null?g.stores=[d]:S.push(d))}function Xp(d,g,S,F){g.value=S,g.getSnapshot=F,pd(g)&&mm(d)}function vv(d,g,S){return S(function(){pd(g)&&mm(d)})}function pd(d){var g=d.getSnapshot;d=d.value;try{var S=g();return!Qn(d,S)}catch{return!0}}function mm(d){var g=On(d,1);g!==null&&kc(g,d,1,-1)}function nf(d){var g=yl();return typeof d=="function"&&(d=d()),g.memoizedState=g.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:rf,lastRenderedState:d},g.queue=d,d=d.dispatch=kF.bind(null,ja,d),[g.memoizedState,d]}function ws(d,g,S,F){return d={tag:d,create:g,destroy:S,deps:F,next:null},g=ja.updateQueue,g===null?(g={lastEffect:null,stores:null},ja.updateQueue=g,g.lastEffect=d.next=d):(S=g.lastEffect,S===null?g.lastEffect=d.next=d:(F=S.next,S.next=d,d.next=F,g.lastEffect=d)),d}function Sc(){return xs().memoizedState}function El(d,g,S,F){var H=yl();ja.flags|=d,H.memoizedState=ws(1|g,S,void 0,F===void 0?null:F)}function Au(d,g,S,F){var H=xs();F=F===void 0?null:F;var re=void 0;if(Ya!==null){var he=Ya.memoizedState;if(re=he.destroy,F!==null&&dm(F,he.deps)){H.memoizedState=ws(g,S,re,F);return}}ja.flags|=d,H.memoizedState=ws(1|g,S,re,F)}function pm(d,g){return El(8390656,8,d,g)}function gm(d,g){return Au(2048,8,d,g)}function bv(d,g){return Au(4,2,d,g)}function hm(d,g){return Au(4,4,d,g)}function vm(d,g){if(typeof g=="function")return d=d(),g(d),function(){g(null)};if(g!=null)return d=d(),g.current=d,function(){g.current=null}}function TP(d,g,S){return S=S!=null?S.concat([d]):null,Au(4,4,vm.bind(null,g,d),S)}function t1(){}function RP(d,g){var S=xs();g=g===void 0?null:g;var F=S.memoizedState;return F!==null&&g!==null&&dm(g,F[1])?F[0]:(S.memoizedState=[d,g],d)}function MP(d,g){var S=xs();g=g===void 0?null:g;var F=S.memoizedState;return F!==null&&g!==null&&dm(g,F[1])?F[0]:(d=d(),S.memoizedState=[d,g],d)}function DP(d,g,S){return(Hs&21)===0?(d.baseState&&(d.baseState=!1,Ws=!0),d.memoizedState=S):(Qn(S,g)||(S=la(),ja.lanes|=S,af|=S,d.baseState=!0),g)}function PF(d,g){var S=cn;cn=S!==0&&4>S?S:4,d(!0);var F=ku.transition;ku.transition={};try{d(!1),g()}finally{cn=S,ku.transition=F}}function jP(){return xs().memoizedState}function NF(d,g,S){var F=bd(d);if(S={lane:F,action:S,hasEagerState:!1,eagerState:null,next:null},FP(d))$P(g,S);else if(S=Ua(d,g,S,F),S!==null){var H=Cs();kc(S,d,F,H),zP(S,g,F)}}function kF(d,g,S){var F=bd(d),H={lane:F,action:S,hasEagerState:!1,eagerState:null,next:null};if(FP(d))$P(g,H);else{var re=d.alternate;if(d.lanes===0&&(re===null||re.lanes===0)&&(re=g.lastRenderedReducer,re!==null))try{var he=g.lastRenderedState,Fe=re(he,S);if(H.hasEagerState=!0,H.eagerState=Fe,Qn(Fe,he)){var Ge=g.interleaved;Ge===null?(H.next=H,Wn(g)):(H.next=Ge.next,Ge.next=H),g.interleaved=H;return}}catch{}finally{}S=Ua(d,g,H,F),S!==null&&(H=Cs(),kc(S,d,F,H),zP(S,g,F))}}function FP(d){var g=d.alternate;return d===ja||g!==null&&g===ja}function $P(d,g){wc=fd=!0;var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}function zP(d,g,S){if((S&4194240)!==0){var F=g.lanes;F&=d.pendingLanes,S|=F,g.lanes=S,Sa(d,S)}}var yv={readContext:_a,useCallback:Lo,useContext:Lo,useEffect:Lo,useImperativeHandle:Lo,useInsertionEffect:Lo,useLayoutEffect:Lo,useMemo:Lo,useReducer:Lo,useRef:Lo,useState:Lo,useDebugValue:Lo,useDeferredValue:Lo,useTransition:Lo,useMutableSource:Lo,useSyncExternalStore:Lo,useId:Lo,unstable_isNewReconciler:!1},AF={readContext:_a,useCallback:function(d,g){return yl().memoizedState=[d,g===void 0?null:g],d},useContext:_a,useEffect:pm,useImperativeHandle:function(d,g,S){return S=S!=null?S.concat([d]):null,El(4194308,4,vm.bind(null,g,d),S)},useLayoutEffect:function(d,g){return El(4194308,4,d,g)},useInsertionEffect:function(d,g){return El(4,2,d,g)},useMemo:function(d,g){var S=yl();return g=g===void 0?null:g,d=d(),S.memoizedState=[d,g],d},useReducer:function(d,g,S){var F=yl();return g=S!==void 0?S(g):g,F.memoizedState=F.baseState=g,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:g},F.queue=d,d=d.dispatch=NF.bind(null,ja,d),[F.memoizedState,d]},useRef:function(d){var g=yl();return d={current:d},g.memoizedState=d},useState:nf,useDebugValue:t1,useDeferredValue:function(d){return yl().memoizedState=d},useTransition:function(){var d=nf(!1),g=d[0];return d=PF.bind(null,d[1]),yl().memoizedState=d,[g,d]},useMutableSource:function(){},useSyncExternalStore:function(d,g,S){var F=ja,H=yl();if(Qe){if(S===void 0)throw Error(r(407));S=S()}else{if(S=g(),Ei===null)throw Error(r(349));(Hs&30)!==0||hv(F,g,S)}H.memoizedState=S;var re={value:S,getSnapshot:g};return H.queue=re,pm(vv.bind(null,F,re,d),[d]),F.flags|=2048,ws(9,Xp.bind(null,F,re,S,g),void 0,null),S},useId:function(){var d=yl(),g=Ei.identifierPrefix;if(Qe){var S=Y,F=M;S=(F&~(1<<32-Bt(F)-1)).toString(32)+S,g=":"+g+"R"+S,S=md++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=e1++,g=":"+g+"r"+S.toString(32)+":";return d.memoizedState=g},unstable_isNewReconciler:!1},OF={readContext:_a,useCallback:RP,useContext:_a,useEffect:gm,useImperativeHandle:TP,useInsertionEffect:bv,useLayoutEffect:hm,useMemo:MP,useReducer:fm,useRef:Sc,useState:function(){return fm(rf)},useDebugValue:t1,useDeferredValue:function(d){var g=xs();return DP(g,Ya.memoizedState,d)},useTransition:function(){var d=fm(rf)[0],g=xs().memoizedState;return[d,g]},useMutableSource:gv,useSyncExternalStore:Jp,useId:jP,unstable_isNewReconciler:!1},IF={readContext:_a,useCallback:RP,useContext:_a,useEffect:gm,useImperativeHandle:TP,useInsertionEffect:bv,useLayoutEffect:hm,useMemo:MP,useReducer:nu,useRef:Sc,useState:function(){return nu(rf)},useDebugValue:t1,useDeferredValue:function(d){var g=xs();return Ya===null?g.memoizedState=d:DP(g,Ya.memoizedState,d)},useTransition:function(){var d=nu(rf)[0],g=xs().memoizedState;return[d,g]},useMutableSource:gv,useSyncExternalStore:Jp,useId:jP,unstable_isNewReconciler:!1};function Cc(d,g){if(d&&d.defaultProps){g=W({},g),d=d.defaultProps;for(var S in d)g[S]===void 0&&(g[S]=d[S]);return g}return g}function r1(d,g,S,F){g=d.memoizedState,S=S(F,g),S=S==null?g:W({},g,S),d.memoizedState=S,d.lanes===0&&(d.updateQueue.baseState=S)}var Ev={isMounted:function(d){return(d=d._reactInternals)?At(d)===d:!1},enqueueSetState:function(d,g,S){d=d._reactInternals;var F=Cs(),H=bd(d),re=$i(F,H);re.payload=g,S!=null&&(re.callback=S),g=si(d,re,H),g!==null&&(kc(g,d,H,F),bc(g,d,H))},enqueueReplaceState:function(d,g,S){d=d._reactInternals;var F=Cs(),H=bd(d),re=$i(F,H);re.tag=1,re.payload=g,S!=null&&(re.callback=S),g=si(d,re,H),g!==null&&(kc(g,d,H,F),bc(g,d,H))},enqueueForceUpdate:function(d,g){d=d._reactInternals;var S=Cs(),F=bd(d),H=$i(S,F);H.tag=2,g!=null&&(H.callback=g),g=si(d,H,F),g!==null&&(kc(g,d,F,S),bc(g,d,F))}};function BP(d,g,S,F,H,re,he){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(F,re,he):g.prototype&&g.prototype.isPureReactComponent?!Fs(S,F)||!Fs(H,re):!0}function UP(d,g,S){var F=!1,H=pl,re=g.contextType;return typeof re=="object"&&re!==null?re=_a(re):(H=Vo(g)?gl:fo.current,F=g.contextTypes,re=(F=F!=null)?gc(d,H):pl),g=new g(S,re),d.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ev,d.stateNode=g,g._reactInternals=d,F&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=H,d.__reactInternalMemoizedMaskedChildContext=re),g}function qP(d,g,S,F){d=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,F),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,F),g.state!==d&&Ev.enqueueReplaceState(g,g.state,null)}function n1(d,g,S,F){var H=d.stateNode;H.props=S,H.state=d.memoizedState,H.refs={},vc(d);var re=g.contextType;typeof re=="object"&&re!==null?H.context=_a(re):(re=Vo(g)?gl:fo.current,H.context=gc(d,re)),H.state=d.memoizedState,re=g.getDerivedStateFromProps,typeof re=="function"&&(r1(d,g,re,S),H.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof H.getSnapshotBeforeUpdate=="function"||typeof H.UNSAFE_componentWillMount!="function"&&typeof H.componentWillMount!="function"||(g=H.state,typeof H.componentWillMount=="function"&&H.componentWillMount(),typeof H.UNSAFE_componentWillMount=="function"&&H.UNSAFE_componentWillMount(),g!==H.state&&Ev.enqueueReplaceState(H,H.state,null),Es(d,S,H,F),H.state=d.memoizedState),typeof H.componentDidMount=="function"&&(d.flags|=4194308)}function bm(d,g){try{var S="",F=g;do S+=Z(F),F=F.return;while(F);var H=S}catch(re){H=`
Error generating stack: `+re.message+`
`+re.stack}return{value:d,source:g,stack:H,digest:null}}function a1(d,g,S){return{value:d,source:null,stack:S??null,digest:g??null}}function o1(d,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var _F=typeof WeakMap=="function"?WeakMap:Map;function VP(d,g,S){S=$i(-1,S),S.tag=3,S.payload={element:null};var F=g.value;return S.callback=function(){kv||(kv=!0,E1=F),o1(d,g)},S}function HP(d,g,S){S=$i(-1,S),S.tag=3;var F=d.type.getDerivedStateFromError;if(typeof F=="function"){var H=g.value;S.payload=function(){return F(H)},S.callback=function(){o1(d,g)}}var re=d.stateNode;return re!==null&&typeof re.componentDidCatch=="function"&&(S.callback=function(){o1(d,g),typeof F!="function"&&(hd===null?hd=new Set([this]):hd.add(this));var he=g.stack;this.componentDidCatch(g.value,{componentStack:he!==null?he:""})}),S}function WP(d,g,S){var F=d.pingCache;if(F===null){F=d.pingCache=new _F;var H=new Set;F.set(g,H)}else H=F.get(g),H===void 0&&(H=new Set,F.set(g,H));H.has(S)||(H.add(S),d=HF.bind(null,d,g,S),g.then(d,d))}function GP(d){do{var g;if((g=d.tag===13)&&(g=d.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return d;d=d.return}while(d!==null);return null}function KP(d,g,S,F,H){return(d.mode&1)===0?(d===g?d.flags|=65536:(d.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=$i(-1,1),g.tag=2,si(S,g,1))),S.lanes|=1),d):(d.flags|=65536,d.lanes=H,d)}var LF=I.ReactCurrentOwner,Ws=!1;function Ss(d,g,S,F){g.child=d===null?ln(g,null,S,F):pn(g,d.child,S,F)}function YP(d,g,S,F,H){S=S.render;var re=g.ref;return Xn(g,H),F=tf(d,g,S,F,re,H),S=Vl(),d!==null&&!Ws?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~H,Ou(d,g,H)):(Qe&&S&&Ce(g),g.flags|=1,Ss(d,g,F,H),g.child)}function JP(d,g,S,F,H){if(d===null){var re=S.type;return typeof re=="function"&&!k1(re)&&re.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=re,XP(d,g,re,F,H)):(d=Tv(S.type,null,F,g,g.mode,H),d.ref=g.ref,d.return=g,g.child=d)}if(re=d.child,(d.lanes&H)===0){var he=re.memoizedProps;if(S=S.compare,S=S!==null?S:Fs,S(he,F)&&d.ref===g.ref)return Ou(d,g,H)}return g.flags|=1,d=Ed(re,F),d.ref=g.ref,d.return=g,g.child=d}function XP(d,g,S,F,H){if(d!==null){var re=d.memoizedProps;if(Fs(re,F)&&d.ref===g.ref)if(Ws=!1,g.pendingProps=F=re,(d.lanes&H)!==0)(d.flags&131072)!==0&&(Ws=!0);else return g.lanes=d.lanes,Ou(d,g,H)}return i1(d,g,S,F,H)}function ZP(d,g,S){var F=g.pendingProps,H=F.children,re=d!==null?d.memoizedState:null;if(F.mode==="hidden")if((g.mode&1)===0)g.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn(Em,xl),xl|=S;else{if((S&1073741824)===0)return d=re!==null?re.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:d,cachePool:null,transitions:null},g.updateQueue=null,Hn(Em,xl),xl|=d,null;g.memoizedState={baseLanes:0,cachePool:null,transitions:null},F=re!==null?re.baseLanes:S,Hn(Em,xl),xl|=F}else re!==null?(F=re.baseLanes|S,g.memoizedState=null):F=S,Hn(Em,xl),xl|=F;return Ss(d,g,H,S),g.child}function QP(d,g){var S=g.ref;(d===null&&S!==null||d!==null&&d.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function i1(d,g,S,F,H){var re=Vo(S)?gl:fo.current;return re=gc(g,re),Xn(g,H),S=tf(d,g,S,F,re,H),F=Vl(),d!==null&&!Ws?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~H,Ou(d,g,H)):(Qe&&F&&Ce(g),g.flags|=1,Ss(d,g,S,H),g.child)}function eN(d,g,S,F,H){if(Vo(S)){var re=!0;hc(g)}else re=!1;if(Xn(g,H),g.stateNode===null)wv(d,g),UP(g,S,F),n1(g,S,F,H),F=!0;else if(d===null){var he=g.stateNode,Fe=g.memoizedProps;he.props=Fe;var Ge=he.context,wt=S.contextType;typeof wt=="object"&&wt!==null?wt=_a(wt):(wt=Vo(S)?gl:fo.current,wt=gc(g,wt));var nr=S.getDerivedStateFromProps,ir=typeof nr=="function"||typeof he.getSnapshotBeforeUpdate=="function";ir||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(Fe!==F||Ge!==wt)&&qP(g,he,F,wt),_o=!1;var rr=g.memoizedState;he.state=rr,Es(g,F,he,H),Ge=g.memoizedState,Fe!==F||rr!==Ge||ii.current||_o?(typeof nr=="function"&&(r1(g,S,nr,F),Ge=g.memoizedState),(Fe=_o||BP(g,S,Fe,F,rr,Ge,wt))?(ir||typeof he.UNSAFE_componentWillMount!="function"&&typeof he.componentWillMount!="function"||(typeof he.componentWillMount=="function"&&he.componentWillMount(),typeof he.UNSAFE_componentWillMount=="function"&&he.UNSAFE_componentWillMount()),typeof he.componentDidMount=="function"&&(g.flags|=4194308)):(typeof he.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=F,g.memoizedState=Ge),he.props=F,he.state=Ge,he.context=wt,F=Fe):(typeof he.componentDidMount=="function"&&(g.flags|=4194308),F=!1)}else{he=g.stateNode,ld(d,g),Fe=g.memoizedProps,wt=g.type===g.elementType?Fe:Cc(g.type,Fe),he.props=wt,ir=g.pendingProps,rr=he.context,Ge=S.contextType,typeof Ge=="object"&&Ge!==null?Ge=_a(Ge):(Ge=Vo(S)?gl:fo.current,Ge=gc(g,Ge));var _r=S.getDerivedStateFromProps;(nr=typeof _r=="function"||typeof he.getSnapshotBeforeUpdate=="function")||typeof he.UNSAFE_componentWillReceiveProps!="function"&&typeof he.componentWillReceiveProps!="function"||(Fe!==ir||rr!==Ge)&&qP(g,he,F,Ge),_o=!1,rr=g.memoizedState,he.state=rr,Es(g,F,he,H);var Hr=g.memoizedState;Fe!==ir||rr!==Hr||ii.current||_o?(typeof _r=="function"&&(r1(g,S,_r,F),Hr=g.memoizedState),(wt=_o||BP(g,S,wt,F,rr,Hr,Ge)||!1)?(nr||typeof he.UNSAFE_componentWillUpdate!="function"&&typeof he.componentWillUpdate!="function"||(typeof he.componentWillUpdate=="function"&&he.componentWillUpdate(F,Hr,Ge),typeof he.UNSAFE_componentWillUpdate=="function"&&he.UNSAFE_componentWillUpdate(F,Hr,Ge)),typeof he.componentDidUpdate=="function"&&(g.flags|=4),typeof he.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof he.componentDidUpdate!="function"||Fe===d.memoizedProps&&rr===d.memoizedState||(g.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||Fe===d.memoizedProps&&rr===d.memoizedState||(g.flags|=1024),g.memoizedProps=F,g.memoizedState=Hr),he.props=F,he.state=Hr,he.context=Ge,F=wt):(typeof he.componentDidUpdate!="function"||Fe===d.memoizedProps&&rr===d.memoizedState||(g.flags|=4),typeof he.getSnapshotBeforeUpdate!="function"||Fe===d.memoizedProps&&rr===d.memoizedState||(g.flags|=1024),F=!1)}return s1(d,g,S,F,re,H)}function s1(d,g,S,F,H,re){QP(d,g);var he=(g.flags&128)!==0;if(!F&&!he)return H&&um(g,S,!1),Ou(d,g,re);F=g.stateNode,LF.current=g;var Fe=he&&typeof S.getDerivedStateFromError!="function"?null:F.render();return g.flags|=1,d!==null&&he?(g.child=pn(g,d.child,null,re),g.child=pn(g,null,Fe,re)):Ss(d,g,Fe,re),g.memoizedState=F.state,H&&um(g,S,!0),g.child}function tN(d){var g=d.stateNode;g.pendingContext?ql(d,g.pendingContext,g.pendingContext!==g.context):g.context&&ql(d,g.context,!1),ru(d,g.containerInfo)}function rN(d,g,S,F,H){return Or(),Ir(H),g.flags|=256,Ss(d,g,S,F),g.child}var l1={dehydrated:null,treeContext:null,retryLane:0};function c1(d){return{baseLanes:d,cachePool:null,transitions:null}}function nN(d,g,S){var F=g.pendingProps,H=Pa.current,re=!1,he=(g.flags&128)!==0,Fe;if((Fe=he)||(Fe=d!==null&&d.memoizedState===null?!1:(H&2)!==0),Fe?(re=!0,g.flags&=-129):(d===null||d.memoizedState!==null)&&(H|=1),Hn(Pa,H&1),d===null)return jt(g),d=g.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?((g.mode&1)===0?g.lanes=1:d.data==="$!"?g.lanes=8:g.lanes=1073741824,null):(he=F.children,d=F.fallback,re?(F=g.mode,re=g.child,he={mode:"hidden",children:he},(F&1)===0&&re!==null?(re.childLanes=0,re.pendingProps=he):re=Rv(he,F,0,null),d=cf(d,F,S,null),re.return=g,d.return=g,re.sibling=d,g.child=re,g.child.memoizedState=c1(S),g.memoizedState=l1,d):u1(g,he));if(H=d.memoizedState,H!==null&&(Fe=H.dehydrated,Fe!==null))return TF(d,g,he,F,Fe,H,S);if(re){re=F.fallback,he=g.mode,H=d.child,Fe=H.sibling;var Ge={mode:"hidden",children:F.children};return(he&1)===0&&g.child!==H?(F=g.child,F.childLanes=0,F.pendingProps=Ge,g.deletions=null):(F=Ed(H,Ge),F.subtreeFlags=H.subtreeFlags&14680064),Fe!==null?re=Ed(Fe,re):(re=cf(re,he,S,null),re.flags|=2),re.return=g,F.return=g,F.sibling=re,g.child=F,F=re,re=g.child,he=d.child.memoizedState,he=he===null?c1(S):{baseLanes:he.baseLanes|S,cachePool:null,transitions:he.transitions},re.memoizedState=he,re.childLanes=d.childLanes&~S,g.memoizedState=l1,F}return re=d.child,d=re.sibling,F=Ed(re,{mode:"visible",children:F.children}),(g.mode&1)===0&&(F.lanes=S),F.return=g,F.sibling=null,d!==null&&(S=g.deletions,S===null?(g.deletions=[d],g.flags|=16):S.push(d)),g.child=F,g.memoizedState=null,F}function u1(d,g){return g=Rv({mode:"visible",children:g},d.mode,0,null),g.return=d,d.child=g}function xv(d,g,S,F){return F!==null&&Ir(F),pn(g,d.child,null,S),d=u1(g,g.pendingProps.children),d.flags|=2,g.memoizedState=null,d}function TF(d,g,S,F,H,re,he){if(S)return g.flags&256?(g.flags&=-257,F=a1(Error(r(422))),xv(d,g,he,F)):g.memoizedState!==null?(g.child=d.child,g.flags|=128,null):(re=F.fallback,H=g.mode,F=Rv({mode:"visible",children:F.children},H,0,null),re=cf(re,H,he,null),re.flags|=2,F.return=g,re.return=g,F.sibling=re,g.child=F,(g.mode&1)!==0&&pn(g,d.child,null,he),g.child.memoizedState=c1(he),g.memoizedState=l1,re);if((g.mode&1)===0)return xv(d,g,he,null);if(H.data==="$!"){if(F=H.nextSibling&&H.nextSibling.dataset,F)var Fe=F.dgst;return F=Fe,re=Error(r(419)),F=a1(re,F,void 0),xv(d,g,he,F)}if(Fe=(he&d.childLanes)!==0,Ws||Fe){if(F=Ei,F!==null){switch(he&-he){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}H=(H&(F.suspendedLanes|he))!==0?0:H,H!==0&&H!==re.retryLane&&(re.retryLane=H,On(d,H),kc(F,d,H,-1))}return N1(),F=a1(Error(r(421))),xv(d,g,he,F)}return H.data==="$?"?(g.flags|=128,g.child=d.child,g=WF.bind(null,d),H._reactRetry=g,null):(d=re.treeContext,We=oi(H.nextSibling),Pe=g,Qe=!0,rt=null,d!==null&&(xe[Oe++]=M,xe[Oe++]=Y,xe[Oe++]=Q,M=d.id,Y=d.overflow,Q=g),g=u1(g,F.children),g.flags|=4096,g)}function aN(d,g,S){d.lanes|=g;var F=d.alternate;F!==null&&(F.lanes|=g),ro(d.return,g,S)}function d1(d,g,S,F,H){var re=d.memoizedState;re===null?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:F,tail:S,tailMode:H}:(re.isBackwards=g,re.rendering=null,re.renderingStartTime=0,re.last=F,re.tail=S,re.tailMode=H)}function oN(d,g,S){var F=g.pendingProps,H=F.revealOrder,re=F.tail;if(Ss(d,g,F.children,S),F=Pa.current,(F&2)!==0)F=F&1|2,g.flags|=128;else{if(d!==null&&(d.flags&128)!==0)e:for(d=g.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&aN(d,S,g);else if(d.tag===19)aN(d,S,g);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===g)break e;for(;d.sibling===null;){if(d.return===null||d.return===g)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}F&=1}if(Hn(Pa,F),(g.mode&1)===0)g.memoizedState=null;else switch(H){case"forwards":for(S=g.child,H=null;S!==null;)d=S.alternate,d!==null&&Bi(d)===null&&(H=S),S=S.sibling;S=H,S===null?(H=g.child,g.child=null):(H=S.sibling,S.sibling=null),d1(g,!1,H,S,re);break;case"backwards":for(S=null,H=g.child,g.child=null;H!==null;){if(d=H.alternate,d!==null&&Bi(d)===null){g.child=H;break}d=H.sibling,H.sibling=S,S=H,H=d}d1(g,!0,S,null,re);break;case"together":d1(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function wv(d,g){(g.mode&1)===0&&d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2)}function Ou(d,g,S){if(d!==null&&(g.dependencies=d.dependencies),af|=g.lanes,(S&g.childLanes)===0)return null;if(d!==null&&g.child!==d.child)throw Error(r(153));if(g.child!==null){for(d=g.child,S=Ed(d,d.pendingProps),g.child=S,S.return=g;d.sibling!==null;)d=d.sibling,S=S.sibling=Ed(d,d.pendingProps),S.return=g;S.sibling=null}return g.child}function RF(d,g,S){switch(g.tag){case 3:tN(g),Or();break;case 5:Pu(g);break;case 1:Vo(g.type)&&hc(g);break;case 4:ru(g,g.stateNode.containerInfo);break;case 10:var F=g.type._context,H=g.memoizedProps.value;Hn(ma,F._currentValue),F._currentValue=H;break;case 13:if(F=g.memoizedState,F!==null)return F.dehydrated!==null?(Hn(Pa,Pa.current&1),g.flags|=128,null):(S&g.child.childLanes)!==0?nN(d,g,S):(Hn(Pa,Pa.current&1),d=Ou(d,g,S),d!==null?d.sibling:null);Hn(Pa,Pa.current&1);break;case 19:if(F=(S&g.childLanes)!==0,(d.flags&128)!==0){if(F)return oN(d,g,S);g.flags|=128}if(H=g.memoizedState,H!==null&&(H.rendering=null,H.tail=null,H.lastEffect=null),Hn(Pa,Pa.current),F)break;return null;case 22:case 23:return g.lanes=0,ZP(d,g,S)}return Ou(d,g,S)}var iN,f1,sN,lN;iN=function(d,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)d.appendChild(S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},f1=function(){},sN=function(d,g,S,F){var H=d.memoizedProps;if(H!==F){d=g.stateNode,bl(zi.current);var re=null;switch(S){case"input":H=He(d,H),F=He(d,F),re=[];break;case"select":H=W({},H,{value:void 0}),F=W({},F,{value:void 0}),re=[];break;case"textarea":H=Ke(d,H),F=Ke(d,F),re=[];break;default:typeof H.onClick!="function"&&typeof F.onClick=="function"&&(d.onclick=Zc)}wr(S,F);var he;S=null;for(wt in H)if(!F.hasOwnProperty(wt)&&H.hasOwnProperty(wt)&&H[wt]!=null)if(wt==="style"){var Fe=H[wt];for(he in Fe)Fe.hasOwnProperty(he)&&(S||(S={}),S[he]="")}else wt!=="dangerouslySetInnerHTML"&&wt!=="children"&&wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&wt!=="autoFocus"&&(a.hasOwnProperty(wt)?re||(re=[]):(re=re||[]).push(wt,null));for(wt in F){var Ge=F[wt];if(Fe=H!=null?H[wt]:void 0,F.hasOwnProperty(wt)&&Ge!==Fe&&(Ge!=null||Fe!=null))if(wt==="style")if(Fe){for(he in Fe)!Fe.hasOwnProperty(he)||Ge&&Ge.hasOwnProperty(he)||(S||(S={}),S[he]="");for(he in Ge)Ge.hasOwnProperty(he)&&Fe[he]!==Ge[he]&&(S||(S={}),S[he]=Ge[he])}else S||(re||(re=[]),re.push(wt,S)),S=Ge;else wt==="dangerouslySetInnerHTML"?(Ge=Ge?Ge.__html:void 0,Fe=Fe?Fe.__html:void 0,Ge!=null&&Fe!==Ge&&(re=re||[]).push(wt,Ge)):wt==="children"?typeof Ge!="string"&&typeof Ge!="number"||(re=re||[]).push(wt,""+Ge):wt!=="suppressContentEditableWarning"&&wt!=="suppressHydrationWarning"&&(a.hasOwnProperty(wt)?(Ge!=null&&wt==="onScroll"&&ca("scroll",d),re||Fe===Ge||(re=[])):(re=re||[]).push(wt,Ge))}S&&(re=re||[]).push("style",S);var wt=re;(g.updateQueue=wt)&&(g.flags|=4)}},lN=function(d,g,S,F){S!==F&&(g.flags|=4)};function Zp(d,g){if(!Qe)switch(d.tailMode){case"hidden":g=d.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?d.tail=null:S.sibling=null;break;case"collapsed":S=d.tail;for(var F=null;S!==null;)S.alternate!==null&&(F=S),S=S.sibling;F===null?g||d.tail===null?d.tail=null:d.tail.sibling=null:F.sibling=null}}function ts(d){var g=d.alternate!==null&&d.alternate.child===d.child,S=0,F=0;if(g)for(var H=d.child;H!==null;)S|=H.lanes|H.childLanes,F|=H.subtreeFlags&14680064,F|=H.flags&14680064,H.return=d,H=H.sibling;else for(H=d.child;H!==null;)S|=H.lanes|H.childLanes,F|=H.subtreeFlags,F|=H.flags,H.return=d,H=H.sibling;return d.subtreeFlags|=F,d.childLanes=S,g}function MF(d,g,S){var F=g.pendingProps;switch(we(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ts(g),null;case 1:return Vo(g.type)&&sd(),ts(g),null;case 3:return F=g.stateNode,Ho(),aa(ii),aa(fo),dd(),F.pendingContext&&(F.context=F.pendingContext,F.pendingContext=null),(d===null||d.child===null)&&(xr(g)?g.flags|=4:d===null||d.memoizedState.isDehydrated&&(g.flags&256)===0||(g.flags|=1024,rt!==null&&(S1(rt),rt=null))),f1(d,g),ts(g),null;case 5:cd(g);var H=bl(vl.current);if(S=g.type,d!==null&&g.stateNode!=null)sN(d,g,S,F,H),d.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!F){if(g.stateNode===null)throw Error(r(166));return ts(g),null}if(d=bl(zi.current),xr(g)){F=g.stateNode,S=g.type;var re=g.memoizedProps;switch(F[Uo]=g,F[Qc]=re,d=(g.mode&1)!==0,S){case"dialog":ca("cancel",F),ca("close",F);break;case"iframe":case"object":case"embed":ca("load",F);break;case"video":case"audio":for(H=0;H<$l.length;H++)ca($l[H],F);break;case"source":ca("error",F);break;case"img":case"image":case"link":ca("error",F),ca("load",F);break;case"details":ca("toggle",F);break;case"input":Re(F,re),ca("invalid",F);break;case"select":F._wrapperState={wasMultiple:!!re.multiple},ca("invalid",F);break;case"textarea":Et(F,re),ca("invalid",F)}wr(S,re),H=null;for(var he in re)if(re.hasOwnProperty(he)){var Fe=re[he];he==="children"?typeof Fe=="string"?F.textContent!==Fe&&(re.suppressHydrationWarning!==!0&&od(F.textContent,Fe,d),H=["children",Fe]):typeof Fe=="number"&&F.textContent!==""+Fe&&(re.suppressHydrationWarning!==!0&&od(F.textContent,Fe,d),H=["children",""+Fe]):a.hasOwnProperty(he)&&Fe!=null&&he==="onScroll"&&ca("scroll",F)}switch(S){case"input":pe(F),Ae(F,re,!0);break;case"textarea":pe(F),zt(F);break;case"select":case"option":break;default:typeof re.onClick=="function"&&(F.onclick=Zc)}F=H,g.updateQueue=F,F!==null&&(g.flags|=4)}else{he=H.nodeType===9?H:H.ownerDocument,d==="http://www.w3.org/1999/xhtml"&&(d=Gt(S)),d==="http://www.w3.org/1999/xhtml"?S==="script"?(d=he.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild)):typeof F.is=="string"?d=he.createElement(S,{is:F.is}):(d=he.createElement(S),S==="select"&&(he=d,F.multiple?he.multiple=!0:F.size&&(he.size=F.size))):d=he.createElementNS(d,S),d[Uo]=g,d[Qc]=F,iN(d,g,!1,!1),g.stateNode=d;e:{switch(he=Ur(S,F),S){case"dialog":ca("cancel",d),ca("close",d),H=F;break;case"iframe":case"object":case"embed":ca("load",d),H=F;break;case"video":case"audio":for(H=0;H<$l.length;H++)ca($l[H],d);H=F;break;case"source":ca("error",d),H=F;break;case"img":case"image":case"link":ca("error",d),ca("load",d),H=F;break;case"details":ca("toggle",d),H=F;break;case"input":Re(d,F),H=He(d,F),ca("invalid",d);break;case"option":H=F;break;case"select":d._wrapperState={wasMultiple:!!F.multiple},H=W({},F,{value:void 0}),ca("invalid",d);break;case"textarea":Et(d,F),H=Ke(d,F),ca("invalid",d);break;default:H=F}wr(S,H),Fe=H;for(re in Fe)if(Fe.hasOwnProperty(re)){var Ge=Fe[re];re==="style"?Lr(d,Ge):re==="dangerouslySetInnerHTML"?(Ge=Ge?Ge.__html:void 0,Ge!=null&&ht(d,Ge)):re==="children"?typeof Ge=="string"?(S!=="textarea"||Ge!=="")&&Kt(d,Ge):typeof Ge=="number"&&Kt(d,""+Ge):re!=="suppressContentEditableWarning"&&re!=="suppressHydrationWarning"&&re!=="autoFocus"&&(a.hasOwnProperty(re)?Ge!=null&&re==="onScroll"&&ca("scroll",d):Ge!=null&&N(d,re,Ge,he))}switch(S){case"input":pe(d),Ae(d,F,!1);break;case"textarea":pe(d),zt(d);break;case"option":F.value!=null&&d.setAttribute("value",""+oe(F.value));break;case"select":d.multiple=!!F.multiple,re=F.value,re!=null?Xe(d,!!F.multiple,re,!1):F.defaultValue!=null&&Xe(d,!!F.multiple,F.defaultValue,!0);break;default:typeof H.onClick=="function"&&(d.onclick=Zc)}switch(S){case"button":case"input":case"select":case"textarea":F=!!F.autoFocus;break e;case"img":F=!0;break e;default:F=!1}}F&&(g.flags|=4)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return ts(g),null;case 6:if(d&&g.stateNode!=null)lN(d,g,d.memoizedProps,F);else{if(typeof F!="string"&&g.stateNode===null)throw Error(r(166));if(S=bl(vl.current),bl(zi.current),xr(g)){if(F=g.stateNode,S=g.memoizedProps,F[Uo]=g,(re=F.nodeValue!==S)&&(d=Pe,d!==null))switch(d.tag){case 3:od(F.nodeValue,S,(d.mode&1)!==0);break;case 5:d.memoizedProps.suppressHydrationWarning!==!0&&od(F.nodeValue,S,(d.mode&1)!==0)}re&&(g.flags|=4)}else F=(S.nodeType===9?S:S.ownerDocument).createTextNode(F),F[Uo]=g,g.stateNode=F}return ts(g),null;case 13:if(aa(Pa),F=g.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(Qe&&We!==null&&(g.mode&1)!==0&&(g.flags&128)===0)Br(),Or(),g.flags|=98560,re=!1;else if(re=xr(g),F!==null&&F.dehydrated!==null){if(d===null){if(!re)throw Error(r(318));if(re=g.memoizedState,re=re!==null?re.dehydrated:null,!re)throw Error(r(317));re[Uo]=g}else Or(),(g.flags&128)===0&&(g.memoizedState=null),g.flags|=4;ts(g),re=!1}else rt!==null&&(S1(rt),rt=null),re=!0;if(!re)return g.flags&65536?g:null}return(g.flags&128)!==0?(g.lanes=S,g):(F=F!==null,F!==(d!==null&&d.memoizedState!==null)&&F&&(g.child.flags|=8192,(g.mode&1)!==0&&(d===null||(Pa.current&1)!==0?li===0&&(li=3):N1())),g.updateQueue!==null&&(g.flags|=4),ts(g),null);case 4:return Ho(),f1(d,g),d===null&&zl(g.stateNode.containerInfo),ts(g),null;case 10:return Un(g.type._context),ts(g),null;case 17:return Vo(g.type)&&sd(),ts(g),null;case 19:if(aa(Pa),re=g.memoizedState,re===null)return ts(g),null;if(F=(g.flags&128)!==0,he=re.rendering,he===null)if(F)Zp(re,!1);else{if(li!==0||d!==null&&(d.flags&128)!==0)for(d=g.child;d!==null;){if(he=Bi(d),he!==null){for(g.flags|=128,Zp(re,!1),F=he.updateQueue,F!==null&&(g.updateQueue=F,g.flags|=4),g.subtreeFlags=0,F=S,S=g.child;S!==null;)re=S,d=F,re.flags&=14680066,he=re.alternate,he===null?(re.childLanes=0,re.lanes=d,re.child=null,re.subtreeFlags=0,re.memoizedProps=null,re.memoizedState=null,re.updateQueue=null,re.dependencies=null,re.stateNode=null):(re.childLanes=he.childLanes,re.lanes=he.lanes,re.child=he.child,re.subtreeFlags=0,re.deletions=null,re.memoizedProps=he.memoizedProps,re.memoizedState=he.memoizedState,re.updateQueue=he.updateQueue,re.type=he.type,d=he.dependencies,re.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),S=S.sibling;return Hn(Pa,Pa.current&1|2),g.child}d=d.sibling}re.tail!==null&&qt()>xm&&(g.flags|=128,F=!0,Zp(re,!1),g.lanes=4194304)}else{if(!F)if(d=Bi(he),d!==null){if(g.flags|=128,F=!0,S=d.updateQueue,S!==null&&(g.updateQueue=S,g.flags|=4),Zp(re,!0),re.tail===null&&re.tailMode==="hidden"&&!he.alternate&&!Qe)return ts(g),null}else 2*qt()-re.renderingStartTime>xm&&S!==1073741824&&(g.flags|=128,F=!0,Zp(re,!1),g.lanes=4194304);re.isBackwards?(he.sibling=g.child,g.child=he):(S=re.last,S!==null?S.sibling=he:g.child=he,re.last=he)}return re.tail!==null?(g=re.tail,re.rendering=g,re.tail=g.sibling,re.renderingStartTime=qt(),g.sibling=null,S=Pa.current,Hn(Pa,F?S&1|2:S&1),g):(ts(g),null);case 22:case 23:return P1(),F=g.memoizedState!==null,d!==null&&d.memoizedState!==null!==F&&(g.flags|=8192),F&&(g.mode&1)!==0?(xl&1073741824)!==0&&(ts(g),g.subtreeFlags&6&&(g.flags|=8192)):ts(g),null;case 24:return null;case 25:return null}throw Error(r(156,g.tag))}function DF(d,g){switch(we(g),g.tag){case 1:return Vo(g.type)&&sd(),d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 3:return Ho(),aa(ii),aa(fo),dd(),d=g.flags,(d&65536)!==0&&(d&128)===0?(g.flags=d&-65537|128,g):null;case 5:return cd(g),null;case 13:if(aa(Pa),d=g.memoizedState,d!==null&&d.dehydrated!==null){if(g.alternate===null)throw Error(r(340));Or()}return d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 19:return aa(Pa),null;case 4:return Ho(),null;case 10:return Un(g.type._context),null;case 22:case 23:return P1(),null;case 24:return null;default:return null}}var Sv=!1,rs=!1,jF=typeof WeakSet=="function"?WeakSet:Set,Fr=null;function ym(d,g){var S=d.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(F){yo(d,g,F)}else S.current=null}function m1(d,g,S){try{S()}catch(F){yo(d,g,F)}}var cN=!1;function FF(d,g){if(Bl=Ms,d=xu(),Mi(d)){if("selectionStart"in d)var S={start:d.selectionStart,end:d.selectionEnd};else e:{S=(S=d.ownerDocument)&&S.defaultView||window;var F=S.getSelection&&S.getSelection();if(F&&F.rangeCount!==0){S=F.anchorNode;var H=F.anchorOffset,re=F.focusNode;F=F.focusOffset;try{S.nodeType,re.nodeType}catch{S=null;break e}var he=0,Fe=-1,Ge=-1,wt=0,nr=0,ir=d,rr=null;t:for(;;){for(var _r;ir!==S||H!==0&&ir.nodeType!==3||(Fe=he+H),ir!==re||F!==0&&ir.nodeType!==3||(Ge=he+F),ir.nodeType===3&&(he+=ir.nodeValue.length),(_r=ir.firstChild)!==null;)rr=ir,ir=_r;for(;;){if(ir===d)break t;if(rr===S&&++wt===H&&(Fe=he),rr===re&&++nr===F&&(Ge=he),(_r=ir.nextSibling)!==null)break;ir=rr,rr=ir.parentNode}ir=_r}S=Fe===-1||Ge===-1?null:{start:Fe,end:Ge}}else S=null}S=S||{start:0,end:0}}else S=null;for(ml={focusedElem:d,selectionRange:S},Ms=!1,Fr=g;Fr!==null;)if(g=Fr,d=g.child,(g.subtreeFlags&1028)!==0&&d!==null)d.return=g,Fr=d;else for(;Fr!==null;){g=Fr;try{var Hr=g.alternate;if((g.flags&1024)!==0)switch(g.tag){case 0:case 11:case 15:break;case 1:if(Hr!==null){var Jr=Hr.memoizedProps,To=Hr.memoizedState,dt=g.stateNode,et=dt.getSnapshotBeforeUpdate(g.elementType===g.type?Jr:Cc(g.type,Jr),To);dt.__reactInternalSnapshotBeforeUpdate=et}break;case 3:var vt=g.stateNode.containerInfo;vt.nodeType===1?vt.textContent="":vt.nodeType===9&&vt.documentElement&&vt.removeChild(vt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(fr){yo(g,g.return,fr)}if(d=g.sibling,d!==null){d.return=g.return,Fr=d;break}Fr=g.return}return Hr=cN,cN=!1,Hr}function Qp(d,g,S){var F=g.updateQueue;if(F=F!==null?F.lastEffect:null,F!==null){var H=F=F.next;do{if((H.tag&d)===d){var re=H.destroy;H.destroy=void 0,re!==void 0&&m1(g,S,re)}H=H.next}while(H!==F)}}function Cv(d,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&d)===d){var F=S.create;S.destroy=F()}S=S.next}while(S!==g)}}function p1(d){var g=d.ref;if(g!==null){var S=d.stateNode;switch(d.tag){case 5:d=S;break;default:d=S}typeof g=="function"?g(d):g.current=d}}function uN(d){var g=d.alternate;g!==null&&(d.alternate=null,uN(g)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(g=d.stateNode,g!==null&&(delete g[Uo],delete g[Qc],delete g[yi],delete g[Kp],delete g[Yp])),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function dN(d){return d.tag===5||d.tag===3||d.tag===4}function fN(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||dN(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function g1(d,g,S){var F=d.tag;if(F===5||F===6)d=d.stateNode,g?S.nodeType===8?S.parentNode.insertBefore(d,g):S.insertBefore(d,g):(S.nodeType===8?(g=S.parentNode,g.insertBefore(d,S)):(g=S,g.appendChild(d)),S=S._reactRootContainer,S!=null||g.onclick!==null||(g.onclick=Zc));else if(F!==4&&(d=d.child,d!==null))for(g1(d,g,S),d=d.sibling;d!==null;)g1(d,g,S),d=d.sibling}function h1(d,g,S){var F=d.tag;if(F===5||F===6)d=d.stateNode,g?S.insertBefore(d,g):S.appendChild(d);else if(F!==4&&(d=d.child,d!==null))for(h1(d,g,S),d=d.sibling;d!==null;)h1(d,g,S),d=d.sibling}var Ui=null,Pc=!1;function gd(d,g,S){for(S=S.child;S!==null;)mN(d,g,S),S=S.sibling}function mN(d,g,S){if(tt&&typeof tt.onCommitFiberUnmount=="function")try{tt.onCommitFiberUnmount(Ue,S)}catch{}switch(S.tag){case 5:rs||ym(S,g);case 6:var F=Ui,H=Pc;Ui=null,gd(d,g,S),Ui=F,Pc=H,Ui!==null&&(Pc?(d=Ui,S=S.stateNode,d.nodeType===8?d.parentNode.removeChild(S):d.removeChild(S)):Ui.removeChild(S.stateNode));break;case 18:Ui!==null&&(Pc?(d=Ui,S=S.stateNode,d.nodeType===8?Qd(d.parentNode,S):d.nodeType===1&&Qd(d,S),ho(d)):Qd(Ui,S.stateNode));break;case 4:F=Ui,H=Pc,Ui=S.stateNode.containerInfo,Pc=!0,gd(d,g,S),Ui=F,Pc=H;break;case 0:case 11:case 14:case 15:if(!rs&&(F=S.updateQueue,F!==null&&(F=F.lastEffect,F!==null))){H=F=F.next;do{var re=H,he=re.destroy;re=re.tag,he!==void 0&&((re&2)!==0||(re&4)!==0)&&m1(S,g,he),H=H.next}while(H!==F)}gd(d,g,S);break;case 1:if(!rs&&(ym(S,g),F=S.stateNode,typeof F.componentWillUnmount=="function"))try{F.props=S.memoizedProps,F.state=S.memoizedState,F.componentWillUnmount()}catch(Fe){yo(S,g,Fe)}gd(d,g,S);break;case 21:gd(d,g,S);break;case 22:S.mode&1?(rs=(F=rs)||S.memoizedState!==null,gd(d,g,S),rs=F):gd(d,g,S);break;default:gd(d,g,S)}}function pN(d){var g=d.updateQueue;if(g!==null){d.updateQueue=null;var S=d.stateNode;S===null&&(S=d.stateNode=new jF),g.forEach(function(F){var H=GF.bind(null,d,F);S.has(F)||(S.add(F),F.then(H,H))})}}function Nc(d,g){var S=g.deletions;if(S!==null)for(var F=0;F<S.length;F++){var H=S[F];try{var re=d,he=g,Fe=he;e:for(;Fe!==null;){switch(Fe.tag){case 5:Ui=Fe.stateNode,Pc=!1;break e;case 3:Ui=Fe.stateNode.containerInfo,Pc=!0;break e;case 4:Ui=Fe.stateNode.containerInfo,Pc=!0;break e}Fe=Fe.return}if(Ui===null)throw Error(r(160));mN(re,he,H),Ui=null,Pc=!1;var Ge=H.alternate;Ge!==null&&(Ge.return=null),H.return=null}catch(wt){yo(H,g,wt)}}if(g.subtreeFlags&12854)for(g=g.child;g!==null;)gN(g,d),g=g.sibling}function gN(d,g){var S=d.alternate,F=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:if(Nc(g,d),au(d),F&4){try{Qp(3,d,d.return),Cv(3,d)}catch(Jr){yo(d,d.return,Jr)}try{Qp(5,d,d.return)}catch(Jr){yo(d,d.return,Jr)}}break;case 1:Nc(g,d),au(d),F&512&&S!==null&&ym(S,S.return);break;case 5:if(Nc(g,d),au(d),F&512&&S!==null&&ym(S,S.return),d.flags&32){var H=d.stateNode;try{Kt(H,"")}catch(Jr){yo(d,d.return,Jr)}}if(F&4&&(H=d.stateNode,H!=null)){var re=d.memoizedProps,he=S!==null?S.memoizedProps:re,Fe=d.type,Ge=d.updateQueue;if(d.updateQueue=null,Ge!==null)try{Fe==="input"&&re.type==="radio"&&re.name!=null&&be(H,re),Ur(Fe,he);var wt=Ur(Fe,re);for(he=0;he<Ge.length;he+=2){var nr=Ge[he],ir=Ge[he+1];nr==="style"?Lr(H,ir):nr==="dangerouslySetInnerHTML"?ht(H,ir):nr==="children"?Kt(H,ir):N(H,nr,ir,wt)}switch(Fe){case"input":gt(H,re);break;case"textarea":ut(H,re);break;case"select":var rr=H._wrapperState.wasMultiple;H._wrapperState.wasMultiple=!!re.multiple;var _r=re.value;_r!=null?Xe(H,!!re.multiple,_r,!1):rr!==!!re.multiple&&(re.defaultValue!=null?Xe(H,!!re.multiple,re.defaultValue,!0):Xe(H,!!re.multiple,re.multiple?[]:"",!1))}H[Qc]=re}catch(Jr){yo(d,d.return,Jr)}}break;case 6:if(Nc(g,d),au(d),F&4){if(d.stateNode===null)throw Error(r(162));H=d.stateNode,re=d.memoizedProps;try{H.nodeValue=re}catch(Jr){yo(d,d.return,Jr)}}break;case 3:if(Nc(g,d),au(d),F&4&&S!==null&&S.memoizedState.isDehydrated)try{ho(g.containerInfo)}catch(Jr){yo(d,d.return,Jr)}break;case 4:Nc(g,d),au(d);break;case 13:Nc(g,d),au(d),H=d.child,H.flags&8192&&(re=H.memoizedState!==null,H.stateNode.isHidden=re,!re||H.alternate!==null&&H.alternate.memoizedState!==null||(y1=qt())),F&4&&pN(d);break;case 22:if(nr=S!==null&&S.memoizedState!==null,d.mode&1?(rs=(wt=rs)||nr,Nc(g,d),rs=wt):Nc(g,d),au(d),F&8192){if(wt=d.memoizedState!==null,(d.stateNode.isHidden=wt)&&!nr&&(d.mode&1)!==0)for(Fr=d,nr=d.child;nr!==null;){for(ir=Fr=nr;Fr!==null;){switch(rr=Fr,_r=rr.child,rr.tag){case 0:case 11:case 14:case 15:Qp(4,rr,rr.return);break;case 1:ym(rr,rr.return);var Hr=rr.stateNode;if(typeof Hr.componentWillUnmount=="function"){F=rr,S=rr.return;try{g=F,Hr.props=g.memoizedProps,Hr.state=g.memoizedState,Hr.componentWillUnmount()}catch(Jr){yo(F,S,Jr)}}break;case 5:ym(rr,rr.return);break;case 22:if(rr.memoizedState!==null){bN(ir);continue}}_r!==null?(_r.return=rr,Fr=_r):bN(ir)}nr=nr.sibling}e:for(nr=null,ir=d;;){if(ir.tag===5){if(nr===null){nr=ir;try{H=ir.stateNode,wt?(re=H.style,typeof re.setProperty=="function"?re.setProperty("display","none","important"):re.display="none"):(Fe=ir.stateNode,Ge=ir.memoizedProps.style,he=Ge!=null&&Ge.hasOwnProperty("display")?Ge.display:null,Fe.style.display=Jt("display",he))}catch(Jr){yo(d,d.return,Jr)}}}else if(ir.tag===6){if(nr===null)try{ir.stateNode.nodeValue=wt?"":ir.memoizedProps}catch(Jr){yo(d,d.return,Jr)}}else if((ir.tag!==22&&ir.tag!==23||ir.memoizedState===null||ir===d)&&ir.child!==null){ir.child.return=ir,ir=ir.child;continue}if(ir===d)break e;for(;ir.sibling===null;){if(ir.return===null||ir.return===d)break e;nr===ir&&(nr=null),ir=ir.return}nr===ir&&(nr=null),ir.sibling.return=ir.return,ir=ir.sibling}}break;case 19:Nc(g,d),au(d),F&4&&pN(d);break;case 21:break;default:Nc(g,d),au(d)}}function au(d){var g=d.flags;if(g&2){try{e:{for(var S=d.return;S!==null;){if(dN(S)){var F=S;break e}S=S.return}throw Error(r(160))}switch(F.tag){case 5:var H=F.stateNode;F.flags&32&&(Kt(H,""),F.flags&=-33);var re=fN(d);h1(d,re,H);break;case 3:case 4:var he=F.stateNode.containerInfo,Fe=fN(d);g1(d,Fe,he);break;default:throw Error(r(161))}}catch(Ge){yo(d,d.return,Ge)}d.flags&=-3}g&4096&&(d.flags&=-4097)}function $F(d,g,S){Fr=d,hN(d)}function hN(d,g,S){for(var F=(d.mode&1)!==0;Fr!==null;){var H=Fr,re=H.child;if(H.tag===22&&F){var he=H.memoizedState!==null||Sv;if(!he){var Fe=H.alternate,Ge=Fe!==null&&Fe.memoizedState!==null||rs;Fe=Sv;var wt=rs;if(Sv=he,(rs=Ge)&&!wt)for(Fr=H;Fr!==null;)he=Fr,Ge=he.child,he.tag===22&&he.memoizedState!==null?yN(H):Ge!==null?(Ge.return=he,Fr=Ge):yN(H);for(;re!==null;)Fr=re,hN(re),re=re.sibling;Fr=H,Sv=Fe,rs=wt}vN(d)}else(H.subtreeFlags&8772)!==0&&re!==null?(re.return=H,Fr=re):vN(d)}}function vN(d){for(;Fr!==null;){var g=Fr;if((g.flags&8772)!==0){var S=g.alternate;try{if((g.flags&8772)!==0)switch(g.tag){case 0:case 11:case 15:rs||Cv(5,g);break;case 1:var F=g.stateNode;if(g.flags&4&&!rs)if(S===null)F.componentDidMount();else{var H=g.elementType===g.type?S.memoizedProps:Cc(g.type,S.memoizedProps);F.componentDidUpdate(H,S.memoizedState,F.__reactInternalSnapshotBeforeUpdate)}var re=g.updateQueue;re!==null&&yc(g,re,F);break;case 3:var he=g.updateQueue;if(he!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=g.child.stateNode;break;case 1:S=g.child.stateNode}yc(g,he,S)}break;case 5:var Fe=g.stateNode;if(S===null&&g.flags&4){S=Fe;var Ge=g.memoizedProps;switch(g.type){case"button":case"input":case"select":case"textarea":Ge.autoFocus&&S.focus();break;case"img":Ge.src&&(S.src=Ge.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(g.memoizedState===null){var wt=g.alternate;if(wt!==null){var nr=wt.memoizedState;if(nr!==null){var ir=nr.dehydrated;ir!==null&&ho(ir)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}rs||g.flags&512&&p1(g)}catch(rr){yo(g,g.return,rr)}}if(g===d){Fr=null;break}if(S=g.sibling,S!==null){S.return=g.return,Fr=S;break}Fr=g.return}}function bN(d){for(;Fr!==null;){var g=Fr;if(g===d){Fr=null;break}var S=g.sibling;if(S!==null){S.return=g.return,Fr=S;break}Fr=g.return}}function yN(d){for(;Fr!==null;){var g=Fr;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{Cv(4,g)}catch(Ge){yo(g,S,Ge)}break;case 1:var F=g.stateNode;if(typeof F.componentDidMount=="function"){var H=g.return;try{F.componentDidMount()}catch(Ge){yo(g,H,Ge)}}var re=g.return;try{p1(g)}catch(Ge){yo(g,re,Ge)}break;case 5:var he=g.return;try{p1(g)}catch(Ge){yo(g,he,Ge)}}}catch(Ge){yo(g,g.return,Ge)}if(g===d){Fr=null;break}var Fe=g.sibling;if(Fe!==null){Fe.return=g.return,Fr=Fe;break}Fr=g.return}}var zF=Math.ceil,Pv=I.ReactCurrentDispatcher,v1=I.ReactCurrentOwner,Hl=I.ReactCurrentBatchConfig,ua=0,Ei=null,Wo=null,qi=0,xl=0,Em=Fi(0),li=0,eg=null,af=0,Nv=0,b1=0,tg=null,Gs=null,y1=0,xm=1/0,Iu=null,kv=!1,E1=null,hd=null,Av=!1,vd=null,Ov=0,rg=0,x1=null,Iv=-1,_v=0;function Cs(){return(ua&6)!==0?qt():Iv!==-1?Iv:Iv=qt()}function bd(d){return(d.mode&1)===0?1:(ua&2)!==0&&qi!==0?qi&-qi:Yr.transition!==null?(_v===0&&(_v=la()),_v):(d=cn,d!==0||(d=window.event,d=d===void 0?16:Zo(d.type)),d)}function kc(d,g,S,F){if(50<rg)throw rg=0,x1=null,Error(r(185));Tn(d,S,F),((ua&2)===0||d!==Ei)&&(d===Ei&&((ua&2)===0&&(Nv|=S),li===4&&yd(d,qi)),Ks(d,F),S===1&&ua===0&&(g.mode&1)===0&&(xm=qt()+500,Cu&&ne()))}function Ks(d,g){var S=d.callbackNode;on(d,g);var F=Vr(d,d===Ei?qi:0);if(F===0)S!==null&&Rt(S),d.callbackNode=null,d.callbackPriority=0;else if(g=F&-F,d.callbackPriority!==g){if(S!=null&&Rt(S),g===1)d.tag===0?K(xN.bind(null,d)):$(xN.bind(null,d)),Zd(function(){(ua&6)===0&&ne()}),S=null;else{switch(oo(F)){case 1:S=Pr;break;case 4:S=Rr;break;case 16:S=Ze;break;case 536870912:S=Se;break;default:S=Ze}S=ON(S,EN.bind(null,d))}d.callbackPriority=g,d.callbackNode=S}}function EN(d,g){if(Iv=-1,_v=0,(ua&6)!==0)throw Error(r(327));var S=d.callbackNode;if(wm()&&d.callbackNode!==S)return null;var F=Vr(d,d===Ei?qi:0);if(F===0)return null;if((F&30)!==0||(F&d.expiredLanes)!==0||g)g=Lv(d,F);else{g=F;var H=ua;ua|=2;var re=SN();(Ei!==d||qi!==g)&&(Iu=null,xm=qt()+500,sf(d,g));do try{qF();break}catch(Fe){wN(d,Fe)}while(!0);pa(),Pv.current=re,ua=H,Wo!==null?g=0:(Ei=null,qi=0,g=li)}if(g!==0){if(g===2&&(H=Pn(d),H!==0&&(F=H,g=w1(d,H))),g===1)throw S=eg,sf(d,0),yd(d,F),Ks(d,qt()),S;if(g===6)yd(d,F);else{if(H=d.current.alternate,(F&30)===0&&!BF(H)&&(g=Lv(d,F),g===2&&(re=Pn(d),re!==0&&(F=re,g=w1(d,re))),g===1))throw S=eg,sf(d,0),yd(d,F),Ks(d,qt()),S;switch(d.finishedWork=H,d.finishedLanes=F,g){case 0:case 1:throw Error(r(345));case 2:lf(d,Gs,Iu);break;case 3:if(yd(d,F),(F&130023424)===F&&(g=y1+500-qt(),10<g)){if(Vr(d,0)!==0)break;if(H=d.suspendedLanes,(H&F)!==F){Cs(),d.pingedLanes|=d.suspendedLanes&H;break}d.timeoutHandle=id(lf.bind(null,d,Gs,Iu),g);break}lf(d,Gs,Iu);break;case 4:if(yd(d,F),(F&4194240)===F)break;for(g=d.eventTimes,H=-1;0<F;){var he=31-Bt(F);re=1<<he,he=g[he],he>H&&(H=he),F&=~re}if(F=H,F=qt()-F,F=(120>F?120:480>F?480:1080>F?1080:1920>F?1920:3e3>F?3e3:4320>F?4320:1960*zF(F/1960))-F,10<F){d.timeoutHandle=id(lf.bind(null,d,Gs,Iu),F);break}lf(d,Gs,Iu);break;case 5:lf(d,Gs,Iu);break;default:throw Error(r(329))}}}return Ks(d,qt()),d.callbackNode===S?EN.bind(null,d):null}function w1(d,g){var S=tg;return d.current.memoizedState.isDehydrated&&(sf(d,g).flags|=256),d=Lv(d,g),d!==2&&(g=Gs,Gs=S,g!==null&&S1(g)),d}function S1(d){Gs===null?Gs=d:Gs.push.apply(Gs,d)}function BF(d){for(var g=d;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var F=0;F<S.length;F++){var H=S[F],re=H.getSnapshot;H=H.value;try{if(!Qn(re(),H))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function yd(d,g){for(g&=~b1,g&=~Nv,d.suspendedLanes|=g,d.pingedLanes&=~g,d=d.expirationTimes;0<g;){var S=31-Bt(g),F=1<<S;d[S]=-1,g&=~F}}function xN(d){if((ua&6)!==0)throw Error(r(327));wm();var g=Vr(d,0);if((g&1)===0)return Ks(d,qt()),null;var S=Lv(d,g);if(d.tag!==0&&S===2){var F=Pn(d);F!==0&&(g=F,S=w1(d,F))}if(S===1)throw S=eg,sf(d,0),yd(d,g),Ks(d,qt()),S;if(S===6)throw Error(r(345));return d.finishedWork=d.current.alternate,d.finishedLanes=g,lf(d,Gs,Iu),Ks(d,qt()),null}function C1(d,g){var S=ua;ua|=1;try{return d(g)}finally{ua=S,ua===0&&(xm=qt()+500,Cu&&ne())}}function of(d){vd!==null&&vd.tag===0&&(ua&6)===0&&wm();var g=ua;ua|=1;var S=Hl.transition,F=cn;try{if(Hl.transition=null,cn=1,d)return d()}finally{cn=F,Hl.transition=S,ua=g,(ua&6)===0&&ne()}}function P1(){xl=Em.current,aa(Em)}function sf(d,g){d.finishedWork=null,d.finishedLanes=0;var S=d.timeoutHandle;if(S!==-1&&(d.timeoutHandle=-1,lm(S)),Wo!==null)for(S=Wo.return;S!==null;){var F=S;switch(we(F),F.tag){case 1:F=F.type.childContextTypes,F!=null&&sd();break;case 3:Ho(),aa(ii),aa(fo),dd();break;case 5:cd(F);break;case 4:Ho();break;case 13:aa(Pa);break;case 19:aa(Pa);break;case 10:Un(F.type._context);break;case 22:case 23:P1()}S=S.return}if(Ei=d,Wo=d=Ed(d.current,null),qi=xl=g,li=0,eg=null,b1=Nv=af=0,Gs=tg=null,ia!==null){for(g=0;g<ia.length;g++)if(S=ia[g],F=S.interleaved,F!==null){S.interleaved=null;var H=F.next,re=S.pending;if(re!==null){var he=re.next;re.next=H,F.next=he}S.pending=F}ia=null}return d}function wN(d,g){do{var S=Wo;try{if(pa(),Nu.current=yv,fd){for(var F=ja.memoizedState;F!==null;){var H=F.queue;H!==null&&(H.pending=null),F=F.next}fd=!1}if(Hs=0,Ja=Ya=ja=null,wc=!1,md=0,v1.current=null,S===null||S.return===null){li=1,eg=g,Wo=null;break}e:{var re=d,he=S.return,Fe=S,Ge=g;if(g=qi,Fe.flags|=32768,Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"){var wt=Ge,nr=Fe,ir=nr.tag;if((nr.mode&1)===0&&(ir===0||ir===11||ir===15)){var rr=nr.alternate;rr?(nr.updateQueue=rr.updateQueue,nr.memoizedState=rr.memoizedState,nr.lanes=rr.lanes):(nr.updateQueue=null,nr.memoizedState=null)}var _r=GP(he);if(_r!==null){_r.flags&=-257,KP(_r,he,Fe,re,g),_r.mode&1&&WP(re,wt,g),g=_r,Ge=wt;var Hr=g.updateQueue;if(Hr===null){var Jr=new Set;Jr.add(Ge),g.updateQueue=Jr}else Hr.add(Ge);break e}else{if((g&1)===0){WP(re,wt,g),N1();break e}Ge=Error(r(426))}}else if(Qe&&Fe.mode&1){var To=GP(he);if(To!==null){(To.flags&65536)===0&&(To.flags|=256),KP(To,he,Fe,re,g),Ir(bm(Ge,Fe));break e}}re=Ge=bm(Ge,Fe),li!==4&&(li=2),tg===null?tg=[re]:tg.push(re),re=he;do{switch(re.tag){case 3:re.flags|=65536,g&=-g,re.lanes|=g;var dt=VP(re,Ge,g);es(re,dt);break e;case 1:Fe=Ge;var et=re.type,vt=re.stateNode;if((re.flags&128)===0&&(typeof et.getDerivedStateFromError=="function"||vt!==null&&typeof vt.componentDidCatch=="function"&&(hd===null||!hd.has(vt)))){re.flags|=65536,g&=-g,re.lanes|=g;var fr=HP(re,Fe,g);es(re,fr);break e}}re=re.return}while(re!==null)}PN(S)}catch(Qr){g=Qr,Wo===S&&S!==null&&(Wo=S=S.return);continue}break}while(!0)}function SN(){var d=Pv.current;return Pv.current=yv,d===null?yv:d}function N1(){(li===0||li===3||li===2)&&(li=4),Ei===null||(af&268435455)===0&&(Nv&268435455)===0||yd(Ei,qi)}function Lv(d,g){var S=ua;ua|=2;var F=SN();(Ei!==d||qi!==g)&&(Iu=null,sf(d,g));do try{UF();break}catch(H){wN(d,H)}while(!0);if(pa(),ua=S,Pv.current=F,Wo!==null)throw Error(r(261));return Ei=null,qi=0,li}function UF(){for(;Wo!==null;)CN(Wo)}function qF(){for(;Wo!==null&&!Ht();)CN(Wo)}function CN(d){var g=AN(d.alternate,d,xl);d.memoizedProps=d.pendingProps,g===null?PN(d):Wo=g,v1.current=null}function PN(d){var g=d;do{var S=g.alternate;if(d=g.return,(g.flags&32768)===0){if(S=MF(S,g,xl),S!==null){Wo=S;return}}else{if(S=DF(S,g),S!==null){S.flags&=32767,Wo=S;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{li=6,Wo=null;return}}if(g=g.sibling,g!==null){Wo=g;return}Wo=g=d}while(g!==null);li===0&&(li=5)}function lf(d,g,S){var F=cn,H=Hl.transition;try{Hl.transition=null,cn=1,VF(d,g,S,F)}finally{Hl.transition=H,cn=F}return null}function VF(d,g,S,F){do wm();while(vd!==null);if((ua&6)!==0)throw Error(r(327));S=d.finishedWork;var H=d.finishedLanes;if(S===null)return null;if(d.finishedWork=null,d.finishedLanes=0,S===d.current)throw Error(r(177));d.callbackNode=null,d.callbackPriority=0;var re=S.lanes|S.childLanes;if(sn(d,re),d===Ei&&(Wo=Ei=null,qi=0),(S.subtreeFlags&2064)===0&&(S.flags&2064)===0||Av||(Av=!0,ON(Ze,function(){return wm(),null})),re=(S.flags&15990)!==0,(S.subtreeFlags&15990)!==0||re){re=Hl.transition,Hl.transition=null;var he=cn;cn=1;var Fe=ua;ua|=4,v1.current=null,FF(d,S),gN(S,d),ni(ml),Ms=!!Bl,ml=Bl=null,d.current=S,$F(S),or(),ua=Fe,cn=he,Hl.transition=re}else d.current=S;if(Av&&(Av=!1,vd=d,Ov=H),re=d.pendingLanes,re===0&&(hd=null),pt(S.stateNode),Ks(d,qt()),g!==null)for(F=d.onRecoverableError,S=0;S<g.length;S++)H=g[S],F(H.value,{componentStack:H.stack,digest:H.digest});if(kv)throw kv=!1,d=E1,E1=null,d;return(Ov&1)!==0&&d.tag!==0&&wm(),re=d.pendingLanes,(re&1)!==0?d===x1?rg++:(rg=0,x1=d):rg=0,ne(),null}function wm(){if(vd!==null){var d=oo(Ov),g=Hl.transition,S=cn;try{if(Hl.transition=null,cn=16>d?16:d,vd===null)var F=!1;else{if(d=vd,vd=null,Ov=0,(ua&6)!==0)throw Error(r(331));var H=ua;for(ua|=4,Fr=d.current;Fr!==null;){var re=Fr,he=re.child;if((Fr.flags&16)!==0){var Fe=re.deletions;if(Fe!==null){for(var Ge=0;Ge<Fe.length;Ge++){var wt=Fe[Ge];for(Fr=wt;Fr!==null;){var nr=Fr;switch(nr.tag){case 0:case 11:case 15:Qp(8,nr,re)}var ir=nr.child;if(ir!==null)ir.return=nr,Fr=ir;else for(;Fr!==null;){nr=Fr;var rr=nr.sibling,_r=nr.return;if(uN(nr),nr===wt){Fr=null;break}if(rr!==null){rr.return=_r,Fr=rr;break}Fr=_r}}}var Hr=re.alternate;if(Hr!==null){var Jr=Hr.child;if(Jr!==null){Hr.child=null;do{var To=Jr.sibling;Jr.sibling=null,Jr=To}while(Jr!==null)}}Fr=re}}if((re.subtreeFlags&2064)!==0&&he!==null)he.return=re,Fr=he;else e:for(;Fr!==null;){if(re=Fr,(re.flags&2048)!==0)switch(re.tag){case 0:case 11:case 15:Qp(9,re,re.return)}var dt=re.sibling;if(dt!==null){dt.return=re.return,Fr=dt;break e}Fr=re.return}}var et=d.current;for(Fr=et;Fr!==null;){he=Fr;var vt=he.child;if((he.subtreeFlags&2064)!==0&&vt!==null)vt.return=he,Fr=vt;else e:for(he=et;Fr!==null;){if(Fe=Fr,(Fe.flags&2048)!==0)try{switch(Fe.tag){case 0:case 11:case 15:Cv(9,Fe)}}catch(Qr){yo(Fe,Fe.return,Qr)}if(Fe===he){Fr=null;break e}var fr=Fe.sibling;if(fr!==null){fr.return=Fe.return,Fr=fr;break e}Fr=Fe.return}}if(ua=H,ne(),tt&&typeof tt.onPostCommitFiberRoot=="function")try{tt.onPostCommitFiberRoot(Ue,d)}catch{}F=!0}return F}finally{cn=S,Hl.transition=g}}return!1}function NN(d,g,S){g=bm(S,g),g=VP(d,g,1),d=si(d,g,1),g=Cs(),d!==null&&(Tn(d,1,g),Ks(d,g))}function yo(d,g,S){if(d.tag===3)NN(d,d,S);else for(;g!==null;){if(g.tag===3){NN(g,d,S);break}else if(g.tag===1){var F=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof F.componentDidCatch=="function"&&(hd===null||!hd.has(F))){d=bm(S,d),d=HP(g,d,1),g=si(g,d,1),d=Cs(),g!==null&&(Tn(g,1,d),Ks(g,d));break}}g=g.return}}function HF(d,g,S){var F=d.pingCache;F!==null&&F.delete(g),g=Cs(),d.pingedLanes|=d.suspendedLanes&S,Ei===d&&(qi&S)===S&&(li===4||li===3&&(qi&130023424)===qi&&500>qt()-y1?sf(d,0):b1|=S),Ks(d,g)}function kN(d,g){g===0&&((d.mode&1)===0?g=1:(g=Mn,Mn<<=1,(Mn&130023424)===0&&(Mn=4194304)));var S=Cs();d=On(d,g),d!==null&&(Tn(d,g,S),Ks(d,S))}function WF(d){var g=d.memoizedState,S=0;g!==null&&(S=g.retryLane),kN(d,S)}function GF(d,g){var S=0;switch(d.tag){case 13:var F=d.stateNode,H=d.memoizedState;H!==null&&(S=H.retryLane);break;case 19:F=d.stateNode;break;default:throw Error(r(314))}F!==null&&F.delete(g),kN(d,S)}var AN;AN=function(d,g,S){if(d!==null)if(d.memoizedProps!==g.pendingProps||ii.current)Ws=!0;else{if((d.lanes&S)===0&&(g.flags&128)===0)return Ws=!1,RF(d,g,S);Ws=(d.flags&131072)!==0}else Ws=!1,Qe&&(g.flags&1048576)!==0&&Ie(g,ye,g.index);switch(g.lanes=0,g.tag){case 2:var F=g.type;wv(d,g),d=g.pendingProps;var H=gc(g,fo.current);Xn(g,S),H=tf(null,g,F,d,H,S);var re=Vl();return g.flags|=1,typeof H=="object"&&H!==null&&typeof H.render=="function"&&H.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Vo(F)?(re=!0,hc(g)):re=!1,g.memoizedState=H.state!==null&&H.state!==void 0?H.state:null,vc(g),H.updater=Ev,g.stateNode=H,H._reactInternals=g,n1(g,F,d,S),g=s1(null,g,F,!0,re,S)):(g.tag=0,Qe&&re&&Ce(g),Ss(null,g,H,S),g=g.child),g;case 16:F=g.elementType;e:{switch(wv(d,g),d=g.pendingProps,H=F._init,F=H(F._payload),g.type=F,H=g.tag=YF(F),d=Cc(F,d),H){case 0:g=i1(null,g,F,d,S);break e;case 1:g=eN(null,g,F,d,S);break e;case 11:g=YP(null,g,F,d,S);break e;case 14:g=JP(null,g,F,Cc(F.type,d),S);break e}throw Error(r(306,F,""))}return g;case 0:return F=g.type,H=g.pendingProps,H=g.elementType===F?H:Cc(F,H),i1(d,g,F,H,S);case 1:return F=g.type,H=g.pendingProps,H=g.elementType===F?H:Cc(F,H),eN(d,g,F,H,S);case 3:e:{if(tN(g),d===null)throw Error(r(387));F=g.pendingProps,re=g.memoizedState,H=re.element,ld(d,g),Es(g,F,null,S);var he=g.memoizedState;if(F=he.element,re.isDehydrated)if(re={element:F,isDehydrated:!1,cache:he.cache,pendingSuspenseBoundaries:he.pendingSuspenseBoundaries,transitions:he.transitions},g.updateQueue.baseState=re,g.memoizedState=re,g.flags&256){H=bm(Error(r(423)),g),g=rN(d,g,F,S,H);break e}else if(F!==H){H=bm(Error(r(424)),g),g=rN(d,g,F,S,H);break e}else for(We=oi(g.stateNode.containerInfo.firstChild),Pe=g,Qe=!0,rt=null,S=ln(g,null,F,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(Or(),F===H){g=Ou(d,g,S);break e}Ss(d,g,F,S)}g=g.child}return g;case 5:return Pu(g),d===null&&jt(g),F=g.type,H=g.pendingProps,re=d!==null?d.memoizedProps:null,he=H.children,Xd(F,H)?he=null:re!==null&&Xd(F,re)&&(g.flags|=32),QP(d,g),Ss(d,g,he,S),g.child;case 6:return d===null&&jt(g),null;case 13:return nN(d,g,S);case 4:return ru(g,g.stateNode.containerInfo),F=g.pendingProps,d===null?g.child=pn(g,null,F,S):Ss(d,g,F,S),g.child;case 11:return F=g.type,H=g.pendingProps,H=g.elementType===F?H:Cc(F,H),YP(d,g,F,H,S);case 7:return Ss(d,g,g.pendingProps,S),g.child;case 8:return Ss(d,g,g.pendingProps.children,S),g.child;case 12:return Ss(d,g,g.pendingProps.children,S),g.child;case 10:e:{if(F=g.type._context,H=g.pendingProps,re=g.memoizedProps,he=H.value,Hn(ma,F._currentValue),F._currentValue=he,re!==null)if(Qn(re.value,he)){if(re.children===H.children&&!ii.current){g=Ou(d,g,S);break e}}else for(re=g.child,re!==null&&(re.return=g);re!==null;){var Fe=re.dependencies;if(Fe!==null){he=re.child;for(var Ge=Fe.firstContext;Ge!==null;){if(Ge.context===F){if(re.tag===1){Ge=$i(-1,S&-S),Ge.tag=2;var wt=re.updateQueue;if(wt!==null){wt=wt.shared;var nr=wt.pending;nr===null?Ge.next=Ge:(Ge.next=nr.next,nr.next=Ge),wt.pending=Ge}}re.lanes|=S,Ge=re.alternate,Ge!==null&&(Ge.lanes|=S),ro(re.return,S,g),Fe.lanes|=S;break}Ge=Ge.next}}else if(re.tag===10)he=re.type===g.type?null:re.child;else if(re.tag===18){if(he=re.return,he===null)throw Error(r(341));he.lanes|=S,Fe=he.alternate,Fe!==null&&(Fe.lanes|=S),ro(he,S,g),he=re.sibling}else he=re.child;if(he!==null)he.return=re;else for(he=re;he!==null;){if(he===g){he=null;break}if(re=he.sibling,re!==null){re.return=he.return,he=re;break}he=he.return}re=he}Ss(d,g,H.children,S),g=g.child}return g;case 9:return H=g.type,F=g.pendingProps.children,Xn(g,S),H=_a(H),F=F(H),g.flags|=1,Ss(d,g,F,S),g.child;case 14:return F=g.type,H=Cc(F,g.pendingProps),H=Cc(F.type,H),JP(d,g,F,H,S);case 15:return XP(d,g,g.type,g.pendingProps,S);case 17:return F=g.type,H=g.pendingProps,H=g.elementType===F?H:Cc(F,H),wv(d,g),g.tag=1,Vo(F)?(d=!0,hc(g)):d=!1,Xn(g,S),UP(g,F,H),n1(g,F,H,S),s1(null,g,F,!0,d,S);case 19:return oN(d,g,S);case 22:return ZP(d,g,S)}throw Error(r(156,g.tag))};function ON(d,g){return at(d,g)}function KF(d,g,S,F){this.tag=d,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=F,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wl(d,g,S,F){return new KF(d,g,S,F)}function k1(d){return d=d.prototype,!(!d||!d.isReactComponent)}function YF(d){if(typeof d=="function")return k1(d)?1:0;if(d!=null){if(d=d.$$typeof,d===_)return 11;if(d===V)return 14}return 2}function Ed(d,g){var S=d.alternate;return S===null?(S=Wl(d.tag,g,d.key,d.mode),S.elementType=d.elementType,S.type=d.type,S.stateNode=d.stateNode,S.alternate=d,d.alternate=S):(S.pendingProps=g,S.type=d.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=d.flags&14680064,S.childLanes=d.childLanes,S.lanes=d.lanes,S.child=d.child,S.memoizedProps=d.memoizedProps,S.memoizedState=d.memoizedState,S.updateQueue=d.updateQueue,g=d.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=d.sibling,S.index=d.index,S.ref=d.ref,S}function Tv(d,g,S,F,H,re){var he=2;if(F=d,typeof d=="function")k1(d)&&(he=1);else if(typeof d=="string")he=5;else e:switch(d){case R:return cf(S.children,H,re,g);case O:he=8,H|=8;break;case A:return d=Wl(12,S,g,H|2),d.elementType=A,d.lanes=re,d;case D:return d=Wl(13,S,g,H),d.elementType=D,d.lanes=re,d;case z:return d=Wl(19,S,g,H),d.elementType=z,d.lanes=re,d;case ie:return Rv(S,H,re,g);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case T:he=10;break e;case C:he=9;break e;case _:he=11;break e;case V:he=14;break e;case J:he=16,F=null;break e}throw Error(r(130,d==null?d:typeof d,""))}return g=Wl(he,S,g,H),g.elementType=d,g.type=F,g.lanes=re,g}function cf(d,g,S,F){return d=Wl(7,d,F,g),d.lanes=S,d}function Rv(d,g,S,F){return d=Wl(22,d,F,g),d.elementType=ie,d.lanes=S,d.stateNode={isHidden:!1},d}function A1(d,g,S){return d=Wl(6,d,null,g),d.lanes=S,d}function O1(d,g,S){return g=Wl(4,d.children!==null?d.children:[],d.key,g),g.lanes=S,g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},g}function JF(d,g,S,F,H){this.tag=g,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ra(0),this.expirationTimes=ra(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ra(0),this.identifierPrefix=F,this.onRecoverableError=H,this.mutableSourceEagerHydrationData=null}function I1(d,g,S,F,H,re,he,Fe,Ge){return d=new JF(d,g,S,Fe,Ge),g===1?(g=1,re===!0&&(g|=8)):g=0,re=Wl(3,null,null,g),d.current=re,re.stateNode=d,re.memoizedState={element:F,isDehydrated:S,cache:null,transitions:null,pendingSuspenseBoundaries:null},vc(re),d}function XF(d,g,S){var F=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:L,key:F==null?null:""+F,children:d,containerInfo:g,implementation:S}}function IN(d){if(!d)return pl;d=d._reactInternals;e:{if(At(d)!==d||d.tag!==1)throw Error(r(170));var g=d;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Vo(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(r(171))}if(d.tag===1){var S=d.type;if(Vo(S))return Vs(d,S,g)}return g}function _N(d,g,S,F,H,re,he,Fe,Ge){return d=I1(S,F,!0,d,H,re,he,Fe,Ge),d.context=IN(null),S=d.current,F=Cs(),H=bd(S),re=$i(F,H),re.callback=g??null,si(S,re,H),d.current.lanes=H,Tn(d,H,F),Ks(d,F),d}function Mv(d,g,S,F){var H=g.current,re=Cs(),he=bd(H);return S=IN(S),g.context===null?g.context=S:g.pendingContext=S,g=$i(re,he),g.payload={element:d},F=F===void 0?null:F,F!==null&&(g.callback=F),d=si(H,g,he),d!==null&&(kc(d,H,he,re),bc(d,H,he)),he}function Dv(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return d.child.stateNode;default:return d.child.stateNode}}function LN(d,g){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var S=d.retryLane;d.retryLane=S!==0&&S<g?S:g}}function _1(d,g){LN(d,g),(d=d.alternate)&&LN(d,g)}function ZF(){return null}var TN=typeof reportError=="function"?reportError:function(d){console.error(d)};function L1(d){this._internalRoot=d}jv.prototype.render=L1.prototype.render=function(d){var g=this._internalRoot;if(g===null)throw Error(r(409));Mv(d,g,null,null)},jv.prototype.unmount=L1.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var g=d.containerInfo;of(function(){Mv(null,d,null,null)}),g[qo]=null}};function jv(d){this._internalRoot=d}jv.prototype.unstable_scheduleHydration=function(d){if(d){var g=Dt();d={blockedOn:null,target:d,priority:g};for(var S=0;S<lt.length&&g!==0&&g<lt[S].priority;S++);lt.splice(S,0,d),S===0&&za(d)}};function T1(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function Fv(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11&&(d.nodeType!==8||d.nodeValue!==" react-mount-point-unstable "))}function RN(){}function QF(d,g,S,F,H){if(H){if(typeof F=="function"){var re=F;F=function(){var wt=Dv(he);re.call(wt)}}var he=_N(g,F,d,0,null,!1,!1,"",RN);return d._reactRootContainer=he,d[qo]=he.current,zl(d.nodeType===8?d.parentNode:d),of(),he}for(;H=d.lastChild;)d.removeChild(H);if(typeof F=="function"){var Fe=F;F=function(){var wt=Dv(Ge);Fe.call(wt)}}var Ge=I1(d,0,!1,null,null,!1,!1,"",RN);return d._reactRootContainer=Ge,d[qo]=Ge.current,zl(d.nodeType===8?d.parentNode:d),of(function(){Mv(g,Ge,S,F)}),Ge}function $v(d,g,S,F,H){var re=S._reactRootContainer;if(re){var he=re;if(typeof H=="function"){var Fe=H;H=function(){var Ge=Dv(he);Fe.call(Ge)}}Mv(g,he,d,H)}else he=QF(S,g,d,H,F);return Dv(he)}Co=function(d){switch(d.tag){case 3:var g=d.stateNode;if(g.current.memoizedState.isDehydrated){var S=kr(g.pendingLanes);S!==0&&(Sa(g,S|1),Ks(g,qt()),(ua&6)===0&&(xm=qt()+500,ne()))}break;case 13:of(function(){var F=On(d,1);if(F!==null){var H=Cs();kc(F,d,1,H)}}),_1(d,1)}},Xt=function(d){if(d.tag===13){var g=On(d,134217728);if(g!==null){var S=Cs();kc(g,d,134217728,S)}_1(d,134217728)}},Le=function(d){if(d.tag===13){var g=bd(d),S=On(d,g);if(S!==null){var F=Cs();kc(S,d,g,F)}_1(d,g)}},Dt=function(){return cn},yr=function(d,g){var S=cn;try{return cn=d,g()}finally{cn=S}},Ee=function(d,g,S){switch(g){case"input":if(gt(d,S),g=S.name,S.type==="radio"&&g!=null){for(S=d;S.parentNode;)S=S.parentNode;for(S=S.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]'),g=0;g<S.length;g++){var F=S[g];if(F!==d&&F.form===d.form){var H=tu(F);if(!H)throw Error(r(90));ce(F),gt(F,H)}}}break;case"textarea":ut(d,S);break;case"select":g=S.value,g!=null&&Xe(d,!!S.multiple,g,!1)}},gr=C1,lr=of;var e$={usingClientEntryPoint:!1,Events:[eu,pc,tu,St,Ot,C1]},ng={findFiberByHostInstance:Ul,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},t$={bundleType:ng.bundleType,version:ng.version,rendererPackageName:ng.rendererPackageName,rendererConfig:ng.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:I.ReactCurrentDispatcher,findHostInstanceByFiber:function(d){return d=ot(d),d===null?null:d.stateNode},findFiberByHostInstance:ng.findFiberByHostInstance||ZF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zv.isDisabled&&zv.supportsFiber)try{Ue=zv.inject(t$),tt=zv}catch{}}return Ys.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=e$,Ys.createPortal=function(d,g){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!T1(g))throw Error(r(200));return XF(d,g,null,S)},Ys.createRoot=function(d,g){if(!T1(d))throw Error(r(299));var S=!1,F="",H=TN;return g!=null&&(g.unstable_strictMode===!0&&(S=!0),g.identifierPrefix!==void 0&&(F=g.identifierPrefix),g.onRecoverableError!==void 0&&(H=g.onRecoverableError)),g=I1(d,1,!1,null,null,S,!1,F,H),d[qo]=g.current,zl(d.nodeType===8?d.parentNode:d),new L1(g)},Ys.findDOMNode=function(d){if(d==null)return null;if(d.nodeType===1)return d;var g=d._reactInternals;if(g===void 0)throw typeof d.render=="function"?Error(r(188)):(d=Object.keys(d).join(","),Error(r(268,d)));return d=ot(g),d=d===null?null:d.stateNode,d},Ys.flushSync=function(d){return of(d)},Ys.hydrate=function(d,g,S){if(!Fv(g))throw Error(r(200));return $v(null,d,g,!0,S)},Ys.hydrateRoot=function(d,g,S){if(!T1(d))throw Error(r(405));var F=S!=null&&S.hydratedSources||null,H=!1,re="",he=TN;if(S!=null&&(S.unstable_strictMode===!0&&(H=!0),S.identifierPrefix!==void 0&&(re=S.identifierPrefix),S.onRecoverableError!==void 0&&(he=S.onRecoverableError)),g=_N(g,null,d,1,S??null,H,!1,re,he),d[qo]=g.current,zl(d),F)for(d=0;d<F.length;d++)S=F[d],H=S._getVersion,H=H(S._source),g.mutableSourceEagerHydrationData==null?g.mutableSourceEagerHydrationData=[S,H]:g.mutableSourceEagerHydrationData.push(S,H);return new jv(g)},Ys.render=function(d,g,S){if(!Fv(g))throw Error(r(200));return $v(null,d,g,!1,S)},Ys.unmountComponentAtNode=function(d){if(!Fv(d))throw Error(r(40));return d._reactRootContainer?(of(function(){$v(null,null,d,!1,function(){d._reactRootContainer=null,d[qo]=null})}),!0):!1},Ys.unstable_batchedUpdates=C1,Ys.unstable_renderSubtreeIntoContainer=function(d,g,S,F){if(!Fv(S))throw Error(r(200));if(d==null||d._reactInternals===void 0)throw Error(r(38));return $v(d,g,S,!1,F)},Ys.version="18.3.1-next-f1338f8080-20240426",Ys}var zN;function b7(){if(zN)return M1.exports;zN=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),M1.exports=l$(),M1.exports}var BN;function c$(){if(BN)return Uv;BN=1;var t=b7();return Uv.createRoot=t.createRoot,Uv.hydrateRoot=t.hydrateRoot,Uv}var u$=c$();const d$=wa(u$);var Zf=b7();const zm=wa(Zf);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function th(){return th=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},th.apply(this,arguments)}var Td;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Td||(Td={}));const UN="popstate";function f$(t){t===void 0&&(t={});function e(n,a){let{pathname:i,search:s,hash:l}=n.location;return N5("",{pathname:i,search:s,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Db(a)}return p$(e,r,null,t)}function Yo(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function y7(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function m$(){return Math.random().toString(36).substr(2,8)}function qN(t,e){return{usr:t.state,key:t.key,idx:e}}function N5(t,e,r,n){return r===void 0&&(r=null),th({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Rp(e):e,{state:r,key:e&&e.key||n||m$()})}function Db(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Rp(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function p$(t,e,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:i=!1}=n,s=a.history,l=Td.Pop,c=null,u=f();u==null&&(u=0,s.replaceState(th({},s.state,{idx:u}),""));function f(){return(s.state||{idx:null}).idx}function m(){l=Td.Pop;let b=f(),x=b==null?null:b-u;u=b,c&&c({action:l,location:y.location,delta:x})}function v(b,x){l=Td.Push;let w=N5(y.location,b,x);u=f()+1;let N=qN(w,u),I=y.createHref(w);try{s.pushState(N,"",I)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;a.location.assign(I)}i&&c&&c({action:l,location:y.location,delta:1})}function h(b,x){l=Td.Replace;let w=N5(y.location,b,x);u=f();let N=qN(w,u),I=y.createHref(w);s.replaceState(N,"",I),i&&c&&c({action:l,location:y.location,delta:0})}function E(b){let x=a.location.origin!=="null"?a.location.origin:a.location.href,w=typeof b=="string"?b:Db(b);return w=w.replace(/ $/,"%20"),Yo(x,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,x)}let y={get action(){return l},get location(){return t(a,s)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(UN,m),c=b,()=>{a.removeEventListener(UN,m),c=null}},createHref(b){return e(a,b)},createURL:E,encodeLocation(b){let x=E(b);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:v,replace:h,go(b){return s.go(b)}};return y}var VN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(VN||(VN={}));function g$(t,e,r){return r===void 0&&(r="/"),h$(t,e,r)}function h$(t,e,r,n){let a=typeof e=="string"?Rp(e):e,i=a3(a.pathname||"/",r);if(i==null)return null;let s=E7(t);v$(s);let l=null;for(let c=0;l==null&&c<s.length;++c){let u=O$(i);l=N$(s[c],u)}return l}function E7(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(i,s,l)=>{let c={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(Yo(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let u=jd([n,c.relativePath]),f=r.concat(c);i.children&&i.children.length>0&&(Yo(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),E7(i.children,e,f,u)),!(i.path==null&&!i.index)&&e.push({path:u,score:C$(u,i.index),routesMeta:f})};return t.forEach((i,s)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))a(i,s);else for(let c of x7(i.path))a(i,s,c)}),e}function x7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let s=x7(n.join("/")),l=[];return l.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&l.push(...s),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function v$(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:P$(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const b$=/^:[\w-]+$/,y$=3,E$=2,x$=1,w$=10,S$=-2,HN=t=>t==="*";function C$(t,e){let r=t.split("/"),n=r.length;return r.some(HN)&&(n+=S$),e&&(n+=E$),r.filter(a=>!HN(a)).reduce((a,i)=>a+(b$.test(i)?y$:i===""?x$:w$),n)}function P$(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function N$(t,e,r){let{routesMeta:n}=t,a={},i="/",s=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=k$({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),v=c.route;if(!m)return null;Object.assign(a,m.params),s.push({params:a,pathname:jd([i,m.pathname]),pathnameBase:T$(jd([i,m.pathnameBase])),route:v}),m.pathnameBase!=="/"&&(i=jd([i,m.pathnameBase]))}return s}function k$(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=A$(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,f,m)=>{let{paramName:v,isOptional:h}=f;if(v==="*"){let y=l[m]||"";s=i.slice(0,i.length-y.length).replace(/(.)\/+$/,"$1")}const E=l[m];return h&&!E?u[v]=void 0:u[v]=(E||"").replace(/%2F/g,"/"),u},{}),pathname:i,pathnameBase:s,pattern:t}}function A$(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),y7(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function O$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return y7(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function a3(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function I$(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?Rp(t):t;return{pathname:r?r.startsWith("/")?r:_$(r,e):e,search:R$(n),hash:M$(a)}}function _$(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function F1(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function L$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function w7(t,e){let r=L$(t);return e?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function S7(t,e,r,n){n===void 0&&(n=!1);let a;typeof t=="string"?a=Rp(t):(a=th({},t),Yo(!a.pathname||!a.pathname.includes("?"),F1("?","pathname","search",a)),Yo(!a.pathname||!a.pathname.includes("#"),F1("#","pathname","hash",a)),Yo(!a.search||!a.search.includes("#"),F1("#","search","hash",a)));let i=t===""||a.pathname==="",s=i?"/":a.pathname,l;if(s==null)l=r;else{let m=e.length-1;if(!n&&s.startsWith("..")){let v=s.split("/");for(;v[0]==="..";)v.shift(),m-=1;a.pathname=v.join("/")}l=m>=0?e[m]:"/"}let c=I$(a,l),u=s&&s!=="/"&&s.endsWith("/"),f=(i||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}const jd=t=>t.join("/").replace(/\/\/+/g,"/"),T$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),R$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,M$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function D$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const C7=["post","put","patch","delete"];new Set(C7);const j$=["get",...C7];new Set(j$);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rh(){return rh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rh.apply(this,arguments)}const o3=p.createContext(null),F$=p.createContext(null),Qf=p.createContext(null),Z0=p.createContext(null),Hd=p.createContext({outlet:null,matches:[],isDataRoute:!1}),P7=p.createContext(null);function $$(t,e){let{relative:r}=e===void 0?{}:e;nv()||Yo(!1);let{basename:n,navigator:a}=p.useContext(Qf),{hash:i,pathname:s,search:l}=O7(t,{relative:r}),c=s;return n!=="/"&&(c=s==="/"?n:jd([n,s])),a.createHref({pathname:c,search:l,hash:i})}function nv(){return p.useContext(Z0)!=null}function Wd(){return nv()||Yo(!1),p.useContext(Z0).location}function N7(t){p.useContext(Qf).static||p.useLayoutEffect(t)}function po(){let{isDataRoute:t}=p.useContext(Hd);return t?Q$():z$()}function z$(){nv()||Yo(!1);let t=p.useContext(o3),{basename:e,future:r,navigator:n}=p.useContext(Qf),{matches:a}=p.useContext(Hd),{pathname:i}=Wd(),s=JSON.stringify(w7(a,r.v7_relativeSplatPath)),l=p.useRef(!1);return N7(()=>{l.current=!0}),p.useCallback(function(u,f){if(f===void 0&&(f={}),!l.current)return;if(typeof u=="number"){n.go(u);return}let m=S7(u,JSON.parse(s),i,f.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:jd([e,m.pathname])),(f.replace?n.replace:n.push)(m,f.state,f)},[e,n,s,i,t])}const k7=p.createContext(null);function A7(){return p.useContext(k7)}function B$(t){let e=p.useContext(Hd).outlet;return e&&p.createElement(k7.Provider,{value:t},e)}function O7(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=p.useContext(Qf),{matches:a}=p.useContext(Hd),{pathname:i}=Wd(),s=JSON.stringify(w7(a,n.v7_relativeSplatPath));return p.useMemo(()=>S7(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function U$(t,e){return q$(t,e)}function q$(t,e,r,n){nv()||Yo(!1);let{navigator:a}=p.useContext(Qf),{matches:i}=p.useContext(Hd),s=i[i.length-1],l=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let u=Wd(),f;if(e){var m;let b=typeof e=="string"?Rp(e):e;c==="/"||(m=b.pathname)!=null&&m.startsWith(c)||Yo(!1),f=b}else f=u;let v=f.pathname||"/",h=v;if(c!=="/"){let b=c.replace(/^\//,"").split("/");h="/"+v.replace(/^\//,"").split("/").slice(b.length).join("/")}let E=g$(t,{pathname:h}),y=K$(E&&E.map(b=>Object.assign({},b,{params:Object.assign({},l,b.params),pathname:jd([c,a.encodeLocation?a.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?c:jd([c,a.encodeLocation?a.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,r,n);return e&&y?p.createElement(Z0.Provider,{value:{location:rh({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Td.Pop}},y):y}function V$(){let t=Z$(),e=D$(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),r?p.createElement("pre",{style:a},r):null,null)}const H$=p.createElement(V$,null);class W$ extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?p.createElement(Hd.Provider,{value:this.props.routeContext},p.createElement(P7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function G$(t){let{routeContext:e,match:r,children:n}=t,a=p.useContext(o3);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),p.createElement(Hd.Provider,{value:e},n)}function K$(t,e,r,n){var a;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var i;if(!r)return null;if(r.errors)t=r.matches;else if((i=n)!=null&&i.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,l=(a=r)==null?void 0:a.errors;if(l!=null){let f=s.findIndex(m=>m.route.id&&(l==null?void 0:l[m.route.id])!==void 0);f>=0||Yo(!1),s=s.slice(0,Math.min(s.length,f+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let f=0;f<s.length;f++){let m=s[f];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=f),m.route.id){let{loaderData:v,errors:h}=r,E=m.route.loader&&v[m.route.id]===void 0&&(!h||h[m.route.id]===void 0);if(m.route.lazy||E){c=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((f,m,v)=>{let h,E=!1,y=null,b=null;r&&(h=l&&m.route.id?l[m.route.id]:void 0,y=m.route.errorElement||H$,c&&(u<0&&v===0?(ez("route-fallback"),E=!0,b=null):u===v&&(E=!0,b=m.route.hydrateFallbackElement||null)));let x=e.concat(s.slice(0,v+1)),w=()=>{let N;return h?N=y:E?N=b:m.route.Component?N=p.createElement(m.route.Component,null):m.route.element?N=m.route.element:N=f,p.createElement(G$,{match:m,routeContext:{outlet:f,matches:x,isDataRoute:r!=null},children:N})};return r&&(m.route.ErrorBoundary||m.route.errorElement||v===0)?p.createElement(W$,{location:r.location,revalidation:r.revalidation,component:y,error:h,children:w(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):w()},null)}var I7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(I7||{}),_7=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(_7||{});function Y$(t){let e=p.useContext(o3);return e||Yo(!1),e}function J$(t){let e=p.useContext(F$);return e||Yo(!1),e}function X$(t){let e=p.useContext(Hd);return e||Yo(!1),e}function L7(t){let e=X$(),r=e.matches[e.matches.length-1];return r.route.id||Yo(!1),r.route.id}function Z$(){var t;let e=p.useContext(P7),r=J$(),n=L7();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Q$(){let{router:t}=Y$(I7.UseNavigateStable),e=L7(_7.UseNavigateStable),r=p.useRef(!1);return N7(()=>{r.current=!0}),p.useCallback(function(a,i){i===void 0&&(i={}),r.current&&(typeof a=="number"?t.navigate(a):t.navigate(a,rh({fromRouteId:e},i)))},[t,e])}const WN={};function ez(t,e,r){WN[t]||(WN[t]=!0)}function tz(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function rz(t){return B$(t.context)}function ha(t){Yo(!1)}function nz(t){let{basename:e="/",children:r=null,location:n,navigationType:a=Td.Pop,navigator:i,static:s=!1,future:l}=t;nv()&&Yo(!1);let c=e.replace(/^\/*/,"/"),u=p.useMemo(()=>({basename:c,navigator:i,static:s,future:rh({v7_relativeSplatPath:!1},l)}),[c,l,i,s]);typeof n=="string"&&(n=Rp(n));let{pathname:f="/",search:m="",hash:v="",state:h=null,key:E="default"}=n,y=p.useMemo(()=>{let b=a3(f,c);return b==null?null:{location:{pathname:b,search:m,hash:v,state:h,key:E},navigationType:a}},[c,f,m,v,h,E,a]);return y==null?null:p.createElement(Qf.Provider,{value:u},p.createElement(Z0.Provider,{children:r,value:y}))}function GN(t){let{children:e,location:r}=t;return U$(k5(e),r)}new Promise(()=>{});function k5(t,e){e===void 0&&(e=[]);let r=[];return p.Children.forEach(t,(n,a)=>{if(!p.isValidElement(n))return;let i=[...e,a];if(n.type===p.Fragment){r.push.apply(r,k5(n.props.children,i));return}n.type!==ha&&Yo(!1),!n.props.index||!n.props.children||Yo(!1);let s={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=k5(n.props.children,i)),r.push(s)}),r}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function A5(){return A5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},A5.apply(this,arguments)}function az(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function oz(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iz(t,e){return t.button===0&&(!e||e==="_self")&&!oz(t)}const sz=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],lz="6";try{window.__reactRouterVersion=lz}catch{}const cz="startTransition",KN=o$[cz];function uz(t){let{basename:e,children:r,future:n,window:a}=t,i=p.useRef();i.current==null&&(i.current=f$({window:a,v5Compat:!0}));let s=i.current,[l,c]=p.useState({action:s.action,location:s.location}),{v7_startTransition:u}=n||{},f=p.useCallback(m=>{u&&KN?KN(()=>c(m)):c(m)},[c,u]);return p.useLayoutEffect(()=>s.listen(f),[s,f]),p.useEffect(()=>tz(n),[n]),p.createElement(nz,{basename:e,children:r,location:l.location,navigationType:l.action,navigator:s,future:n})}const dz=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fz=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,cs=p.forwardRef(function(e,r){let{onClick:n,relative:a,reloadDocument:i,replace:s,state:l,target:c,to:u,preventScrollReset:f,viewTransition:m}=e,v=az(e,sz),{basename:h}=p.useContext(Qf),E,y=!1;if(typeof u=="string"&&fz.test(u)&&(E=u,dz))try{let N=new URL(window.location.href),I=u.startsWith("//")?new URL(N.protocol+u):new URL(u),P=a3(I.pathname,h);I.origin===N.origin&&P!=null?u=P+I.search+I.hash:y=!0}catch{}let b=$$(u,{relative:a}),x=mz(u,{replace:s,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:m});function w(N){n&&n(N),N.defaultPrevented||x(N)}return p.createElement("a",A5({},v,{href:E||b,onClick:y||i?n:w,ref:r,target:c}))});var YN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(YN||(YN={}));var JN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(JN||(JN={}));function mz(t,e){let{target:r,replace:n,state:a,preventScrollReset:i,relative:s,viewTransition:l}=e===void 0?{}:e,c=po(),u=Wd(),f=O7(t,{relative:s});return p.useCallback(m=>{if(iz(m,r)){m.preventDefault();let v=n!==void 0?n:Db(u)===Db(f);c(t,{replace:v,state:a,preventScrollReset:i,relative:s,viewTransition:l})}},[u,c,f,n,a,r,t,i,s,l])}const pz=()=>{const t=po(),e=()=>{t("/conocenos"),window.scrollTo({top:0,behavior:"smooth"})},r=()=>{t("/pedidos"),window.scrollTo({top:0,behavior:"smooth"})};return o.createElement("section",{className:"hero-section"},o.createElement("div",{className:"hero-content"},o.createElement("div",{className:"hero-text"},o.createElement("h1",{className:"hero-brand"},"Delicias Darsy"),o.createElement("h2",{className:"heros-title"},"Endulza tus",o.createElement("br",null),"momentos",o.createElement("br",null),o.createElement("span",{className:"hero-highlight"},"especiales")),o.createElement("p",{className:"hero-description"},"Creamos postres nicos y deliciosos para hacer de cada",o.createElement("br",null),"celebracin un momento inolvidable. Desde pasteles",o.createElement("br",null),"personalizados hasta dulces artesanales."),o.createElement("div",{className:"hero-buttons"},o.createElement("button",{onClick:e,className:"btn btn-primary"},"Concenos Ms"),o.createElement("button",{onClick:r,className:"btn btn-secondary"},"Hacer Pedido")))),o.createElement("div",{className:"hero-image"}))},ps=p.createContext(),T7=({children:t})=>{const[e,r]=p.useState(()=>{try{const v=localStorage.getItem("deliciasoft_cart_v1");if(v){const h=JSON.parse(v);return console.log(" Carrito cargado desde localStorage:",h),Array.isArray(h)?h:[]}}catch(v){console.error(" Error al cargar carrito:",v)}return[]}),[n,a]=p.useState([]);p.useEffect(()=>{localStorage.setItem("deliciasoft_cart_v1",JSON.stringify(e)),console.log(" Carrito guardado automticamente:",e)},[e]);const i=v=>{r(h=>h.find(y=>y.id===v.id)?h.map(y=>y.id===v.id?{...y,cantidad:y.cantidad+1}:y):[...h,v])},s=(v,h)=>{r(E=>E.map(y=>y.id===v?{...y,cantidad:h}:y))},l=v=>{r(h=>h.filter(E=>E.id!==v))},c=()=>{r([])},u=v=>{a(h=>h.find(y=>y.id===v.id)?h.map(y=>y.id===v.id?{...y,cantidad:y.cantidad+1}:y):[...h,v])},f=(v,h)=>{a(E=>E.map(y=>y.id===v?{...y,cantidad:h}:y))},m=v=>{a(h=>h.filter(E=>E.id!==v))};return o.createElement(ps.Provider,{value:{carrito:e,setCarrito:r,agregarProducto:i,actualizarCantidadCarrito:s,eliminarDelCarrito:l,vaciarCarrito:c,productosSeleccionados:n,agregarProductoSeleccionado:u,actualizarCantidadSeleccionado:f,eliminarProductoSeleccionado:m}},t)},Ps="https://deliciasoft-backend-i6g9.onrender.com/api/productogeneral",$1="https://deliciasoft-backend-i6g9.onrender.com/api/imagenes";class gz{constructor(){this.baseHeaders={"Content-Type":"application/json",Accept:"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`,n={};try{const i=await e.json();console.error("Error details from backend:",i),r=i.message||i.error||r,n=i}catch{try{const s=await e.text();console.error("Error text from backend:",s),r=s||r,n.rawError=s}catch{console.error("Could not parse error response")}}n.statusCode=e.status,n.statusText=e.statusText;const a=new Error(r);throw a.details=n,a}return e.json()}async obtenerProductosMasVendidos(e=6){try{console.log(`Obteniendo los ${e} productos ms vendidos...`);const r=await fetch(`${Ps}/mas-vendidos?limit=${e}`,{method:"GET",headers:this.baseHeaders});console.log("Response status:",r.status);const n=await this.handleResponse(r);console.log("Productos ms vendidos recibidos:",n);const a=n.productos.map(i=>this.transformarProductoDestacadoDesdeAPI(i));return console.log("Productos destacados transformados:",a),a}catch(r){console.error("Error al obtener productos ms vendidos:",r),console.log("Fallback: obteniendo productos normales...");try{return(await this.obtenerProductos()).slice(0,e).map(a=>({...a,totalVendido:0,vecesVendido:0,esDestacado:!0}))}catch(n){throw console.error("Error en fallback:",n),new Error(`No se pudieron obtener productos destacados: ${r.message}`)}}}async obtenerEstadisticasVentas(e=null,r=null){try{console.log("Obteniendo estadsticas de ventas...");let n=`${Ps}/estadisticas-ventas`;const a=new URLSearchParams;e&&a.append("fechaInicio",e),r&&a.append("fechaFin",r),a.toString()&&(n+=`?${a.toString()}`);const i=await fetch(n,{method:"GET",headers:this.baseHeaders}),s=await this.handleResponse(i);return console.log("Estadsticas obtenidas:",s),s}catch(n){return console.error("Error al obtener estadsticas:",n),{resumen:{totalProductosVendidos:0,totalTransacciones:0,fechaConsulta:"Sin datos"},topVentasCantidad:[],topVentasIngresos:[]}}}transformarProductoDestacadoDesdeAPI(e){var a,i,s,l,c;if(!e)return null;console.log("Transformando producto destacado desde API:",e);let r=null;(a=e.imagenes)!=null&&a.urlimg?r=e.imagenes.urlimg:(i=e.imagen)!=null&&i.urlimg?r=e.imagen.urlimg:e.urlimagen&&(r=e.urlimagen);const n={id:e.idproductogeneral||e.id,idproductogeneral:e.idproductogeneral,nombre:e.nombreproducto||e.nombre,nombreproducto:e.nombreproducto,precio:parseFloat(e.precioproducto||e.precio||0),precioproducto:e.precioproducto,cantidad:parseFloat(e.cantidadproducto||e.cantidad||0),cantidadproducto:e.cantidadproducto,categoria:e.categoria||((s=e.categoriaproducto)==null?void 0:s.nombrecategoria)||"Sin categora",idcategoria:e.idcategoriaproducto||e.idcategoria,idcategoriaproducto:e.idcategoriaproducto,estado:!!e.estado,descripcion:e.especificaciones||e.descripcion||e.especificacionesreceta||"",urlimagen:r,totalVendido:e.totalVendido||0,vecesVendido:e.vecesVendido||0,esDestacado:e.esDestacado||!0,idimagen:e.idimagen,idreceta:e.idreceta,nombrereceta:e.nombrereceta||((l=e.receta)==null?void 0:l.nombrereceta)||null,especificacionesreceta:e.especificacionesreceta||((c=e.receta)==null?void 0:c.especificaciones)||null};return console.log("Producto destacado transformado:",n),n}async obtenerProductos(){try{console.log("Conectando con:",Ps);const e=await fetch(`${Ps}`,{method:"GET",headers:this.baseHeaders});console.log("Response status:",e.status),console.log("Response ok:",e.ok);const r=await this.handleResponse(e);console.log("Raw data from API:",r);const n=this.transformarProductosDesdeAPI(r);return console.log("Productos transformados:",n),n}catch(e){throw console.error("Error en obtenerProductos:",e),new Error(`No se pudieron obtener los productos: ${e.message}`)}}async obtenerProductoPorId(e){try{const r=await fetch(`${Ps}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Producto no encontrado");const n=await this.handleResponse(r);return this.transformarProductoDesdeAPI(n)}catch(r){throw console.error("Error al obtener producto por ID:",r),r}}async subirImagen(e){try{if(console.log("=== INICIO SUBIDA DE IMAGEN ==="),console.log("Archivo a subir:",{name:e.name,size:`${(e.size/1024).toFixed(2)} KB`,type:e.type,lastModified:new Date(e.lastModified).toISOString()}),!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type))throw new Error(`Tipo de archivo no permitido: ${e.type}. Solo se aceptan: JPG, JPEG, PNG, GIF, WebP`);const n=10*1024*1024;if(e.size>n)throw new Error(`Archivo demasiado grande: ${(e.size/1024/1024).toFixed(2)}MB. Mximo: 10MB`);if(e.size===0)throw new Error("El archivo est vaco");const a=new FormData;a.append("imagen",e),console.log('FormData preparado con campo "imagen"');const i=`${$1}/upload`;console.log("URL de subida:",i);const s=new AbortController,l=setTimeout(()=>s.abort(),6e4),c=await fetch(i,{method:"POST",body:a,signal:s.signal});if(clearTimeout(l),console.log("Response recibida:",{status:c.status,statusText:c.statusText,ok:c.ok}),!c.ok){let f=`Error HTTP ${c.status}: ${c.statusText}`,m={};try{const h=await c.json();console.error("Error JSON del servidor:",h),f=h.message||h.error||f,m=h}catch{console.error("No se pudo parsear el error como JSON");try{const E=await c.text();console.error("Error como texto:",E),f=E||f,m.rawError=E}catch{console.error("No se pudo obtener el texto del error")}}const v=new Error(f);throw v.status=c.status,v.details=m,v}const u=await c.json();if(console.log("Imagen subida exitosamente:",u),!u.imagen||!u.imagen.urlimg)throw new Error("Respuesta del servidor no contiene la informacin de la imagen");return console.log("=== FIN SUBIDA DE IMAGEN EXITOSA ==="),{idimagen:u.imagen.idimagen,urlimg:u.imagen.urlimg}}catch(r){throw console.error("=== ERROR EN SUBIDA DE IMAGEN ==="),console.error("Error completo:",r),r.name==="AbortError"?new Error("La subida de la imagen tard demasiado tiempo (timeout 60s)"):r.message.includes("Failed to fetch")?new Error("No se pudo conectar con el servidor. Verifica tu conexin a internet."):r}}async crearProducto(e){try{console.log("Datos recibidos en crearProducto:",JSON.stringify(e,null,2));const r=this.transformarProductoParaAPI(e);console.log("Datos transformados para API:",JSON.stringify(r,null,2)),this.validarDatosProducto(r),console.log("Validacin pasada correctamente"),console.log("Enviando request a:",Ps);const n=await fetch(Ps,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(r)});console.log("Response status:",n.status);const a=await this.handleResponse(n);return console.log("Response data:",JSON.stringify(a,null,2)),this.transformarProductoDesdeAPI(a.producto||a)}catch(r){throw console.error("Error completo en crearProducto:",r),r}}async actualizarProducto(e,r){try{console.log("Actualizando producto ID:",e,"con datos:",r);const n=this.transformarProductoParaAPI(r);console.log("Datos transformados para actualizacin:",JSON.stringify(n,null,2)),this.validarDatosProducto(n);const a=await fetch(`${Ps}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(n)}),i=await this.handleResponse(a);return this.transformarProductoDesdeAPI(i.producto||i)}catch(n){throw console.error("Error al actualizar producto:",n),n}}async eliminarProducto(e){try{const r=await fetch(`${Ps}/${e}`,{method:"DELETE",headers:this.baseHeaders});return{success:!0,message:(await this.handleResponse(r)).message||"Producto eliminado exitosamente"}}catch(r){throw console.error("Error al eliminar producto:",r),r}}async cambiarEstadoProducto(e,r){try{const n=await fetch(`${Ps}/${e}/toggle-estado`,{method:"PATCH",headers:this.baseHeaders});if(n.ok){const a=await this.handleResponse(n);return this.transformarProductoDesdeAPI(a.producto||a)}else{const a=await this.obtenerProductoPorId(e),i={...this.transformarProductoParaAPI(a),estado:r},s=await fetch(`${Ps}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(i)}),l=await this.handleResponse(s);return this.transformarProductoDesdeAPI(l.producto||l)}}catch(n){throw console.error("Error al cambiar estado:",n),n}}async obtenerImagenes(){try{const e=await fetch(`${$1}`,{method:"GET",headers:this.baseHeaders});return await this.handleResponse(e)}catch(e){throw console.error("Error al obtener imgenes:",e),e}}async eliminarImagen(e){try{const r=await fetch(`${$1}/${e}`,{method:"DELETE",headers:this.baseHeaders});return{success:!0,message:(await this.handleResponse(r)).message||"Imagen eliminada exitosamente"}}catch(r){throw console.error("Error al eliminar imagen:",r),r}}validarDatosProducto(e){const r=[];console.log("Validando producto:",e),(!e.nombreproducto||!e.nombreproducto.trim())&&r.push("El nombre del producto es requerido y no puede estar vaco");const n=parseFloat(e.precioproducto);(isNaN(n)||n<0)&&r.push("El precio debe ser un nmero vlido mayor o igual a 0");const a=parseFloat(e.cantidadproducto);if((isNaN(a)||a<0)&&r.push("La cantidad debe ser un nmero vlido mayor o igual a 0"),e.idcategoriaproducto!==null&&e.idcategoriaproducto!==void 0){const i=parseInt(e.idcategoriaproducto);(isNaN(i)||i<=0)&&r.push("El ID de categora debe ser un nmero vlido mayor a 0")}if(e.idimagen!==null&&e.idimagen!==void 0&&e.idimagen!==""){const i=parseInt(e.idimagen);(isNaN(i)||i<=0)&&r.push("El ID de imagen debe ser un nmero vlido mayor a 0")}if(e.idreceta!==null&&e.idreceta!==void 0&&e.idreceta!==""){const i=parseInt(e.idreceta);(isNaN(i)||i<=0)&&r.push("El ID de receta debe ser un nmero vlido mayor a 0")}if(r.length>0)throw console.error("Errores de validacin:",r),new Error("Datos invlidos: "+r.join(", "));console.log("Validacin exitosa")}transformarProductoParaAPI(e){var n,a,i,s,l;console.log("Transformando producto:",e);const r={nombreproducto:((n=e.nombreproducto)==null?void 0:n.trim())||((a=e.nombre)==null?void 0:a.trim())||((i=e.NombreReceta)==null?void 0:i.trim())||((s=e.NombreProducto)==null?void 0:s.trim()),precioproducto:String(e.precioproducto||e.precio||e.Costo||0),cantidadproducto:String(e.cantidadproducto||e.cantidad||0),estado:e.estado!==void 0?!!e.estado:!0,idcategoriaproducto:e.idcategoriaproducto||e.IdCategoria||null};return(l=e.especificaciones)!=null&&l.trim()&&(r.especificaciones=e.especificaciones.trim()),e.idimagen&&e.idimagen>0?r.idimagen=parseInt(e.idimagen):e.idimagen===null&&(r.idimagen=null),e.idreceta&&e.idreceta>0?r.idreceta=parseInt(e.idreceta):e.idreceta===null&&(r.idreceta=null),console.log("Producto transformado:",r),r}transformarProductoDesdeAPI(e){var a,i,s,l,c;if(!e)return null;console.log("Transformando producto desde API:",e);let r=null;(a=e.imagenes)!=null&&a.urlimg?r=e.imagenes.urlimg:(i=e.imagen)!=null&&i.urlimg?r=e.imagen.urlimg:e.urlimagen&&(r=e.urlimagen),console.log("URL de imagen detectada:",r);const n={id:e.idproductogeneral||e.id,idproductogeneral:e.idproductogeneral,nombre:e.nombreproducto||e.nombre,nombreproducto:e.nombreproducto,precio:parseFloat(e.precioproducto||e.precio||0),precioproducto:e.precioproducto,cantidad:parseFloat(e.cantidadproducto||e.cantidad||0),cantidadproducto:e.cantidadproducto,categoria:e.categoria||((s=e.categoriaproducto)==null?void 0:s.nombrecategoria)||"Sin categora",idcategoria:e.idcategoriaproducto||e.idcategoria,idcategoriaproducto:e.idcategoriaproducto,estado:!!e.estado,descripcion:e.especificaciones||e.descripcion||"",idimagen:e.idimagen,urlimagen:r,idreceta:e.idreceta,nombrereceta:e.nombrereceta||((l=e.receta)==null?void 0:l.nombrereceta)||null,especificacionesreceta:e.especificacionesreceta||((c=e.receta)==null?void 0:c.especificaciones)||null,cantidadSanPablo:Math.floor(parseFloat(e.cantidadproducto||e.cantidad||0)/2),cantidadSanBenito:Math.ceil(parseFloat(e.cantidadproducto||e.cantidad||0)/2),fechaCreacion:e.fechacreacion||e.fecha_creacion,fechaActualizacion:e.fechaactualizacion||e.fecha_actualizacion};return console.log("Producto transformado final:",n),n}transformarProductosDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarProductoDesdeAPI(r)):(console.warn("transformarProductosDesdeAPI recibi:",typeof e,e),[])}async crearProductoMinimo(e,r,n,a=0,i=null,s=null){const l={nombreproducto:e.trim(),precioproducto:r,cantidadproducto:a,idcategoriaproducto:parseInt(n),estado:!0,idimagen:i?parseInt(i):null,idreceta:s?parseInt(s):null};return console.log("Creando producto con datos mnimos:",l),await this.crearProducto(l)}calcularInventarioTotal(e){const r=e.cantidad||e.cantidadproducto||0;return parseFloat(r)}formatearPrecio(e){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(e||0)}async testConnection(){try{console.log("Testando conexin a:",Ps);const e=await fetch(`${Ps}`,{method:"GET",headers:this.baseHeaders});if(console.log("Test response status:",e.status),console.log("Test response ok:",e.ok),e.ok)try{const r=await e.json();console.log("Test data sample:",Array.isArray(r)?`Array con ${r.length} elementos`:typeof r)}catch{console.log("Response no es JSON vlido")}return{success:e.ok,status:e.status,message:e.ok?"Conexin exitosa":`Error HTTP ${e.status}`}}catch(e){return console.error("Error en test de conexin:",e),{success:!1,error:e.message,message:"No se pudo conectar con el servidor"}}}async testSubirImagen(e){try{console.log("Iniciando test de subida de imagen...");const r=await this.subirImagen(e);return console.log("Test de imagen exitoso:",r),r}catch(r){throw console.error("Test de imagen fall:",r),r}}async obtenerProductosConRecetas(){try{console.log("Obteniendo productos con recetas desde la API...");const e=await fetch(`${Ps}`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);console.log("Productos con recetas recibidos:",r);const n=r.map(a=>({...this.transformarProductoDesdeAPI(a),receta:a.receta?{id:a.receta.idreceta||a.idreceta,nombre:a.receta.nombrereceta||a.nombrereceta,especificaciones:a.receta.especificaciones||a.especificacionesreceta,insumos:[]}:null}));return console.log("Productos transformados con recetas:",n),n}catch(e){throw console.error("Error al obtener productos con recetas:",e),new Error(`No se pudieron obtener los productos con recetas: ${e.message}`)}}async obtenerDetalleReceta(e){var r;try{console.log(`Obteniendo detalle de receta ${e}...`);const a=await fetch(`https://deliciasoft-backend.onrender.com/api/receta/${e}`,{method:"GET",headers:this.baseHeaders}),i=await this.handleResponse(a);return console.log("Detalle de receta obtenido:",i),{id:i.idreceta,nombre:i.nombrereceta,especificaciones:i.especificaciones,insumos:((r=i.detallereceta)==null?void 0:r.map(s=>{var l,c;return{id:s.idinsumo,nombre:((l=s.insumos)==null?void 0:l.nombreinsumo)||"Sin nombre",cantidad:parseFloat(s.cantidad||0),unidad:((c=s.unidadmedida)==null?void 0:c.unidadmedida)||"unidad"}}))||[]}}catch(n){return console.error(`Error al obtener detalle de receta ${e}:`,n),null}}async obtenerEstadisticas(){try{const e=await fetch(`${Ps}/estadisticas`,{method:"GET",headers:this.baseHeaders});if(e.ok)return await this.handleResponse(e);{const r=await this.obtenerProductos(),n=r.length,a=r.filter(s=>s.estado===!0).length,i=n-a;return{totalProductos:n,productosActivos:a,productosInactivos:i,porcentajeActivos:n>0?(a/n*100).toFixed(2):0}}}catch(e){throw console.error("Error al obtener estadsticas:",e),e}}}const Qs=new gz;var R7={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},XN=o.createContext&&o.createContext(R7),hz=["attr","size","title"];function vz(t,e){if(t==null)return{};var r=bz(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bz(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jb(){return jb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jb.apply(this,arguments)}function ZN(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZN(Object(r),!0).forEach(function(n){yz(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZN(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yz(t,e,r){return e=Ez(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ez(t){var e=xz(t,"string");return typeof e=="symbol"?e:e+""}function xz(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function M7(t){return t&&t.map((e,r)=>o.createElement(e.tag,Fb({key:r},e.attr),M7(e.child)))}function Q0(t){return e=>o.createElement(wz,jb({attr:Fb({},t.attr)},e),M7(t.child))}function wz(t){var e=r=>{var{attr:n,size:a,title:i}=t,s=vz(t,hz),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),o.createElement("svg",jb({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,s,{className:c,style:Fb(Fb({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&o.createElement("title",null,i),t.children)};return XN!==void 0?o.createElement(XN.Consumer,null,r=>e(r)):e(R7)}function D7(t){return Q0({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}const Sz=()=>{const[t,e]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(null),[s,l]=p.useState(null),[c,u]=p.useState({show:!1,type:"",message:""}),f=po(),{carrito:m,agregarProducto:v}=p.useContext(ps);p.useEffect(()=>{h()},[]);const h=async()=>{try{console.log("Cargando productos destacados..."),n(!0),i(null);const L=await Qs.obtenerProductosMasVendidos(6);console.log("Productos destacados obtenidos:",L),e(L)}catch(L){console.error("Error al cargar productos destacados:",L),i("No se pudieron cargar los productos destacados")}finally{n(!1)}},E=L=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(L||0),y=(L,R)=>{u({show:!0,type:L,message:R}),setTimeout(()=>{u({show:!1,type:"",message:""})},3e3)},b=(L,R)=>{R.stopPropagation(),R.preventDefault();const O={...L,cantidad:1,id:L.id||L.idproductogeneral,nombre:L.nombre||L.nombreproducto,precio:L.precio||L.precioproducto,imagen:I(L)};v(O),y("success",`${O.nombre} agregado al carrito!`)},x=L=>{l(L)},w=()=>{l(null)},N=()=>{f("/pedidos"),window.scrollTo({top:0,behavior:"smooth"})},I=L=>{var O,A;if(L.urlimagen&&L.urlimagen.trim())return L.urlimagen;const R=((O=L.nombre)==null?void 0:O.toLowerCase())||((A=L.nombreproducto)==null?void 0:A.toLowerCase())||"";return R.includes("torta")||R.includes("cake")?"https://images.unsplash.com/photo-1578985545062-69928b1d9587?w=500&h=350&fit=crop&crop=center&auto=format&q=80":R.includes("cupcake")||R.includes("muffin")?"https://images.unsplash.com/photo-1614707267537-b85aaf00c4b7?w=500&h=350&fit=crop&crop=center&auto=format&q=80":R.includes("galleta")||R.includes("cookie")?"https://images.unsplash.com/photo-1558961363-fa8fdf82db35?w=500&h=350&fit=crop&crop=center&auto=format&q=80":R.includes("cheesecake")?"https://images.unsplash.com/photo-1533134242443-d4fd215305ad?w=500&h=350&fit=crop&crop=center&auto=format&q=80":R.includes("macaron")?"https://images.unsplash.com/photo-1569864358642-9d1684040f43?w=500&h=350&fit=crop&crop=center&auto=format&q=80":"https://images.unsplash.com/photo-1486427944299-d1955d23e34d?w=500&h=350&fit=crop&crop=center&auto=format&q=80"},P=L=>{var O,A;if(L.especificaciones&&L.especificaciones.trim())return L.especificaciones;if(L.descripcion&&L.descripcion.trim())return L.descripcion;if(L.especificacionesreceta&&L.especificacionesreceta.trim())return L.especificacionesreceta;const R=((O=L.nombre)==null?void 0:O.toLowerCase())||((A=L.nombreproducto)==null?void 0:A.toLowerCase())||"";return R.includes("torta")||R.includes("cake")?"Deliciosa torta hecha con los mejores ingredientes y mucho amor":R.includes("cupcake")||R.includes("muffin")?"Cupcakes esponjosos con decoracin artesanal personalizada":R.includes("galleta")||R.includes("cookie")?"Galletas artesanales crujientes con glaseado real":R.includes("cheesecake")?"Cremoso cheesecake con base de galleta crujiente":R.includes("macaron")?"Macarons franceses de colores vibrantes y sabores nicos":"Producto artesanal elaborado con amor en Delicias Darsy"};return r?o.createElement("section",{className:"productos-destacados-section py-5"},o.createElement("div",{className:"container"},o.createElement("div",{className:"section-header text-center mb-5"},o.createElement("h2",{className:"section-title display-4 fw-bold mb-3"},"Productos Destacados",o.createElement("div",{className:"underline-gradient mx-auto"})),o.createElement("p",{className:"lead text-muted d-flex align-items-center justify-content-center gap-2"},o.createElement("i",{className:"fa-solid fa-arrows-rotate",style:{animation:"spin 1s linear infinite"}}),"Cargando deliciosos productos...")),o.createElement("div",{className:"row g-4"},[1,2,3,4,5,6].map(L=>o.createElement("div",{key:L,className:"col-lg-4 col-md-6"},o.createElement("div",{className:"card h-100 loading-card shadow-sm"},o.createElement("div",{className:"loading-image-placeholder"}),o.createElement("div",{className:"card-body text-center"},o.createElement("div",{className:"loading-line mb-3"}),o.createElement("div",{className:"loading-line-short mb-3"}),o.createElement("div",{className:"loading-price mb-3"}),o.createElement("div",{className:"loading-line-short"})))))))):a?o.createElement("section",{className:"productos-destacados-section py-5"},o.createElement("div",{className:"container"},o.createElement("div",{className:"section-header text-center mb-5"},o.createElement("h2",{className:"section-title display-4 fw-bold mb-3"},"Productos Destacados",o.createElement("div",{className:"underline-gradient mx-auto"}))),o.createElement("div",{className:"row justify-content-center"},o.createElement("div",{className:"col-lg-6"},o.createElement("div",{className:"error-container text-center"},o.createElement("i",{className:"fas fa-exclamation-triangle text-danger mb-3",style:{fontSize:"4rem"}}),o.createElement("h4",{className:"text-danger mb-3"},"Ups! Algo sali mal"),o.createElement("p",{className:"text-muted mb-4"},a),o.createElement("button",{onClick:h,className:"btn btn-ver-todos-modern"},o.createElement("i",{className:"fas fa-sync-alt"}),"Reintentar")))))):o.createElement("section",{className:"productos-destacados-section py-5"},o.createElement("div",{className:"container"},c.show&&o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:2e3,padding:"1rem 1.5rem",borderRadius:"15px",color:"white",fontWeight:"600",fontSize:"0.9rem",minWidth:"300px",background:c.type==="success"?"linear-gradient(135deg, #10b981, #059669)":"linear-gradient(135deg, #ec4899, #be185d)",boxShadow:"0 10px 25px rgba(0,0,0,0.2)",animation:"slideInRight 0.5s ease-out"}},c.message),o.createElement("div",{className:"section-header text-center mb-5"},o.createElement("h2",{style:{fontSize:"2.5rem",fontWeight:"700",textAlign:"center",color:"#2C3E50",position:"relative",display:"inline-block",marginBottom:"1rem"}},"Productos Destacados",o.createElement("span",{style:{display:"block",width:"80px",height:"4px",background:"linear-gradient(90deg, #FF1493, #FFCC00)",borderRadius:"2px",margin:"0.5rem auto 0 auto"}})),o.createElement("p",{className:"lead text-muted"},"Deliciosas creaciones hechas con amor y los mejores ingredientes")),o.createElement("div",{className:"row g-4 mb-5"},t.slice(0,6).map((L,R)=>{const O=L.id||L.idproductogeneral,A=m.find(T=>T.id===O);return o.createElement("div",{key:O||R,className:"col-lg-4 col-md-6"},o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",overflow:"hidden",boxShadow:A?"0 8px 25px rgba(233,30,99,0.2)":"0 4px 20px rgba(0,0,0,0.1)",transition:"all 0.3s ease",cursor:"pointer",border:A?"2px solid #e91e63":"2px solid transparent",transform:A?"translateY(-5px)":"none",height:"100%"}},o.createElement("div",{style:{height:"200px",backgroundImage:`url(${I(L)})`,backgroundSize:"cover",backgroundPosition:"center",position:"relative"},onClick:()=>x(L)},o.createElement("div",{style:{position:"absolute",top:"10px",left:"10px",backgroundColor:"rgba(255, 255, 255, 0.95)",color:"#ec4899",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",transition:"transform 0.3s ease"},onMouseEnter:T=>T.currentTarget.style.transform="scale(1.15)",onMouseLeave:T=>T.currentTarget.style.transform="scale(1)"},o.createElement(D7,null)),A&&o.createElement("div",{style:{position:"absolute",top:"10px",right:"10px",backgroundColor:"#4CAF50",color:"white",borderRadius:"50%",width:"35px",height:"35px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:"bold",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"}},"")),o.createElement("div",{style:{padding:"20px"}},o.createElement("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#2c3e50",marginBottom:"8px",margin:"0 0 8px 0"}},L.nombre||L.nombreproducto),o.createElement("p",{style:{fontSize:"24px",fontWeight:"bold",color:"#e91e63",margin:"0 0 15px 0"}},E(L.precio||L.precioproducto)),o.createElement("button",{style:{width:"100%",padding:"12px",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:A?"#4caf50":"#e91e63",color:"white",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},onClick:T=>b(L,T),onMouseEnter:T=>{T.currentTarget.style.transform="translateY(-2px)",T.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)"},onMouseLeave:T=>{T.currentTarget.style.transform="translateY(0)",T.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"}},o.createElement("span",{style:{fontSize:"18px"}},""),A?`En carrito (${A.cantidad})`:"Agregar al carrito"))))})),t.length>0&&o.createElement("div",{className:"text-center"},o.createElement("button",{onClick:N,className:"btn btn-ver-todos-modern",type:"button"},"Ver Todos los Productos")),s&&o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:w},o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"30px",maxWidth:"500px",width:"90%",position:"relative",boxShadow:"0 20px 40px rgba(0,0,0,0.2)",animation:"scaleIn 0.3s ease-out"},onClick:L=>L.stopPropagation()},o.createElement("button",{onClick:w,style:{position:"absolute",top:"15px",right:"15px",width:"40px",height:"40px",border:"none",borderRadius:"50%",fontSize:"20px",cursor:"pointer",backgroundColor:"#e74c3c",color:"white",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s"},onMouseEnter:L=>L.currentTarget.style.transform="rotate(90deg)",onMouseLeave:L=>L.currentTarget.style.transform="rotate(0deg)"},""),o.createElement("div",{style:{height:"250px",backgroundImage:`url(${I(s)})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"15px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"}}),o.createElement("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#2c3e50",marginBottom:"10px",margin:"0 0 10px 0"}},s.nombre||s.nombreproducto),o.createElement("p",{style:{fontSize:"28px",fontWeight:"bold",color:"#e91e63",marginBottom:"15px",margin:"0 0 15px 0"}},E(s.precio||s.precioproducto)),o.createElement("p",{style:{fontSize:"16px",color:"#7f8c8d",lineHeight:"1.6",marginBottom:"20px",margin:"0 0 20px 0"}},P(s)),o.createElement("button",{onClick:L=>{b(s,L),w()},style:{width:"100%",padding:"12px",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",color:"white",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(233,30,99,0.3)"}},"Agregar al carrito"))),t.length===0&&!r&&!a&&o.createElement("div",{className:"row justify-content-center"},o.createElement("div",{className:"col-lg-6"},o.createElement("div",{className:"empty-state text-center"},o.createElement("i",{className:"fas fa-box-open text-info mb-3",style:{fontSize:"4rem"}}),o.createElement("h4",{className:"text-info mb-3"},"No hay productos destacados"),o.createElement("p",{className:"text-muted mb-4"},"No hay productos destacados disponibles en este momento, pero tenemos muchas otras delicias esperndote."),o.createElement("div",{className:"d-flex gap-3 justify-content-center flex-wrap"},o.createElement("button",{onClick:h,className:"btn btn-outline-primary d-flex align-items-center gap-2",type:"button"},o.createElement("i",{className:"fas fa-sync-alt"}),"Recargar"),o.createElement("button",{onClick:N,className:"btn btn-ver-todos-modern",type:"button"},"Ver Todos los Productos"))))),o.createElement("style",null,`
          @keyframes slideInRight {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }

          @keyframes scaleIn {
            from {
              transform: scale(0.8);
              opacity: 0;
            }
            to {
              transform: scale(1);
              opacity: 1;
            }
          }
        `)))},Cz=()=>{const t=[{numero:1,titulo:"Elige tu Postre",descripcion:"Selecciona de nuestra variedad de productos o solicita una creacin personalizada",icono:o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none"},o.createElement("path",{d:"M12 2C10.3431 2 9 3.34315 9 5V7H15V5C15 3.34315 13.6569 2 12 2Z",fill:"white"}),o.createElement("path",{d:"M8 9V22C8 22.5523 8.44772 23 9 23H15C15.5523 23 16 22.5523 16 22V9H8Z",fill:"white"}),o.createElement("path",{d:"M6 7H18C18.5523 7 19 7.44772 19 8C19 8.55228 18.5523 9 18 9H6C5.44772 9 5 8.55228 5 8C5 7.44772 5.44772 7 6 7Z",fill:"white"}))},{numero:2,titulo:"Personaliza",descripcion:"Cuntanos tus preferencias, sabores, colores y cualquier detalle especial",icono:o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none"},o.createElement("circle",{cx:"12",cy:"12",r:"3",fill:"white"}),o.createElement("circle",{cx:"6",cy:"6",r:"2",fill:"white"}),o.createElement("circle",{cx:"18",cy:"6",r:"2",fill:"white"}),o.createElement("circle",{cx:"6",cy:"18",r:"2",fill:"white"}),o.createElement("circle",{cx:"18",cy:"18",r:"2",fill:"white"}),o.createElement("path",{d:"M12 2L12 6M12 18L12 22M2 12L6 12M18 12L22 12",stroke:"white",strokeWidth:"2"}))},{numero:3,titulo:"Confirma tu Pedido",descripcion:"Revisa todos los detalles y confirma tu orden con el mtodo de pago preferido",icono:o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none"},o.createElement("path",{d:"M20 6L9 17L4 12",stroke:"white",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round"}))},{numero:4,titulo:"Recibe tu Dulce",descripcion:"Entregamos tu pedido fresco y listo para disfrutar en la fecha acordada",icono:o.createElement("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none"},o.createElement("rect",{x:"3",y:"12",width:"18",height:"9",rx:"2",fill:"white"}),o.createElement("path",{d:"M12 12V3",stroke:"white",strokeWidth:"2"}),o.createElement("path",{d:"M8 8L12 12L16 8",stroke:"white",strokeWidth:"2",fill:"none"}))}];return o.createElement("section",{className:"como-pedido"},o.createElement("div",{className:"container"},o.createElement("div",{className:"section-header"},o.createElement("h2",{style:{fontSize:"2.5rem",fontWeight:"700",textAlign:"center",color:"#2C3E50",position:"relative",display:"inline-block",marginBottom:"1rem"}},"Cmo hacer tu pedido?",o.createElement("span",{style:{display:"block",width:"80px",height:"4px",background:"linear-gradient(90deg, #FF1493, #FFCC00)",borderRadius:"2px",margin:"0.5rem auto 0 auto"}})),o.createElement("p",{style:{textAlign:"center",fontSize:"1.1rem",color:"#666",marginTop:"1rem"}},"Proceso simple y fcil en 4 pasos")),o.createElement("div",{className:"pasos-container"},t.map((e,r)=>o.createElement("div",{key:e.numero,className:"paso-card"},o.createElement("div",{className:"paso-numero"},o.createElement("span",{className:"numero"},e.numero)),o.createElement("div",{className:"paso-icono"},e.icono),o.createElement("div",{className:"paso-content"},o.createElement("h3",{className:"paso-titulo"},e.titulo),o.createElement("p",{className:"paso-descripcion"},e.descripcion)),r<t.length-1&&o.createElement("div",{className:"paso-arrow"},o.createElement("svg",{width:"40",height:"40",viewBox:"0 0 24 24",fill:"none"},o.createElement("path",{d:"M5 12H19M19 12L12 5M19 12L12 19",stroke:"#FFCC00",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})))))),o.createElement("div",{className:"cta-section"},o.createElement("button",{className:"btn-comenzar"},"Comenzar Pedido"))))};/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pz=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nz=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),QN=t=>{const e=Nz(t);return e.charAt(0).toUpperCase()+e.slice(1)},j7=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),kz=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Az={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:s,...l},c)=>p.createElement("svg",{ref:c,...Az,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:j7("lucide",a),...!i&&!kz(l)&&{"aria-hidden":"true"},...l},[...s.map(([u,f])=>p.createElement(u,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=(t,e)=>{const r=p.forwardRef(({className:n,...a},i)=>p.createElement(Oz,{ref:i,iconNode:e,className:j7(`lucide-${Pz(QN(t))}`,`lucide-${t}`,n),...a}));return r.displayName=QN(t),r};/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],_z=ta("arrow-left",Iz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],i3=ta("arrow-right",Lz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],e4=ta("bell",Tz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mz=ta("calendar",Rz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],jz=ta("check",Dz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],t4=ta("circle-alert",Fz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],O5=ta("circle-check-big",$z);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],F7=ta("clock",zz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],nh=ta("eye-off",Bz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ah=ta("eye",Uz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qz=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],r4=ta("factory",qz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Hz=ta("heart",Vz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Gz=ta("house",Wz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kz=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Yz=ta("key",Kz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jz=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],Sm=ta("loader",Jz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xz=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Dg=ta("lock",Xz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zz=[["path",{d:"m10 17 5-5-5-5",key:"1bsop3"}],["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}]],Qz=ta("log-in",Zz);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eB=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],z1=ta("log-out",eB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tB=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],jg=ta("mail",tB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rB=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Nb=ta("map-pin",rB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nB=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"m21 3-7 7",key:"1l2asr"}],["path",{d:"m3 21 7-7",key:"tjx5ai"}],["path",{d:"M9 21H3v-6",key:"wtvkvv"}]],aB=ta("maximize-2",nB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oB=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],iB=ta("navigation",oB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sB=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],lB=ta("package",sB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cB=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],uB=ta("palette",cB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dB=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],fB=ta("pen-line",dB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mB=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],I5=ta("phone",mB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pB=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],gB=ta("rotate-ccw",pB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hB=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],n4=ta("save",hB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vB=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fg=ta("shield",vB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bB=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],a4=ta("shopping-cart",bB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yB=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],EB=ta("star",yB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xB=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],B1=ta("triangle-alert",xB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wB=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],U1=ta("user",wB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SB=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CB=ta("users",SB);/**
 * @license lucide-react v0.512.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PB=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],lu=ta("x",PB),NB=()=>{const t=[{id:1,titulo:"Ingredientes Premium",descripcion:"Utilizamos solo los mejores ingredientes naturales y frescos para garantizar el mejor sabor.",icono:Hz},{id:2,titulo:"Entrega Puntual",descripcion:"Respetamos tus tiempos y entregamos siempre en la fecha acordada.",icono:F7},{id:3,titulo:"Diseos nicos",descripcion:"Cada postre es una obra de arte personalizada segn tus gustos y ocasin.",icono:uB},{id:4,titulo:"Calidad Garantizada",descripcion:"100% de satisfaccin garantizada o te devolvemos tu dinero.",icono:Fg},{id:5,titulo:"Experiencia Comprobada",descripcion:"Ms de 3 aos creando momentos dulces para familias y empresas.",icono:EB},{id:6,titulo:"Atencin Personalizada",descripcion:"Te acompaamos desde la idea hasta la entrega de tu pedido perfecto.",icono:CB}];return o.createElement("section",{className:"porque-elegir"},o.createElement("div",{className:"container"},o.createElement("div",{className:"section-header"},o.createElement("div",{className:"section-header",style:{textAlign:"center",marginBottom:"2rem"}},o.createElement("h2",{style:{fontSize:"2.5rem",fontWeight:"700",textAlign:"center",color:"#2C3E50",position:"relative",display:"inline-block",marginBottom:"1rem"}},"Por qu elegir Delicias Darsy?",o.createElement("span",{style:{display:"block",width:"100px",height:"4px",background:"linear-gradient(90deg, #FF1493, #FFCC00)",borderRadius:"2px",margin:"0.5rem auto 0 auto"}})),o.createElement("p",{style:{textAlign:"center",fontSize:"1.1rem",color:"#666",marginTop:"1rem"}},"Lo que nos hace especiales y nicos en cada dulce momento"))),o.createElement("div",{className:"razones-grid"},t.map(e=>{const r=e.icono;return o.createElement("div",{key:e.id,className:"razon-card"},o.createElement("div",{className:"razon-header",style:{textAlign:"center"}},o.createElement("div",{className:"razon-icono",style:{margin:"0 auto 1rem auto"}},o.createElement(r,{className:"icono",size:32,color:"white"})),o.createElement("div",{className:"razon-glow"})),o.createElement("div",{className:"razon-content"},o.createElement("h3",{className:"razon-titulo"},e.titulo),o.createElement("p",{className:"razon-descripcion"},e.descripcion)))}))))};var kb={exports:{}};/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var kB=kb.exports,o4;function AB(){return o4||(o4=1,function(t,e){(function(r,n){t.exports=n()})(kB,function(){const r=new Map,n={set(Q,M,Y){r.has(Q)||r.set(Q,new Map);const se=r.get(Q);se.has(M)||se.size===0?se.set(M,Y):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(se.keys())[0]}.`)},get:(Q,M)=>r.has(Q)&&r.get(Q).get(M)||null,remove(Q,M){if(!r.has(Q))return;const Y=r.get(Q);Y.delete(M),Y.size===0&&r.delete(Q)}},a="transitionend",i=Q=>(Q&&window.CSS&&window.CSS.escape&&(Q=Q.replace(/#([^\s"#']+)/g,(M,Y)=>`#${CSS.escape(Y)}`)),Q),s=Q=>{Q.dispatchEvent(new Event(a))},l=Q=>!(!Q||typeof Q!="object")&&(Q.jquery!==void 0&&(Q=Q[0]),Q.nodeType!==void 0),c=Q=>l(Q)?Q.jquery?Q[0]:Q:typeof Q=="string"&&Q.length>0?document.querySelector(i(Q)):null,u=Q=>{if(!l(Q)||Q.getClientRects().length===0)return!1;const M=getComputedStyle(Q).getPropertyValue("visibility")==="visible",Y=Q.closest("details:not([open])");if(!Y)return M;if(Y!==Q){const se=Q.closest("summary");if(se&&se.parentNode!==Y||se===null)return!1}return M},f=Q=>!Q||Q.nodeType!==Node.ELEMENT_NODE||!!Q.classList.contains("disabled")||(Q.disabled!==void 0?Q.disabled:Q.hasAttribute("disabled")&&Q.getAttribute("disabled")!=="false"),m=Q=>{if(!document.documentElement.attachShadow)return null;if(typeof Q.getRootNode=="function"){const M=Q.getRootNode();return M instanceof ShadowRoot?M:null}return Q instanceof ShadowRoot?Q:Q.parentNode?m(Q.parentNode):null},v=()=>{},h=Q=>{Q.offsetHeight},E=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,y=[],b=()=>document.documentElement.dir==="rtl",x=Q=>{var M;M=()=>{const Y=E();if(Y){const se=Q.NAME,Ie=Y.fn[se];Y.fn[se]=Q.jQueryInterface,Y.fn[se].Constructor=Q,Y.fn[se].noConflict=()=>(Y.fn[se]=Ie,Q.jQueryInterface)}},document.readyState==="loading"?(y.length||document.addEventListener("DOMContentLoaded",()=>{for(const Y of y)Y()}),y.push(M)):M()},w=(Q,M=[],Y=Q)=>typeof Q=="function"?Q.call(...M):Y,N=(Q,M,Y=!0)=>{if(!Y)return void w(Q);const se=(we=>{if(!we)return 0;let{transitionDuration:Pe,transitionDelay:We}=window.getComputedStyle(we);const Qe=Number.parseFloat(Pe),rt=Number.parseFloat(We);return Qe||rt?(Pe=Pe.split(",")[0],We=We.split(",")[0],1e3*(Number.parseFloat(Pe)+Number.parseFloat(We))):0})(M)+5;let Ie=!1;const Ce=({target:we})=>{we===M&&(Ie=!0,M.removeEventListener(a,Ce),w(Q))};M.addEventListener(a,Ce),setTimeout(()=>{Ie||s(M)},se)},I=(Q,M,Y,se)=>{const Ie=Q.length;let Ce=Q.indexOf(M);return Ce===-1?!Y&&se?Q[Ie-1]:Q[0]:(Ce+=Y?1:-1,se&&(Ce=(Ce+Ie)%Ie),Q[Math.max(0,Math.min(Ce,Ie-1))])},P=/[^.]*(?=\..*)\.|.*/,L=/\..*/,R=/::\d+$/,O={};let A=1;const T={mouseenter:"mouseover",mouseleave:"mouseout"},C=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function _(Q,M){return M&&`${M}::${A++}`||Q.uidEvent||A++}function D(Q){const M=_(Q);return Q.uidEvent=M,O[M]=O[M]||{},O[M]}function z(Q,M,Y=null){return Object.values(Q).find(se=>se.callable===M&&se.delegationSelector===Y)}function V(Q,M,Y){const se=typeof M=="string",Ie=se?Y:M||Y;let Ce=te(Q);return C.has(Ce)||(Ce=Q),[se,Ie,Ce]}function J(Q,M,Y,se,Ie){if(typeof M!="string"||!Q)return;let[Ce,we,Pe]=V(M,Y,se);M in T&&(we=(jt=>function(vr){if(!vr.relatedTarget||vr.relatedTarget!==vr.delegateTarget&&!vr.delegateTarget.contains(vr.relatedTarget))return jt.call(this,vr)})(we));const We=D(Q),Qe=We[Pe]||(We[Pe]={}),rt=z(Qe,we,Ce?Y:null);if(rt)return void(rt.oneOff=rt.oneOff&&Ie);const xt=_(we,M.replace(P,"")),$t=Ce?function(Qt,jt,vr){return function xr(Br){const Or=Qt.querySelectorAll(jt);for(let{target:Ir}=Br;Ir&&Ir!==this;Ir=Ir.parentNode)for(const Yr of Or)if(Yr===Ir)return B(Br,{delegateTarget:Ir}),xr.oneOff&&W.off(Qt,Br.type,jt,vr),vr.apply(Ir,[Br])}}(Q,Y,we):function(Qt,jt){return function vr(xr){return B(xr,{delegateTarget:Qt}),vr.oneOff&&W.off(Qt,xr.type,jt),jt.apply(Qt,[xr])}}(Q,we);$t.delegationSelector=Ce?Y:null,$t.callable=we,$t.oneOff=Ie,$t.uidEvent=xt,Qe[xt]=$t,Q.addEventListener(Pe,$t,Ce)}function ie(Q,M,Y,se,Ie){const Ce=z(M[Y],se,Ie);Ce&&(Q.removeEventListener(Y,Ce,!!Ie),delete M[Y][Ce.uidEvent])}function G(Q,M,Y,se){const Ie=M[Y]||{};for(const[Ce,we]of Object.entries(Ie))Ce.includes(se)&&ie(Q,M,Y,we.callable,we.delegationSelector)}function te(Q){return Q=Q.replace(L,""),T[Q]||Q}const W={on(Q,M,Y,se){J(Q,M,Y,se,!1)},one(Q,M,Y,se){J(Q,M,Y,se,!0)},off(Q,M,Y,se){if(typeof M!="string"||!Q)return;const[Ie,Ce,we]=V(M,Y,se),Pe=we!==M,We=D(Q),Qe=We[we]||{},rt=M.startsWith(".");if(Ce===void 0){if(rt)for(const xt of Object.keys(We))G(Q,We,xt,M.slice(1));for(const[xt,$t]of Object.entries(Qe)){const Qt=xt.replace(R,"");Pe&&!M.includes(Qt)||ie(Q,We,we,$t.callable,$t.delegationSelector)}}else{if(!Object.keys(Qe).length)return;ie(Q,We,we,Ce,Ie?Y:null)}},trigger(Q,M,Y){if(typeof M!="string"||!Q)return null;const se=E();let Ie=null,Ce=!0,we=!0,Pe=!1;M!==te(M)&&se&&(Ie=se.Event(M,Y),se(Q).trigger(Ie),Ce=!Ie.isPropagationStopped(),we=!Ie.isImmediatePropagationStopped(),Pe=Ie.isDefaultPrevented());const We=B(new Event(M,{bubbles:Ce,cancelable:!0}),Y);return Pe&&We.preventDefault(),we&&Q.dispatchEvent(We),We.defaultPrevented&&Ie&&Ie.preventDefault(),We}};function B(Q,M={}){for(const[Y,se]of Object.entries(M))try{Q[Y]=se}catch{Object.defineProperty(Q,Y,{configurable:!0,get:()=>se})}return Q}function j(Q){if(Q==="true")return!0;if(Q==="false")return!1;if(Q===Number(Q).toString())return Number(Q);if(Q===""||Q==="null")return null;if(typeof Q!="string")return Q;try{return JSON.parse(decodeURIComponent(Q))}catch{return Q}}function U(Q){return Q.replace(/[A-Z]/g,M=>`-${M.toLowerCase()}`)}const X={setDataAttribute(Q,M,Y){Q.setAttribute(`data-bs-${U(M)}`,Y)},removeDataAttribute(Q,M){Q.removeAttribute(`data-bs-${U(M)}`)},getDataAttributes(Q){if(!Q)return{};const M={},Y=Object.keys(Q.dataset).filter(se=>se.startsWith("bs")&&!se.startsWith("bsConfig"));for(const se of Y){let Ie=se.replace(/^bs/,"");Ie=Ie.charAt(0).toLowerCase()+Ie.slice(1),M[Ie]=j(Q.dataset[se])}return M},getDataAttribute:(Q,M)=>j(Q.getAttribute(`data-bs-${U(M)}`))};class Z{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(M){return M=this._mergeConfigObj(M),M=this._configAfterMerge(M),this._typeCheckConfig(M),M}_configAfterMerge(M){return M}_mergeConfigObj(M,Y){const se=l(Y)?X.getDataAttribute(Y,"config"):{};return{...this.constructor.Default,...typeof se=="object"?se:{},...l(Y)?X.getDataAttributes(Y):{},...typeof M=="object"?M:{}}}_typeCheckConfig(M,Y=this.constructor.DefaultType){for(const[Ie,Ce]of Object.entries(Y)){const we=M[Ie],Pe=l(we)?"element":(se=we)==null?`${se}`:Object.prototype.toString.call(se).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(Ce).test(Pe))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${Ie}" provided type "${Pe}" but expected type "${Ce}".`)}var se}}class me extends Z{constructor(M,Y){super(),(M=c(M))&&(this._element=M,this._config=this._getConfig(Y),n.set(this._element,this.constructor.DATA_KEY,this))}dispose(){n.remove(this._element,this.constructor.DATA_KEY),W.off(this._element,this.constructor.EVENT_KEY);for(const M of Object.getOwnPropertyNames(this))this[M]=null}_queueCallback(M,Y,se=!0){N(M,Y,se)}_getConfig(M){return M=this._mergeConfigObj(M,this._element),M=this._configAfterMerge(M),this._typeCheckConfig(M),M}static getInstance(M){return n.get(c(M),this.DATA_KEY)}static getOrCreateInstance(M,Y={}){return this.getInstance(M)||new this(M,typeof Y=="object"?Y:null)}static get VERSION(){return"5.3.6"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(M){return`${M}${this.EVENT_KEY}`}}const de=Q=>{let M=Q.getAttribute("data-bs-target");if(!M||M==="#"){let Y=Q.getAttribute("href");if(!Y||!Y.includes("#")&&!Y.startsWith("."))return null;Y.includes("#")&&!Y.startsWith("#")&&(Y=`#${Y.split("#")[1]}`),M=Y&&Y!=="#"?Y.trim():null}return M?M.split(",").map(Y=>i(Y)).join(","):null},oe={find:(Q,M=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(M,Q)),findOne:(Q,M=document.documentElement)=>Element.prototype.querySelector.call(M,Q),children:(Q,M)=>[].concat(...Q.children).filter(Y=>Y.matches(M)),parents(Q,M){const Y=[];let se=Q.parentNode.closest(M);for(;se;)Y.push(se),se=se.parentNode.closest(M);return Y},prev(Q,M){let Y=Q.previousElementSibling;for(;Y;){if(Y.matches(M))return[Y];Y=Y.previousElementSibling}return[]},next(Q,M){let Y=Q.nextElementSibling;for(;Y;){if(Y.matches(M))return[Y];Y=Y.nextElementSibling}return[]},focusableChildren(Q){const M=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(Y=>`${Y}:not([tabindex^="-"])`).join(",");return this.find(M,Q).filter(Y=>!f(Y)&&u(Y))},getSelectorFromElement(Q){const M=de(Q);return M&&oe.findOne(M)?M:null},getElementFromSelector(Q){const M=de(Q);return M?oe.findOne(M):null},getMultipleElementsFromSelector(Q){const M=de(Q);return M?oe.find(M):[]}},ee=(Q,M="hide")=>{const Y=`click.dismiss${Q.EVENT_KEY}`,se=Q.NAME;W.on(document,Y,`[data-bs-dismiss="${se}"]`,function(Ie){if(["A","AREA"].includes(this.tagName)&&Ie.preventDefault(),f(this))return;const Ce=oe.getElementFromSelector(this)||this.closest(`.${se}`);Q.getOrCreateInstance(Ce)[M]()})},le=".bs.alert",pe=`close${le}`,ce=`closed${le}`;class _e extends me{static get NAME(){return"alert"}close(){if(W.trigger(this._element,pe).defaultPrevented)return;this._element.classList.remove("show");const M=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,M)}_destroyElement(){this._element.remove(),W.trigger(this._element,ce),this.dispose()}static jQueryInterface(M){return this.each(function(){const Y=_e.getOrCreateInstance(this);if(typeof M=="string"){if(Y[M]===void 0||M.startsWith("_")||M==="constructor")throw new TypeError(`No method named "${M}"`);Y[M](this)}})}}ee(_e,"close"),x(_e);const He='[data-bs-toggle="button"]';class Re extends me{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(M){return this.each(function(){const Y=Re.getOrCreateInstance(this);M==="toggle"&&Y[M]()})}}W.on(document,"click.bs.button.data-api",He,Q=>{Q.preventDefault();const M=Q.target.closest(He);Re.getOrCreateInstance(M).toggle()}),x(Re);const be=".bs.swipe",gt=`touchstart${be}`,Ae=`touchmove${be}`,ke=`touchend${be}`,Be=`pointerdown${be}`,Xe=`pointerup${be}`,Ke={endCallback:null,leftCallback:null,rightCallback:null},Et={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class ut extends Z{constructor(M,Y){super(),this._element=M,M&&ut.isSupported()&&(this._config=this._getConfig(Y),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return Ke}static get DefaultType(){return Et}static get NAME(){return"swipe"}dispose(){W.off(this._element,be)}_start(M){this._supportPointerEvents?this._eventIsPointerPenTouch(M)&&(this._deltaX=M.clientX):this._deltaX=M.touches[0].clientX}_end(M){this._eventIsPointerPenTouch(M)&&(this._deltaX=M.clientX-this._deltaX),this._handleSwipe(),w(this._config.endCallback)}_move(M){this._deltaX=M.touches&&M.touches.length>1?0:M.touches[0].clientX-this._deltaX}_handleSwipe(){const M=Math.abs(this._deltaX);if(M<=40)return;const Y=M/this._deltaX;this._deltaX=0,Y&&w(Y>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(W.on(this._element,Be,M=>this._start(M)),W.on(this._element,Xe,M=>this._end(M)),this._element.classList.add("pointer-event")):(W.on(this._element,gt,M=>this._start(M)),W.on(this._element,Ae,M=>this._move(M)),W.on(this._element,ke,M=>this._end(M)))}_eventIsPointerPenTouch(M){return this._supportPointerEvents&&(M.pointerType==="pen"||M.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const zt=".bs.carousel",Gt=".data-api",mt="ArrowLeft",nt="ArrowRight",ht="next",Kt="prev",bt="left",Ar="right",Jt=`slide${zt}`,Lr=`slid${zt}`,mr=`keydown${zt}`,wr=`mouseenter${zt}`,Ur=`mouseleave${zt}`,Sr=`dragstart${zt}`,kt=`load${zt}${Gt}`,Ee=`click${zt}${Gt}`,Ne="carousel",qe="active",Nt=".active",St=".carousel-item",Ot=Nt+St,gr={[mt]:Ar,[nt]:bt},lr={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},zr={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class st extends me{constructor(M,Y){super(M,Y),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=oe.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===Ne&&this.cycle()}static get Default(){return lr}static get DefaultType(){return zr}static get NAME(){return"carousel"}next(){this._slide(ht)}nextWhenVisible(){!document.hidden&&u(this._element)&&this.next()}prev(){this._slide(Kt)}pause(){this._isSliding&&s(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?W.one(this._element,Lr,()=>this.cycle()):this.cycle())}to(M){const Y=this._getItems();if(M>Y.length-1||M<0)return;if(this._isSliding)return void W.one(this._element,Lr,()=>this.to(M));const se=this._getItemIndex(this._getActive());if(se===M)return;const Ie=M>se?ht:Kt;this._slide(Ie,Y[M])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(M){return M.defaultInterval=M.interval,M}_addEventListeners(){this._config.keyboard&&W.on(this._element,mr,M=>this._keydown(M)),this._config.pause==="hover"&&(W.on(this._element,wr,()=>this.pause()),W.on(this._element,Ur,()=>this._maybeEnableCycle())),this._config.touch&&ut.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const Y of oe.find(".carousel-item img",this._element))W.on(Y,Sr,se=>se.preventDefault());const M={leftCallback:()=>this._slide(this._directionToOrder(bt)),rightCallback:()=>this._slide(this._directionToOrder(Ar)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new ut(this._element,M)}_keydown(M){if(/input|textarea/i.test(M.target.tagName))return;const Y=gr[M.key];Y&&(M.preventDefault(),this._slide(this._directionToOrder(Y)))}_getItemIndex(M){return this._getItems().indexOf(M)}_setActiveIndicatorElement(M){if(!this._indicatorsElement)return;const Y=oe.findOne(Nt,this._indicatorsElement);Y.classList.remove(qe),Y.removeAttribute("aria-current");const se=oe.findOne(`[data-bs-slide-to="${M}"]`,this._indicatorsElement);se&&(se.classList.add(qe),se.setAttribute("aria-current","true"))}_updateInterval(){const M=this._activeElement||this._getActive();if(!M)return;const Y=Number.parseInt(M.getAttribute("data-bs-interval"),10);this._config.interval=Y||this._config.defaultInterval}_slide(M,Y=null){if(this._isSliding)return;const se=this._getActive(),Ie=M===ht,Ce=Y||I(this._getItems(),se,Ie,this._config.wrap);if(Ce===se)return;const we=this._getItemIndex(Ce),Pe=xt=>W.trigger(this._element,xt,{relatedTarget:Ce,direction:this._orderToDirection(M),from:this._getItemIndex(se),to:we});if(Pe(Jt).defaultPrevented||!se||!Ce)return;const We=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(we),this._activeElement=Ce;const Qe=Ie?"carousel-item-start":"carousel-item-end",rt=Ie?"carousel-item-next":"carousel-item-prev";Ce.classList.add(rt),h(Ce),se.classList.add(Qe),Ce.classList.add(Qe),this._queueCallback(()=>{Ce.classList.remove(Qe,rt),Ce.classList.add(qe),se.classList.remove(qe,rt,Qe),this._isSliding=!1,Pe(Lr)},se,this._isAnimated()),We&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return oe.findOne(Ot,this._element)}_getItems(){return oe.find(St,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(M){return b()?M===bt?Kt:ht:M===bt?ht:Kt}_orderToDirection(M){return b()?M===Kt?bt:Ar:M===Kt?Ar:bt}static jQueryInterface(M){return this.each(function(){const Y=st.getOrCreateInstance(this,M);if(typeof M!="number"){if(typeof M=="string"){if(Y[M]===void 0||M.startsWith("_")||M==="constructor")throw new TypeError(`No method named "${M}"`);Y[M]()}}else Y.to(M)})}}W.on(document,Ee,"[data-bs-slide], [data-bs-slide-to]",function(Q){const M=oe.getElementFromSelector(this);if(!M||!M.classList.contains(Ne))return;Q.preventDefault();const Y=st.getOrCreateInstance(M),se=this.getAttribute("data-bs-slide-to");return se?(Y.to(se),void Y._maybeEnableCycle()):X.getDataAttribute(this,"slide")==="next"?(Y.next(),void Y._maybeEnableCycle()):(Y.prev(),void Y._maybeEnableCycle())}),W.on(window,kt,()=>{const Q=oe.find('[data-bs-ride="carousel"]');for(const M of Q)st.getOrCreateInstance(M)}),x(st);const Ct=".bs.collapse",_t=`show${Ct}`,Kr=`shown${Ct}`,yn=`hide${Ct}`,en=`hidden${Ct}`,pr=`click${Ct}.data-api`,Tr="show",mn="collapse",rn="collapsing",er=`:scope .${mn} .${mn}`,ct='[data-bs-toggle="collapse"]',At={parent:null,toggle:!0},Yt={parent:"(null|element)",toggle:"boolean"};class Ye extends me{constructor(M,Y){super(M,Y),this._isTransitioning=!1,this._triggerArray=[];const se=oe.find(ct);for(const Ie of se){const Ce=oe.getSelectorFromElement(Ie),we=oe.find(Ce).filter(Pe=>Pe===this._element);Ce!==null&&we.length&&this._triggerArray.push(Ie)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return At}static get DefaultType(){return Yt}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let M=[];if(this._config.parent&&(M=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(Ie=>Ie!==this._element).map(Ie=>Ye.getOrCreateInstance(Ie,{toggle:!1}))),M.length&&M[0]._isTransitioning||W.trigger(this._element,_t).defaultPrevented)return;for(const Ie of M)Ie.hide();const Y=this._getDimension();this._element.classList.remove(mn),this._element.classList.add(rn),this._element.style[Y]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const se=`scroll${Y[0].toUpperCase()+Y.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(rn),this._element.classList.add(mn,Tr),this._element.style[Y]="",W.trigger(this._element,Kr)},this._element,!0),this._element.style[Y]=`${this._element[se]}px`}hide(){if(this._isTransitioning||!this._isShown()||W.trigger(this._element,yn).defaultPrevented)return;const M=this._getDimension();this._element.style[M]=`${this._element.getBoundingClientRect()[M]}px`,h(this._element),this._element.classList.add(rn),this._element.classList.remove(mn,Tr);for(const Y of this._triggerArray){const se=oe.getElementFromSelector(Y);se&&!this._isShown(se)&&this._addAriaAndCollapsedClass([Y],!1)}this._isTransitioning=!0,this._element.style[M]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(rn),this._element.classList.add(mn),W.trigger(this._element,en)},this._element,!0)}_isShown(M=this._element){return M.classList.contains(Tr)}_configAfterMerge(M){return M.toggle=!!M.toggle,M.parent=c(M.parent),M}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const M=this._getFirstLevelChildren(ct);for(const Y of M){const se=oe.getElementFromSelector(Y);se&&this._addAriaAndCollapsedClass([Y],this._isShown(se))}}_getFirstLevelChildren(M){const Y=oe.find(er,this._config.parent);return oe.find(M,this._config.parent).filter(se=>!Y.includes(se))}_addAriaAndCollapsedClass(M,Y){if(M.length)for(const se of M)se.classList.toggle("collapsed",!Y),se.setAttribute("aria-expanded",Y)}static jQueryInterface(M){const Y={};return typeof M=="string"&&/show|hide/.test(M)&&(Y.toggle=!1),this.each(function(){const se=Ye.getOrCreateInstance(this,Y);if(typeof M=="string"){if(se[M]===void 0)throw new TypeError(`No method named "${M}"`);se[M]()}})}}W.on(document,pr,ct,function(Q){(Q.target.tagName==="A"||Q.delegateTarget&&Q.delegateTarget.tagName==="A")&&Q.preventDefault();for(const M of oe.getMultipleElementsFromSelector(this))Ye.getOrCreateInstance(M,{toggle:!1}).toggle()}),x(Ye);var ft="top",ot="bottom",$e="right",at="left",Rt="auto",Ht=[ft,ot,$e,at],or="start",qt="end",br="clippingParents",Pr="viewport",Rr="popper",Ze="reference",ae=Ht.reduce(function(Q,M){return Q.concat([M+"-"+or,M+"-"+qt])},[]),Se=[].concat(Ht,[Rt]).reduce(function(Q,M){return Q.concat([M,M+"-"+or,M+"-"+qt])},[]),Ue="beforeRead",tt="read",pt="afterRead",Bt="beforeMain",ar="main",Cr="afterMain",qr="beforeWrite",Rn="write",Mn="afterWrite",kr=[Ue,tt,pt,Bt,ar,Cr,qr,Rn,Mn];function Vr(Q){return Q?(Q.nodeName||"").toLowerCase():null}function Mr(Q){if(Q==null)return window;if(Q.toString()!=="[object Window]"){var M=Q.ownerDocument;return M&&M.defaultView||window}return Q}function on(Q){return Q instanceof Mr(Q).Element||Q instanceof Element}function Pn(Q){return Q instanceof Mr(Q).HTMLElement||Q instanceof HTMLElement}function la(Q){return typeof ShadowRoot<"u"&&(Q instanceof Mr(Q).ShadowRoot||Q instanceof ShadowRoot)}const ra={name:"applyStyles",enabled:!0,phase:"write",fn:function(Q){var M=Q.state;Object.keys(M.elements).forEach(function(Y){var se=M.styles[Y]||{},Ie=M.attributes[Y]||{},Ce=M.elements[Y];Pn(Ce)&&Vr(Ce)&&(Object.assign(Ce.style,se),Object.keys(Ie).forEach(function(we){var Pe=Ie[we];Pe===!1?Ce.removeAttribute(we):Ce.setAttribute(we,Pe===!0?"":Pe)}))})},effect:function(Q){var M=Q.state,Y={popper:{position:M.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(M.elements.popper.style,Y.popper),M.styles=Y,M.elements.arrow&&Object.assign(M.elements.arrow.style,Y.arrow),function(){Object.keys(M.elements).forEach(function(se){var Ie=M.elements[se],Ce=M.attributes[se]||{},we=Object.keys(M.styles.hasOwnProperty(se)?M.styles[se]:Y[se]).reduce(function(Pe,We){return Pe[We]="",Pe},{});Pn(Ie)&&Vr(Ie)&&(Object.assign(Ie.style,we),Object.keys(Ce).forEach(function(Pe){Ie.removeAttribute(Pe)}))})}},requires:["computeStyles"]};function Tn(Q){return Q.split("-")[0]}var sn=Math.max,Sa=Math.min,cn=Math.round;function oo(){var Q=navigator.userAgentData;return Q!=null&&Q.brands&&Array.isArray(Q.brands)?Q.brands.map(function(M){return M.brand+"/"+M.version}).join(" "):navigator.userAgent}function Co(){return!/^((?!chrome|android).)*safari/i.test(oo())}function Xt(Q,M,Y){M===void 0&&(M=!1),Y===void 0&&(Y=!1);var se=Q.getBoundingClientRect(),Ie=1,Ce=1;M&&Pn(Q)&&(Ie=Q.offsetWidth>0&&cn(se.width)/Q.offsetWidth||1,Ce=Q.offsetHeight>0&&cn(se.height)/Q.offsetHeight||1);var we=(on(Q)?Mr(Q):window).visualViewport,Pe=!Co()&&Y,We=(se.left+(Pe&&we?we.offsetLeft:0))/Ie,Qe=(se.top+(Pe&&we?we.offsetTop:0))/Ce,rt=se.width/Ie,xt=se.height/Ce;return{width:rt,height:xt,top:Qe,right:We+rt,bottom:Qe+xt,left:We,x:We,y:Qe}}function Le(Q){var M=Xt(Q),Y=Q.offsetWidth,se=Q.offsetHeight;return Math.abs(M.width-Y)<=1&&(Y=M.width),Math.abs(M.height-se)<=1&&(se=M.height),{x:Q.offsetLeft,y:Q.offsetTop,width:Y,height:se}}function Dt(Q,M){var Y=M.getRootNode&&M.getRootNode();if(Q.contains(M))return!0;if(Y&&la(Y)){var se=M;do{if(se&&Q.isSameNode(se))return!0;se=se.parentNode||se.host}while(se)}return!1}function yr(Q){return Mr(Q).getComputedStyle(Q)}function In(Q){return["table","td","th"].indexOf(Vr(Q))>=0}function En(Q){return((on(Q)?Q.ownerDocument:Q.document)||window.document).documentElement}function Dn(Q){return Vr(Q)==="html"?Q:Q.assignedSlot||Q.parentNode||(la(Q)?Q.host:null)||En(Q)}function go(Q){return Pn(Q)&&yr(Q).position!=="fixed"?Q.offsetParent:null}function $a(Q){for(var M=Mr(Q),Y=go(Q);Y&&In(Y)&&yr(Y).position==="static";)Y=go(Y);return Y&&(Vr(Y)==="html"||Vr(Y)==="body"&&yr(Y).position==="static")?M:Y||function(se){var Ie=/firefox/i.test(oo());if(/Trident/i.test(oo())&&Pn(se)&&yr(se).position==="fixed")return null;var Ce=Dn(se);for(la(Ce)&&(Ce=Ce.host);Pn(Ce)&&["html","body"].indexOf(Vr(Ce))<0;){var we=yr(Ce);if(we.transform!=="none"||we.perspective!=="none"||we.contain==="paint"||["transform","perspective"].indexOf(we.willChange)!==-1||Ie&&we.willChange==="filter"||Ie&&we.filter&&we.filter!=="none")return Ce;Ce=Ce.parentNode}return null}(Q)||M}function Pt(Q){return["top","bottom"].indexOf(Q)>=0?"x":"y"}function De(Q,M,Y){return sn(Q,Sa(M,Y))}function lt(Q){return Object.assign({},{top:0,right:0,bottom:0,left:0},Q)}function Vt(Q,M){return M.reduce(function(Y,se){return Y[se]=Q,Y},{})}const Dr={name:"arrow",enabled:!0,phase:"main",fn:function(Q){var M,Y=Q.state,se=Q.name,Ie=Q.options,Ce=Y.elements.arrow,we=Y.modifiersData.popperOffsets,Pe=Tn(Y.placement),We=Pt(Pe),Qe=[at,$e].indexOf(Pe)>=0?"height":"width";if(Ce&&we){var rt=function(un,pn){return lt(typeof(un=typeof un=="function"?un(Object.assign({},pn.rects,{placement:pn.placement})):un)!="number"?un:Vt(un,Ht))}(Ie.padding,Y),xt=Le(Ce),$t=We==="y"?ft:at,Qt=We==="y"?ot:$e,jt=Y.rects.reference[Qe]+Y.rects.reference[We]-we[We]-Y.rects.popper[Qe],vr=we[We]-Y.rects.reference[We],xr=$a(Ce),Br=xr?We==="y"?xr.clientHeight||0:xr.clientWidth||0:0,Or=jt/2-vr/2,Ir=rt[$t],Yr=Br-xt[Qe]-rt[Qt],dr=Br/2-xt[Qe]/2+Or,Zr=De(Ir,dr,Yr),Sn=We;Y.modifiersData[se]=((M={})[Sn]=Zr,M.centerOffset=Zr-dr,M)}},effect:function(Q){var M=Q.state,Y=Q.options.element,se=Y===void 0?"[data-popper-arrow]":Y;se!=null&&(typeof se!="string"||(se=M.elements.popper.querySelector(se)))&&Dt(M.elements.popper,se)&&(M.elements.arrow=se)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function nn(Q){return Q.split("-")[1]}var Vn={top:"auto",right:"auto",bottom:"auto",left:"auto"};function za(Q){var M,Y=Q.popper,se=Q.popperRect,Ie=Q.placement,Ce=Q.variation,we=Q.offsets,Pe=Q.position,We=Q.gpuAcceleration,Qe=Q.adaptive,rt=Q.roundOffsets,xt=Q.isFixed,$t=we.x,Qt=$t===void 0?0:$t,jt=we.y,vr=jt===void 0?0:jt,xr=typeof rt=="function"?rt({x:Qt,y:vr}):{x:Qt,y:vr};Qt=xr.x,vr=xr.y;var Br=we.hasOwnProperty("x"),Or=we.hasOwnProperty("y"),Ir=at,Yr=ft,dr=window;if(Qe){var Zr=$a(Y),Sn="clientHeight",un="clientWidth";Zr===Mr(Y)&&yr(Zr=En(Y)).position!=="static"&&Pe==="absolute"&&(Sn="scrollHeight",un="scrollWidth"),(Ie===ft||(Ie===at||Ie===$e)&&Ce===qt)&&(Yr=ot,vr-=(xt&&Zr===dr&&dr.visualViewport?dr.visualViewport.height:Zr[Sn])-se.height,vr*=We?1:-1),Ie!==at&&(Ie!==ft&&Ie!==ot||Ce!==qt)||(Ir=$e,Qt-=(xt&&Zr===dr&&dr.visualViewport?dr.visualViewport.width:Zr[un])-se.width,Qt*=We?1:-1)}var pn,ln=Object.assign({position:Pe},Qe&&Vn),ma=rt===!0?function(Ca,Fn){var oa=Ca.x,pa=Ca.y,Un=Fn.devicePixelRatio||1;return{x:cn(oa*Un)/Un||0,y:cn(pa*Un)/Un||0}}({x:Qt,y:vr},Mr(Y)):{x:Qt,y:vr};return Qt=ma.x,vr=ma.y,We?Object.assign({},ln,((pn={})[Yr]=Or?"0":"",pn[Ir]=Br?"0":"",pn.transform=(dr.devicePixelRatio||1)<=1?"translate("+Qt+"px, "+vr+"px)":"translate3d("+Qt+"px, "+vr+"px, 0)",pn)):Object.assign({},ln,((M={})[Yr]=Or?vr+"px":"",M[Ir]=Br?Qt+"px":"",M.transform="",M))}const io={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(Q){var M=Q.state,Y=Q.options,se=Y.gpuAcceleration,Ie=se===void 0||se,Ce=Y.adaptive,we=Ce===void 0||Ce,Pe=Y.roundOffsets,We=Pe===void 0||Pe,Qe={placement:Tn(M.placement),variation:nn(M.placement),popper:M.elements.popper,popperRect:M.rects.popper,gpuAcceleration:Ie,isFixed:M.options.strategy==="fixed"};M.modifiersData.popperOffsets!=null&&(M.styles.popper=Object.assign({},M.styles.popper,za(Object.assign({},Qe,{offsets:M.modifiersData.popperOffsets,position:M.options.strategy,adaptive:we,roundOffsets:We})))),M.modifiersData.arrow!=null&&(M.styles.arrow=Object.assign({},M.styles.arrow,za(Object.assign({},Qe,{offsets:M.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:We})))),M.attributes.popper=Object.assign({},M.attributes.popper,{"data-popper-placement":M.placement})},data:{}};var hi={passive:!0};const rl={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(Q){var M=Q.state,Y=Q.instance,se=Q.options,Ie=se.scroll,Ce=Ie===void 0||Ie,we=se.resize,Pe=we===void 0||we,We=Mr(M.elements.popper),Qe=[].concat(M.scrollParents.reference,M.scrollParents.popper);return Ce&&Qe.forEach(function(rt){rt.addEventListener("scroll",Y.update,hi)}),Pe&&We.addEventListener("resize",Y.update,hi),function(){Ce&&Qe.forEach(function(rt){rt.removeEventListener("scroll",Y.update,hi)}),Pe&&We.removeEventListener("resize",Y.update,hi)}},data:{}};var Ii={left:"right",right:"left",bottom:"top",top:"bottom"};function ho(Q){return Q.replace(/left|right|bottom|top/g,function(M){return Ii[M]})}var so={start:"end",end:"start"};function Ms(Q){return Q.replace(/start|end/g,function(M){return so[M]})}function hs(Q){var M=Mr(Q);return{scrollLeft:M.pageXOffset,scrollTop:M.pageYOffset}}function vs(Q){return Xt(En(Q)).left+hs(Q).scrollLeft}function Gi(Q){var M=yr(Q),Y=M.overflow,se=M.overflowX,Ie=M.overflowY;return/auto|scroll|overlay|hidden/.test(Y+Ie+se)}function Ds(Q){return["html","body","#document"].indexOf(Vr(Q))>=0?Q.ownerDocument.body:Pn(Q)&&Gi(Q)?Q:Ds(Dn(Q))}function _i(Q,M){var Y;M===void 0&&(M=[]);var se=Ds(Q),Ie=se===((Y=Q.ownerDocument)==null?void 0:Y.body),Ce=Mr(se),we=Ie?[Ce].concat(Ce.visualViewport||[],Gi(se)?se:[]):se,Pe=M.concat(we);return Ie?Pe:Pe.concat(_i(Dn(we)))}function Zo(Q){return Object.assign({},Q,{left:Q.x,top:Q.y,right:Q.x+Q.width,bottom:Q.y+Q.height})}function Qo(Q,M,Y){return M===Pr?Zo(function(se,Ie){var Ce=Mr(se),we=En(se),Pe=Ce.visualViewport,We=we.clientWidth,Qe=we.clientHeight,rt=0,xt=0;if(Pe){We=Pe.width,Qe=Pe.height;var $t=Co();($t||!$t&&Ie==="fixed")&&(rt=Pe.offsetLeft,xt=Pe.offsetTop)}return{width:We,height:Qe,x:rt+vs(se),y:xt}}(Q,Y)):on(M)?function(se,Ie){var Ce=Xt(se,!1,Ie==="fixed");return Ce.top=Ce.top+se.clientTop,Ce.left=Ce.left+se.clientLeft,Ce.bottom=Ce.top+se.clientHeight,Ce.right=Ce.left+se.clientWidth,Ce.width=se.clientWidth,Ce.height=se.clientHeight,Ce.x=Ce.left,Ce.y=Ce.top,Ce}(M,Y):Zo(function(se){var Ie,Ce=En(se),we=hs(se),Pe=(Ie=se.ownerDocument)==null?void 0:Ie.body,We=sn(Ce.scrollWidth,Ce.clientWidth,Pe?Pe.scrollWidth:0,Pe?Pe.clientWidth:0),Qe=sn(Ce.scrollHeight,Ce.clientHeight,Pe?Pe.scrollHeight:0,Pe?Pe.clientHeight:0),rt=-we.scrollLeft+vs(se),xt=-we.scrollTop;return yr(Pe||Ce).direction==="rtl"&&(rt+=sn(Ce.clientWidth,Pe?Pe.clientWidth:0)-We),{width:We,height:Qe,x:rt,y:xt}}(En(Q)))}function ei(Q){var M,Y=Q.reference,se=Q.element,Ie=Q.placement,Ce=Ie?Tn(Ie):null,we=Ie?nn(Ie):null,Pe=Y.x+Y.width/2-se.width/2,We=Y.y+Y.height/2-se.height/2;switch(Ce){case ft:M={x:Pe,y:Y.y-se.height};break;case ot:M={x:Pe,y:Y.y+Y.height};break;case $e:M={x:Y.x+Y.width,y:We};break;case at:M={x:Y.x-se.width,y:We};break;default:M={x:Y.x,y:Y.y}}var Qe=Ce?Pt(Ce):null;if(Qe!=null){var rt=Qe==="y"?"height":"width";switch(we){case or:M[Qe]=M[Qe]-(Y[rt]/2-se[rt]/2);break;case qt:M[Qe]=M[Qe]+(Y[rt]/2-se[rt]/2)}}return M}function uo(Q,M){M===void 0&&(M={});var Y=M,se=Y.placement,Ie=se===void 0?Q.placement:se,Ce=Y.strategy,we=Ce===void 0?Q.strategy:Ce,Pe=Y.boundary,We=Pe===void 0?br:Pe,Qe=Y.rootBoundary,rt=Qe===void 0?Pr:Qe,xt=Y.elementContext,$t=xt===void 0?Rr:xt,Qt=Y.altBoundary,jt=Qt!==void 0&&Qt,vr=Y.padding,xr=vr===void 0?0:vr,Br=lt(typeof xr!="number"?xr:Vt(xr,Ht)),Or=$t===Rr?Ze:Rr,Ir=Q.rects.popper,Yr=Q.elements[jt?Or:$t],dr=function(Fn,oa,pa,Un){var ro=oa==="clippingParents"?function(Wn){var Ua=_i(Dn(Wn)),On=["absolute","fixed"].indexOf(yr(Wn).position)>=0&&Pn(Wn)?$a(Wn):Wn;return on(On)?Ua.filter(function(_o){return on(_o)&&Dt(_o,On)&&Vr(_o)!=="body"}):[]}(Fn):[].concat(oa),Xn=[].concat(ro,[pa]),_a=Xn[0],ia=Xn.reduce(function(Wn,Ua){var On=Qo(Fn,Ua,Un);return Wn.top=sn(On.top,Wn.top),Wn.right=Sa(On.right,Wn.right),Wn.bottom=Sa(On.bottom,Wn.bottom),Wn.left=sn(On.left,Wn.left),Wn},Qo(Fn,_a,Un));return ia.width=ia.right-ia.left,ia.height=ia.bottom-ia.top,ia.x=ia.left,ia.y=ia.top,ia}(on(Yr)?Yr:Yr.contextElement||En(Q.elements.popper),We,rt,we),Zr=Xt(Q.elements.reference),Sn=ei({reference:Zr,element:Ir,placement:Ie}),un=Zo(Object.assign({},Ir,Sn)),pn=$t===Rr?un:Zr,ln={top:dr.top-pn.top+Br.top,bottom:pn.bottom-dr.bottom+Br.bottom,left:dr.left-pn.left+Br.left,right:pn.right-dr.right+Br.right},ma=Q.modifiersData.offset;if($t===Rr&&ma){var Ca=ma[Ie];Object.keys(ln).forEach(function(Fn){var oa=[$e,ot].indexOf(Fn)>=0?1:-1,pa=[ft,ot].indexOf(Fn)>=0?"y":"x";ln[Fn]+=Ca[pa]*oa})}return ln}function Hc(Q,M){M===void 0&&(M={});var Y=M,se=Y.placement,Ie=Y.boundary,Ce=Y.rootBoundary,we=Y.padding,Pe=Y.flipVariations,We=Y.allowedAutoPlacements,Qe=We===void 0?Se:We,rt=nn(se),xt=rt?Pe?ae:ae.filter(function(jt){return nn(jt)===rt}):Ht,$t=xt.filter(function(jt){return Qe.indexOf(jt)>=0});$t.length===0&&($t=xt);var Qt=$t.reduce(function(jt,vr){return jt[vr]=uo(Q,{placement:vr,boundary:Ie,rootBoundary:Ce,padding:we})[Tn(vr)],jt},{});return Object.keys(Qt).sort(function(jt,vr){return Qt[jt]-Qt[vr]})}const ti={name:"flip",enabled:!0,phase:"main",fn:function(Q){var M=Q.state,Y=Q.options,se=Q.name;if(!M.modifiersData[se]._skip){for(var Ie=Y.mainAxis,Ce=Ie===void 0||Ie,we=Y.altAxis,Pe=we===void 0||we,We=Y.fallbackPlacements,Qe=Y.padding,rt=Y.boundary,xt=Y.rootBoundary,$t=Y.altBoundary,Qt=Y.flipVariations,jt=Qt===void 0||Qt,vr=Y.allowedAutoPlacements,xr=M.options.placement,Br=Tn(xr),Or=We||(Br!==xr&&jt?function(Wn){if(Tn(Wn)===Rt)return[];var Ua=ho(Wn);return[Ms(Wn),Ua,Ms(Ua)]}(xr):[ho(xr)]),Ir=[xr].concat(Or).reduce(function(Wn,Ua){return Wn.concat(Tn(Ua)===Rt?Hc(M,{placement:Ua,boundary:rt,rootBoundary:xt,padding:Qe,flipVariations:jt,allowedAutoPlacements:vr}):Ua)},[]),Yr=M.rects.reference,dr=M.rects.popper,Zr=new Map,Sn=!0,un=Ir[0],pn=0;pn<Ir.length;pn++){var ln=Ir[pn],ma=Tn(ln),Ca=nn(ln)===or,Fn=[ft,ot].indexOf(ma)>=0,oa=Fn?"width":"height",pa=uo(M,{placement:ln,boundary:rt,rootBoundary:xt,altBoundary:$t,padding:Qe}),Un=Fn?Ca?$e:at:Ca?ot:ft;Yr[oa]>dr[oa]&&(Un=ho(Un));var ro=ho(Un),Xn=[];if(Ce&&Xn.push(pa[ma]<=0),Pe&&Xn.push(pa[Un]<=0,pa[ro]<=0),Xn.every(function(Wn){return Wn})){un=ln,Sn=!1;break}Zr.set(ln,Xn)}if(Sn)for(var _a=function(Wn){var Ua=Ir.find(function(On){var _o=Zr.get(On);if(_o)return _o.slice(0,Wn).every(function(vc){return vc})});if(Ua)return un=Ua,"break"},ia=jt?3:1;ia>0&&_a(ia)!=="break";ia--);M.placement!==un&&(M.modifiersData[se]._skip=!0,M.placement=un,M.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Po(Q,M,Y){return Y===void 0&&(Y={x:0,y:0}),{top:Q.top-M.height-Y.y,right:Q.right-M.width+Y.x,bottom:Q.bottom-M.height+Y.y,left:Q.left-M.width-Y.x}}function nl(Q){return[ft,$e,ot,at].some(function(M){return Q[M]>=0})}const Ha={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(Q){var M=Q.state,Y=Q.name,se=M.rects.reference,Ie=M.rects.popper,Ce=M.modifiersData.preventOverflow,we=uo(M,{elementContext:"reference"}),Pe=uo(M,{altBoundary:!0}),We=Po(we,se),Qe=Po(Pe,Ie,Ce),rt=nl(We),xt=nl(Qe);M.modifiersData[Y]={referenceClippingOffsets:We,popperEscapeOffsets:Qe,isReferenceHidden:rt,hasPopperEscaped:xt},M.attributes.popper=Object.assign({},M.attributes.popper,{"data-popper-reference-hidden":rt,"data-popper-escaped":xt})}},No={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(Q){var M=Q.state,Y=Q.options,se=Q.name,Ie=Y.offset,Ce=Ie===void 0?[0,0]:Ie,we=Se.reduce(function(rt,xt){return rt[xt]=function($t,Qt,jt){var vr=Tn($t),xr=[at,ft].indexOf(vr)>=0?-1:1,Br=typeof jt=="function"?jt(Object.assign({},Qt,{placement:$t})):jt,Or=Br[0],Ir=Br[1];return Or=Or||0,Ir=(Ir||0)*xr,[at,$e].indexOf(vr)>=0?{x:Ir,y:Or}:{x:Or,y:Ir}}(xt,M.rects,Ce),rt},{}),Pe=we[M.placement],We=Pe.x,Qe=Pe.y;M.modifiersData.popperOffsets!=null&&(M.modifiersData.popperOffsets.x+=We,M.modifiersData.popperOffsets.y+=Qe),M.modifiersData[se]=we}},vo={name:"popperOffsets",enabled:!0,phase:"read",fn:function(Q){var M=Q.state,Y=Q.name;M.modifiersData[Y]=ei({reference:M.rects.reference,element:M.rects.popper,placement:M.placement})},data:{}},Ki={name:"preventOverflow",enabled:!0,phase:"main",fn:function(Q){var M=Q.state,Y=Q.options,se=Q.name,Ie=Y.mainAxis,Ce=Ie===void 0||Ie,we=Y.altAxis,Pe=we!==void 0&&we,We=Y.boundary,Qe=Y.rootBoundary,rt=Y.altBoundary,xt=Y.padding,$t=Y.tether,Qt=$t===void 0||$t,jt=Y.tetherOffset,vr=jt===void 0?0:jt,xr=uo(M,{boundary:We,rootBoundary:Qe,padding:xt,altBoundary:rt}),Br=Tn(M.placement),Or=nn(M.placement),Ir=!Or,Yr=Pt(Br),dr=Yr==="x"?"y":"x",Zr=M.modifiersData.popperOffsets,Sn=M.rects.reference,un=M.rects.popper,pn=typeof vr=="function"?vr(Object.assign({},M.rects,{placement:M.placement})):vr,ln=typeof pn=="number"?{mainAxis:pn,altAxis:pn}:Object.assign({mainAxis:0,altAxis:0},pn),ma=M.modifiersData.offset?M.modifiersData.offset[M.placement]:null,Ca={x:0,y:0};if(Zr){if(Ce){var Fn,oa=Yr==="y"?ft:at,pa=Yr==="y"?ot:$e,Un=Yr==="y"?"height":"width",ro=Zr[Yr],Xn=ro+xr[oa],_a=ro-xr[pa],ia=Qt?-un[Un]/2:0,Wn=Or===or?Sn[Un]:un[Un],Ua=Or===or?-un[Un]:-Sn[Un],On=M.elements.arrow,_o=Qt&&On?Le(On):{width:0,height:0},vc=M.modifiersData["arrow#persistent"]?M.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},ld=vc[oa],$i=vc[pa],si=De(0,Sn[Un],_o[Un]),bc=Ir?Sn[Un]/2-ia-si-ld-ln.mainAxis:Wn-si-ld-ln.mainAxis,es=Ir?-Sn[Un]/2+ia+si+$i+ln.mainAxis:Ua+si+$i+ln.mainAxis,Es=M.elements.arrow&&$a(M.elements.arrow),yc=Es?Yr==="y"?Es.clientTop||0:Es.clientLeft||0:0,Ec=(Fn=ma==null?void 0:ma[Yr])!=null?Fn:0,zi=ro+es-Ec,xc=De(Qt?Sa(Xn,ro+bc-Ec-yc):Xn,ro,Qt?sn(_a,zi):_a);Zr[Yr]=xc,Ca[Yr]=xc-ro}if(Pe){var vl,bl=Yr==="x"?ft:at,ru=Yr==="x"?ot:$e,Ho=Zr[dr],Pu=dr==="y"?"height":"width",cd=Ho+xr[bl],Pa=Ho-xr[ru],Bi=[ft,at].indexOf(Br)!==-1,ud=(vl=ma==null?void 0:ma[dr])!=null?vl:0,dd=Bi?cd:Ho-Sn[Pu]-un[Pu]-ud+ln.altAxis,Nu=Bi?Ho+Sn[Pu]+un[Pu]-ud-ln.altAxis:Pa,ku=Qt&&Bi?function(Hs,ja,Ya){var Ja=De(Hs,ja,Ya);return Ja>Ya?Ya:Ja}(dd,Ho,Nu):De(Qt?dd:cd,Ho,Qt?Nu:Pa);Zr[dr]=ku,Ca[dr]=ku-Ho}M.modifiersData[se]=Ca}},requiresIfExists:["offset"]};function ac(Q,M,Y){Y===void 0&&(Y=!1);var se,Ie,Ce=Pn(M),we=Pn(M)&&function(xt){var $t=xt.getBoundingClientRect(),Qt=cn($t.width)/xt.offsetWidth||1,jt=cn($t.height)/xt.offsetHeight||1;return Qt!==1||jt!==1}(M),Pe=En(M),We=Xt(Q,we,Y),Qe={scrollLeft:0,scrollTop:0},rt={x:0,y:0};return(Ce||!Ce&&!Y)&&((Vr(M)!=="body"||Gi(Pe))&&(Qe=(se=M)!==Mr(se)&&Pn(se)?{scrollLeft:(Ie=se).scrollLeft,scrollTop:Ie.scrollTop}:hs(se)),Pn(M)?((rt=Xt(M,!0)).x+=M.clientLeft,rt.y+=M.clientTop):Pe&&(rt.x=vs(Pe))),{x:We.left+Qe.scrollLeft-rt.x,y:We.top+Qe.scrollTop-rt.y,width:We.width,height:We.height}}function al(Q){var M=new Map,Y=new Set,se=[];function Ie(Ce){Y.add(Ce.name),[].concat(Ce.requires||[],Ce.requiresIfExists||[]).forEach(function(we){if(!Y.has(we)){var Pe=M.get(we);Pe&&Ie(Pe)}}),se.push(Ce)}return Q.forEach(function(Ce){M.set(Ce.name,Ce)}),Q.forEach(function(Ce){Y.has(Ce.name)||Ie(Ce)}),se}var ol={placement:"bottom",modifiers:[],strategy:"absolute"};function Li(){for(var Q=arguments.length,M=new Array(Q),Y=0;Y<Q;Y++)M[Y]=arguments[Y];return!M.some(function(se){return!(se&&typeof se.getBoundingClientRect=="function")})}function Ti(Q){Q===void 0&&(Q={});var M=Q,Y=M.defaultModifiers,se=Y===void 0?[]:Y,Ie=M.defaultOptions,Ce=Ie===void 0?ol:Ie;return function(we,Pe,We){We===void 0&&(We=Ce);var Qe,rt,xt={placement:"bottom",orderedModifiers:[],options:Object.assign({},ol,Ce),modifiersData:{},elements:{reference:we,popper:Pe},attributes:{},styles:{}},$t=[],Qt=!1,jt={state:xt,setOptions:function(xr){var Br=typeof xr=="function"?xr(xt.options):xr;vr(),xt.options=Object.assign({},Ce,xt.options,Br),xt.scrollParents={reference:on(we)?_i(we):we.contextElement?_i(we.contextElement):[],popper:_i(Pe)};var Or,Ir,Yr=function(dr){var Zr=al(dr);return kr.reduce(function(Sn,un){return Sn.concat(Zr.filter(function(pn){return pn.phase===un}))},[])}((Or=[].concat(se,xt.options.modifiers),Ir=Or.reduce(function(dr,Zr){var Sn=dr[Zr.name];return dr[Zr.name]=Sn?Object.assign({},Sn,Zr,{options:Object.assign({},Sn.options,Zr.options),data:Object.assign({},Sn.data,Zr.data)}):Zr,dr},{}),Object.keys(Ir).map(function(dr){return Ir[dr]})));return xt.orderedModifiers=Yr.filter(function(dr){return dr.enabled}),xt.orderedModifiers.forEach(function(dr){var Zr=dr.name,Sn=dr.options,un=Sn===void 0?{}:Sn,pn=dr.effect;if(typeof pn=="function"){var ln=pn({state:xt,name:Zr,instance:jt,options:un});$t.push(ln||function(){})}}),jt.update()},forceUpdate:function(){if(!Qt){var xr=xt.elements,Br=xr.reference,Or=xr.popper;if(Li(Br,Or)){xt.rects={reference:ac(Br,$a(Or),xt.options.strategy==="fixed"),popper:Le(Or)},xt.reset=!1,xt.placement=xt.options.placement,xt.orderedModifiers.forEach(function(pn){return xt.modifiersData[pn.name]=Object.assign({},pn.data)});for(var Ir=0;Ir<xt.orderedModifiers.length;Ir++)if(xt.reset!==!0){var Yr=xt.orderedModifiers[Ir],dr=Yr.fn,Zr=Yr.options,Sn=Zr===void 0?{}:Zr,un=Yr.name;typeof dr=="function"&&(xt=dr({state:xt,options:Sn,name:un,instance:jt})||xt)}else xt.reset=!1,Ir=-1}}},update:(Qe=function(){return new Promise(function(xr){jt.forceUpdate(),xr(xt)})},function(){return rt||(rt=new Promise(function(xr){Promise.resolve().then(function(){rt=void 0,xr(Qe())})})),rt}),destroy:function(){vr(),Qt=!0}};if(!Li(we,Pe))return jt;function vr(){$t.forEach(function(xr){return xr()}),$t=[]}return jt.setOptions(We).then(function(xr){!Qt&&We.onFirstUpdate&&We.onFirstUpdate(xr)}),jt}}var Tl=Ti(),Wc=Ti({defaultModifiers:[rl,vo,io,ra]}),Rl=Ti({defaultModifiers:[rl,vo,io,ra,No,ti,Ki,Dr,Ha]});const il=Object.freeze(Object.defineProperty({__proto__:null,afterMain:Cr,afterRead:pt,afterWrite:Mn,applyStyles:ra,arrow:Dr,auto:Rt,basePlacements:Ht,beforeMain:Bt,beforeRead:Ue,beforeWrite:qr,bottom:ot,clippingParents:br,computeStyles:io,createPopper:Rl,createPopperBase:Tl,createPopperLite:Wc,detectOverflow:uo,end:qt,eventListeners:rl,flip:ti,hide:Ha,left:at,main:ar,modifierPhases:kr,offset:No,placements:Se,popper:Rr,popperGenerator:Ti,popperOffsets:vo,preventOverflow:Ki,read:tt,reference:Ze,right:$e,start:or,top:ft,variationPlacements:ae,viewport:Pr,write:Rn},Symbol.toStringTag,{value:"Module"})),Yi="dropdown",Ri=".bs.dropdown",Ji=".data-api",sl="ArrowUp",q="ArrowDown",fe=`hide${Ri}`,je=`hidden${Ri}`,Ve=`show${Ri}`,it=`shown${Ri}`,It=`click${Ri}${Ji}`,Zt=`keydown${Ri}${Ji}`,Er=`keyup${Ri}${Ji}`,jr="show",an='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',hn=`${an}.${jr}`,_n=".dropdown-menu",Ia=b()?"top-end":"top-start",Da=b()?"top-start":"top-end",Mt=b()?"bottom-end":"bottom-start",Me=b()?"bottom-start":"bottom-end",Je=b()?"left-start":"right-start",yt=b()?"right-start":"left-start",Lt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},Wt={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Tt extends me{constructor(M,Y){super(M,Y),this._popper=null,this._parent=this._element.parentNode,this._menu=oe.next(this._element,_n)[0]||oe.prev(this._element,_n)[0]||oe.findOne(_n,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return Lt}static get DefaultType(){return Wt}static get NAME(){return Yi}toggle(){return this._isShown()?this.hide():this.show()}show(){if(f(this._element)||this._isShown())return;const M={relatedTarget:this._element};if(!W.trigger(this._element,Ve,M).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const Y of[].concat(...document.body.children))W.on(Y,"mouseover",v);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(jr),this._element.classList.add(jr),W.trigger(this._element,it,M)}}hide(){if(f(this._element)||!this._isShown())return;const M={relatedTarget:this._element};this._completeHide(M)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(M){if(!W.trigger(this._element,fe,M).defaultPrevented){if("ontouchstart"in document.documentElement)for(const Y of[].concat(...document.body.children))W.off(Y,"mouseover",v);this._popper&&this._popper.destroy(),this._menu.classList.remove(jr),this._element.classList.remove(jr),this._element.setAttribute("aria-expanded","false"),X.removeDataAttribute(this._menu,"popper"),W.trigger(this._element,je,M),this._element.focus()}}_getConfig(M){if(typeof(M=super._getConfig(M)).reference=="object"&&!l(M.reference)&&typeof M.reference.getBoundingClientRect!="function")throw new TypeError(`${Yi.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return M}_createPopper(){if(il===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let M=this._element;this._config.reference==="parent"?M=this._parent:l(this._config.reference)?M=c(this._config.reference):typeof this._config.reference=="object"&&(M=this._config.reference);const Y=this._getPopperConfig();this._popper=Rl(M,this._menu,Y)}_isShown(){return this._menu.classList.contains(jr)}_getPlacement(){const M=this._parent;if(M.classList.contains("dropend"))return Je;if(M.classList.contains("dropstart"))return yt;if(M.classList.contains("dropup-center"))return"top";if(M.classList.contains("dropdown-center"))return"bottom";const Y=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return M.classList.contains("dropup")?Y?Da:Ia:Y?Me:Mt}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:M}=this._config;return typeof M=="string"?M.split(",").map(Y=>Number.parseInt(Y,10)):typeof M=="function"?Y=>M(Y,this._element):M}_getPopperConfig(){const M={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(X.setDataAttribute(this._menu,"popper","static"),M.modifiers=[{name:"applyStyles",enabled:!1}]),{...M,...w(this._config.popperConfig,[void 0,M])}}_selectMenuItem({key:M,target:Y}){const se=oe.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(Ie=>u(Ie));se.length&&I(se,Y,M===q,!se.includes(Y)).focus()}static jQueryInterface(M){return this.each(function(){const Y=Tt.getOrCreateInstance(this,M);if(typeof M=="string"){if(Y[M]===void 0)throw new TypeError(`No method named "${M}"`);Y[M]()}})}static clearMenus(M){if(M.button===2||M.type==="keyup"&&M.key!=="Tab")return;const Y=oe.find(hn);for(const se of Y){const Ie=Tt.getInstance(se);if(!Ie||Ie._config.autoClose===!1)continue;const Ce=M.composedPath(),we=Ce.includes(Ie._menu);if(Ce.includes(Ie._element)||Ie._config.autoClose==="inside"&&!we||Ie._config.autoClose==="outside"&&we||Ie._menu.contains(M.target)&&(M.type==="keyup"&&M.key==="Tab"||/input|select|option|textarea|form/i.test(M.target.tagName)))continue;const Pe={relatedTarget:Ie._element};M.type==="click"&&(Pe.clickEvent=M),Ie._completeHide(Pe)}}static dataApiKeydownHandler(M){const Y=/input|textarea/i.test(M.target.tagName),se=M.key==="Escape",Ie=[sl,q].includes(M.key);if(!Ie&&!se||Y&&!se)return;M.preventDefault();const Ce=this.matches(an)?this:oe.prev(this,an)[0]||oe.next(this,an)[0]||oe.findOne(an,M.delegateTarget.parentNode),we=Tt.getOrCreateInstance(Ce);if(Ie)return M.stopPropagation(),we.show(),void we._selectMenuItem(M);we._isShown()&&(M.stopPropagation(),we.hide(),Ce.focus())}}W.on(document,Zt,an,Tt.dataApiKeydownHandler),W.on(document,Zt,_n,Tt.dataApiKeydownHandler),W.on(document,It,Tt.clearMenus),W.on(document,Er,Tt.clearMenus),W.on(document,It,an,function(Q){Q.preventDefault(),Tt.getOrCreateInstance(this).toggle()}),x(Tt);const tr="backdrop",ur="show",Nr=`mousedown.bs.${tr}`,Xr={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Nn={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class jn extends Z{constructor(M){super(),this._config=this._getConfig(M),this._isAppended=!1,this._element=null}static get Default(){return Xr}static get DefaultType(){return Nn}static get NAME(){return tr}show(M){if(!this._config.isVisible)return void w(M);this._append();const Y=this._getElement();this._config.isAnimated&&h(Y),Y.classList.add(ur),this._emulateAnimation(()=>{w(M)})}hide(M){this._config.isVisible?(this._getElement().classList.remove(ur),this._emulateAnimation(()=>{this.dispose(),w(M)})):w(M)}dispose(){this._isAppended&&(W.off(this._element,Nr),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const M=document.createElement("div");M.className=this._config.className,this._config.isAnimated&&M.classList.add("fade"),this._element=M}return this._element}_configAfterMerge(M){return M.rootElement=c(M.rootElement),M}_append(){if(this._isAppended)return;const M=this._getElement();this._config.rootElement.append(M),W.on(M,Nr,()=>{w(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(M){N(M,this._getElement(),this._config.isAnimated)}}const tn=".bs.focustrap",Wa=`focusin${tn}`,$o=`keydown.tab${tn}`,zo="backward",Ga={autofocus:!0,trapElement:null},da={autofocus:"boolean",trapElement:"element"};class vi extends Z{constructor(M){super(),this._config=this._getConfig(M),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Ga}static get DefaultType(){return da}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),W.off(document,tn),W.on(document,Wa,M=>this._handleFocusin(M)),W.on(document,$o,M=>this._handleKeydown(M)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,W.off(document,tn))}_handleFocusin(M){const{trapElement:Y}=this._config;if(M.target===document||M.target===Y||Y.contains(M.target))return;const se=oe.focusableChildren(Y);se.length===0?Y.focus():this._lastTabNavDirection===zo?se[se.length-1].focus():se[0].focus()}_handleKeydown(M){M.key==="Tab"&&(this._lastTabNavDirection=M.shiftKey?zo:"forward")}}const Xi=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ll=".sticky-top",Ba="padding-right",oc="margin-right";class ic{constructor(){this._element=document.body}getWidth(){const M=document.documentElement.clientWidth;return Math.abs(window.innerWidth-M)}hide(){const M=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Ba,Y=>Y+M),this._setElementAttributes(Xi,Ba,Y=>Y+M),this._setElementAttributes(ll,oc,Y=>Y-M)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Ba),this._resetElementAttributes(Xi,Ba),this._resetElementAttributes(ll,oc)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(M,Y,se){const Ie=this.getWidth();this._applyManipulationCallback(M,Ce=>{if(Ce!==this._element&&window.innerWidth>Ce.clientWidth+Ie)return;this._saveInitialAttribute(Ce,Y);const we=window.getComputedStyle(Ce).getPropertyValue(Y);Ce.style.setProperty(Y,`${se(Number.parseFloat(we))}px`)})}_saveInitialAttribute(M,Y){const se=M.style.getPropertyValue(Y);se&&X.setDataAttribute(M,Y,se)}_resetElementAttributes(M,Y){this._applyManipulationCallback(M,se=>{const Ie=X.getDataAttribute(se,Y);Ie!==null?(X.removeDataAttribute(se,Y),se.style.setProperty(Y,Ie)):se.style.removeProperty(Y)})}_applyManipulationCallback(M,Y){if(l(M))Y(M);else for(const se of oe.find(M,this._element))Y(se)}}const ko=".bs.modal",js=`hide${ko}`,Ml=`hidePrevented${ko}`,Bo=`hidden${ko}`,Ao=`show${ko}`,Dl=`shown${ko}`,cl=`resize${ko}`,ul=`click.dismiss${ko}`,Gc=`mousedown.dismiss${ko}`,dl=`keydown.dismiss${ko}`,Qn=`click${ko}.data-api`,Fs="modal-open",Oo="show",ri="modal-static",sc={backdrop:!0,focus:!0,keyboard:!0},xu={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class Mi extends me{constructor(M,Y){super(M,Y),this._dialog=oe.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ic,this._addEventListeners()}static get Default(){return sc}static get DefaultType(){return xu}static get NAME(){return"modal"}toggle(M){return this._isShown?this.hide():this.show(M)}show(M){this._isShown||this._isTransitioning||W.trigger(this._element,Ao,{relatedTarget:M}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(Fs),this._adjustDialog(),this._backdrop.show(()=>this._showElement(M)))}hide(){this._isShown&&!this._isTransitioning&&(W.trigger(this._element,js).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Oo),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){W.off(window,ko),W.off(this._dialog,ko),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new jn({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new vi({trapElement:this._element})}_showElement(M){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const Y=oe.findOne(".modal-body",this._dialog);Y&&(Y.scrollTop=0),h(this._element),this._element.classList.add(Oo),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,W.trigger(this._element,Dl,{relatedTarget:M})},this._dialog,this._isAnimated())}_addEventListeners(){W.on(this._element,dl,M=>{M.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),W.on(window,cl,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),W.on(this._element,Gc,M=>{W.one(this._element,ul,Y=>{this._element===M.target&&this._element===Y.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(Fs),this._resetAdjustments(),this._scrollBar.reset(),W.trigger(this._element,Bo)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if(W.trigger(this._element,Ml).defaultPrevented)return;const M=this._element.scrollHeight>document.documentElement.clientHeight,Y=this._element.style.overflowY;Y==="hidden"||this._element.classList.contains(ri)||(M||(this._element.style.overflowY="hidden"),this._element.classList.add(ri),this._queueCallback(()=>{this._element.classList.remove(ri),this._queueCallback(()=>{this._element.style.overflowY=Y},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const M=this._element.scrollHeight>document.documentElement.clientHeight,Y=this._scrollBar.getWidth(),se=Y>0;if(se&&!M){const Ie=b()?"paddingLeft":"paddingRight";this._element.style[Ie]=`${Y}px`}if(!se&&M){const Ie=b()?"paddingRight":"paddingLeft";this._element.style[Ie]=`${Y}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(M,Y){return this.each(function(){const se=Mi.getOrCreateInstance(this,M);if(typeof M=="string"){if(se[M]===void 0)throw new TypeError(`No method named "${M}"`);se[M](Y)}})}}W.on(document,Qn,'[data-bs-toggle="modal"]',function(Q){const M=oe.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&Q.preventDefault(),W.one(M,Ao,se=>{se.defaultPrevented||W.one(M,Bo,()=>{u(this)&&this.focus()})});const Y=oe.findOne(".modal.show");Y&&Mi.getInstance(Y).hide(),Mi.getOrCreateInstance(M).toggle(this)}),ee(Mi),x(Mi);const ni=".bs.offcanvas",jl=".data-api",Di=`load${ni}${jl}`,$s="show",bs="showing",zs="hiding",Bs=".offcanvas.show",Fl=`show${ni}`,Io=`shown${ni}`,bi=`hide${ni}`,fa=`hidePrevented${ni}`,na=`hidden${ni}`,Ka=`resize${ni}`,lo=`click${ni}${jl}`,Us=`keydown.dismiss${ni}`,Kc={backdrop:!0,keyboard:!0,scroll:!1},lc={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class ji extends me{constructor(M,Y){super(M,Y),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return Kc}static get DefaultType(){return lc}static get NAME(){return"offcanvas"}toggle(M){return this._isShown?this.hide():this.show(M)}show(M){this._isShown||W.trigger(this._element,Fl,{relatedTarget:M}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new ic().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(bs),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add($s),this._element.classList.remove(bs),W.trigger(this._element,Io,{relatedTarget:M})},this._element,!0))}hide(){this._isShown&&(W.trigger(this._element,bi).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(zs),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove($s,zs),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ic().reset(),W.trigger(this._element,na)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const M=!!this._config.backdrop;return new jn({className:"offcanvas-backdrop",isVisible:M,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:M?()=>{this._config.backdrop!=="static"?this.hide():W.trigger(this._element,fa)}:null})}_initializeFocusTrap(){return new vi({trapElement:this._element})}_addEventListeners(){W.on(this._element,Us,M=>{M.key==="Escape"&&(this._config.keyboard?this.hide():W.trigger(this._element,fa))})}static jQueryInterface(M){return this.each(function(){const Y=ji.getOrCreateInstance(this,M);if(typeof M=="string"){if(Y[M]===void 0||M.startsWith("_")||M==="constructor")throw new TypeError(`No method named "${M}"`);Y[M](this)}})}}W.on(document,lo,'[data-bs-toggle="offcanvas"]',function(Q){const M=oe.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&Q.preventDefault(),f(this))return;W.one(M,na,()=>{u(this)&&this.focus()});const Y=oe.findOne(Bs);Y&&Y!==M&&ji.getInstance(Y).hide(),ji.getOrCreateInstance(M).toggle(this)}),W.on(window,Di,()=>{for(const Q of oe.find(Bs))ji.getOrCreateInstance(Q).show()}),W.on(window,Ka,()=>{for(const Q of oe.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(Q).position!=="fixed"&&ji.getOrCreateInstance(Q).hide()}),ee(ji),x(ji);const ys={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},Yc=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),ai=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,Zi=(Q,M)=>{const Y=Q.nodeName.toLowerCase();return M.includes(Y)?!Yc.has(Y)||!!ai.test(Q.nodeValue):M.filter(se=>se instanceof RegExp).some(se=>se.test(Y))},nd={allowList:ys,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},$l={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},om={entry:"(string|element|function|null)",selector:"(string|element)"};class wu extends Z{constructor(M){super(),this._config=this._getConfig(M)}static get Default(){return nd}static get DefaultType(){return $l}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(M=>this._resolvePossibleFunction(M)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(M){return this._checkContent(M),this._config.content={...this._config.content,...M},this}toHtml(){const M=document.createElement("div");M.innerHTML=this._maybeSanitize(this._config.template);for(const[Ie,Ce]of Object.entries(this._config.content))this._setContent(M,Ce,Ie);const Y=M.children[0],se=this._resolvePossibleFunction(this._config.extraClass);return se&&Y.classList.add(...se.split(" ")),Y}_typeCheckConfig(M){super._typeCheckConfig(M),this._checkContent(M.content)}_checkContent(M){for(const[Y,se]of Object.entries(M))super._typeCheckConfig({selector:Y,entry:se},om)}_setContent(M,Y,se){const Ie=oe.findOne(se,M);Ie&&((Y=this._resolvePossibleFunction(Y))?l(Y)?this._putElementInTemplate(c(Y),Ie):this._config.html?Ie.innerHTML=this._maybeSanitize(Y):Ie.textContent=Y:Ie.remove())}_maybeSanitize(M){return this._config.sanitize?function(Y,se,Ie){if(!Y.length)return Y;if(Ie&&typeof Ie=="function")return Ie(Y);const Ce=new window.DOMParser().parseFromString(Y,"text/html"),we=[].concat(...Ce.body.querySelectorAll("*"));for(const Pe of we){const We=Pe.nodeName.toLowerCase();if(!Object.keys(se).includes(We)){Pe.remove();continue}const Qe=[].concat(...Pe.attributes),rt=[].concat(se["*"]||[],se[We]||[]);for(const xt of Qe)Zi(xt,rt)||Pe.removeAttribute(xt.nodeName)}return Ce.body.innerHTML}(M,this._config.allowList,this._config.sanitizeFn):M}_resolvePossibleFunction(M){return w(M,[void 0,this])}_putElementInTemplate(M,Y){if(this._config.html)return Y.innerHTML="",void Y.append(M);Y.textContent=M.textContent}}const Su=new Set(["sanitize","allowList","sanitizeFn"]),ca="fade",cc="show",Jc=".tooltip-inner",zl=".modal",Xc="hide.bs.modal",fl="hover",uc="focus",ad={AUTO:"auto",TOP:"top",RIGHT:b()?"left":"right",BOTTOM:"bottom",LEFT:b()?"right":"left"},dc={allowList:ys,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},im={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class fc extends me{constructor(M,Y){if(il===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(M,Y),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return dc}static get DefaultType(){return im}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),W.off(this._element.closest(zl),Xc,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const M=W.trigger(this._element,this.constructor.eventName("show")),Y=(m(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(M.defaultPrevented||!Y)return;this._disposePopper();const se=this._getTipElement();this._element.setAttribute("aria-describedby",se.getAttribute("id"));const{container:Ie}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(Ie.append(se),W.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(se),se.classList.add(cc),"ontouchstart"in document.documentElement)for(const Ce of[].concat(...document.body.children))W.on(Ce,"mouseover",v);this._queueCallback(()=>{W.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!W.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(cc),"ontouchstart"in document.documentElement)for(const M of[].concat(...document.body.children))W.off(M,"mouseover",v);this._activeTrigger.click=!1,this._activeTrigger[uc]=!1,this._activeTrigger[fl]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),W.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(M){const Y=this._getTemplateFactory(M).toHtml();if(!Y)return null;Y.classList.remove(ca,cc),Y.classList.add(`bs-${this.constructor.NAME}-auto`);const se=(Ie=>{do Ie+=Math.floor(1e6*Math.random());while(document.getElementById(Ie));return Ie})(this.constructor.NAME).toString();return Y.setAttribute("id",se),this._isAnimated()&&Y.classList.add(ca),Y}setContent(M){this._newContent=M,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(M){return this._templateFactory?this._templateFactory.changeContent(M):this._templateFactory=new wu({...this._config,content:M,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[Jc]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(M){return this.constructor.getOrCreateInstance(M.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(ca)}_isShown(){return this.tip&&this.tip.classList.contains(cc)}_createPopper(M){const Y=w(this._config.placement,[this,M,this._element]),se=ad[Y.toUpperCase()];return Rl(this._element,M,this._getPopperConfig(se))}_getOffset(){const{offset:M}=this._config;return typeof M=="string"?M.split(",").map(Y=>Number.parseInt(Y,10)):typeof M=="function"?Y=>M(Y,this._element):M}_resolvePossibleFunction(M){return w(M,[this._element,this._element])}_getPopperConfig(M){const Y={placement:M,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:se=>{this._getTipElement().setAttribute("data-popper-placement",se.state.placement)}}]};return{...Y,...w(this._config.popperConfig,[void 0,Y])}}_setListeners(){const M=this._config.trigger.split(" ");for(const Y of M)if(Y==="click")W.on(this._element,this.constructor.eventName("click"),this._config.selector,se=>{this._initializeOnDelegatedTarget(se).toggle()});else if(Y!=="manual"){const se=Y===fl?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),Ie=Y===fl?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");W.on(this._element,se,this._config.selector,Ce=>{const we=this._initializeOnDelegatedTarget(Ce);we._activeTrigger[Ce.type==="focusin"?uc:fl]=!0,we._enter()}),W.on(this._element,Ie,this._config.selector,Ce=>{const we=this._initializeOnDelegatedTarget(Ce);we._activeTrigger[Ce.type==="focusout"?uc:fl]=we._element.contains(Ce.relatedTarget),we._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},W.on(this._element.closest(zl),Xc,this._hideModalHandler)}_fixTitle(){const M=this._element.getAttribute("title");M&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",M),this._element.setAttribute("data-bs-original-title",M),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(M,Y){clearTimeout(this._timeout),this._timeout=setTimeout(M,Y)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(M){const Y=X.getDataAttributes(this._element);for(const se of Object.keys(Y))Su.has(se)&&delete Y[se];return M={...Y,...typeof M=="object"&&M?M:{}},M=this._mergeConfigObj(M),M=this._configAfterMerge(M),this._typeCheckConfig(M),M}_configAfterMerge(M){return M.container=M.container===!1?document.body:c(M.container),typeof M.delay=="number"&&(M.delay={show:M.delay,hide:M.delay}),typeof M.title=="number"&&(M.title=M.title.toString()),typeof M.content=="number"&&(M.content=M.content.toString()),M}_getDelegateConfig(){const M={};for(const[Y,se]of Object.entries(this._config))this.constructor.Default[Y]!==se&&(M[Y]=se);return M.selector=!1,M.trigger="manual",M}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(M){return this.each(function(){const Y=fc.getOrCreateInstance(this,M);if(typeof M=="string"){if(Y[M]===void 0)throw new TypeError(`No method named "${M}"`);Y[M]()}})}}x(fc);const Gp=".popover-header",sm=".popover-body",od={...fc.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Zc={...fc.DefaultType,content:"(null|string|element|function)"};class Bl extends fc{static get Default(){return od}static get DefaultType(){return Zc}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Gp]:this._getTitle(),[sm]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(M){return this.each(function(){const Y=Bl.getOrCreateInstance(this,M);if(typeof M=="string"){if(Y[M]===void 0)throw new TypeError(`No method named "${M}"`);Y[M]()}})}}x(Bl);const ml=".bs.scrollspy",Xd=`activate${ml}`,id=`click${ml}`,lm=`load${ml}.data-api`,mc="active",Zd="[href]",cm=".nav-link",Qd=`${cm}, .nav-item > ${cm}, .list-group-item`,oi={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Qi={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class bo extends me{constructor(M,Y){super(M,Y),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return oi}static get DefaultType(){return Qi}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const M of this._observableSections.values())this._observer.observe(M)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(M){return M.target=c(M.target)||document.body,M.rootMargin=M.offset?`${M.offset}px 0px -30%`:M.rootMargin,typeof M.threshold=="string"&&(M.threshold=M.threshold.split(",").map(Y=>Number.parseFloat(Y))),M}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(W.off(this._config.target,id),W.on(this._config.target,id,Zd,M=>{const Y=this._observableSections.get(M.target.hash);if(Y){M.preventDefault();const se=this._rootElement||window,Ie=Y.offsetTop-this._element.offsetTop;if(se.scrollTo)return void se.scrollTo({top:Ie,behavior:"smooth"});se.scrollTop=Ie}}))}_getNewObserver(){const M={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(Y=>this._observerCallback(Y),M)}_observerCallback(M){const Y=we=>this._targetLinks.get(`#${we.target.id}`),se=we=>{this._previousScrollData.visibleEntryTop=we.target.offsetTop,this._process(Y(we))},Ie=(this._rootElement||document.documentElement).scrollTop,Ce=Ie>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=Ie;for(const we of M){if(!we.isIntersecting){this._activeTarget=null,this._clearActiveClass(Y(we));continue}const Pe=we.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(Ce&&Pe){if(se(we),!Ie)return}else Ce||Pe||se(we)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const M=oe.find(Zd,this._config.target);for(const Y of M){if(!Y.hash||f(Y))continue;const se=oe.findOne(decodeURI(Y.hash),this._element);u(se)&&(this._targetLinks.set(decodeURI(Y.hash),Y),this._observableSections.set(Y.hash,se))}}_process(M){this._activeTarget!==M&&(this._clearActiveClass(this._config.target),this._activeTarget=M,M.classList.add(mc),this._activateParents(M),W.trigger(this._element,Xd,{relatedTarget:M}))}_activateParents(M){if(M.classList.contains("dropdown-item"))oe.findOne(".dropdown-toggle",M.closest(".dropdown")).classList.add(mc);else for(const Y of oe.parents(M,".nav, .list-group"))for(const se of oe.prev(Y,Qd))se.classList.add(mc)}_clearActiveClass(M){M.classList.remove(mc);const Y=oe.find(`${Zd}.${mc}`,M);for(const se of Y)se.classList.remove(mc)}static jQueryInterface(M){return this.each(function(){const Y=bo.getOrCreateInstance(this,M);if(typeof M=="string"){if(Y[M]===void 0||M.startsWith("_")||M==="constructor")throw new TypeError(`No method named "${M}"`);Y[M]()}})}}W.on(window,lm,()=>{for(const Q of oe.find('[data-bs-spy="scroll"]'))bo.getOrCreateInstance(Q)}),x(bo);const Uo=".bs.tab",Qc=`hide${Uo}`,qo=`hidden${Uo}`,yi=`show${Uo}`,Kp=`shown${Uo}`,Yp=`click${Uo}`,Ul=`keydown${Uo}`,eu=`load${Uo}`,pc="ArrowLeft",tu="ArrowRight",ef="ArrowUp",qs="ArrowDown",Fi="Home",aa="End",Hn="active",pl="fade",fo="show",ii=".dropdown-toggle",gl=`:not(${ii})`,gc='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Vo=`.nav-link${gl}, .list-group-item${gl}, [role="tab"]${gl}, ${gc}`,sd=`.${Hn}[data-bs-toggle="tab"], .${Hn}[data-bs-toggle="pill"], .${Hn}[data-bs-toggle="list"]`;class ql extends me{constructor(M){super(M),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),W.on(this._element,Ul,Y=>this._keydown(Y)))}static get NAME(){return"tab"}show(){const M=this._element;if(this._elemIsActive(M))return;const Y=this._getActiveElem(),se=Y?W.trigger(Y,Qc,{relatedTarget:M}):null;W.trigger(M,yi,{relatedTarget:Y}).defaultPrevented||se&&se.defaultPrevented||(this._deactivate(Y,M),this._activate(M,Y))}_activate(M,Y){M&&(M.classList.add(Hn),this._activate(oe.getElementFromSelector(M)),this._queueCallback(()=>{M.getAttribute("role")==="tab"?(M.removeAttribute("tabindex"),M.setAttribute("aria-selected",!0),this._toggleDropDown(M,!0),W.trigger(M,Kp,{relatedTarget:Y})):M.classList.add(fo)},M,M.classList.contains(pl)))}_deactivate(M,Y){M&&(M.classList.remove(Hn),M.blur(),this._deactivate(oe.getElementFromSelector(M)),this._queueCallback(()=>{M.getAttribute("role")==="tab"?(M.setAttribute("aria-selected",!1),M.setAttribute("tabindex","-1"),this._toggleDropDown(M,!1),W.trigger(M,qo,{relatedTarget:Y})):M.classList.remove(fo)},M,M.classList.contains(pl)))}_keydown(M){if(![pc,tu,ef,qs,Fi,aa].includes(M.key))return;M.stopPropagation(),M.preventDefault();const Y=this._getChildren().filter(Ie=>!f(Ie));let se;if([Fi,aa].includes(M.key))se=Y[M.key===Fi?0:Y.length-1];else{const Ie=[tu,qs].includes(M.key);se=I(Y,M.target,Ie,!0)}se&&(se.focus({preventScroll:!0}),ql.getOrCreateInstance(se).show())}_getChildren(){return oe.find(Vo,this._parent)}_getActiveElem(){return this._getChildren().find(M=>this._elemIsActive(M))||null}_setInitialAttributes(M,Y){this._setAttributeIfNotExists(M,"role","tablist");for(const se of Y)this._setInitialAttributesOnChild(se)}_setInitialAttributesOnChild(M){M=this._getInnerElement(M);const Y=this._elemIsActive(M),se=this._getOuterElement(M);M.setAttribute("aria-selected",Y),se!==M&&this._setAttributeIfNotExists(se,"role","presentation"),Y||M.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(M,"role","tab"),this._setInitialAttributesOnTargetPanel(M)}_setInitialAttributesOnTargetPanel(M){const Y=oe.getElementFromSelector(M);Y&&(this._setAttributeIfNotExists(Y,"role","tabpanel"),M.id&&this._setAttributeIfNotExists(Y,"aria-labelledby",`${M.id}`))}_toggleDropDown(M,Y){const se=this._getOuterElement(M);if(!se.classList.contains("dropdown"))return;const Ie=(Ce,we)=>{const Pe=oe.findOne(Ce,se);Pe&&Pe.classList.toggle(we,Y)};Ie(ii,Hn),Ie(".dropdown-menu",fo),se.setAttribute("aria-expanded",Y)}_setAttributeIfNotExists(M,Y,se){M.hasAttribute(Y)||M.setAttribute(Y,se)}_elemIsActive(M){return M.classList.contains(Hn)}_getInnerElement(M){return M.matches(Vo)?M:oe.findOne(Vo,M)}_getOuterElement(M){return M.closest(".nav-item, .list-group-item")||M}static jQueryInterface(M){return this.each(function(){const Y=ql.getOrCreateInstance(this);if(typeof M=="string"){if(Y[M]===void 0||M.startsWith("_")||M==="constructor")throw new TypeError(`No method named "${M}"`);Y[M]()}})}}W.on(document,Yp,gc,function(Q){["A","AREA"].includes(this.tagName)&&Q.preventDefault(),f(this)||ql.getOrCreateInstance(this).show()}),W.on(window,eu,()=>{for(const Q of oe.find(sd))ql.getOrCreateInstance(Q)}),x(ql);const Vs=".bs.toast",hc=`mouseover${Vs}`,um=`mouseout${Vs}`,hl=`focusin${Vs}`,Cu=`focusout${Vs}`,k=`hide${Vs}`,$=`hidden${Vs}`,K=`show${Vs}`,ne=`shown${Vs}`,ue="hide",ge="show",ve="showing",ye={animation:"boolean",autohide:"boolean",delay:"number"},xe={animation:!0,autohide:!0,delay:5e3};class Oe extends me{constructor(M,Y){super(M,Y),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return xe}static get DefaultType(){return ye}static get NAME(){return"toast"}show(){W.trigger(this._element,K).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ue),h(this._element),this._element.classList.add(ge,ve),this._queueCallback(()=>{this._element.classList.remove(ve),W.trigger(this._element,ne),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&(W.trigger(this._element,k).defaultPrevented||(this._element.classList.add(ve),this._queueCallback(()=>{this._element.classList.add(ue),this._element.classList.remove(ve,ge),W.trigger(this._element,$)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ge),super.dispose()}isShown(){return this._element.classList.contains(ge)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(M,Y){switch(M.type){case"mouseover":case"mouseout":this._hasMouseInteraction=Y;break;case"focusin":case"focusout":this._hasKeyboardInteraction=Y}if(Y)return void this._clearTimeout();const se=M.relatedTarget;this._element===se||this._element.contains(se)||this._maybeScheduleHide()}_setListeners(){W.on(this._element,hc,M=>this._onInteraction(M,!0)),W.on(this._element,um,M=>this._onInteraction(M,!1)),W.on(this._element,hl,M=>this._onInteraction(M,!0)),W.on(this._element,Cu,M=>this._onInteraction(M,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(M){return this.each(function(){const Y=Oe.getOrCreateInstance(this,M);if(typeof M=="string"){if(Y[M]===void 0)throw new TypeError(`No method named "${M}"`);Y[M](this)}})}}return ee(Oe),x(Oe),{Alert:_e,Button:Re,Carousel:st,Collapse:Ye,Dropdown:Tt,Modal:Mi,Offcanvas:ji,Popover:Bl,ScrollSpy:bo,Tab:ql,Toast:Oe,Tooltip:fc}})}(kb)),kb.exports}AB();function OB(){return o.createElement("div",null,o.createElement(pz,null),o.createElement(Sz,null),o.createElement(Cz,null),o.createElement(NB,null))}const wd="/assets/cup2-_lGyL8Ay.png",IB=()=>{const[t,e]=p.useState(!1),[r,n]=p.useState({}),[a,i]=p.useState(!0);p.useEffect(()=>{e(!0),s()},[]);const s=async()=>{try{const c=await(await fetch("https://deliciasoft-backend.onrender.com/api/imagenes")).json(),u={};c.forEach(f=>{u[f.idimagen]=f.urlimg}),n(u),i(!1)}catch(l){console.error("Error al cargar las imgenes:",l),i(!1)}};return a?o.createElement("div",{className:"conocenos-container"},o.createElement("div",{className:"hero-header"},o.createElement("h1",{className:"hero-title"},"Concenos"),o.createElement("p",{className:"hero-subtitle"},"Descubre nuestra historia de amor por la repostera y cmo cada postre lleva un pedacito de nuestro corazn")),o.createElement("div",{className:"page-content"},o.createElement("div",{style:{textAlign:"center",padding:"2rem",color:"#ec4899"}},o.createElement("div",{style:{display:"inline-block",width:"40px",height:"40px",border:"4px solid #fbcfe8",borderTop:"4px solid #ec4899",borderRadius:"50%",animation:"spin 1s linear infinite"}}),o.createElement("p",{style:{marginTop:"1rem"}},"Cargando contenido...")))):o.createElement("div",{className:"conocenos-container"},o.createElement("div",{className:"hero-header"},o.createElement("div",{className:"floating-decorations"},o.createElement("img",{src:wd,alt:"",className:"float-cupcake float-1"}),o.createElement("img",{src:wd,alt:"",className:"float-cupcake float-2"}),o.createElement("img",{src:wd,alt:"",className:"float-cupcake float-3"}),o.createElement("img",{src:wd,alt:"",className:"float-cupcake float-4"}),o.createElement("img",{src:wd,alt:"",className:"float-cupcake float-5"}),o.createElement("img",{src:wd,alt:"",className:"float-cupcake float-6"}),o.createElement("img",{src:wd,alt:"",className:"float-cupcake float-7"}),o.createElement("img",{src:wd,alt:"",className:"float-cupcake float-8"})),o.createElement("h1",{className:"hero-title"},"Concenos"),o.createElement("p",{className:"hero-subtitle"},"Descubre nuestra historia de amor por la repostera y cmo cada postre lleva un pedacito de nuestro corazn")),o.createElement("div",{className:`page-content ${t?"fade-in":""}`},o.createElement("div",{className:"section-header"},o.createElement("h2",{style:{fontSize:"2.5rem",fontWeight:"700",textAlign:"center",color:"#2C3E50",position:"relative",display:"inline-block",marginBottom:"1rem"}},"Nuestra Historia",o.createElement("span",{style:{display:"block",width:"80px",height:"4px",background:"linear-gradient(90deg, #FF1493, #FFCC00)",borderRadius:"2px",margin:"0.5rem auto 0 auto"}})),o.createElement("div",{className:"title-underline"}),o.createElement("p",{className:"section-subtitle"},"Una historia de pasin, dedicacin y mucho amor por crear momentos dulces")),o.createElement("div",{className:"zigzag-timeline"},o.createElement("div",{className:"center-line"}),o.createElement("div",{className:"timeline-row"},o.createElement("div",{className:"timeline-left"},o.createElement("div",{className:"timeline-year"},"2020"),o.createElement("h3",{className:"timeline-title"},"Nuestros Inicios"),o.createElement("div",{className:"timeline-card"},o.createElement("div",{className:"card-image-container"},o.createElement("img",{src:r[3]||"https://via.placeholder.com/270x180?text=Inicios",alt:"Nuestros Inicios",className:"card-image",onError:l=>{l.target.src="https://via.placeholder.com/270x180?text=Inicios"}})),o.createElement("p",{className:"card-text"},"Hace cuatro aos, en el 2020, todo empez con ventas por pedido. Cada postre era preparado con amor desde casa, llevando dulzura directamente a nuestros primeros clientes."))),o.createElement("div",{className:"timeline-center"},o.createElement("div",{className:"timeline-marker"},o.createElement("svg",{className:"marker-icon",viewBox:"0 0 24 24",fill:"white"},o.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"})))),o.createElement("div",{className:"timeline-right"},o.createElement("div",{className:"side-card"},o.createElement("div",{className:"side-icon-wrapper"},o.createElement("svg",{className:"side-icon",viewBox:"0 0 24 24",fill:"#ec4899"},o.createElement("path",{d:"M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}))),o.createElement("h4",{className:"side-title"},"Desde Casa"),o.createElement("p",{className:"side-text"},"Cada postre hecho con dedicacin y cario familiar")))),o.createElement("div",{className:"timeline-row"},o.createElement("div",{className:"timeline-left"},o.createElement("div",{className:"side-card"},o.createElement("div",{className:"side-icon-wrapper"},o.createElement("svg",{className:"side-icon",viewBox:"0 0 24 24",fill:"#ec4899"},o.createElement("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"}))),o.createElement("h4",{className:"side-title"},"Primera Expansin"),o.createElement("p",{className:"side-text"},"El primer paso hacia nuestro sueo de llegar a ms personas"))),o.createElement("div",{className:"timeline-center"},o.createElement("div",{className:"timeline-marker"},o.createElement("svg",{className:"marker-icon",viewBox:"0 0 24 24",fill:"white"},o.createElement("path",{d:"M12 2L2 7v10c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V7l-10-5z"})))),o.createElement("div",{className:"timeline-right"},o.createElement("div",{className:"timeline-year"},"Feb 2023"),o.createElement("h3",{className:"timeline-title"},"Primer Carrito - San Pablo"),o.createElement("div",{className:"timeline-card"},o.createElement("div",{className:"card-image-container"},o.createElement("img",{src:r[4]||"https://via.placeholder.com/270x180?text=San+Pablo",alt:"Carrito San Pablo",className:"card-image",onError:l=>{l.target.src="https://via.placeholder.com/270x180?text=San+Pablo"}})),o.createElement("p",{className:"card-text"},"El ao pasado en febrero dimos el gran paso: colocamos nuestro primer carrito en San Pablo. Fue emocionante ver cmo la gente se acercaba a probar nuestros postres.")))),o.createElement("div",{className:"timeline-row"},o.createElement("div",{className:"timeline-left"},o.createElement("div",{className:"timeline-year"},"Jun 2023"),o.createElement("h3",{className:"timeline-title"},"Segundo Carrito - San Benito"),o.createElement("div",{className:"timeline-card"},o.createElement("div",{className:"card-image-container"},o.createElement("img",{src:"https://res.cloudinary.com/dagnilue0/image/upload/v1759362122/sedes/ndt1wkrxwe083ft7qadb.jpg",alt:"Carrito San Benito",className:"card-image",onError:l=>{l.target.src="https://via.placeholder.com/270x180?text=San+Benito"}})),o.createElement("p",{className:"card-text"},"En junio del ao pasado expandimos con nuestro segundo carrito en San Benito. Cada nueva ubicacin nos permita compartir nuestro amor por los postres con ms familias."))),o.createElement("div",{className:"timeline-center"},o.createElement("div",{className:"timeline-marker"},o.createElement("svg",{className:"marker-icon",viewBox:"0 0 24 24",fill:"white"},o.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"})))),o.createElement("div",{className:"timeline-right"},o.createElement("div",{className:"side-card"},o.createElement("div",{className:"side-icon-wrapper"},o.createElement("svg",{className:"side-icon",viewBox:"0 0 24 24",fill:"#ec4899"},o.createElement("path",{d:"M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"}))),o.createElement("h4",{className:"side-title"},"Crecimiento Continuo"),o.createElement("p",{className:"side-text"},"Expandiendo la alegra a nuevos rincones de la ciudad")))),o.createElement("div",{className:"timeline-row"},o.createElement("div",{className:"timeline-left"},o.createElement("div",{className:"side-card"},o.createElement("div",{className:"side-icon-wrapper"},o.createElement("svg",{className:"side-icon",viewBox:"0 0 24 24",fill:"#ec4899"},o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}))),o.createElement("h4",{className:"side-title"},"Nuestro Presente"),o.createElement("p",{className:"side-text"},"Construyendo una comunidad dulce da a da"))),o.createElement("div",{className:"timeline-center"},o.createElement("div",{className:"timeline-marker"},o.createElement("svg",{className:"marker-icon",viewBox:"0 0 24 24",fill:"white"},o.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"})))),o.createElement("div",{className:"timeline-right"},o.createElement("div",{className:"timeline-year"},"2024"),o.createElement("h3",{className:"timeline-title"},"Dulces Momentos"),o.createElement("div",{className:"timeline-card"},o.createElement("div",{className:"card-image-container"},o.createElement("img",{src:r[5]||"https://via.placeholder.com/270x180?text=Presente",alt:"Delicias Darsy Hoy",className:"card-image",onError:l=>{l.target.src="https://via.placeholder.com/270x180?text=Presente"}})),o.createElement("p",{className:"card-text"},"Hoy seguimos creciendo y creando momentos especiales a travs de nuestros postres. Cada cliente es parte de nuestra gran familia dulce. Gracias por acompaarnos en este camino!")))))))},_B=()=>{const t=po(),e=p.useRef(null),[r,n]=p.useState(!1),[a,i]=p.useState(""),[s,l]=p.useState(!1),[c,u]=p.useState(null),[f,m]=p.useState({nombre:"",apellidos:"",correo:"",telefono:"",mensaje:""}),[v,h]=p.useState(!1),[E,y]=p.useState(""),[b,x]=p.useState(""),[w,N]=p.useState({}),I="https://deliciasoft-backend-i6g9.onrender.com";p.useEffect(()=>{const T=localStorage.getItem("authToken"),C=localStorage.getItem("user");if(T&&C)try{const _=JSON.parse(C);u(_),m(z=>({...z,nombre:_.nombre||"",apellidos:_.apellidos||"",correo:_.correo||"",telefono:_.telefono||_.celular||"",mensaje:""})),sessionStorage.getItem("fromLogin")==="true"&&(sessionStorage.removeItem("fromLogin"),setTimeout(()=>{y("success"),x(`Bienvenido ${_.nombre}! Tus datos han sido autocompletados automticamente.`),h(!0),setTimeout(()=>h(!1),5e3)},500))}catch(_){console.error("Error parsing user data:",_),localStorage.removeItem("user"),localStorage.removeItem("authToken")}else u(null),m({nombre:"",apellidos:"",correo:"",telefono:"",mensaje:""})},[]),p.useEffect(()=>{(()=>{if(window.grecaptcha){n(!0);return}const C=document.createElement("script");C.src="https://www.google.com/recaptcha/api.js",C.async=!0,C.defer=!0,C.onload=()=>{n(!0)},document.head.appendChild(C)})()},[]),p.useEffect(()=>{if(r&&e.current&&!e.current.hasChildNodes())if(window.grecaptcha&&typeof window.grecaptcha.render=="function")try{window.grecaptcha.render(e.current,{sitekey:"6Lf-0MArAAAAAE3Oqa0W2uuTnxvoPgEk4cXs48bJ",callback:T=>{i(T),w.recaptcha&&N(C=>({...C,recaptcha:""}))},"expired-callback":()=>{i("")}})}catch(T){console.error("Error rendering reCAPTCHA:",T)}else{const T=setTimeout(()=>{if(window.grecaptcha&&typeof window.grecaptcha.render=="function"&&e.current)try{window.grecaptcha.render(e.current,{sitekey:"6Lf-0MArAAAAAE3Oqa0W2uuTnxvoPgEk4cXs48bJ",callback:C=>{i(C),w.recaptcha&&N(_=>({..._,recaptcha:""}))},"expired-callback":()=>{i("")}})}catch(C){console.error("Error rendering reCAPTCHA (delayed):",C)}},1e3);return()=>clearTimeout(T)}},[r,w.recaptcha]);const P=()=>{const T={};f.nombre.trim()?f.nombre.trim().length<2&&(T.nombre="El nombre debe tener al menos 2 caracteres"):T.nombre="El nombre es obligatorio",f.apellidos.trim()?f.apellidos.trim().length<2&&(T.apellidos="Los apellidos deben tener al menos 2 caracteres"):T.apellidos="Los apellidos son obligatorios";const C=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;f.correo.trim()?C.test(f.correo)||(T.correo="El correo electrnico no es vlido"):T.correo="El correo electrnico es obligatorio";const _=/^\d{10}$/;return f.telefono.trim()?_.test(f.telefono)||(T.telefono="El telfono debe tener exactamente 10 nmeros"):T.telefono="El nmero de telfono es obligatorio",f.mensaje.trim()?f.mensaje.trim().length<10?T.mensaje="El mensaje debe tener al menos 10 caracteres":f.mensaje.trim().length>1e3&&(T.mensaje="El mensaje no puede exceder 1000 caracteres"):T.mensaje="El mensaje es obligatorio",a||(T.recaptcha="Por favor, completa la verificacin reCAPTCHA"),T},L=T=>{const{name:C,value:_}=T.target;if(C==="telefono"){const D=_.replace(/\D/g,"");D.length<=10&&m({...f,[C]:D})}else if(C==="nombre"||C==="apellidos"){const D=_.replace(/[^a-zA-Z'\s]/g,"");D.length<=50&&m({...f,[C]:D})}else m({...f,[C]:_});w[C]&&N({...w,[C]:""})},R=async T=>{T.preventDefault();const C=P();if(Object.keys(C).length>0){N(C),y("error"),x("Por favor, corrige los errores en el formulario"),h(!0),window.scrollTo({top:0,behavior:"smooth"}),setTimeout(()=>{h(!1)},6e3);return}l(!0);try{const _=await fetch(`${I}/api/contacto/enviar`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...f,recaptchaToken:a})}),D=await _.json();_.ok&&D.success?(y("success"),x(D.message),h(!0),N({}),m({nombre:(c==null?void 0:c.nombre)||"",apellidos:(c==null?void 0:c.apellidos)||"",correo:(c==null?void 0:c.correo)||"",telefono:(c==null?void 0:c.telefono)||(c==null?void 0:c.celular)||"",mensaje:""}),window.grecaptcha&&(window.grecaptcha.reset(),i("")),window.scrollTo({top:0,behavior:"smooth"})):(y("error"),x(D.message||"Error al enviar el mensaje. Intntalo de nuevo."),h(!0))}catch(_){console.error("Error:",_),y("error"),x("Error de conexin. Verifica tu conexin a internet e intntalo ms tarde."),h(!0)}finally{l(!1),setTimeout(()=>{h(!1)},8e3)}},O=()=>{t("/sedes")},A=()=>{localStorage.setItem("redirectAfterLogin","/contactenos"),t("/iniciar-sesion")};return o.createElement("div",{className:"contact-page-wrapper"},o.createElement("div",{className:"contact-container"},o.createElement("div",{className:"floating-circle circle-1"}),o.createElement("div",{className:"floating-circle circle-2"}),o.createElement("div",{className:"floating-circle circle-3"}),o.createElement("div",{className:"contact-content"},o.createElement("div",{className:"form-section"},o.createElement("div",{className:"form-card"},o.createElement("div",{className:"form-header"},o.createElement("h1",{className:"form-title"},"Contctanos!"),o.createElement("div",{className:"title-underline"})),c&&o.createElement("div",{className:"user-info-banner"},o.createElement("i",{className:"bi bi-person-check-fill"}),o.createElement("div",null,o.createElement("strong",null,"Hola ",c.nombre,"!")," Hemos autocompletado algunos campos con tu informacin.")),!c&&o.createElement("div",{className:"login-suggestion"},o.createElement("div",{className:"login-text"},o.createElement("i",{className:"bi bi-info-circle-fill"}),o.createElement("span",null,"Tienes cuenta? Inicia sesin para autocompletar tus datos")),o.createElement("button",{onClick:A,className:"login-btn"},"Iniciar sesin")),v&&o.createElement("div",{className:`message-alert ${E==="success"?"success":"error"}`},o.createElement("i",{className:`bi ${E==="success"?"bi-check-circle-fill":"bi-exclamation-triangle-fill"}`}),b),o.createElement("form",{onSubmit:R,className:"elegant-form"},o.createElement("div",{className:"form-row"},o.createElement("div",{className:"input-group"},o.createElement("input",{type:"text",name:"nombre",value:f.nombre,onChange:L,placeholder:" ",className:`elegant-input ${w.nombre?"error":""} ${c!=null&&c.nombre?"readonly":""}`,readOnly:c&&c.nombre,maxLength:"50"}),o.createElement("label",{className:"elegant-label"},"Nombre *"),w.nombre&&o.createElement("span",{className:"error-text"},w.nombre),(c==null?void 0:c.nombre)&&o.createElement("small",{className:"auto-text"},"Autocompletado")),o.createElement("div",{className:"input-group"},o.createElement("input",{type:"text",name:"apellidos",value:f.apellidos,onChange:L,placeholder:" ",className:`elegant-input ${w.apellidos?"error":""} ${c!=null&&c.apellidos?"readonly":""}`,readOnly:c&&c.apellidos,maxLength:"50"}),o.createElement("label",{className:"elegant-label"},"Apellidos *"),w.apellidos&&o.createElement("span",{className:"error-text"},w.apellidos),(c==null?void 0:c.apellidos)&&o.createElement("small",{className:"auto-text"},"Autocompletado"))),o.createElement("div",{className:"input-group"},o.createElement("input",{type:"email",name:"correo",value:f.correo,onChange:L,placeholder:" ",className:`elegant-input ${w.correo?"error":""} ${c!=null&&c.correo?"readonly":""}`,readOnly:c&&c.correo}),o.createElement("label",{className:"elegant-label"},"Correo electrnico *"),w.correo&&o.createElement("span",{className:"error-text"},w.correo),(c==null?void 0:c.correo)&&o.createElement("small",{className:"auto-text"},"Autocompletado")),o.createElement("div",{className:"input-group"},o.createElement("input",{type:"tel",name:"telefono",value:f.telefono,onChange:L,placeholder:" ",className:`elegant-input ${w.telefono?"error":""} ${c!=null&&c.telefono||c!=null&&c.celular?"readonly":""}`,readOnly:c&&(c.telefono||c.celular),maxLength:"10"}),o.createElement("label",{className:"elegant-label"},"Nmero de telfono (10 dgitos) *"),w.telefono&&o.createElement("span",{className:"error-text"},w.telefono),((c==null?void 0:c.telefono)||(c==null?void 0:c.celular))&&o.createElement("small",{className:"auto-text"},"Autocompletado"),!(c!=null&&c.telefono||c!=null&&c.celular)&&!w.telefono&&o.createElement("small",{className:"helper-text"},"Solo nmeros, exactamente 10 dgitos")),o.createElement("div",{className:"input-group"},o.createElement("textarea",{name:"mensaje",value:f.mensaje,onChange:L,placeholder:" ",rows:"5",className:`elegant-input elegant-textarea ${w.mensaje?"error":""}`,maxLength:"1000"}),o.createElement("label",{className:"elegant-label"},"Djanos tu mensaje aqu... *"),w.mensaje&&o.createElement("span",{className:"error-text"},w.mensaje),o.createElement("small",{className:"char-count"},f.mensaje.length,"/1000 caracteres")),o.createElement("div",{className:"recaptcha-wrapper"},o.createElement("div",{ref:e}),w.recaptcha&&o.createElement("span",{className:"error-text recaptcha-error"},w.recaptcha)),o.createElement("button",{type:"submit",className:"submit-btn",disabled:s},s?o.createElement(o.Fragment,null,o.createElement("span",{className:"spinner"}),"Enviando..."):o.createElement(o.Fragment,null,"Enviar mensaje",o.createElement("i",{className:"bi bi-send-fill"}))),o.createElement("small",{className:"required-text"},"* Campos obligatorios")))),o.createElement("div",{className:"info-section"},o.createElement("h2",{className:"info-title"},"Informacin de Contacto"),o.createElement("div",{className:"contact-items"},o.createElement("div",{className:"contact-item"},o.createElement("div",{className:"contact-icon"},o.createElement("i",{className:"bi bi-telephone-fill"})),o.createElement("div",{className:"contact-details"},o.createElement("span",{className:"contact-label"},"Telfono"),o.createElement("span",{className:"contact-value"},"+57 321 309 85 04"))),o.createElement("div",{className:"contact-item"},o.createElement("div",{className:"contact-icon"},o.createElement("i",{className:"bi bi-whatsapp"})),o.createElement("div",{className:"contact-details"},o.createElement("span",{className:"contact-label"},"WhatsApp"),o.createElement("a",{href:"https://wa.me/573213098504?text=Hola! Me gustara obtener ms informacin sobre sus productos ",target:"_blank",rel:"noopener noreferrer",className:"whatsapp-inline-btn"},"Escrbenos ahora"))),o.createElement("div",{className:"contact-item"},o.createElement("div",{className:"contact-icon"},o.createElement("i",{className:"bi bi-instagram"})),o.createElement("div",{className:"contact-details"},o.createElement("span",{className:"contact-label"},"Instagram"),o.createElement("span",{className:"contact-value"},"@delicias_darsy"))),o.createElement("div",{className:"contact-item location-item"},o.createElement("div",{className:"contact-icon"},o.createElement("i",{className:"bi bi-geo-alt-fill"})),o.createElement("div",{className:"contact-details"},o.createElement("span",{className:"contact-label"},"Ubicaciones"),o.createElement("button",{onClick:O,className:"location-btn"},"Ver nuestras sedes",o.createElement("i",{className:"bi bi-arrow-right"}))))),o.createElement("div",{className:"info-card schedule-card"},o.createElement("h3",{className:"card-title"},o.createElement("i",{className:"bi bi-clock"}),"Horarios de atencin"),o.createElement("div",{className:"schedule-list"},o.createElement("div",{className:"schedule-item"},o.createElement("span",null,"Lunes a Viernes"),o.createElement("span",{className:"schedule-time"},"8:00 AM - 6:00 PM")),o.createElement("div",{className:"schedule-item"},o.createElement("span",null,"Sbados"),o.createElement("span",{className:"schedule-time"},"9:00 AM - 4:00 PM")),o.createElement("div",{className:"schedule-item"},o.createElement("span",null,"Domingos"),o.createElement("span",{className:"schedule-time"},"10:00 AM - 2:00 PM"))))))))};function i4(){const[t,e]=p.useState([]),[r,n]=p.useState(0);return p.useEffect(()=>{fetch("https://deliciasoft-backend-i6g9.onrender.com/api/imagenes").then(a=>a.json()).then(a=>{let i=[];Array.isArray(a)?i=a.slice(4,12).map(s=>s.urlimg):a.urlimg?i=[a.urlimg]:a.imagenes&&(i=a.imagenes.slice(4,12).map(s=>s.urlimg)),e(i)}).catch(a=>console.error("Error cargando imgenes",a))},[]),p.useEffect(()=>{if(t.length===0)return;const a=setInterval(()=>{n(i=>i===t.length-1?0:i+1)},3e3);return()=>clearInterval(a)},[t]),o.createElement("div",{className:"header bg-gradient-to-r from-pink-200 via-pink-300 to-yellow-200 relative overflow-hidden min-h-[500px] flex items-center justify-center"},o.createElement("div",{className:"absolute inset-0 opacity-20"},o.createElement("div",{className:"absolute top-10 left-10 w-16 h-16 bg-pink-400 rounded-full animate-bounce"}),o.createElement("div",{className:"absolute top-20 right-20 w-12 h-12 bg-yellow-400 rounded-full animate-pulse"}),o.createElement("div",{className:"absolute bottom-10 left-1/4 w-20 h-20 bg-purple-400 rounded-full animate-bounce delay-300"}),o.createElement("div",{className:"absolute bottom-20 right-1/3 w-14 h-14 bg-pink-500 rounded-full animate-pulse delay-500"})),o.createElement("div",{className:"absolute inset-0 opacity-10"},o.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 100 100"},o.createElement("defs",null,o.createElement("pattern",{id:"dots",x:"0",y:"0",width:"10",height:"10",patternUnits:"userSpaceOnUse"},o.createElement("circle",{cx:"5",cy:"5",r:"1",fill:"white"}))),o.createElement("rect",{width:"100%",height:"100%",fill:"url(#dots)"}))),o.createElement("div",{className:"container mx-auto px-3 flex flex-col lg:flex-row items-center justify-between relative z-10"},o.createElement("div",{className:"flex-1 relative mb-6 lg:mb-0"},o.createElement("div",{className:"relative group"},o.createElement("div",{className:"bg-white rounded-3xl p-3 shadow-xl"},t.length>0?o.createElement("img",{src:t[r],alt:"Productos artesanales",className:"w-full h-80 object-cover rounded-3xl transform group-hover:scale-105 transition-all duration-500"}):o.createElement("div",{className:"w-full h-80 bg-gray-200 rounded-3xl flex items-center justify-center"},o.createElement("p",{className:"text-gray-500"},"Cargando productos...")),t.length>1&&o.createElement("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex space-x-1"},t.map((a,i)=>o.createElement("div",{key:i,className:`w-2 h-2 rounded-full transition-all duration-300 ${i===r?"bg-pink-500 w-6":"bg-pink-200"}`})))),o.createElement("div",{className:"absolute -top-6 -left-6 bg-white rounded-full p-2 shadow-lg animate-bounce"},o.createElement("span",{className:"text-xl"},"")),o.createElement("div",{className:"absolute -bottom-4 -right-4 bg-white rounded-full p-2 shadow-lg animate-bounce delay-300"},o.createElement("span",{className:"text-xl"},"")),o.createElement("div",{className:"absolute top-1/2 -left-8 bg-white rounded-full p-1 shadow-lg animate-pulse"},o.createElement("span",{className:"text-lg"},"")))),o.createElement("div",{className:"flex-1 text-center lg:text-left lg:pl-12"},o.createElement("div",{className:"mb-4"},o.createElement("h1",{className:"text-4xl lg:text-5xl font-bold text-black drop-shadow-lg"},o.createElement("span",{className:"text-black"},"En Delicias Darsy")),o.createElement("div",{className:"w-20 h-1 bg-gradient-to-r from-pink-400 to-yellow-400 mx-auto lg:mx-0 mt-3 rounded-full"})),o.createElement("div",{className:"mb-4"},o.createElement("p",{className:"text-lg lg:text-xl text-white drop-shadow-md mb-3 font-medium"},"Descubre sabores nicos que"," ",o.createElement("span",{className:"text-yellow-200 font-bold"},"endulzan")," cada momento."),o.createElement("div",{className:"bg-white bg-opacity-90 rounded-full px-4 py-2 inline-block shadow-lg transform hover:scale-105 transition-transform duration-300"},o.createElement("p",{className:"text-base text-pink-600 font-bold"},' "Hechos con mucho amor" '))))),o.createElement("div",{className:"absolute bottom-0 left-0 right-0"},o.createElement("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none",className:"w-full h-8 fill-white"},o.createElement("path",{d:"M0,60 C200,100 400,20 600,60 C800,100 1000,20 1200,60 L1200,120 L0,120 Z"}))))}function LB({value:t,onChange:e}){return o.createElement("div",{className:"buscador-carta"},o.createElement("input",{type:"text",placeholder:"Buscar...",value:t,onChange:r=>e(r.target.value)}),o.createElement("h2",null,"CARTA"))}function TB({onClick:t}){return o.createElement("div",{className:"banner-cumple",style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"2rem",padding:"0 1rem"}},o.createElement("img",{src:"/imagenes/Cartas/cupon.jpg",alt:"Promocin",onClick:t,style:{width:"100%",maxWidth:"900px",height:"400px",cursor:"pointer",transition:"transform 0.3s",borderRadius:"10px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.1)",objectFit:"cover"},onMouseOver:e=>e.currentTarget.style.transform="scale(1.05)",onMouseOut:e=>e.currentTarget.style.transform="scale(1)"}))}function RB({code:t,onClose:e}){return o.createElement("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:9999}},o.createElement("div",{style:{background:"white",borderRadius:"10px",padding:"2rem",width:"300px",textAlign:"center"}},o.createElement("h2",{style:{fontSize:"1.25rem",marginBottom:"1rem"}},"Tu cdigo especial!"),o.createElement("p",{style:{fontSize:"1.5rem",fontWeight:"bold",color:"#0070f3"}},t),o.createElement("button",{onClick:e,style:{marginTop:"1.5rem",padding:"0.5rem 1rem",backgroundColor:"#e91e63",color:"white",border:"none",borderRadius:"5px",cursor:"pointer"}},"Cerrar")))}function MB({productos:t,onProductoClick:e}){return o.createElement("div",{className:"productos-destacados-container-exacto"},o.createElement("div",{className:"productos-grid-exacto"},t.map(r=>o.createElement("div",{key:r.id,className:"product-card-exacto"},o.createElement("div",{className:"card-image-section-exacto"},o.createElement("img",{src:r.imagen,alt:r.nombre,className:"card-image-exacto"})),o.createElement("div",{className:"card-content-section-exacto"},o.createElement("h3",{className:"card-title-exacto"},r.nombre),o.createElement("button",{className:"view-products-btn-exacto",onClick:()=>e(r)},o.createElement("span",{className:"btn-icon-exacto"},"")," Ver Categora"))))))}function DB(){const[t,e]=p.useState(""),[r,n]=p.useState(!1),[a,i]=p.useState(""),[s,l]=p.useState([]),[c,u]=p.useState(!0),[f,m]=p.useState(null),v=po(),h="/imagenes/Cartas/default.jpeg",E=[{id:1,nombre:"Postres Variados",descripcion:"Deliciosos postres caseros para toda ocasin",imagen:"/imagenes/Cartas/postres.jpg"},{id:2,nombre:"Pasteles Artesanales",descripcion:"Pasteles frescos hechos con amor",imagen:"/imagenes/Cartas/pasteles.jpg"},{id:3,nombre:"Fresas con Crema",descripcion:"Fresas frescas con crema deliciosa",imagen:"/imagenes/Cartas/fresas.jpg"},{id:4,nombre:"Obleas Tradicionales",descripcion:"Obleas caseras con los mejores ingredientes",imagen:"/imagenes/Cartas/obleas.jpg"}],y=async()=>{try{u(!0),m(null);const I=new Promise((A,T)=>{setTimeout(()=>T(new Error("Timeout: La peticin tard ms de 10 segundos")),1e4)}),P=fetch("https://deliciasoft-backend.onrender.com/api/categorias-productos"),L=await Promise.race([P,I]);if(!L.ok)throw new Error(`Error HTTP: ${L.status} - ${L.statusText}`);const O=(await L.json()).filter(A=>A.estado).map(A=>{const T=A.imagenes&&A.imagenes.urlimg?A.imagenes.urlimg:h;return{id:A.idcategoriaproducto,nombre:A.nombrecategoria,descripcion:A.descripcion,imagen:T}});l(O),m(null)}catch(I){l(E),m(`Error de conexin: ${I.message}. Mostrando datos de ejemplo.`)}finally{u(!1)}};p.useEffect(()=>{y()},[]);const b=()=>{const I=Math.random().toString(36).substring(2,10).toUpperCase();e(I),n(!0)},x=()=>n(!1),w=s.filter(I=>I.nombre.toLowerCase().includes(a.toLowerCase())),N=I=>{const P=I.nombre.toLowerCase();P.includes("fresa")?v("/detalle-fresas"):P.includes("oblea")?v("/detalle-obleas"):P.includes("mini dona")?v("/detalle-mini-donas"):P.includes("cupcake")?v("/detalle-cupcake"):P.includes("arroz")?v("/detalle-arroz"):P.includes("postres")?v("/detalle-postres"):P.includes("sandwich")||P.includes("sanduches")?v("/detalle-sandwiches"):P.includes("chocolates")?v("/detalle-chocolates"):P.includes("torta")||P.includes("tortas")?v("/detalle-tortas"):P.includes("bebida")||P.includes("bebidas")?v("/detalle-bebidas"):console.log(" No se encontr ruta especfica para:",P)};return c?o.createElement("div",{className:"carta-container"},o.createElement(i4,null),o.createElement("div",{className:"loading-container",style:{textAlign:"center",padding:"50px",backgroundColor:"#fff",margin:"20px",borderRadius:"10px",boxShadow:"0 4px 10px rgba(0,0,0,0.1)"}},o.createElement("div",{style:{fontSize:"2rem",marginBottom:"20px"}},""),o.createElement("p",{style:{fontSize:"1.2rem",marginBottom:"10px"}},"Cargando productos deliciosos..."),o.createElement("div",{style:{width:"50px",height:"50px",border:"5px solid #ff0080",borderTop:"5px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto"}}),o.createElement("style",null,`
            @keyframes spin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
            }
          `))):o.createElement("div",{className:"carta-container"},o.createElement(i4,null),o.createElement(LB,{value:a,onChange:i}),f&&o.createElement("div",{className:"error-message",style:{color:"#ff6b6b",textAlign:"center",padding:"15px",backgroundColor:"#fff3cd",margin:"10px 0",borderRadius:"10px",border:"1px solid #ffeaa7",boxShadow:"0 2px 5px rgba(0,0,0,0.1)"}}," ",f),o.createElement("h1",{className:"destacados-titulo"},"Categora de Productos"),o.createElement(MB,{productos:w,onProductoClick:N}),o.createElement(TB,{onClick:b}),r&&o.createElement(RB,{code:t,onClose:x}))}const jB=()=>{const t=po(),{agregarProducto:e}=p.useContext(ps),[r,n]=p.useState([]),[a,i]=p.useState(!0),[s,l]=p.useState(null);p.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const m=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const v=await m.json();console.log("Datos obtenidos:",v);const h=Array.isArray(v)?v.filter(E=>{var y;return E.categoria==="Fresas Con Crema"||((y=E.categoriaproducto)==null?void 0:y.nombrecategoria)==="Fresas Con Crema"}):[{idproductogeneral:v.idcategoriaproducto,nombreproducto:v.nombrecategoria,precioproducto:0,categoria:v.nombrecategoria,urlimagen:(f=v.imagenes)==null?void 0:f.urlimg}];n(h)}catch(m){console.error("Error al cargar productos:",m),l(`Error: ${m.message}`)}finally{i(!1)}})()},[]);const c=u=>{var m,v;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((m=u.categoriaproducto)==null?void 0:m.nombrecategoria),imagen:u.urlimagen||((v=u.imagenes)==null?void 0:v.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentacin favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},""),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},""))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Aadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},Sd="https://deliciasoft-backend-i6g9.onrender.com/api/sede";class FB{constructor(){this.baseHeaders={"Content-Type":"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`;try{const n=await e.json();r=n.message||n.error||r}catch{}throw new Error(r)}return e.json()}async obtenerSedes(){try{const e=await fetch(`${Sd}`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return this.transformarSedesDesdeAPI(r)}catch(e){throw console.error("Error en obtenerSedes:",e),new Error("Error al cargar las sedes: "+e.message)}}async obtenerSedePorId(e){try{const r=await fetch(`${Sd}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Sede no encontrada");const n=await this.handleResponse(r);return this.transformarSedeDesdeAPI(n)}catch(r){throw console.error("Error en obtenerSedePorId:",r),r}}async crearSede(e){try{if(console.log(" === CREAR SEDE SERVICE ==="),console.log(" Tipo recibido:",e instanceof FormData?"FormData":"Object"),e instanceof FormData){console.log(" Enviando FormData directamente al backend...");for(let l of e.entries())console.log(`  - ${l[0]}:`,l[1]instanceof File?`File(${l[1].name}, ${l[1].size} bytes)`:l[1]);const i=await fetch(Sd,{method:"POST",body:e});if(console.log(" Response status:",i.status),!i.ok){const l=await i.text();console.error(" Error response:",l);let c=`Error ${i.status}`;try{const u=JSON.parse(l);c=u.message||u.error||c}catch{c=l.substring(0,200)}throw new Error(c)}const s=await i.json();return console.log(" Sede creada con imagen:",s),this.transformarSedeDesdeAPI(s)}console.log(" Enviando JSON sin imagen...");const r=this.transformarSedeParaAPI(e);console.log(" Datos transformados:",r),this.validarDatosSede(r);const n=await fetch(Sd,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(r)});if(console.log(" Response status:",n.status),!n.ok){const i=await n.text();console.error(" Error response:",i);let s=`Error ${n.status}`;try{const l=JSON.parse(i);s=l.message||l.error||s}catch{s=i.substring(0,200)}throw new Error(s)}const a=await n.json();return console.log(" Sede creada sin imagen:",a),this.transformarSedeDesdeAPI(a)}catch(r){throw console.error(" Error en crearSede:",r),new Error("Error al crear la sede: "+r.message)}}async actualizarSede(e,r){try{if(console.log(" === ACTUALIZAR SEDE SERVICE ==="),console.log(" ID:",e),console.log(" Tipo recibido:",r instanceof FormData?"FormData":"Object"),r instanceof FormData){console.log(" Enviando FormData directamente al backend...");for(let c of r.entries())console.log(`  - ${c[0]}:`,c[1]instanceof File?`File(${c[1].name})`:c[1]);const s=await fetch(`${Sd}/${e}`,{method:"PUT",body:r});if(console.log(" Response status:",s.status),!s.ok){const c=await s.text();console.error(" Error response:",c);let u=`Error ${s.status}`;try{const f=JSON.parse(c);u=f.message||f.error||u}catch{u=c.substring(0,200)}throw new Error(u)}const l=await s.json();return console.log(" Sede actualizada con imagen:",l),this.transformarSedeDesdeAPI(l)}console.log(" Enviando JSON sin imagen...");const n=this.transformarSedeParaAPI(r);console.log(" Datos transformados:",n),this.validarDatosSede(n);const a=await fetch(`${Sd}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(n)});if(console.log(" Response status:",a.status),!a.ok){const s=await a.text();console.error(" Error response:",s);let l=`Error ${a.status}`;try{const c=JSON.parse(s);l=c.message||c.error||l}catch{l=s.substring(0,200)}throw new Error(l)}const i=await a.json();return console.log(" Sede actualizada sin imagen:",i),this.transformarSedeDesdeAPI(i)}catch(n){throw console.error(" Error en actualizarSede:",n),new Error("Error al actualizar la sede: "+n.message)}}async eliminarSede(e){try{const r=await fetch(`${Sd}/${e}`,{method:"DELETE",headers:this.baseHeaders});if(!r.ok){let n="Error al eliminar la sede";try{const a=await r.json();a.message?n=a.message:a.error&&(n=a.error)}catch{r.status===500&&(n="No se puede eliminar la sede porque tiene registros asociados. Intenta desactivarla usando el switch de estado.")}throw new Error(n)}return await this.handleResponse(r),{success:!0,message:"Sede eliminada exitosamente"}}catch(r){throw console.error("Error en eliminarSede:",r),r}}async cambiarEstadoSede(e,r){try{const n=await this.obtenerSedePorId(e),a={...this.transformarSedeParaAPI(n),estado:r},i=await fetch(`${Sd}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(a)}),s=await this.handleResponse(i);return this.transformarSedeDesdeAPI(s)}catch(n){throw console.error("Error en cambiarEstadoSede:",n),new Error("Error al cambiar el estado de la sede: "+n.message)}}validarDatosSede(e){const r=[];if((!e.nombre||e.nombre.trim()==="")&&r.push("El nombre de la sede es requerido"),!e.telefono||e.telefono.trim()===""?r.push("El telfono es requerido"):/^[3][0-9]{9}$/.test(e.telefono.replace(/\s/g,""))||r.push("El telfono debe ser un nmero colombiano vlido (10 dgitos comenzando con 3)"),(!e.direccion||e.direccion.trim()==="")&&r.push("La direccin es requerida"),r.length>0)throw new Error("Datos invlidos: "+r.join(", "))}transformarSedeParaAPI(e){return{nombre:(e.nombre||"").trim(),telefono:(e.Telefono||e.telefono||"").replace(/\s/g,""),direccion:(e.Direccion||e.direccion||"").trim(),estado:e.estado!==void 0?!!(e.estado||e.activo):!0}}transformarSedeDesdeAPI(e){return e?{id:e.idsede,nombre:e.nombre||"",Telefono:e.telefono||"",Direccion:e.direccion||"",telefono:e.telefono||"",direccion:e.direccion||"",imagenUrl:e.imagenUrl||null,estado:!!e.estado,activo:!!e.estado}:null}transformarSedesDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarSedeDesdeAPI(r)).filter(r=>r!==null):(console.warn("transformarSedesDesdeAPI: se esperaba un array, se recibi:",typeof e),[])}formatearTelefono(e){if(!e)return"";const r=e.replace(/\D/g,"");return r.length===10?`${r.slice(0,3)} ${r.slice(3,6)} ${r.slice(6)}`:e}validarFormatoImagen(e){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(e.type))throw new Error("Formato de imagen no vlido. Use JPEG, PNG, GIF o WebP.");if(e.size>5242880)throw new Error("La imagen es demasiado grande. Mximo 5MB permitido.");return!0}}const cu=new FB;function $B(){const[t,e]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(null),[s,l]=p.useState(null),[c,u]=p.useState({});p.useEffect(()=>{f()},[]);const f=async()=>{try{n(!0);const w=(await cu.obtenerSedes()).filter(N=>N.estado||N.activo);e(w),i(null)}catch(x){console.error("Error al cargar sedes:",x),i("No se pudieron cargar las sedes. Por favor, intenta ms tarde.")}finally{n(!1)}},m=async x=>{try{const w=`${x}, Medelln, Colombia`,N=encodeURIComponent(w),P=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${N}&limit=1`)).json();return P&&P.length>0?{lat:parseFloat(P[0].lat),lng:parseFloat(P[0].lon)}:{lat:6.2442,lng:-75.5812}}catch(w){return console.error("Error en geocodificacin:",w),{lat:6.2442,lng:-75.5812}}},v=async(x,w)=>{w&&w.stopPropagation();const N=x.id;u(I=>({...I,[N]:!I[N]}))},h=(x,w)=>{w&&w.stopPropagation(),l(x)},E=()=>{l(null)},y=x=>{const w=encodeURIComponent(`${x}, Medelln, Colombia`);window.open(`https://www.google.com/maps/search/?api=1&query=${w}`,"_blank")},b=({direccion:x,esModal:w=!1})=>{const[N,I]=p.useState(null);return p.useEffect(()=>{m(x).then(I)},[x]),N?o.createElement("div",{className:"mapa-iframe-container"},o.createElement("iframe",{title:"Mapa de ubicacin",width:"100%",height:"100%",style:{border:0},loading:"lazy",allowFullScreen:!0,src:`https://maps.google.com/maps?q=${N.lat},${N.lng}&z=16&output=embed`})):o.createElement("div",{className:"mapa-loading"},o.createElement("div",{className:"mapa-spinner"}))};return r?o.createElement("div",{className:"sedes-container"},o.createElement("h2",{className:"sedes-titulo"},"NUESTRAS SEDES"),o.createElement("div",{className:"loading-container"},o.createElement("div",{className:"spinner"}),o.createElement("p",null,"Cargando sedes..."))):a?o.createElement("div",{className:"sedes-container"},o.createElement("h2",{className:"sedes-titulo"},"NUESTRAS SEDES"),o.createElement("div",{className:"error-container"},o.createElement("p",{className:"error-message"},a),o.createElement("button",{className:"retry-button",onClick:f},"Reintentar"))):t.length===0?o.createElement("div",{className:"sedes-container"},o.createElement("h2",{className:"sedes-titulo"},"NUESTRAS SEDES"),o.createElement("div",{className:"no-sedes-container"},o.createElement("p",null,"No hay sedes disponibles en este momento."))):o.createElement("div",{className:"sedes-container"},o.createElement("h2",{className:"sedes-titulo"},"NUESTRAS SEDES"),o.createElement("div",{className:"sedes-grid"},t.map(x=>o.createElement("div",{key:x.id,className:"sede-card"},o.createElement("div",{className:"sede-header"},o.createElement("h3",{className:"sede-nombre"},x.nombre)),o.createElement("div",{className:"sede-visual-container"},c[x.id]?o.createElement("div",{className:"mapa-wrapper",onClick:()=>h(x)},o.createElement(b,{direccion:x.Direccion||x.direccion}),o.createElement("button",{className:"ampliar-mapa-icono",onClick:w=>h(x,w),title:"Ampliar mapa"},o.createElement(aB,{size:18})),o.createElement("button",{className:"ver-imagen-btn",onClick:w=>{w.stopPropagation(),v(x,w)}},"Ver Imagen")):o.createElement("div",{className:"imagen-container"},o.createElement("img",{src:x.imagenUrl||"https://via.placeholder.com/400x280/FFB6D9/FFFFFF?text=Sin+Imagen",alt:x.nombre,className:"sede-imagen",onClick:()=>h(x),onError:w=>{w.target.src="https://via.placeholder.com/400x280/FFB6D9/FFFFFF?text=Imagen+no+disponible"}}),o.createElement("div",{className:"imagen-overlay"},o.createElement("button",{className:"ver-mapa-overlay-btn",onClick:w=>{w.stopPropagation(),v(x,w)}},o.createElement(Nb,{size:18}),"Ver Mapa")))),o.createElement("div",{className:"sede-info-container"},o.createElement("ul",{className:"sede-info"},o.createElement("li",null,o.createElement(Nb,{size:16,className:"icon"}),o.createElement("span",null,x.Direccion||x.direccion)),o.createElement("li",null,o.createElement(I5,{size:16,className:"icon"}),o.createElement("span",null,cu.formatearTelefono(x.Telefono||x.telefono))),o.createElement("li",null,o.createElement(F7,{size:16,className:"icon"}),o.createElement("span",null,"Lunes a viernes 10:30am - 05:30pm")),o.createElement("li",null,o.createElement(Gz,{size:16,className:"icon"}),o.createElement("span",null,"Medelln - Antioquia"))))))),s&&o.createElement("div",{className:"modal-overlay-compact",onClick:E},o.createElement("div",{className:"modal-mapa-compact",onClick:x=>x.stopPropagation()},o.createElement("div",{className:"modal-header-compact"},o.createElement("div",{className:"modal-info-compact"},o.createElement("h3",{className:"modal-titulo-compact"},s.nombre),o.createElement("p",{className:"modal-direccion-compact"},o.createElement(Nb,{size:14}),s.Direccion||s.direccion)),o.createElement("button",{className:"modal-cerrar-btn-compact",onClick:E},"")),o.createElement("div",{className:"modal-body-compact"},o.createElement(b,{direccion:s.Direccion||s.direccion,esModal:!0})),o.createElement("div",{className:"modal-footer-compact"},o.createElement("button",{className:"modal-google-maps-btn-compact",onClick:()=>y(s.Direccion||s.direccion)},o.createElement(iB,{size:16}),"Abrir en Google Maps")))))}const Ac="https://deliciasoft-backend-i6g9.onrender.com/api";class zB{async handleResponse(e){const r=e.headers.get("content-type");if(r&&r.includes("application/json"))return{isJson:!0,data:await e.json()};{const n=await e.text();return console.error("Respuesta no-JSON recibida:",n.substring(0,500)),{isJson:!1,data:{message:"Error del servidor: respuesta invlida",responseText:n.substring(0,200)}}}}async enviarCodigoValidacionLogin(e,r,n=null){try{if(console.log(" Validando credenciales para:",e),console.log(" URL del API:",Ac),!r)return{success:!1,message:"Contrasea es requerida"};const a={correo:e,password:r,userType:n||"cliente"};console.log(" Enviando para validacin:",{correo:e,userType:n});const i=await fetch(`${Ac}/auth/send-verification-code`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a)});console.log(" Status de respuesta:",i.status);const{isJson:s,data:l}=await this.handleResponse(i);if(s&&i.ok&&l.success)return console.log(" Credenciales vlidas, cdigo enviado:",l),{success:!0,codigo:l.codigo,message:l.message||"Cdigo enviado correctamente",userType:l.userType,emailSent:l.emailSent||!1,provider:l.provider||"Unknown"};{let c=l.message||`Error ${i.status}: ${i.statusText}`;return i.status===401?c="Contrasea incorrecta":i.status===404&&(c="El correo ingresado no est registrado. Por favor, regstrate primero."),console.error(" Error en validacin:",{status:i.status,statusText:i.statusText,data:l,isJson:s}),{success:!1,message:c,status:i.status,responseData:l}}}catch(a){return console.error(" Error en enviarCodigoValidacionLogin:",{name:a.name,message:a.message,stack:a.stack}),{success:!1,message:"Error de conexin con el servidor. Verifica tu internet e intenta nuevamente.",originalError:a.message}}}async enviarCodigoValidacionLoginConDeteccion(e,r){try{console.log(" Detectando tipo de usuario para:",e);let n="cliente";try{console.log(" Consultando endpoint de usuarios...");const a=await fetch(`${Ac}/usuarios`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:AbortSignal.timeout(5e3)});console.log(" Status consulta usuarios:",a.status),a.ok?(await a.json()).some(l=>l.correo===e)?(n="admin",console.log(" Usuario detectado como admin")):console.log(" Usuario no encontrado en tabla usuarios"):console.warn(" No se pudo consultar usuarios, status:",a.status)}catch(a){console.warn(" Error en deteccin automtica:",a.message)}return console.log(" Tipo de usuario final detectado:",n),await this.enviarCodigoValidacionLogin(e,r,n)}catch(n){return console.error(" Error crtico en deteccin automtica:",n),{success:!1,message:"Error detectando tipo de usuario"}}}async loginConValidacion(e,r,n){try{console.log(" Haciendo login con validacin para:",e),console.log(" Cdigo proporcionado:",n);const a={correo:e,password:r,codigo:n};console.log(" Datos de login:",{correo:e,codigo:n,passwordLength:r.length});const i=await fetch(`${Ac}/auth/verify-code-and-login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(a),signal:AbortSignal.timeout(1e4)});console.log(" Status login:",i.status);const{isJson:s,data:l}=await this.handleResponse(i);return s&&i.ok&&l.success?(console.log(" Login exitoso:",{userType:l.userType,hasToken:!!l.token,hasUser:!!l.user}),{success:!0,user:l.user,userType:l.userType,token:l.token}):(console.error(" Error en login:",{status:i.status,data:l}),{success:!1,message:l.message||"Error al iniciar sesin",status:i.status})}catch(a){return console.error(" Error en loginConValidacion:",a),{success:!1,message:"Error de conexin. Intntalo nuevamente.",originalError:a.message}}}async solicitarRecuperacionPassword(e){try{console.log(" Solicitando recuperacin de contrasea para:",e);const r=await fetch(`${Ac}/auth/request-password-reset`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({correo:e}),signal:AbortSignal.timeout(1e4)}),{isJson:n,data:a}=await this.handleResponse(r);return n&&r.ok?{success:!0,codigo:a.codigo,message:a.message||"Cdigo enviado correctamente"}:{success:!1,message:a.message||"Error al enviar cdigo"}}catch(r){return console.error(" Error en solicitar recuperacin:",r),{success:!1,message:"Error de conexin. Intntalo nuevamente."}}}async cambiarPasswordConCodigo(e,r,n){try{console.log(" Cambiando contrasea con cdigo para:",e);const a=await fetch(`${Ac}/auth/reset-password`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({correo:e,codigo:r,nuevaPassword:n}),signal:AbortSignal.timeout(1e4)}),{isJson:i,data:s}=await this.handleResponse(a);return i&&a.ok?{success:!0,message:s.message||"Contrasea actualizada correctamente"}:{success:!1,message:s.message||"Error al cambiar contrasea"}}catch(a){return console.error(" Error cambiando contrasea:",a),{success:!1,message:"Error de conexin. Intntalo nuevamente."}}}async loginDirecto(e,r){try{console.log(" Login directo para:",e);const n=await fetch(`${Ac}/auth/direct-login`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({correo:e,password:r}),signal:AbortSignal.timeout(1e4)}),{isJson:a,data:i}=await this.handleResponse(n);return a&&n.ok&&i.success?{success:!0,user:i.user,userType:i.userType,token:i.token}:{success:!1,message:i.message||"Credenciales incorrectas"}}catch(n){return console.error(" Error en login directo:",n),{success:!1,message:"Error de conexin"}}}async testConnection(){try{console.log(" Probando conexin con el servidor...");const e=await fetch(`${Ac}/auth/test-config`,{method:"GET",headers:{Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(console.log(" Status test:",e.status),e.ok){const r=await e.json();return console.log(" Configuracin del servidor:",r),{success:!0,config:r}}else return console.error(" Server test failed:",e.status),{success:!1,status:e.status}}catch(e){return console.error(" Error en test de conexin:",e),{success:!1,error:e.message}}}async registrarCliente(e){try{console.log(" Registrando cliente:",e);const r={tipodocumento:e.tipoDocumento,numerodocumento:e.documento,nombre:e.nombre,apellido:e.apellido,correo:e.correo,celular:e.contacto,hashcontrasena:e.password,direccion:"",barrio:"",ciudad:"",fechanacimiento:null,estado:!0},n=await fetch(`${Ac}/clientes`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(r)}),{isJson:a,data:i}=await this.handleResponse(n);if(!a)throw new Error("Error del servidor: respuesta invlida");if(!n.ok)throw new Error(i.message||"Error en el servidor");return console.log(" Cliente registrado exitosamente:",i),{success:!0,user:i,message:"Registro exitoso"}}catch(r){return console.error(" Error al registrar cliente:",r),{success:!1,message:r.message||"Error de conexin con el servidor"}}}async verificarCorreoExistente(e){try{const r=async i=>{try{const s=await fetch(`${Ac}/${i}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"},signal:AbortSignal.timeout(5e3)});if(!s.ok)return console.warn(`No se pudo verificar en ${i}:`,s.status),!1;const{isJson:l,data:c}=await this.handleResponse(s);return l?Array.isArray(c)?c.some(u=>u.correo===e):!1:(console.warn(`Respuesta no-JSON de ${i}`),!1)}catch(s){return console.warn(`Error verificando ${i}:`,s.message),!1}},[n,a]=await Promise.all([r("usuarios"),r("clientes")]);return n||a}catch(r){return console.error(" Error al verificar correo:",r),!1}}async obtenerDatosClienteLogueado(){try{const e=this.getUserProfile();if(!e||e.role!=="cliente")throw new Error("No hay sesin de cliente activa");if(e.data&&e.data.idcliente)return e.data;const r=await fetch(`${Ac}/clientes`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw new Error("Error al obtener datos del cliente");const a=(await r.json()).find(i=>i.correo===e.email);if(!a)throw new Error("Cliente no encontrado");return localStorage.setItem("userData",JSON.stringify(a)),a}catch(e){throw console.error(" Error obteniendo datos del cliente:",e),e}}getUserProfile(){const e=localStorage.getItem("userEmail"),r=localStorage.getItem("userRole"),n=localStorage.getItem("userData");return e&&r?{email:e,role:r,data:n?JSON.parse(n):null}:null}logout(){localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData"),localStorage.removeItem("productosTemporales")}isAuthenticated(){const e=localStorage.getItem("authToken"),r=localStorage.getItem("userRole");return!!(e&&r)}isAdmin(){return localStorage.getItem("userRole")==="admin"}isCliente(){return localStorage.getItem("userRole")==="cliente"}}const Bd=new zB,Vi="https://deliciasoft-backend-i6g9.onrender.com/api";class BB{constructor(){this.sedesCache=null,this.cacheExpiry=null,this.CACHE_DURATION=30*60*1e3}async obtenerSedes(){try{if(this.sedesCache&&this.cacheExpiry&&Date.now()<this.cacheExpiry)return this.sedesCache;console.log("Obteniendo sedes desde API...");const e=await fetch(`${Vi}/sede`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();console.log("Sedes obtenidas:",r);const n=r.filter(a=>a.estado===!0);return this.sedesCache=n,this.cacheExpiry=Date.now()+this.CACHE_DURATION,n}catch(e){console.error("Error al obtener sedes:",e);const r=[{idsede:1,nombre:"San Pablo"},{idsede:2,nombre:"San Benito"}];return this.sedesCache||(this.sedesCache=r),this.sedesCache}}async obtenerIdSede(e){try{const n=(await this.obtenerSedes()).find(i=>i.nombre===e);return n?(console.log(`Sede encontrada: ${e} -> ID: ${n.idsede}`),n.idsede):(console.warn(`Sede '${e}' no encontrada, usando mapeo por defecto`),{"San Pablo":1,"San Benito":2}[e]||1)}catch(r){return console.error("Error al obtener ID de sede:",r),{"San Pablo":1,"San Benito":2}[e]||1}}obtenerEstadoSegunTipo(e){return e==="pedido"?1:5}formatearFecha(e){try{if(e instanceof Date)return e.toISOString();if(typeof e=="string"){if(e.includes("T")&&e.includes("Z"))return e;if(e.match(/^\d{4}-\d{2}-\d{2}$/))return`${e}T00:00:00.000Z`;const r=new Date(e);if(isNaN(r.getTime()))throw new Error("Fecha invlida");return r.toISOString()}return console.warn("Fecha no reconocida, usando fecha actual:",e),new Date().toISOString()}catch(r){return console.error("Error al formatear fecha:",r,"Fecha original:",e),new Date().toISOString()}}transformarVentaDesdeAPI(e){return e?{idVenta:e.idventa,fechaVenta:e.fechaventa,total:parseFloat(e.total||0),metodoPago:e.metodopago,tipoVenta:e.tipoventa,idEstadoVenta:e.idestadoventa,nombreEstado:e.nombreEstado,nombreCliente:e.nombreCliente,nombreSede:e.nombreSede}:null}transformarVentaCompletaDesdeAPI(e){var a;if(!e)return null;let r=0,n=0;return e.detalleventa&&e.detalleventa.length>0&&(r=e.detalleventa.reduce((i,s)=>i+parseFloat(s.subtotal||0),0),n=e.detalleventa.reduce((i,s)=>i+parseFloat(s.iva||0),0)),{idVenta:e.idventa,fechaVenta:e.fechaventa,nombreCliente:e.clienteData?`${e.clienteData.nombre} ${e.clienteData.apellido}`:"N/A",nombreSede:e.sede?e.sede.nombre:"N/A",metodoPago:e.metodopago,tipoVenta:e.tipoventa,idEstadoVenta:e.estadoVentaId,nombreEstado:((a=e.estadoVenta)==null?void 0:a.nombre_estado)||"N/A",total:parseFloat(e.total),subtotal:r,iva:n,detalleVenta:this.transformarDetalleVentaDesdeAPI(e.detalleventa),abonos:this.transformarAbonosDesdeAPI(e.abonos),fechaEntrega:e.fechaEntrega||null,observaciones:e.observaciones||null}}transformarDetalleVentaDesdeAPI(e){return!e||!Array.isArray(e)?[]:e.map(r=>{var a,i,s,l,c,u,f,m,v,h,E,y,b;let n="Otros";return(i=(a=r.productogeneral)==null?void 0:a.categoriaproducto)!=null&&i.nombrecategoria?n=r.productogeneral.categoriaproducto.nombrecategoria:(s=r.productogeneral)!=null&&s.categoria?n=typeof r.productogeneral.categoria=="string"?r.productogeneral.categoria:r.productogeneral.categoria.nombrecategoria||r.productogeneral.categoria.nombre:r.categoria&&(n=typeof r.categoria=="string"?r.categoria:r.categoria.nombrecategoria||r.categoria.nombre),console.log(` Categora detectada: ${n} para producto ${((l=r.productogeneral)==null?void 0:l.nombreproducto)||"N/A"}`),{iddetalleventa:r.iddetalleventa,idventa:r.idventa,idproductogeneral:r.idproductogeneral,cantidad:r.cantidad,nombreProducto:((c=r.productogeneral)==null?void 0:c.nombreproducto)||((u=r.productogeneral)==null?void 0:u.nombre)||"Producto N/A",precioUnitario:parseFloat(r.preciounitario||0),subtotal:parseFloat(r.subtotal||0),iva:parseFloat(r.iva||0),categoria:n,productogeneral:{idproductogeneral:(f=r.productogeneral)==null?void 0:f.idproductogeneral,nombreproducto:(m=r.productogeneral)==null?void 0:m.nombreproducto,nombre:(v=r.productogeneral)==null?void 0:v.nombre,categoria:n,categoriaproducto:(h=r.productogeneral)==null?void 0:h.categoriaproducto},adiciones:((E=r.detalleadiciones)==null?void 0:E.map(x=>{var w,N,I;return{id:((w=x.catalogoadiciones)==null?void 0:w.idadiciones)||x.idadiciones,nombre:((N=x.catalogoadiciones)==null?void 0:N.nombre)||"Adicin N/A",precio:parseFloat(((I=x.catalogoadiciones)==null?void 0:I.precio)||0),cantidad:x.cantidadadicionada||1}}))||[],salsas:((y=r.detallesalsas)==null?void 0:y.map(x=>{var w,N,I;return{id:((w=x.catalogosalsa)==null?void 0:w.idsalsa)||x.idsalsa,nombre:((N=x.catalogosalsa)==null?void 0:N.nombre)||"Salsa N/A",precio:parseFloat(((I=x.catalogosalsa)==null?void 0:I.precio)||0),cantidad:x.cantidadadicionada||1}}))||[],sabores:((b=r.detallesabores)==null?void 0:b.map(x=>{var w,N,I;return{id:((w=x.catalogosabor)==null?void 0:w.idsabor)||x.idsabor,nombre:((N=x.catalogosabor)==null?void 0:N.nombre)||"Sabor N/A",precio:parseFloat(((I=x.catalogosabor)==null?void 0:I.precio)||0),cantidad:x.cantidadadicionada||1}}))||[]}})}transformarAbonosDesdeAPI(e){return!e||!Array.isArray(e)?[]:e.map(r=>{var a;const n=parseFloat(r.monto||r.cantidadpagar||r.cantidadPagar||r.totalPagado||0);return{id:r.id||r.idabono||r.idAbono,idAbono:r.id||r.idabono||r.idAbono,idPedido:r.idPedido||r.idpedido,metodoPago:r.metodoPago||r.metodopago,metodo_pago:r.metodoPago||r.metodopago,monto:n,cantidadpagar:n,cantidadPagar:n,totalPagado:n,TotalPagado:n,comprobante_imagen:r.comprobante_imagen||((a=r.imagenes)==null?void 0:a.urlimg)||null,imagenes:r.imagenes||null,fecha:r.fecha||new Date().toISOString().split("T")[0],anulado:!!r.anulado,cliente:r.cliente||"N/A",totalVenta:parseFloat(r.totalVenta||0)}})}async obtenerVentas(){try{console.log("Obteniendo ventas desde:",`${Vi}/venta/listado-resumen`);const e=await fetch(`${Vi}/venta/listado-resumen`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){const n=await e.text();throw console.error("Error response:",n),new Error(`HTTP error! Status: ${e.status}. ${n}`)}const r=await e.json();return console.log("Ventas recibidas desde API:",r),r.map(this.transformarVentaDesdeAPI.bind(this))}catch(e){console.error("Error al obtener el listado de ventas:",e);try{return console.log("Intentando con ruta bsica..."),await this.obtenerVentasBasico()}catch(r){throw console.error("Error en fallback:",r),new Error(`No se pudieron obtener las ventas: ${e.message}`)}}}async obtenerVentasBasico(){try{console.log("Obteniendo ventas desde endpoint bsico:",`${Vi}/venta`);const e=await fetch(`${Vi}/venta`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){const n=await e.text();throw console.error("Error en ruta bsica:",n),new Error(`HTTP error! Status: ${e.status}`)}const r=await e.json();return console.log("Ventas bsicas recibidas:",r),r.map(n=>({idVenta:n.idventa,fechaVenta:n.fechaventa,total:parseFloat(n.total||0),metodoPago:n.metodopago||"",tipoVenta:n.tipoventa||"",idEstadoVenta:n.estadoVenta||1,nombreEstado:"Activa",nombreCliente:n.cliente||"Cliente N/A",nombreSede:n.sede||"Sede N/A"}))}catch(e){throw console.error("Error al obtener ventas bsico:",e),new Error(`No se pudieron obtener las ventas: ${e.message}`)}}async obtenerEstadosVenta(){try{console.log("Obteniendo estados de venta desde:",`${Vi}/estado-venta`);const e=await fetch(`${Vi}/estado-venta`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok){const n=await e.text();throw console.error("Error al obtener estados:",n),new Error(`HTTP error! Status: ${e.status}. ${n}`)}const r=await e.json();return console.log("Estados recibidos:",r),r}catch(e){return console.error("Error al obtener los estados de venta:",e),console.log("Usando estados por defecto..."),[{idestadoventa:1,nombre_estado:"En espera"},{idestadoventa:2,nombre_estado:"En produccin"},{idestadoventa:3,nombre_estado:"Por entregar"},{idestadoventa:4,nombre_estado:"Finalizado"},{idestadoventa:5,nombre_estado:"Activa"},{idestadoventa:6,nombre_estado:"Anulada"}]}}async crearVenta(e){try{console.log("Datos originales recibidos para crear venta:",e);let r=null;if(e.idCliente!==null&&e.idCliente!==void 0?r=parseInt(e.idCliente):e.cliente!==null&&e.cliente!==void 0?r=parseInt(e.cliente):e.clienteId!==null&&e.clienteId!==void 0&&(r=parseInt(e.clienteId)),!r||isNaN(r))throw new Error(" No se encontr el ID del cliente. El cliente debe estar autenticado.");console.log(" Cliente ID validado:",r);const n=await this.obtenerIdSede(e.sedeNombre||e.sede);console.log(`Sede procesada: ${e.sedeNombre||e.sede} -> ID: ${n}`);let a=e.tipoventa||e.tipo_venta;a==="venta directa"?a="directa":a==="pedido"&&(a="pedido");const i=this.obtenerEstadoSegunTipo(e.tipoventa||e.tipo_venta),s=(e.detalleventa||e.productos||[]).map(m=>({idproductogeneral:parseInt(m.idproductogeneral||m.id),cantidad:parseInt(m.cantidad||1),preciounitario:parseFloat(m.preciounitario||m.precio||0),subtotal:parseFloat(m.subtotal||m.precio*m.cantidad||0),iva:parseFloat(m.iva||m.precio*m.cantidad*.16||0)})),c={fechaventa:this.formatearFecha(e.fechaventa||e.fecha_venta),cliente:r,idsede:n,metodopago:e.metodopago||e.metodo_pago,tipoventa:a,estadoVentaId:i,total:parseFloat(e.total||0),detalleventa:s};if(a==="pedido"){const m=e.fechaentrega||e.fecha_entrega;m&&(c.fechaentrega=this.formatearFecha(m),console.log("Fecha de entrega incluida:",c.fechaentrega)),e.observaciones&&(c.observaciones=e.observaciones)}if(console.log("Datos transformados para la API:",c),!c.cliente)throw new Error(" Cliente es requerido");if(!c.metodopago)throw new Error("Mtodo de pago es requerido");if(!c.tipoventa)throw new Error("Tipo de venta es requerido");if(!c.total||c.total<=0)throw new Error("Total debe ser mayor a 0");if(!s.length)throw new Error("Debe incluir al menos un producto");const u=await fetch(`${Vi}/venta`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)});if(!u.ok){const m=await u.text();console.error("Error al crear venta:",m);let v=`HTTP error! Status: ${u.status}`;try{const h=JSON.parse(m);h.message&&(v=h.message),h.tipo==="INVENTARIO_INSUFICIENTE"&&(v=`Stock insuficiente: ${h.message}`)}catch{v=m||v}throw new Error(v)}const f=await u.json();return console.log("Venta creada exitosamente:",f),{idVenta:f.idventa,fechaVenta:f.fechaventa,total:parseFloat(f.total),metodoPago:f.metodopago,tipoVenta:f.tipoventa,idEstadoVenta:f.estadoVentaId||i,nombreEstado:i===5?"Activa":"En espera",nombreCliente:e.cliente||e.clienteNombre||"Cliente Genrico",nombreSede:e.sede||e.sedeNombre||"N/A",mensaje:f.mensaje,pedidoInfo:f.pedido&&f.pedido.length>0?{idpedido:f.pedido[0].idpedido,fechaentrega:f.pedido[0].fechaentrega,observaciones:f.pedido[0].observaciones}:null}}catch(r){throw console.error("Error al crear la venta:",r),new Error(r.message||"No se pudo crear la venta")}}async obtenerVentaPorId(e){try{console.log("Obteniendo detalle de venta ID:",e);let r=await fetch(`${Vi}/venta/${e}/detalles`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(r.ok||(console.log("Endpoint de detalles no disponible, intentando con endpoint bsico..."),r=await fetch(`${Vi}/venta/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}})),!r.ok){const a=await r.text();throw console.error("Error al obtener detalle:",a),new Error(`HTTP error! Status: ${r.status}. ${a}`)}const n=await r.json();console.log("Detalle de venta recibido:",n);try{const a=await fetch(`${Vi}/abonos/pedido/${e}`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(a.ok){const i=await a.json();console.log("Abonos obtenidos:",i),n.abonos=i}else console.warn("No se pudieron obtener los abonos"),n.abonos=[]}catch(a){console.warn("Error al obtener abonos:",a),n.abonos=[]}return this.transformarVentaCompletaDesdeAPI(n)}catch(r){throw console.error("Error al obtener el detalle de la venta:",r),new Error(`No se pudo obtener el detalle de la venta: ${r.message}`)}}async anularVenta(e){try{console.log("Anulando venta ID:",e);const r=await fetch(`${Vi}/venta/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({estadoVentaId:6})});if(!r.ok){const a=await r.text();throw console.error("Error al anular:",a),new Error(`HTTP error! Status: ${r.status}. ${a}`)}const n=await r.json();return console.log("Venta anulada exitosamente:",n),n}catch(r){throw console.error("Error al anular venta:",r),new Error(`No se pudo anular la venta: ${r.message}`)}}async actualizarEstadoVenta(e,r){try{console.log(`Actualizando estado de venta ${e} a estado ${r}`);const n=await fetch(`${Vi}/venta/${e}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({estadoVentaId:r})});if(!n.ok){const i=await n.text();throw console.error("Error al actualizar estado:",i),new Error(`HTTP error! Status: ${n.status}. ${i}`)}const a=await n.json();return console.log("Estado actualizado exitosamente:",a),a}catch(n){throw console.error("Error al actualizar estado de venta:",n),new Error(`No se pudo actualizar el estado: ${n.message}`)}}async crearAbono(e,r=null){try{console.log("Creando abono para venta ID:",e.idpedido||e.idPedido);const n=new FormData;n.append("idpedido",e.idpedido||e.idPedido),n.append("metodopago",e.metodopago||e.metodo_pago),n.append("cantidadpagar",e.cantidadpagar||e.total_pagado),n.append("TotalPagado",e.TotalPagado||e.total_pagado),r&&(n.append("comprobante",r),console.log("Imagen agregada al FormData:",r.name,r.size)),console.log("Datos del FormData:");for(let[s,l]of n.entries())console.log(`${s}:`,typeof l=="object"?`Archivo: ${l.name}`:l);const a=await fetch(`${Vi}/abonos`,{method:"POST",body:n});if(!a.ok){const s=await a.text();console.error("Error al crear abono - Status:",a.status),console.error("Error al crear abono - Response:",s);let l=`Error del servidor (${a.status})`;try{const c=JSON.parse(s);c.message&&(l=c.message,l.includes("too long for the column")?l="El mtodo de pago seleccionado es muy largo. Use: efectivo, tarjeta, transferencia u otro.":l.includes("ID de pedido es requerido")?l="Error interno: ID de venta requerido":l.includes("Mtodo de pago muy largo")&&(l="El mtodo de pago es muy largo (mximo 20 caracteres)"))}catch{console.warn("No se pudo parsear el error como JSON")}throw new Error(l)}const i=await a.json();return console.log("Abono creado exitosamente:",i),i}catch(n){throw console.error("Error al crear abono:",n),new Error(`No se pudo crear el abono: ${n.message}`)}}async anularAbono(e){try{if(console.log("Anulando abono ID:",e),!e||e<=0)throw new Error("ID de abono invlido");const r=await fetch(`${Vi}/abonos/${e}/anular`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!r.ok){const a=await r.text();throw console.error("Error al anular abono:",a),new Error(`HTTP error! Status: ${r.status}. ${a}`)}const n=await r.json();return console.log("Abono anulado exitosamente:",n),n}catch(r){throw console.error("Error al anular abono:",r),new Error(`No se pudo anular el abono: ${r.message}`)}}async testConnection(){try{console.log("Testando conexin a:",Vi);const e=await fetch(`${Vi}/estado-venta`,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(console.log("Test response status:",e.status),console.log("Test response ok:",e.ok),e.ok){const r=await e.json();return console.log("Test data:",r),{success:!0,data:r}}else{const r=await e.text();return console.log("Test error:",r),{success:!1,status:e.status,error:r}}}catch(e){return console.error("Error en test de conexin:",e),{success:!1,error:e.message}}}}const wo=new BB,ou="https://deliciasoft-backend-i6g9.onrender.com/api";class UB{async obtenerCategorias(){try{const e=await fetch(`${ou}/categorias-productos`);if(!e.ok)throw new Error(`Error ${e.status}: ${e.statusText}`);const r=await e.json();return console.log("Categoras obtenidas:",r),r}catch(e){throw console.error("Error al obtener categoras:",e),new Error("No se pudieron cargar las categoras de productos")}}async obtenerCategoriaPorId(e){try{const r=await fetch(`${ou}/categorias-productos/${e}`);if(!r.ok)throw r.status===404?new Error("Categora no encontrada"):new Error(`Error ${r.status}: ${r.statusText}`);return await r.json()}catch(r){throw console.error("Error al obtener categora:",r),r}}async crearCategoria(e,r=null){try{this.validarDatosCategoria(e),r&&this.validarArchivoImagen(r),console.log("Creando categora con datos:",e),console.log("Archivo imagen:",r?"S":"No");const n=new FormData;n.append("nombrecategoria",e.nombre.trim()),n.append("descripcion",e.descripcion.trim()),n.append("estado",e.estado!==void 0?e.estado:!0),r&&(n.append("imagen",r),console.log("Imagen agregada al FormData:",r.name,r.size,r.type)),console.log("FormData entries:");for(let s of n.entries())console.log(s[0]+":",s[1]);const a=await fetch(`${ou}/categorias-productos`,{method:"POST",body:n});if(!a.ok){let s=`Error ${a.status}: ${a.statusText}`;try{const l=await a.json();console.error("Error del servidor:",l),s=l.message||s}catch(l){console.error("No se pudo parsear el error:",l)}throw new Error(s)}const i=await a.json();return console.log("Categora creada exitosamente:",i),i}catch(n){throw console.error("Error al crear categora:",n),n}}async actualizarCategoria(e,r,n=null){try{this.validarDatosCategoria(r),n&&this.validarArchivoImagen(n),console.log("Actualizando categora con ID:",e,"Datos:",r),console.log("Nueva imagen:",n?"S":"No");const a=new FormData;a.append("nombrecategoria",r.nombre.trim()),a.append("descripcion",r.descripcion.trim()),a.append("estado",r.estado),n&&(a.append("imagen",n),console.log("Nueva imagen agregada al FormData:",n.name));const i=await fetch(`${ou}/categorias-productos/${e}`,{method:"PUT",body:a});if(!i.ok){let l=`Error ${i.status}: ${i.statusText}`;try{const c=await i.json();console.error("Error del servidor:",c),l=c.message||l}catch(c){console.error("No se pudo parsear el error:",c)}throw new Error(l)}const s=await i.json();return console.log("Categora actualizada exitosamente:",s),s}catch(a){throw console.error("Error al actualizar categora:",a),a}}async eliminarCategoria(e){try{console.log("Eliminando categora con ID:",e);const r=await fetch(`${ou}/categorias-productos/${e}`,{method:"DELETE"});if(!r.ok){let a=`Error ${r.status}: ${r.statusText}`;try{a=(await r.json()).message||a}catch{}throw new Error(a)}const n=await r.json();return console.log("Categora eliminada:",n),n}catch(r){throw console.error("Error al eliminar categora:",r),r}}async toggleEstadoCategoria(e){try{console.log("Cambiando estado de categora con ID:",e);const r=await fetch(`${ou}/categorias-productos/${e}/estado`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!r.ok){let a=`Error ${r.status}: ${r.statusText}`;try{a=(await r.json()).message||a}catch{}throw new Error(a)}const n=await r.json();return console.log("Estado de categora cambiado:",n),n}catch(r){throw console.error("Error al cambiar estado de categora:",r),r}}async categoriaTieneProductos(e){try{console.log("Verificando productos asociados para categora:",e);const r=await fetch(`${ou}/categorias-productos/${e}/productos`);if(r.ok){const n=await r.json();return n&&n.length>0}else return r.status===404?(console.log("Endpoint de productos no encontrado, asumiendo sin productos asociados"),!1):(console.log("Error al verificar productos, permitiendo eliminacin"),!1)}catch(r){return console.error("Error al verificar productos asociados:",r),!1}}validarDatosCategoria(e){const r=[];if((!e.nombre||e.nombre.trim()==="")&&r.push("El nombre de la categora es obligatorio"),e.nombre&&e.nombre.trim().length>20&&r.push("El nombre no puede tener ms de 20 caracteres"),(!e.descripcion||e.descripcion.trim()==="")&&r.push("La descripcin es obligatoria"),e.descripcion&&e.descripcion.trim().length>50&&r.push("La descripcin no puede tener ms de 50 caracteres"),r.length>0)throw new Error(r.join(", "))}validarArchivoImagen(e){if(!e)return!0;const r=["image/jpeg","image/jpg","image/png","image/webp"],n=5*1024*1024;if(!r.includes(e.type))throw new Error("Solo se permiten archivos de imagen (JPEG, PNG, WebP)");if(e.size>n)throw new Error("El archivo no puede ser mayor a 5MB");return!0}async obtenerCategoriasActivas(){try{const e=await fetch(`${ou}/categorias-productos/activas`);if(!e.ok)throw new Error(`Error ${e.status}: ${e.statusText}`);return await e.json()}catch(e){throw console.error("Error al obtener categoras activas:",e),e}}async testearConexion(){try{console.log("Testeando conexin con:",`${ou}/categorias-productos`);const e=await fetch(`${ou}/categorias-productos`);return console.log("Status de respuesta:",e.status),e.ok}catch(e){return console.error("Error de conexin:",e),!1}}}const Is=new UB,s4=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(null),[a,i]=p.useState({show:!1,type:"",message:""}),[s,l]=p.useState(!1),[c,u]=p.useState([]),[f,m]=p.useState([]),[v,h]=p.useState(!0),[E,y]=p.useState(null),[b,x]=p.useState(""),[w,N]=p.useState(0),[I,P]=p.useState(1e6),[L,R]=p.useState(1e6),[O,A]=p.useState(!1),[T,C]=p.useState(null),_=po(),{carrito:D,agregarProducto:z,actualizarCantidadCarrito:V,eliminarDelCarrito:J}=p.useContext(ps);p.useEffect(()=>{ie()},[]),p.useEffect(()=>{const le=localStorage.getItem("productosTemporales");if(le)try{const pe=JSON.parse(le);console.log("Productos recuperados:",pe),pe.forEach(ce=>{z(ce)}),localStorage.removeItem("productosTemporales"),j("success","Productos recuperados correctamente")}catch(pe){console.error("Error al recuperar productos:",pe),localStorage.removeItem("productosTemporales")}},[]);const ie=async()=>{try{h(!0),y(null);const[le,pe]=await Promise.all([Is.obtenerCategoriasActivas(),Qs.obtenerProductos()]);console.log("Categoras obtenidas:",le),console.log("Productos obtenidos:",pe);const ce=le.map(be=>({id:be.idcategoriaproducto||be.id,nombre:be.nombrecategoria||be.nombre,icon:G(be.nombrecategoria||be.nombre),descripcion:be.descripcion,imagen:be.imagen})),_e=te(pe,ce);u(ce),m(_e),ce.length>0&&e(ce[0].id);let He=0;pe.forEach(be=>{be.precio>He&&(He=be.precio)});const Re=Math.ceil(He/1e3)*1e3;R(Re),N(0),P(Re)}catch(le){console.error("Error al cargar datos:",le),y(`Error al cargar datos: ${le.message}`),j("error","Error al cargar categoras y productos")}finally{h(!1)}},G=le=>{const pe=le.toLowerCase();return pe.includes("fresa")?"":pe.includes("dona")?"":pe.includes("postre")?"":pe.includes("cupcake")?"":pe.includes("arroz")?"":pe.includes("sandwich")||pe.includes("sanduche")?"":pe.includes("torta")||pe.includes("cake")?"":pe.includes("bebida")?"":pe.includes("helado")?"":""},te=(le,pe)=>{const ce={};return pe.forEach(_e=>{ce[_e.id]=[]}),le.forEach(_e=>{const He=_e.idcategoria||_e.idcategoriaproducto;if(He&&ce[He]){const Re={id:_e.id,nombre:_e.nombre,imagen:_e.urlimagen||"https://via.placeholder.com/300x200?text=Producto",precio:_e.precio,descripcion:_e.descripcion||"Descripcin no disponible",categoria:He,estado:_e.estado,cantidad:1};ce[He].push(Re)}}),ce},W=le=>le.filter(pe=>{const ce=pe.nombre.toLowerCase().includes(b.toLowerCase()),_e=O?pe.precio>=w&&pe.precio<=I:!0;return ce&&_e}),B=()=>{x(""),A(!1),N(0),P(L)},j=(le,pe)=>{i({show:!0,type:le,message:pe}),setTimeout(()=>{i({show:!1,type:"",message:""})},3e3)},U=le=>{const pe={...le,cantidad:1};z(pe),j("success",`${le.nombre} agregado al carrito!`)},X=le=>{n(le)},Z=()=>{n(null)},me=()=>{l(!1),localStorage.setItem("productosTemporales",JSON.stringify(D)),_("/iniciar-sesion")},de=()=>{l(!1)};if(v)return o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},o.createElement("div",{style:{textAlign:"center"}},o.createElement("div",{style:{width:"50px",height:"50px",border:"5px solid #f3f3f3",borderTop:"5px solid #e91e63",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),o.createElement("h3",{style:{color:"#2c3e50"}},"Cargando productos...")));if(E)return o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px",display:"flex",justifyContent:"center",alignItems:"center"}},o.createElement("div",{style:{textAlign:"center",backgroundColor:"white",padding:"30px",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},""),o.createElement("h3",{style:{color:"#e74c3c",marginBottom:"15px"}},"Error al cargar datos"),o.createElement("p",{style:{color:"#7f8c8d",marginBottom:"20px"}},E),o.createElement("button",{onClick:ie,style:{padding:"12px 24px",border:"none",borderRadius:"10px",backgroundColor:"#e91e63",color:"white",fontSize:"16px",fontWeight:"bold",cursor:"pointer"}},"Reintentar")));const oe=f[t]||[],ee=W(oe);return o.createElement("div",{style:{backgroundColor:"#f8f9fa",minHeight:"100vh",padding:"20px"}},a.show&&o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:2e3,padding:"1rem 1.5rem",borderRadius:"15px",color:"white",fontWeight:"600",fontSize:"0.9rem",minWidth:"300px",background:a.type==="success"?"linear-gradient(135deg, #10b981, #059669)":"linear-gradient(135deg, #ec4899, #be185d)",boxShadow:"0 10px 25px rgba(0,0,0,0.2)",animation:"slideInRight 0.5s ease-out"}},a.message),o.createElement("div",{style:{textAlign:"center",marginBottom:"30px"}},o.createElement("h1",{style:{fontSize:"28px",fontWeight:"bold",color:"#2c3e50",marginBottom:"10px",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent"}},"Nuestros Productos"),o.createElement("p",{style:{color:"#7f8c8d",fontSize:"16px"}},"Explora y agrega tus favoritos al carrito")),o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"25px",marginBottom:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"25px",alignItems:"end"}},o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#2c3e50",marginBottom:"8px"}}," Buscar producto"),o.createElement("input",{type:"text",value:b,onChange:le=>x(le.target.value),placeholder:"Buscar por nombre...",style:{width:"100%",padding:"12px 15px",border:"2px solid #e0e0e0",borderRadius:"12px",fontSize:"14px",outline:"none",transition:"border-color 0.3s"},onFocus:le=>le.target.style.borderColor="#e91e63",onBlur:le=>le.target.style.borderColor="#e0e0e0"})),o.createElement("div",null,o.createElement("label",{style:{display:"block",fontSize:"14px",fontWeight:"600",color:"#2c3e50",marginBottom:"8px"}}," Rango de precio"),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px",fontSize:"13px",color:"#7f8c8d",fontWeight:"600"}},o.createElement("span",{style:{color:"#e91e63",backgroundColor:"#ffe4ec",padding:"4px 10px",borderRadius:"8px"}},"$",w.toLocaleString()),o.createElement("span",{style:{color:"#e91e63",backgroundColor:"#ffe4ec",padding:"4px 10px",borderRadius:"8px"}},"$",I.toLocaleString())),o.createElement("div",{style:{position:"relative",height:"50px",paddingTop:"10px"}},o.createElement("div",{style:{position:"absolute",top:"25px",left:"0",right:"0",height:"6px",backgroundColor:"#e0e0e0",borderRadius:"3px"}}),o.createElement("div",{style:{position:"absolute",top:"25px",left:`${w/L*100}%`,right:`${100-I/L*100}%`,height:"6px",background:"linear-gradient(90deg, #e91e63, #ff6b9d)",borderRadius:"3px",boxShadow:"0 2px 5px rgba(233, 30, 99, 0.3)",pointerEvents:"none"}}),o.createElement("input",{type:"range",min:0,max:L,step:1e3,value:w,onChange:le=>{const pe=Number(le.target.value);pe<I-1e3&&N(pe)},style:{position:"absolute",width:"100%",height:"6px",top:"10px",appearance:"none",background:"transparent",zIndex:4,cursor:"pointer",pointerEvents:"auto"},className:"range-slider range-slider-min"}),o.createElement("input",{type:"range",min:0,max:L,step:1e3,value:I,onChange:le=>{const pe=Number(le.target.value);pe>w+1e3&&P(pe)},style:{position:"absolute",width:"100%",height:"6px",top:"40px",appearance:"none",background:"transparent",zIndex:4,cursor:"pointer",pointerEvents:"auto"},className:"range-slider range-slider-max"}))),o.createElement("div",{style:{display:"flex",gap:"10px"}},o.createElement("button",{onClick:()=>A(!O),style:{flex:1,padding:"12px 20px",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",background:O?"linear-gradient(135deg, #e91e63, #ff6b9d)":"linear-gradient(135deg, #FFD700, #FFA500)",color:"white",boxShadow:O?"0 4px 15px rgba(233, 30, 99, 0.3)":"0 4px 15px rgba(255, 215, 0, 0.3)",transform:O?"translateY(-2px)":"none"},onMouseEnter:le=>{le.currentTarget.style.transform="translateY(-2px)",le.currentTarget.style.boxShadow=O?"0 6px 20px rgba(233, 30, 99, 0.4)":"0 6px 20px rgba(255, 215, 0, 0.4)"},onMouseLeave:le=>{le.currentTarget.style.transform=O?"translateY(-2px)":"none",le.currentTarget.style.boxShadow=O?"0 4px 15px rgba(233, 30, 99, 0.3)":"0 4px 15px rgba(255, 215, 0, 0.3)"}},O?" Filtro activo":"Aplicar filtro"),o.createElement("button",{onClick:B,style:{padding:"12px 20px",border:"2px solid #e0e0e0",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",backgroundColor:"white",color:"#7f8c8d",transition:"all 0.3s ease"},onMouseEnter:le=>{le.target.style.borderColor="#e91e63",le.target.style.color="#e91e63",le.target.style.transform="translateY(-2px)"},onMouseLeave:le=>{le.target.style.borderColor="#e0e0e0",le.target.style.color="#7f8c8d",le.target.style.transform="translateY(0)"}}," Limpiar"))),(b||O)&&o.createElement("div",{style:{marginTop:"15px",padding:"12px 18px",background:"linear-gradient(135deg, #ffe4ec, #fff0f6)",borderRadius:"12px",fontSize:"14px",color:"#2c3e50",borderLeft:"4px solid #e91e63",display:"flex",alignItems:"center",gap:"10px"}},o.createElement("span",{style:{fontSize:"18px"}},""),o.createElement("span",null,"Mostrando ",o.createElement("strong",{style:{color:"#e91e63"}},ee.length)," de ",o.createElement("strong",null,oe.length)," productos"))),o.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"10px",marginBottom:"30px",padding:"20px",backgroundColor:"white",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}},c.map(le=>o.createElement("button",{key:le.id,onClick:()=>e(le.id),style:{padding:"12px 20px",border:"none",borderRadius:"25px",fontSize:"14px",fontWeight:"500",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:t===le.id?"#e91e63":"#f8f9fa",color:t===le.id?"white":"#2c3e50",boxShadow:t===le.id?"0 4px 15px rgba(233,30,99,0.3)":"none",transform:t===le.id?"translateY(-2px)":"none"}},o.createElement("span",{style:{marginRight:"8px"}},le.icon),le.nombre))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(300px, 1fr))",gap:"20px",marginBottom:"30px"}},ee.length===0?o.createElement("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"40px",backgroundColor:"white",borderRadius:"20px",boxShadow:"0 4px 20px rgba(0,0,0,0.1)"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},b||O?"":""),o.createElement("h3",{style:{color:"#7f8c8d"}},b||O?"No se encontraron productos con estos filtros":"No hay productos disponibles en esta categora")):ee.map(le=>{const pe=D.find(ce=>ce.id===le.id);return o.createElement("div",{key:le.id,style:{backgroundColor:"white",borderRadius:"20px",overflow:"hidden",boxShadow:pe?"0 8px 25px rgba(233,30,99,0.2)":"0 4px 20px rgba(0,0,0,0.1)",transition:"all 0.3s ease",cursor:"pointer",border:pe?"2px solid #e91e63":"2px solid transparent",transform:pe?"translateY(-5px)":"none"}},o.createElement("div",{style:{height:"200px",backgroundImage:`url(${le.imagen})`,backgroundSize:"cover",backgroundPosition:"center",position:"relative"},onClick:()=>X(le)},o.createElement("div",{style:{position:"absolute",top:"10px",left:"10px",backgroundColor:"rgba(255, 255, 255, 0.95)",color:"#ec4899",borderRadius:"50%",width:"40px",height:"40px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"22px",boxShadow:"0 2px 8px rgba(0,0,0,0.2)",transition:"transform 0.3s ease"},onMouseEnter:ce=>ce.currentTarget.style.transform="scale(1.15)",onMouseLeave:ce=>ce.currentTarget.style.transform="scale(1)"},o.createElement(D7,null)),pe&&o.createElement("div",{style:{position:"absolute",top:"10px",right:"10px",backgroundColor:"#4CAF50",color:"white",borderRadius:"50%",width:"35px",height:"35px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"18px",fontWeight:"bold",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"}},"")),o.createElement("div",{style:{padding:"20px"}},o.createElement("h3",{style:{fontSize:"18px",fontWeight:"bold",color:"#2c3e50",marginBottom:"8px",margin:"0 0 8px 0"}},le.nombre),o.createElement("p",{style:{fontSize:"24px",fontWeight:"bold",color:"#e91e63",margin:"0 0 15px 0"}},"$",le.precio.toLocaleString()),o.createElement("button",{style:{width:"100%",padding:"12px",border:"none",borderRadius:"12px",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease",backgroundColor:pe?"#4caf50":"#e91e63",color:"white",display:"flex",alignItems:"center",justifyContent:"center",gap:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},onClick:ce=>{ce.stopPropagation(),U(le)},onMouseEnter:ce=>{ce.currentTarget.style.transform="translateY(-2px)",ce.currentTarget.style.boxShadow="0 4px 12px rgba(0,0,0,0.2)"},onMouseLeave:ce=>{ce.currentTarget.style.transform="translateY(0)",ce.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.1)"}},o.createElement("span",{style:{fontSize:"18px"}},""),pe?`En carrito (${pe.cantidad})`:"Agregar al carrito")))})),r&&o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},onClick:Z},o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"30px",maxWidth:"500px",width:"90%",position:"relative",boxShadow:"0 20px 40px rgba(0,0,0,0.2)",animation:"scaleIn 0.3s ease-out"},onClick:le=>le.stopPropagation()},o.createElement("button",{onClick:Z,style:{position:"absolute",top:"15px",right:"15px",width:"40px",height:"40px",border:"none",borderRadius:"50%",fontSize:"20px",cursor:"pointer",backgroundColor:"#e74c3c",color:"white",display:"flex",alignItems:"center",justifyContent:"center",transition:"transform 0.2s"},onMouseEnter:le=>le.currentTarget.style.transform="rotate(90deg)",onMouseLeave:le=>le.currentTarget.style.transform="rotate(0deg)"},""),o.createElement("div",{style:{height:"250px",backgroundImage:`url(${r.imagen})`,backgroundSize:"cover",backgroundPosition:"center",borderRadius:"15px",marginBottom:"20px",boxShadow:"0 4px 15px rgba(0,0,0,0.1)"}}),o.createElement("h2",{style:{fontSize:"24px",fontWeight:"bold",color:"#2c3e50",marginBottom:"10px",margin:"0 0 10px 0"}},r.nombre),o.createElement("p",{style:{fontSize:"28px",fontWeight:"bold",color:"#e91e63",marginBottom:"15px",margin:"0 0 15px 0"}},"$",r.precio.toLocaleString()),o.createElement("p",{style:{fontSize:"16px",color:"#7f8c8d",lineHeight:"1.6",marginBottom:"20px",margin:"0 0 20px 0"}},r.descripcion),o.createElement("button",{onClick:()=>{U(r),Z()},style:{width:"100%",padding:"12px",border:"none",borderRadius:"12px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",color:"white",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(233,30,99,0.3)"}},"Agregar al carrito"))),s&&o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1002}},o.createElement("div",{style:{backgroundColor:"white",borderRadius:"20px",padding:"30px",maxWidth:"450px",width:"90%",textAlign:"center",boxShadow:"0 20px 40px rgba(0,0,0,0.2)"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},""),o.createElement("h3",{style:{fontSize:"22px",fontWeight:"bold",color:"#2c3e50",marginBottom:"15px"}},"Inicia sesin para continuar!"),o.createElement("p",{style:{fontSize:"16px",color:"#7f8c8d",marginBottom:"25px",lineHeight:"1.5"}},"Para personalizar tu pedido y continuar con el proceso de compra, necesitas iniciar sesin en tu cuenta."),o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"15px"}},o.createElement("button",{onClick:de,style:{padding:"12px 25px",border:"2px solid #e74c3c",borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",backgroundColor:"transparent",color:"#e74c3c",transition:"all 0.3s ease"}},"Cancelar"),o.createElement("button",{onClick:me,style:{padding:"12px 25px",border:"none",borderRadius:"10px",fontSize:"16px",fontWeight:"bold",cursor:"pointer",background:"linear-gradient(45deg, #e91e63, #ff6b9d)",color:"white",transition:"all 0.3s ease",boxShadow:"0 4px 15px rgba(233,30,99,0.3)"}},"Iniciar Sesin")))),o.createElement("style",null,`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
          
          @keyframes slideInRight {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }

          @keyframes scaleIn {
            from {
              transform: scale(0.9);
              opacity: 0;
            }
            to {
              transform: scale(1);
              opacity: 1;
            }
          }

          /* Estilos para los sliders de rango */
          .range-slider::-webkit-slider-thumb {
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #e91e63, #ff6b9d);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(233, 30, 99, 0.4);
            transition: all 0.2s ease;
            position: relative;
            z-index: 5;
          }

          .range-slider::-webkit-slider-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 3px 12px rgba(233, 30, 99, 0.6);
          }

          .range-slider::-webkit-slider-thumb:active {
            transform: scale(1.1);
          }

          .range-slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #e91e63, #ff6b9d);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(233, 30, 99, 0.4);
            transition: all 0.2s ease;
          }

          .range-slider::-moz-range-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 3px 12px rgba(233, 30, 99, 0.6);
          }

          .range-slider::-moz-range-thumb:active {
            transform: scale(1.1);
          }

          /* Para Edge */
          .range-slider::-ms-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: linear-gradient(135deg, #e91e63, #ff6b9d);
            cursor: pointer;
            border: 3px solid white;
            box-shadow: 0 2px 8px rgba(233, 30, 99, 0.4);
            transition: all 0.2s ease;
          }

          .range-slider::-ms-thumb:hover {
            transform: scale(1.2);
            box-shadow: 0 3px 12px rgba(233, 30, 99, 0.6);
          }
        `))},qB=({pedido:t,onSiguiente:e,onAnterior:r,onOpcionSeleccionada:n})=>{const[a,i]=p.useState(""),[s,l]=p.useState({fecha:"",hora:"",telefono:"",observaciones:""}),[c,u]=p.useState([]),[f,m]=p.useState({}),[v,h]=p.useState([]),[E,y]=p.useState(!0),b={horaInicio:"11:00",horaFin:"16:00",texto:"Lunes a Domingo: 11:00 AM - 4:00 PM"};p.useEffect(()=>{(async()=>{try{y(!0);const G=(await cu.obtenerSedes()).filter(te=>te.activo).map(te=>({id:te.id.toString(),nombre:te.nombre,direccion:te.Direccion||te.direccion,horarios:b.texto,horaInicio:b.horaInicio,horaFin:b.horaFin,icon:"",telefono:te.Telefono||te.telefono,imagenUrl:te.imagenUrl}));h(G),G.length===0&&x("warning"," No hay sedes disponibles en este momento")}catch(ie){console.error("Error al cargar sedes:",ie),x("error"," Error al cargar las ubicaciones disponibles"),h([{id:"sede-principal",nombre:"Sede Principal",direccion:"Direccin no disponible",horarios:b.texto,horaInicio:b.horaInicio,horaFin:b.horaFin,icon:""}])}finally{y(!1)}})()},[]);const x=(J,ie)=>{const G={id:Date.now()+Math.random(),tipo:J,mensaje:ie,timestamp:Date.now()};u(te=>[...te,G]),setTimeout(()=>{u(te=>te.filter(W=>W.id!==G.id))},5e3)},w=J=>/^[3][0-9]{9}$/.test(J.replace(/\s/g,"")),N=J=>{if(!J)return!1;const ie=new Date(J),G=new Date,te=new Date;return G.setDate(G.getDate()+15),te.setDate(te.getDate()+30),ie>=G&&ie<=te},I=(J,ie)=>{if(!J||!ie||!a)return!1;const G=v.find(U=>U.id===a);if(!G)return!1;const te=U=>{const[X,Z]=U.split(":").map(Number);return X*60+Z},W=te(ie),B=te(G.horaInicio),j=te(G.horaFin);return W>=B&&W<j},P=()=>{if(!a)return"";const J=v.find(ie=>ie.id===a);return J?`${J.horaInicio} - ${J.horaFin}`:""};p.useEffect(()=>{const J={};if(a||(J.ubicacion="Debe seleccionar una ubicacin"),s.fecha&&(N(s.fecha)||(J.fecha="La fecha debe estar entre 15 y 30 das desde hoy")),s.hora&&s.fecha&&!I(s.fecha,s.hora)){const ie=P();J.hora=`La hora debe estar dentro del horario de atencin: ${ie}`}s.telefono&&(w(s.telefono)||(J.telefono="El telfono debe ser un celular colombiano vlido (10 dgitos)")),m(J)},[a,s,v]);const L=J=>{i(J);const ie=v.find(G=>G.id===J);x("success",` Ubicacin "${ie.nombre}" seleccionada correctamente`),s.hora&&l(G=>({...G,hora:""}))},R=J=>{l(ie=>({...ie,fecha:J})),J&&(N(J)?x("success"," Fecha vlida seleccionada"):x("error"," La fecha debe estar entre 15 y 30 das desde hoy"))},O=J=>{if(l(ie=>({...ie,hora:J})),J&&s.fecha&&a)if(I(s.fecha,J))x("success"," Hora vlida seleccionada");else{const ie=P();x("error",` La hora debe estar dentro del horario: ${ie}`)}},A=J=>{l(ie=>({...ie,telefono:J})),J.length===10&&(w(J)?x("success"," Telfono vlido"):x("error"," Ingrese un telfono celular colombiano vlido"))},T=()=>{const ie=[{campo:"ubicacion",valor:a,mensaje:"Debe seleccionar una ubicacin"},{campo:"fecha",valor:s.fecha,mensaje:"Debe seleccionar una fecha de entrega"},{campo:"hora",valor:s.hora,mensaje:"Debe seleccionar una hora de entrega"},{campo:"telefono",valor:s.telefono,mensaje:"Debe ingresar un telfono de contacto"}].filter(G=>!G.valor);if(ie.length>0){ie.forEach(G=>{x("error",` ${G.mensaje}`)});return}if(Object.keys(f).length>0){x("error"," Por favor corrija los errores antes de continuar");return}x("success"," Formulario completado correctamente"),setTimeout(()=>{const G=v.find(W=>W.id===a),te={fecha:s.fecha,hora:s.hora,telefono:s.telefono,observaciones:s.observaciones||"",ubicacion:a,ubicacionData:G};console.log(" Guardando datos de entrega en localStorage:",te),localStorage.setItem("datosEntrega",JSON.stringify(te)),n({ubicacion:a,ubicacionData:G,datosEntrega:te}),e()},1e3)},C=a&&s.fecha&&s.hora&&s.telefono&&Object.keys(f).length===0,_=new Date;_.setDate(_.getDate()+15);const D=_.toISOString().split("T")[0],z=new Date;z.setDate(z.getDate()+30);const V=z.toISOString().split("T")[0];return o.createElement("div",{className:"opciones-entrega-container"},o.createElement("div",{className:"alertas-container"},c.map(J=>o.createElement("div",{key:J.id,className:`alerta alerta-${J.tipo}`},o.createElement("span",{className:"alerta-mensaje"},J.mensaje),o.createElement("button",{className:"alerta-cerrar",onClick:()=>u(ie=>ie.filter(G=>G.id!==J.id))},"")))),o.createElement("div",{className:"entrega-content"},o.createElement("div",{className:"entrega-header"},o.createElement("h2",{className:"section-title"},"Selecciona tu Ubicacin"),o.createElement("div",{className:"alert-container"},o.createElement("div",{className:"alert-icon"},""),o.createElement("span",{className:"alert-text"},"Tu pedido contiene productos personalizados."))),o.createElement("div",{className:"ubicaciones-container"},o.createElement("h3",{className:"subsection-title"},"Selecciona dnde recogers tu pedido"),E?o.createElement("div",{className:"loading-container"},o.createElement("div",{className:"loading-spinner"}),o.createElement("span",null,"Cargando ubicaciones disponibles...")):o.createElement("div",{className:"ubicaciones-grid"},v.map(J=>o.createElement("label",{key:J.id,className:`ubicacion-card ${a===J.id?"selected":""} ${f.ubicacion?"error":""}`},o.createElement("input",{type:"radio",name:"ubicacion",value:J.id,checked:a===J.id,onChange:ie=>L(ie.target.value),className:"radio-input"}),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"ubicacion-icon"},J.imagenUrl?o.createElement("img",{src:J.imagenUrl,alt:J.nombre,className:"ubicacion-imagen",onError:ie=>{ie.target.style.display="none",ie.target.nextSibling.style.display="block"}}):null,o.createElement("span",{className:"ubicacion-icon-fallback",style:{display:J.imagenUrl?"none":"block"}},J.icon)),o.createElement("div",{className:"ubicacion-info"},o.createElement("span",{className:"ubicacion-nombre"},J.nombre),o.createElement("span",{className:"ubicacion-direccion"},J.direccion),o.createElement("span",{className:"ubicacion-horarios"},J.horarios),J.telefono&&o.createElement("span",{className:"ubicacion-telefono"}," ",J.telefono)),o.createElement("div",{className:"radio-indicator"}))))),f.ubicacion&&o.createElement("span",{className:"error-message"},"* ",f.ubicacion),a&&!E&&o.createElement("div",{className:"formulario-entrega"},o.createElement("h3",{className:"form-title"},"Datos de tu Pedido"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},o.createElement("span",{className:"label-icon"},""),"Fecha de entrega *"),o.createElement("input",{type:"date",value:s.fecha,min:D,max:V,onChange:J=>R(J.target.value),className:`form-input ${f.fecha?"error":""}`}),f.fecha&&o.createElement("span",{className:"error-message"},"* ",f.fecha),o.createElement("small",{className:"form-help"},"Entre 15 y 30 das desde hoy")),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},o.createElement("span",{className:"label-icon"},""),"Hora de entrega *"),o.createElement("input",{type:"time",value:s.hora,min:"11:00",max:"15:30",onChange:J=>O(J.target.value),className:`form-input ${f.hora?"error":""}`,step:"1800"}),f.hora&&o.createElement("span",{className:"error-message"},"* ",f.hora),a&&o.createElement("small",{className:"form-help"},"Horario disponible: ",P()," (11:00 AM - 4:00 PM)"))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},o.createElement("span",{className:"label-icon"},""),"Telfono de contacto *"),o.createElement("input",{type:"tel",placeholder:"Ej: 3001234567",value:s.telefono,onChange:J=>A(J.target.value),className:`form-input ${f.telefono?"error":""}`,maxLength:"10"}),f.telefono&&o.createElement("span",{className:"error-message"},"* ",f.telefono),o.createElement("small",{className:"form-help"},"Celular colombiano de 10 dgitos")),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},o.createElement("span",{className:"label-icon"},""),"Observaciones adicionales (Opcional)"),o.createElement("textarea",{placeholder:"Deja aqu cualquier comentario adicional sobre tu pedido...",value:s.observaciones,onChange:J=>l(ie=>({...ie,observaciones:J.target.value})),className:"form-textarea",rows:"3",maxLength:"500"}),o.createElement("small",{className:"form-help"},s.observaciones.length,"/500 caracteres")))),o.createElement("div",{className:"acciones-footer"},o.createElement("button",{onClick:r,className:"btn-anterior"},o.createElement("span",{className:"btn-icon"},""),"Anterior"),o.createElement("button",{onClick:T,disabled:!C||E,className:"btn-continuar"},"Continuar",o.createElement("span",{className:"btn-icon"},"")))))},VB=({pedido:t,total:e,onSiguiente:r,onAnterior:n,onEliminarProducto:a,onActualizarCantidad:i})=>{const[s,l]=p.useState(""),[c,u]=p.useState({mostrar:!1,tipo:"",mensaje:""}),[f,m]=p.useState({}),[v,h]=p.useState(!1),[E,y]=p.useState(null),[b,x]=p.useState({}),{carrito:w}=p.useContext(ps);p.useEffect(()=>{console.log(" ConfirmacionView - Verificando productos..."),console.log("Productos del pedido prop:",t==null?void 0:t.productos),console.log("Productos del carrito context:",w);const T=localStorage.getItem("personalizacionesPedido");if(T)try{const C=JSON.parse(T);x(C),console.log(" Personalizaciones cargadas:",C)}catch(C){console.error("Error al cargar personalizaciones:",C)}},[t,w]);const N=(T,C)=>{u({mostrar:!0,tipo:T,mensaje:C}),setTimeout(()=>{u({mostrar:!1,tipo:"",mensaje:""})},3e3)},I=()=>{if(console.log(" Obteniendo productos..."),t!=null&&t.productos&&Array.isArray(t.productos)&&t.productos.length>0)return console.log(" Usando productos del pedido prop"),t.productos;if(w&&Array.isArray(w)&&w.length>0)return console.log(" Usando productos del carrito context"),w;try{const T=localStorage.getItem("carritoParaPersonalizar");if(T){const C=JSON.parse(T);if(C&&C.length>0)return console.log(" Usando productos de localStorage"),C}}catch(T){console.error("Error al recuperar carrito de localStorage:",T)}return console.warn(" No se encontraron productos en ninguna fuente"),[]},P=T=>{m(C=>({...C,[T]:!C[T]}))},L=()=>{const T=I();if(T.length===0)return N("error"," No hay productos en el pedido. Por favor regresa y agrega productos."),!1;const C=T.reduce((_,D)=>_+(D.cantidad||1),0);return C<10?(N("error",` Necesitas al menos 10 productos en total. Tienes ${C} productos.`),!1):C>100?(N("error",` Mximo 100 productos permitidos. Tienes ${C} productos.`),!1):(N("success"," Pedido validado correctamente. Continuando al pago..."),setTimeout(()=>{r({...t,comentarios:s})},1e3),!0)},R=()=>{if(e&&typeof e=="number")return e;const T=I();let C=0;return C+=T.reduce((_,D)=>_+D.precio*(D.cantidad||1),0),T.forEach(_=>{const D=b[_.id];if(D)for(let z=1;z<=(_.cantidad||1);z++){const V=D[z];V&&(V.rellenos&&(C+=V.rellenos.reduce((J,ie)=>J+(ie.precio||0),0)),V.adiciones&&(C+=V.adiciones.reduce((J,ie)=>J+(ie.precio||0),0)),V.sabores&&(C+=V.sabores.reduce((J,ie)=>J+(ie.precio||0),0)))}}),C},O=I(),A=R();return console.log(" Estado actual en render:"),console.log("- Productos encontrados:",O.length),console.log("- Total calculado:",A),o.createElement("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"20px",fontFamily:"Inter, sans-serif",display:"flex",justifyContent:"center",alignItems:"flex-start"}},c.mostrar&&o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:2e3,padding:"1rem 1.5rem",borderRadius:"15px",color:"white",fontWeight:"600",fontSize:"0.9rem",minWidth:"300px",background:c.tipo==="success"?"linear-gradient(135deg, #10b981, #059669)":c.tipo==="error"?"linear-gradient(135deg, #ec4899, #be185d)":"linear-gradient(135deg, #0ea5e9, #0284c7)",boxShadow:"0 10px 25px rgba(0,0,0,0.2)",animation:"slideInRight 0.5s ease-out",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("span",null,c.mensaje),o.createElement("button",{onClick:()=>u({mostrar:!1,tipo:"",mensaje:""}),style:{background:"none",border:"none",color:"white",fontSize:"1.2rem",cursor:"pointer",marginLeft:"15px"}},"")),o.createElement("div",{style:{maxWidth:"900px",width:"100%",margin:"20px auto",background:"white",borderRadius:"20px",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",padding:"30px"}},o.createElement("div",{style:{textAlign:"center",marginBottom:"30px",borderBottom:"1px solid #eee",paddingBottom:"20px"}},o.createElement("h2",{style:{fontSize:"28px",fontWeight:"700",background:"linear-gradient(45deg, #e91e63, #f06292)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"10px"}},"Confirmacin del Pedido"),o.createElement("div",{style:{display:"inline-flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"20px",background:"#ffc10715",border:"2px solid #ffc10730",color:"#ffc107",fontWeight:"600",fontSize:"14px"}},o.createElement("span",{style:{fontSize:"18px"}},""),o.createElement("span",null,"Revisa tu pedido antes de continuar"))),o.createElement("div",{style:{marginBottom:"30px"}},o.createElement("h3",{style:{fontSize:"22px",fontWeight:"600",color:"#495057",marginBottom:"20px",display:"flex",alignItems:"center",gap:"10px"}}," Resumen de Productos (",O.length,")"),O.length===0?o.createElement("div",{style:{background:"#f8f9fa",borderRadius:"15px",padding:"40px",textAlign:"center",boxShadow:"0 5px 15px rgba(0,0,0,0.05)",border:"1px dashed #ced4da"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},""),o.createElement("h3",{style:{color:"#6c757d",marginBottom:"10px"}},"No hay productos en tu pedido"),o.createElement("p",{style:{color:"#adb5bd",marginBottom:"20px"}},"Por favor, regresa para agregar al menos un producto."),o.createElement("button",{onClick:n,style:{padding:"12px 25px",border:"none",borderRadius:"10px",background:"linear-gradient(45deg, #007bff, #0056b3)",color:"white",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:"0 4px 10px rgba(0, 123, 255, 0.3)"}}," Agregar Productos")):o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"15px"}},O.map(T=>{const C=b[T.id];return o.createElement("div",{key:T.id,style:{background:"#ffffff",borderRadius:"15px",boxShadow:"0 5px 15px rgba(0,0,0,0.05)",border:"1px solid #f0f2f5",overflow:"hidden"}},o.createElement("div",{style:{padding:"15px 20px",borderBottom:"1px solid #f0f2f5",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"10px"}},o.createElement("div",{style:{flexGrow:1}},o.createElement("h4",{style:{fontSize:"18px",fontWeight:"700",color:"#343a40",margin:"0 0 5px 0"}},T.nombre),o.createElement("div",{style:{fontSize:"14px",color:"#6c757d"}},"Cantidad: ",o.createElement("span",{style:{fontWeight:"600"}},T.cantidad||1),o.createElement("span",{style:{margin:"0 8px"}},""),"Precio unitario: ",o.createElement("span",{style:{fontWeight:"600"}},"$",T.precio.toLocaleString()),o.createElement("span",{style:{margin:"0 8px"}},""),"Subtotal: ",o.createElement("span",{style:{fontWeight:"600",color:"#e91e63"}},"$",(T.precio*(T.cantidad||1)).toLocaleString()))),o.createElement("div",{style:{display:"flex",gap:"10px",alignItems:"center"}},o.createElement("button",{onClick:()=>P(T.id),style:{padding:"8px 15px",border:"1px solid #ced4da",borderRadius:"10px",background:"#f8f9fa",color:"#6c757d",cursor:"pointer",fontSize:"14px",fontWeight:"600",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"5px"}},o.createElement("span",{style:{fontSize:"16px"}},""),f[T.id]?"Ocultar":"Ver personalizaciones"))),f[T.id]&&o.createElement("div",{style:{padding:"20px",background:"white",borderTop:"1px solid #e0e0e0"}},C?o.createElement(o.Fragment,null,o.createElement("div",{style:{fontSize:"13px",fontWeight:"600",color:"#666",marginBottom:"15px",textTransform:"uppercase",letterSpacing:"0.5px"}}," Personalizaciones:"),Object.keys(C).map(_=>{var V,J,ie,G,te,W,B,j,U,X;const D=C[_];return((V=D.toppings)==null?void 0:V.length)>0||((J=D.salsas)==null?void 0:J.length)>0||((ie=D.adiciones)==null?void 0:ie.length)>0||((G=D.rellenos)==null?void 0:G.length)>0||((te=D.sabores)==null?void 0:te.length)>0?o.createElement("div",{key:_,style:{borderLeft:"3px solid #e91e63",paddingLeft:"15px",marginBottom:"15px"}},o.createElement("div",{style:{fontSize:"12px",fontWeight:"600",color:"#333",marginBottom:"8px"}},T.nombre," ",T.cantidad>1?`- Unidad ${_}:`:":"),((W=D.toppings)==null?void 0:W.length)>0&&o.createElement("div",{style:{marginBottom:"8px"}},D.toppings.map((Z,me)=>o.createElement("div",{key:me,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0",fontSize:"13px",color:"#555"}},o.createElement("span",null,"Topping: ",Z.nombre),o.createElement("span",{style:{color:"#999",fontStyle:"italic"}},"Gratis")))),((B=D.salsas)==null?void 0:B.length)>0&&o.createElement("div",{style:{marginBottom:"8px"}},D.salsas.map((Z,me)=>o.createElement("div",{key:me,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0",fontSize:"13px",color:"#555"}},o.createElement("span",null,"Salsa: ",Z.nombre),o.createElement("span",{style:{color:"#999",fontStyle:"italic"}},"Gratis")))),((j=D.adiciones)==null?void 0:j.length)>0&&o.createElement("div",{style:{marginBottom:"8px"}},D.adiciones.map((Z,me)=>o.createElement("div",{key:me,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0",fontSize:"13px",color:"#555"}},o.createElement("span",null,"Adicin: ",Z.nombre),o.createElement("span",{style:{color:"#e91e63",fontWeight:"600"}},"+$",Z.precio.toLocaleString())))),((U=D.rellenos)==null?void 0:U.length)>0&&o.createElement("div",{style:{marginBottom:"8px"}},D.rellenos.map((Z,me)=>o.createElement("div",{key:me,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0",fontSize:"13px",color:"#555"}},o.createElement("span",null,"Relleno: ",Z.nombre),o.createElement("span",{style:{color:Z.precio>0?"#e91e63":"#999",fontWeight:Z.precio>0?"600":"400",fontStyle:Z.precio>0?"normal":"italic"}},Z.precio>0?`+${Z.precio.toLocaleString()}`:"Gratis")))),((X=D.sabores)==null?void 0:X.length)>0&&o.createElement("div",{style:{marginBottom:"8px"}},D.sabores.map((Z,me)=>o.createElement("div",{key:me,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0",fontSize:"13px",color:"#555"}},o.createElement("span",null,"Sabor: ",Z.nombre),o.createElement("span",{style:{color:Z.precio>0?"#e91e63":"#999",fontWeight:Z.precio>0?"600":"400",fontStyle:Z.precio>0?"normal":"italic"}},Z.precio>0?`+${Z.precio.toLocaleString()}`:"Gratis"))))):null})):o.createElement("div",{style:{background:"#f5f5f5",color:"#666",padding:"12px",borderRadius:"4px",fontSize:"13px",textAlign:"center",fontStyle:"italic"}},"Sin personalizaciones adicionales")))}))),o.createElement("div",{style:{background:"#f8f9fa",borderRadius:"15px",padding:"20px",marginBottom:"30px",border:"1px solid #e9ecef"}},o.createElement("h3",{style:{fontSize:"18px",fontWeight:"600",color:"#495057",marginBottom:"15px"}}," Resumen de Costos"),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",paddingTop:"15px",borderTop:"2px solid #dee2e6",fontSize:"20px",fontWeight:"700",color:"#e91e63"}},o.createElement("span",null,"Total del Pedido:"),o.createElement("span",null,"$",A.toLocaleString()))),o.createElement("div",{style:{background:"#f8f9fa",borderRadius:"15px",padding:"20px",marginBottom:"30px",border:"1px solid #e9ecef"}},o.createElement("label",{htmlFor:"comentarios",style:{fontSize:"18px",fontWeight:"600",color:"#495057",marginBottom:"15px",display:"flex",alignItems:"center",gap:"10px"}}," Comentarios adicionales"),o.createElement("textarea",{id:"comentarios",value:s,onChange:T=>l(T.target.value),placeholder:"Escribe aqu cualquier comentario especial para tu pedido...",rows:"4",maxLength:"500",style:{width:"100%",padding:"12px",border:"1px solid #ced4da",borderRadius:"10px",fontSize:"16px",fontFamily:"Inter, sans-serif",resize:"vertical",boxSizing:"border-box",outline:"none",transition:"border-color 0.3s ease, box-shadow 0.3s ease"},onFocus:T=>T.target.style.borderColor="#e91e63",onBlur:T=>T.target.style.borderColor="#ced4da"}),o.createElement("small",{style:{fontSize:"13px",color:"#6c757d",marginTop:"8px",display:"block",textAlign:"right"}},s.length,"/500 caracteres")),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",gap:"15px",paddingTop:"20px",borderTop:"1px solid #eee"}},o.createElement("button",{onClick:n,style:{padding:"12px 25px",border:"2px solid #6c757d",borderRadius:"10px",background:"white",color:"#6c757d",cursor:"pointer",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"8px"}},o.createElement("span",{style:{fontSize:"20px"}},""),"Anterior"),o.createElement("button",{onClick:L,disabled:O.length===0,style:{padding:"12px 25px",border:"none",borderRadius:"10px",background:O.length>0?"linear-gradient(45deg, #e91e63, #f06292)":"#6c757d",color:"white",cursor:O.length>0?"pointer":"not-allowed",fontSize:"16px",fontWeight:"600",transition:"all 0.3s ease",boxShadow:O.length>0?"0 4px 10px rgba(233, 30, 99, 0.3)":"none",display:"flex",alignItems:"center",gap:"8px",opacity:O.length===0?.7:1}},"Continuar al Pago",o.createElement("span",{style:{fontSize:"20px"}},"")))),o.createElement("style",null,`
          @keyframes slideInRight {
            from {
              transform: translateX(100%);
              opacity: 0;
            }
            to {
              transform: translateX(0);
              opacity: 1;
            }
          }
        `))},HB=({pedido:t,total:e,onPedidoCompletado:r,onAnterior:n,onOpcionSeleccionada:a,prepararDatosVenta:i})=>{const{carrito:s}=p.useContext(ps),[l,c]=p.useState(""),[u,f]=p.useState(""),[m,v]=p.useState(!1),[h,E]=p.useState(null),[y,b]=p.useState(""),[x]=p.useState(()=>`PED-${Date.now().toString().slice(-6)}`),[w,N]=p.useState({show:!1,type:"",message:""}),[I,P]=p.useState(!1),[L,R]=p.useState(!1),[O,A]=p.useState([]),[T,C]=p.useState(!0),[_,D]=p.useState(""),[z,V]=p.useState({});p.useEffect(()=>{console.log(" OpcionesPagoView - Verificando productos..."),console.log("Productos del pedido prop:",t==null?void 0:t.productos),console.log("Productos del carrito context:",s);const de=localStorage.getItem("personalizacionesPedido");if(de)try{const oe=JSON.parse(de);V(oe),console.log(" Personalizaciones cargadas:",oe)}catch(oe){console.error("Error al cargar personalizaciones:",oe)}},[t,s]),p.useEffect(()=>{(async()=>{try{C(!0),D("");const ee=(await cu.obtenerSedes()).filter(le=>le.activo).map(le=>({id:le.id.toString(),nombre:le.nombre,direccion:le.Direccion||le.direccion||"Direccin no disponible",horario:le.horario||"9:00 AM - 6:00 PM",telefono:le.Telefono||le.telefono}));A(ee),ee.length===0&&(D("No hay sedes disponibles"),A([{id:"san-benito",nombre:"San Benito",direccion:"CALLE 9 #7-34",horario:"9:00 AM - 6:00 PM"}]))}catch(oe){console.error("Error al cargar sedes:",oe),D(`Error al cargar sedes: ${oe.message}`),A([{id:"san-benito",nombre:"San Benito",direccion:"CALLE 9 #7-34",horario:"9:00 AM - 6:00 PM"}])}finally{C(!1)}})()},[]);const J=()=>{if(console.log(" Obteniendo productos..."),t!=null&&t.productos&&Array.isArray(t.productos)&&t.productos.length>0)return console.log(" Usando productos del pedido prop"),t.productos;if(s&&Array.isArray(s)&&s.length>0)return console.log(" Usando productos del carrito context"),s;try{const de=localStorage.getItem("carritoParaPersonalizar");if(de){const oe=JSON.parse(de);if(oe&&oe.length>0)return console.log(" Usando productos de localStorage"),oe}}catch(de){console.error("Error al recuperar carrito de localStorage:",de)}return console.warn(" No se encontraron productos en ninguna fuente"),[]},ie=()=>{const de=J();let oe=0,ee=0;console.log(" Calculando totales con productos:",de.length),de&&Array.isArray(de)&&(oe=de.reduce((ce,_e)=>ce+_e.precio*(_e.cantidad||1),0)),t!=null&&t.toppings&&(ee+=t.toppings.reduce((ce,_e)=>ce+(_e.precio||0),0)),t!=null&&t.adiciones&&(ee+=t.adiciones.reduce((ce,_e)=>ce+(_e.precio||0),0)),t!=null&&t.salsas&&(ee+=t.salsas.reduce((ce,_e)=>ce+(_e.precio||0),0));try{Object.keys(z).length>0&&de&&de.forEach(ce=>{const _e=z[ce.id];if(_e)for(let He=1;He<=(ce.cantidad||1);He++){const Re=_e[He];Re&&(Re.toppings&&(ee+=Re.toppings.reduce((be,gt)=>be+(gt.precio||0),0)),Re.salsas&&(ee+=Re.salsas.reduce((be,gt)=>be+(gt.precio||0),0)),Re.rellenos&&(ee+=Re.rellenos.reduce((be,gt)=>be+(gt.precio||0),0)),Re.adiciones&&(ee+=Re.adiciones.reduce((be,gt)=>be+(gt.precio||0),0)),Re.sabores&&(ee+=Re.sabores.reduce((be,gt)=>be+(gt.precio||0),0)))}})}catch(ce){console.error("Error al calcular personalizaciones:",ce)}const le=oe+ee,pe=Math.round(le/2);return console.log(" Totales calculados:",{subtotalProductos:oe,subtotalExtras:ee,totalFinal:le,abono:pe}),{subtotalProductos:oe,subtotalExtras:ee,totalFinal:le,abono:pe}},{subtotalProductos:G,subtotalExtras:te,totalFinal:W,abono:B}=ie(),j=(de,oe)=>{N({show:!0,type:de,message:oe}),setTimeout(()=>{N({show:!1,type:"",message:""})},5e3)},U=de=>{c(de),b(""),E(null),P(!1),de==="transferencia"?(v(!0),f("")):v(!1)},X=de=>{const oe=de.target.files[0];if(b(""),P(!1),oe){if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(oe.type)){b("Solo se permiten archivos de imagen (JPG, PNG, WEBP)"),E(null);return}if(oe.size>5*1024*1024){b("El archivo es demasiado grande. Mximo 5MB."),E(null);return}E(oe),P(!0),setTimeout(()=>{P(!1)},3e3)}},Z=()=>{const de=`Banco Bancolombia
Ahorro
Cuenta: 123-456-789
Cdula: 12.345.678
Nombre: Juan Prez
Nequi: 300 123 45 67
Valor a transferir: $${B.toLocaleString()}`;navigator.clipboard.writeText(de).then(()=>{j("success","Datos bancarios copiados al portapapeles")})},me=async()=>{var de;if(!l){j("error","Por favor selecciona un mtodo de pago.");return}if(l==="transferencia"&&!h){b("Es obligatorio subir el comprobante de transferencia");return}if(l==="efectivo"&&!u){j("error","Por favor selecciona una sede para el pago en efectivo.");return}if(W<=0){j("error"," Error: El total del pedido debe ser mayor a 0. Por favor verifica los productos."),console.error(" Total invlido:",W);return}R(!0);try{const oe=O.find(be=>be.id===u),ee=(oe==null?void 0:oe.nombre)||((de=O[0])==null?void 0:de.nombre)||"San Benito";console.log(" Sede seleccionada:",ee),console.log(" Mtodo de pago:",l),console.log(" Abono:",B),console.log(" Total:",W);const le={metodo:l,sede:u,sedeNombre:ee,abono:Number(B),total:Number(W),subtotalProductos:Number(G),subtotalExtras:Number(te),numeroPedido:x,comprobante:h};console.log(" Datos de pago antes de preparar venta:",le);const pe=await i(le);if(console.log(" Datos de venta preparados:",pe),!pe.total||pe.total<=0)throw new Error(`Total invlido en datosVenta: ${pe.total}. Usando totalFinal: ${W}`);console.log(" Creando venta...");const ce=await wo.crearVenta(pe);console.log(" Venta creada exitosamente:",ce);const _e={idpedido:ce.idVenta,metodopago:l,cantidadpagar:B,TotalPagado:B};console.log(" Creando abono con datos:",_e);const He=await wo.crearAbono(_e,h);console.log(" Abono creado exitosamente:",He),l==="efectivo"?(await wo.actualizarEstadoVenta(ce.idVenta,5),j("success",`Pedido creado exitosamente!
Nmero: ${x}
Sede: ${ee}
Direccin: ${(oe==null?void 0:oe.direccion)||"Ver en la sede"}
Horario: ${(oe==null?void 0:oe.horario)||"9:00 AM - 6:00 PM"}
Valor a pagar: $${B.toLocaleString()}

IMPORTANTE: Presenta este nmero de pedido al llegar a la sede.`)):l==="transferencia"&&j("success",`Pedido creado exitosamente!
Nmero: ${x}
Abono registrado: $${B.toLocaleString()}
Tu pedido quedar pendiente hasta verificar el comprobante de pago.
Te notificaremos cuando sea aprobado.`);const Re={metodo:l,sede:u,sedeNombre:ee,abono:B,total:W,numeroPedido:x,comprobante:h,idVenta:ce.idVenta,idAbono:He.id||He.idabono};a(Re),setTimeout(()=>{console.log(" Recargando pgina..."),window.location.reload()},3e3)}catch(oe){console.error(" Error al procesar pago:",oe);let ee="Error al crear el pedido";oe.message.includes("inventario")||oe.message.includes("Inventario")?ee=`Stock insuficiente: ${oe.message}`:oe.message.includes("INVENTARIO_INSUFICIENTE")?ee="No hay suficiente inventario disponible para completar el pedido":oe.message.includes("sede")?ee="Error con la sede seleccionada. Por favor intenta de nuevo":ee=oe.message||"Error desconocido al procesar el pedido",j("error",ee)}finally{R(!1)}};return o.createElement("div",{className:"opciones-pago-view"},L&&o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.95)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(8px)"}},o.createElement("div",{style:{marginBottom:"2rem",animation:"float 3s ease-in-out infinite"}},o.createElement("div",{style:{width:"80px",height:"80px",border:"8px solid #f3f3f3",borderTop:"8px solid #e91e63",borderRadius:"50%",animation:"spin 1.5s linear infinite"}})),o.createElement("p",{style:{color:"#e91e63",fontSize:"24px",fontWeight:"700",marginBottom:"1rem",fontFamily:"Arial, sans-serif",animation:"pulse 2s ease-in-out infinite"}},"Procesando tu pedido..."),o.createElement("p",{style:{color:"#6c757d",fontSize:"16px",fontWeight:"500",textAlign:"center",maxWidth:"400px"}},"Por favor espera mientras confirmamos tu pedido"),o.createElement("div",{style:{width:"300px",height:"8px",backgroundColor:"rgba(240, 240, 240, 0.8)",borderRadius:"20px",overflow:"hidden",position:"relative",marginTop:"2rem"}},o.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"50%",background:"linear-gradient(90deg, #f48fb1, #ec407a, #ff69b4, #ec407a, #f48fb1)",backgroundSize:"200% 100%",borderRadius:"20px",animation:"loadingBar 2s ease-in-out infinite, shimmer 3s linear infinite"}})),o.createElement("style",null,`
              @keyframes spin {
                0% { transform: rotate(0deg); }
                100% { transform: rotate(360deg); }
              }
              
              @keyframes loadingBar {
                0% { left: -50%; }
                50% { left: 100%; }
                100% { left: -50%; }
              }
              
              @keyframes shimmer {
                0% { background-position: 0% 0%; }
                100% { background-position: 200% 0%; }
              }
              
              @keyframes float {
                0%, 100% { transform: translateY(0px); }
                50% { transform: translateY(-15px); }
              }
              
              @keyframes pulse {
                0%, 100% { opacity: 1; }
                50% { opacity: 0.7; }
              }
            `)),w.show&&o.createElement("div",{className:`custom-alert ${w.type}`},o.createElement("span",{className:"alert-icon"},w.type==="success"&&"",w.type==="error"&&"",w.type==="info"&&"i"),o.createElement("div",{className:"alert-message"},w.message.split(`
`).map((de,oe)=>o.createElement("p",{key:oe},de))),o.createElement("button",{className:"close-alert-btn",onClick:()=>N({show:!1,type:"",message:""})},"")),I&&o.createElement("div",{className:"custom-alert success image-upload-alert"},o.createElement("span",{className:"alert-icon"},""),o.createElement("div",{className:"alert-message"},o.createElement("p",null,"Imagen subida correctamente!"),o.createElement("p",{className:"file-name-display"},h==null?void 0:h.name)),o.createElement("button",{className:"close-alert-btn",onClick:()=>P(!1)},"")),o.createElement("div",{className:"pago-contenido"},o.createElement("div",{className:"seccion-header"},o.createElement("h2",{className:"seccion-title"}," Opciones de Pago"),o.createElement("div",{className:"numero-pedido"},o.createElement("span",null," Nmero de Pedido: ",o.createElement("strong",null,x))),o.createElement("div",{style:{background:"#fce4ec",padding:"12px 20px",borderRadius:"12px",border:"2px solid #e91e63",display:"flex",alignItems:"center",gap:"10px",marginTop:"15px",fontSize:"15px",boxShadow:"0 2px 8px rgba(233, 30, 99, 0.2)"}},o.createElement("span",{style:{fontSize:"20px"}},""),o.createElement("span",{style:{color:"#c2185b",fontWeight:"600"}},"Los productos personalizados requieren un abono del 50% para iniciar la produccin"))),o.createElement("div",{className:"resumen-pago"},o.createElement("h3",{className:"resumen-title"}," Resumen del Pedido"),(()=>{const de=J();return!de||de.length===0?o.createElement("div",{style:{padding:"30px",textAlign:"center",background:"#fff3cd",borderRadius:"12px",border:"2px dashed #fbc02d"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"15px"}},""),o.createElement("h4",{style:{color:"#856404",marginBottom:"10px"}},"No se encontraron productos"),o.createElement("p",{style:{color:"#856404",fontSize:"14px"}},"Por favor, regresa y agrega productos al carrito")):o.createElement(o.Fragment,null,o.createElement("div",{className:"productos-lista"},o.createElement("h4",{className:"subseccion-title"},"Productos:"),de.map((oe,ee)=>o.createElement("div",{key:ee,className:"producto-pago-item"},o.createElement("span",{className:"producto-nombre"},oe.nombre),o.createElement("span",{className:"producto-cantidad"},"x",oe.cantidad||1),o.createElement("span",{className:"producto-precio"},"$",(oe.precio*(oe.cantidad||1)).toLocaleString())))))})(),(t==null?void 0:t.toppings)&&t.toppings.length>0&&o.createElement("div",{className:"extras-section"},o.createElement("h4",{className:"subseccion-title"},"Toppings:"),t.toppings.map((de,oe)=>o.createElement("div",{key:oe,className:"extra-item"},o.createElement("span",null,de.nombre),o.createElement("span",null,"$",(de.precio||0).toLocaleString())))),(t==null?void 0:t.adiciones)&&t.adiciones.length>0&&o.createElement("div",{className:"extras-section"},o.createElement("h4",{className:"subseccion-title"},"Adiciones:"),t.adiciones.map((de,oe)=>o.createElement("div",{key:oe,className:"extra-item"},o.createElement("span",null,de.nombre),o.createElement("span",null,"$",de.precio.toLocaleString())))),(t==null?void 0:t.salsas)&&t.salsas.length>0&&o.createElement("div",{className:"extras-section"},o.createElement("h4",{className:"subseccion-title"},"Salsas:"),t.salsas.map((de,oe)=>o.createElement("div",{key:oe,className:"extra-item"},o.createElement("span",null,de.nombre),o.createElement("span",null,"$",de.precio.toLocaleString())))),o.createElement("div",{className:"totales"},o.createElement("div",{className:"total-item"},o.createElement("span",null,"Subtotal Productos:"),o.createElement("span",null,"$",G.toLocaleString())),te>0&&o.createElement("div",{className:"total-item"},o.createElement("span",null,"Extras:"),o.createElement("span",null,"$",te.toLocaleString())),o.createElement("div",{className:"total-item total-final"},o.createElement("span",null,"Total del Pedido:"),o.createElement("span",null,"$",W.toLocaleString())),o.createElement("div",{className:"total-item abono-destacado"},o.createElement("span",null," Abono requerido (50%):"),o.createElement("span",{className:"abono-valor"},"$",B.toLocaleString())))),o.createElement("div",{className:"metodos-pago"},o.createElement("h3",{className:"metodos-title"},"Selecciona tu mtodo de pago"),o.createElement("div",{className:"metodos-grid"},o.createElement("div",{className:`metodo-card ${l==="transferencia"?"selected":""}`},o.createElement("label",{className:"metodo-label"},o.createElement("input",{type:"radio",name:"metodoPago",value:"transferencia",checked:l==="transferencia",onChange:()=>U("transferencia")}),o.createElement("div",{className:"metodo-content"},o.createElement("div",{className:"metodo-icon"},""),o.createElement("div",{className:"metodo-info"},o.createElement("h4",null,"Transferencia Bancaria"),o.createElement("p",null,"Bancolombia o Nequi")))),m&&o.createElement("div",{className:"datos-banco"},o.createElement("div",{className:"banco-info"},o.createElement("h5",null," Datos para transferencia:"),o.createElement("div",{className:"dato-item"},o.createElement("span",{className:"dato-label"},"Banco:"),o.createElement("span",null,"Bancolombia")),o.createElement("div",{className:"dato-item"},o.createElement("span",{className:"dato-label"},"Tipo:"),o.createElement("span",null,"Cuenta de Ahorros")),o.createElement("div",{className:"dato-item"},o.createElement("span",{className:"dato-label"},"Nmero:"),o.createElement("span",null,"123-456-789")),o.createElement("div",{className:"dato-item"},o.createElement("span",{className:"dato-label"},"Cdula:"),o.createElement("span",null,"12.345.678")),o.createElement("div",{className:"dato-item"},o.createElement("span",{className:"dato-label"},"Nombre:"),o.createElement("span",null,"Juan Prez")),o.createElement("div",{className:"dato-item"},o.createElement("span",{className:"dato-label"},"Nequi:"),o.createElement("span",null,"300 123 45 67")),o.createElement("div",{className:"dato-item destacado"},o.createElement("span",{className:"dato-label"},"Valor a transferir:"),o.createElement("span",null,"$",B.toLocaleString())),o.createElement("button",{className:"btn-copiar",onClick:Z}," Copiar datos")),o.createElement("div",{className:"comprobante-section"},o.createElement("h5",null," Subir Comprobante ",o.createElement("span",{className:"obligatorio"},"*")),o.createElement("div",{className:"upload-area"},o.createElement("input",{type:"file",id:"comprobante",accept:"image/*",onChange:X,className:"file-input"}),o.createElement("label",{htmlFor:"comprobante",className:"upload-label"},h?o.createElement("div",{className:"file-selected"},o.createElement("span",{className:"file-icon"},""),o.createElement("span",{className:"file-name"},h.name)):o.createElement("div",{className:"upload-placeholder"},o.createElement("span",{className:"upload-icon"},""),o.createElement("span",null,"Seleccionar imagen del comprobante"),o.createElement("small",null,"JPG, PNG, WEBP (mx. 5MB)")))),y&&o.createElement("div",{className:"error-message"},o.createElement("span",{className:"error-icon"},""),"s",o.createElement("span",null,y))))),o.createElement("div",{className:`metodo-card ${l==="efectivo"?"selected":""}`},o.createElement("label",{className:"metodo-label"},o.createElement("input",{type:"radio",name:"metodoPago",value:"efectivo",checked:l==="efectivo",onChange:()=>U("efectivo")}),o.createElement("div",{className:"metodo-content"},o.createElement("div",{className:"metodo-icon"},""),o.createElement("div",{className:"metodo-info"},o.createElement("h4",null,"Efectivo en Sede"),o.createElement("p",null,"Paga directamente en nuestras ubicaciones")))),l==="efectivo"&&o.createElement("div",{className:"sedes-efectivo"},o.createElement("h5",null," Selecciona la sede: ",o.createElement("span",{className:"obligatorio"},"*")),T&&o.createElement("div",{className:"loading-sedes"},o.createElement("div",{className:"loading-spinner-small"}),o.createElement("span",null,"Cargando sedes...")),_&&o.createElement("div",{className:"error-sedes"},o.createElement("span",{className:"error-icon"},""),o.createElement("span",null,_)),!T&&O.map(de=>o.createElement("label",{key:de.id,className:`sede-option ${u===de.id?"selected":""}`},o.createElement("input",{type:"radio",name:"sede",value:de.id,checked:u===de.id,onChange:oe=>f(oe.target.value)}),o.createElement("div",{className:"sede-info"},o.createElement("span",{className:"sede-nombre"},de.nombre),o.createElement("span",{className:"sede-direccion"},de.direccion),o.createElement("span",{className:"sede-horario"},de.horario),de.telefono&&o.createElement("span",{className:"sede-telefono"}," ",de.telefono)))),u&&o.createElement("div",{className:"valor-efectivo"},o.createElement("span",{className:"valor-label"},"Valor a pagar:"),o.createElement("span",{className:"valor-cantidad"},"$",B.toLocaleString())))))),o.createElement("div",{className:"acciones-footer"},o.createElement("button",{className:"btn-anterior",onClick:n},o.createElement("span",{className:"btn-icon"},""),"Anterior"),o.createElement("button",{className:"btn-continuar",onClick:me,disabled:L||!l||l==="efectivo"&&!u||l==="transferencia"&&!h},L?"Procesando...":"Completar Pedido",o.createElement("span",{className:"btn-icon"},"")))))},WB=()=>{const[t,e]=p.useState(null),[r,n]=p.useState(!1),[a,i]=p.useState(null),[s,l]=p.useState({show:!1,type:"",message:""}),[c,u]=p.useState([]),[f,m]=p.useState("todos"),[v,h]=p.useState(!0),[E,y]=p.useState(null),[b,x]=p.useState(null),[w,N]=p.useState([]);p.useEffect(()=>{I()},[]);const I=async()=>{h(!0),y(null);try{const D=await Qs.obtenerProductos();N(D),console.log("Productos disponibles cargados:",D);const z=await Bd.obtenerDatosClienteLogueado();x(z),console.log("Cliente autenticado:",z);const V=await wo.obtenerVentas();console.log("Todas las ventas:",V);const J=V.filter(te=>{var B;const W=((B=te.nombreCliente)==null?void 0:B.toLowerCase())||"";return W.includes(z.nombre.toLowerCase())&&W.includes(z.apellido.toLowerCase())});console.log("Ventas del cliente:",J);const ie=te=>{const W=D.find(B=>B.idproductogeneral===te);return(W==null?void 0:W.nombre)||`ID: ${te}`},G=await Promise.all(J.map(async te=>{var W;try{const B=await wo.obtenerVentaPorId(te.idVenta);return console.log(`Detalle de venta ${te.idVenta}:`,B),{id:`P${te.idVenta.toString().padStart(3,"0")}`,idVenta:te.idVenta,fecha:new Date(te.fechaVenta).toLocaleDateString("es-CO"),hora:new Date(te.fechaVenta).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"}),estado:P(te.idEstadoVenta),cliente:te.nombreCliente,telefono:z.celular||"No registrado",ubicacion:`${z.direccion||"Sin direccin"}, ${z.barrio||"Sin barrio"}`,abono:((W=B==null?void 0:B.abonos)==null?void 0:W.reduce((j,U)=>j+parseFloat(U.TotalPagado||U.monto||0),0))||0,total:parseFloat(te.total||0),metodoPago:te.metodoPago||"No especificado",tipoVenta:te.tipoVenta,productos:((B==null?void 0:B.detalleVenta)||[]).map(j=>({id:j.iddetalleventa,nombre:ie(j.idproductogeneral),cantidad:j.cantidad||1,precio:parseFloat(j.precioUnitario||0),subtotal:parseFloat(j.subtotal||0),toppings:(j.sabores||[]).map(U=>U.nombre),adicciones:(j.adiciones||[]).map(U=>U.nombre),salsas:(j.salsas||[]).map(U=>U.nombre)})),observaciones:te.tipoVenta==="pedido"?"Pedido programado":"Venta directa",abonos:((B==null?void 0:B.abonos)||[]).map(j=>({fecha:new Date().toLocaleDateString("es-CO"),monto:parseFloat(j.TotalPagado||j.monto||0),tipo:j.metodoPago||j.metodopago||"No especificado"}))}}catch(B){return console.error(`Error al obtener detalles de venta ${te.idVenta}:`,B),{id:`P${te.idVenta.toString().padStart(3,"0")}`,idVenta:te.idVenta,fecha:new Date(te.fechaVenta).toLocaleDateString("es-CO"),hora:new Date(te.fechaVenta).toLocaleTimeString("es-CO",{hour:"2-digit",minute:"2-digit"}),estado:P(te.idEstadoVenta),cliente:te.nombreCliente,telefono:z.celular||"No registrado",ubicacion:"No disponible",abono:0,total:parseFloat(te.total||0),metodoPago:te.metodoPago||"No especificado",tipoVenta:te.tipoVenta,productos:[],observaciones:"Error al cargar detalles",abonos:[]}}}));u(G),console.log("Pedidos transformados:",G)}catch(D){console.error("Error al cargar datos:",D),y(`Error al cargar el historial: ${D.message}`),L("error","Error al cargar el historial de pedidos")}finally{h(!1)}},P=D=>({1:"pendiente",2:"enProduccion",3:"entregadoVentas",4:"entregado",5:"abonado",6:"anulado"})[D]||"pendiente",L=(D,z)=>{l({show:!0,type:D,message:z}),setTimeout(()=>{l({show:!1,type:"",message:""})},3e3)},R=D=>{e(t===D?null:D)},O=D=>{const z=c.find(V=>V.id===D);z&&["pendiente","abonado"].includes(z.estado)?(i(D),n(!0)):L("error","Este pedido no se puede anular en su estado actual")},A=async()=>{try{const D=c.find(z=>z.id===a);D&&(await wo.anularVenta(D.idVenta),u(z=>z.map(V=>V.id===a?{...V,estado:"anulado"}:V)),L("success",`Pedido ${a} anulado exitosamente.`))}catch(D){console.error("Error al anular pedido:",D),L("error","Error al anular el pedido. Intente nuevamente.")}finally{n(!1),i(null)}},T=()=>{n(!1),i(null),L("info","Anulacin de pedido cancelada.")},C={pendiente:{color:"#ffc107",label:"Pendiente"},abonado:{color:"#6f42c1",label:"Abonado"},enProduccion:{color:"#007bff",label:"En produccin"},entregadoVentas:{color:"#17a2b8",label:"Por entregar"},anulado:{color:"#dc3545",label:"Anulado"},entregado:{color:"#9b9b9b",label:"Entregado"}},_=f==="todos"?c:c.filter(D=>D.estado===f);return v?o.createElement("div",{style:{minHeight:"400px",display:"flex",justifyContent:"center",alignItems:"center",background:"white",borderRadius:"15px"}},o.createElement("div",{style:{textAlign:"center"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},""),o.createElement("p",{style:{color:"#6c757d"}},"Cargando tu historial de pedidos..."))):E?o.createElement("div",{style:{background:"white",borderRadius:"15px",padding:"40px",textAlign:"center",boxShadow:"0 5px 15px rgba(0,0,0,0.08)"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},""),o.createElement("h3",{style:{color:"#dc3545",marginBottom:"10px"}},"Error al cargar datos"),o.createElement("p",{style:{color:"#6c757d",marginBottom:"20px"}},E),o.createElement("button",{onClick:I,style:{padding:"10px 20px",border:"none",borderRadius:"10px",background:"#e91e63",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"600"}},"Reintentar")):o.createElement("div",{style:{minHeight:"100vh",background:"linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%)",padding:"20px",fontFamily:"Inter, sans-serif"}},s.show&&o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:2e3,padding:"1rem 1.5rem",borderRadius:"15px",color:"white",fontWeight:"600",fontSize:"0.9rem",minWidth:"300px",background:s.type==="success"?"linear-gradient(135deg, #10b981, #059669)":s.type==="error"?"linear-gradient(135deg, #ec4899, #be185d)":"linear-gradient(135deg, #0ea5e9, #0284c7)",boxShadow:"0 10px 25px rgba(0,0,0,0.2)"}},s.message),o.createElement("div",{style:{maxWidth:"1200px",margin:"0 auto"}},o.createElement("div",{style:{background:"white",borderRadius:"20px",padding:"30px",marginBottom:"30px",boxShadow:"0 10px 30px rgba(0,0,0,0.1)",textAlign:"center"}},o.createElement("h1",{style:{fontSize:"32px",fontWeight:"700",background:"linear-gradient(45deg, #e91e63, #f06292)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",marginBottom:"10px"}},"Mi Historial de Pedidos"),b&&o.createElement("p",{style:{color:"#6c757d",fontSize:"16px"}},"Bienvenido/a ",b.nombre)),o.createElement("div",{style:{background:"white",borderRadius:"15px",padding:"20px",marginBottom:"20px",boxShadow:"0 5px 15px rgba(0,0,0,0.08)",display:"flex",flexWrap:"wrap",gap:"10px",alignItems:"center"}},o.createElement("span",{style:{fontWeight:"600",color:"#495057",marginRight:"10px"}},"Filtrar por estado:"),o.createElement("button",{onClick:()=>m("todos"),style:{padding:"8px 16px",border:"none",borderRadius:"20px",background:f==="todos"?"#e91e63":"#f8f9fa",color:f==="todos"?"white":"#6c757d",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.3s ease"}},"Todos (",c.length,")"),Object.entries(C).map(([D,z])=>{const V=c.filter(J=>J.estado===D).length;return o.createElement("button",{key:D,onClick:()=>m(D),style:{padding:"8px 16px",border:"none",borderRadius:"20px",background:f===D?z.color:"#f8f9fa",color:f===D?"white":"#6c757d",cursor:"pointer",fontSize:"14px",fontWeight:"500",transition:"all 0.3s ease"}},z.label," (",V,")")})),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"20px"}},_.length===0?o.createElement("div",{style:{background:"white",borderRadius:"15px",padding:"40px",textAlign:"center",boxShadow:"0 5px 15px rgba(0,0,0,0.08)"}},o.createElement("div",{style:{fontSize:"48px",marginBottom:"20px"}},""),o.createElement("h3",{style:{color:"#6c757d"}},f==="todos"?"No tienes pedidos an":"No hay pedidos con este estado")):_.map(D=>o.createElement("div",{key:D.id,style:{background:"white",borderRadius:"15px",boxShadow:"0 5px 15px rgba(0,0,0,0.08)",border:"2px solid #f8f9fa",overflow:"hidden"}},o.createElement("div",{style:{padding:"20px",borderBottom:"1px solid #f8f9fa",display:"flex",justifyContent:"space-between",alignItems:"center",flexWrap:"wrap",gap:"15px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"20px",flexWrap:"wrap"}},o.createElement("div",null,o.createElement("h3",{style:{fontSize:"18px",fontWeight:"700",color:"#495057",margin:"0 0 5px 0"}},"Pedido ",D.id),o.createElement("p",{style:{color:"#6c757d",fontSize:"14px",margin:"0"}},D.fecha,"  ",D.hora)),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 16px",borderRadius:"20px",background:`${C[D.estado].color}15`,border:`2px solid ${C[D.estado].color}30`}},o.createElement("span",{style:{color:C[D.estado].color,fontWeight:"600",fontSize:"14px"}},C[D.estado].label))),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"10px"}},o.createElement("div",{style:{textAlign:"right",marginRight:"10px"}},o.createElement("div",{style:{fontSize:"14px",color:"#6c757d"}},"Total"),o.createElement("div",{style:{fontSize:"18px",fontWeight:"700",color:"#e91e63"}},"$",D.total.toLocaleString())),o.createElement("button",{onClick:()=>R(D.id),style:{padding:"10px 20px",border:"none",borderRadius:"10px",background:"linear-gradient(45deg, #667eea, #764ba2)",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"600"}},t===D.id?"Ocultar":"Ver Detalles"),["pendiente","abonado"].includes(D.estado)&&o.createElement("button",{onClick:()=>O(D.id),style:{padding:"10px 20px",border:"none",borderRadius:"10px",background:"linear-gradient(45deg, #dc3545, #e85a67)",color:"white",cursor:"pointer",fontSize:"14px",fontWeight:"600"}},"Anular"))),t===D.id&&o.createElement("div",{style:{padding:"20px",background:"#f8f9fa"}},D.productos&&D.productos.length>0&&o.createElement("div",{style:{background:"white",padding:"20px",borderRadius:"12px",marginBottom:"20px"}},o.createElement("h4",{style:{fontSize:"16px",fontWeight:"600",marginBottom:"15px"}}," Productos"),D.productos.map((z,V)=>{var J,ie,G;return o.createElement("div",{key:V,style:{padding:"15px",background:"#f8f9fa",borderRadius:"10px",marginBottom:"10px"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},o.createElement("h5",{style:{margin:0}},z.nombre),o.createElement("div",null,o.createElement("div",null,"Cantidad: ",z.cantidad),o.createElement("div",{style:{color:"#e91e63",fontWeight:"600"}},"$",z.precio.toLocaleString()))),((J=z.toppings)==null?void 0:J.length)>0&&o.createElement("div",{style:{marginTop:"10px"}},o.createElement("strong",null,"Toppings:")," ",z.toppings.join(", ")),((ie=z.adicciones)==null?void 0:ie.length)>0&&o.createElement("div",{style:{marginTop:"5px"}},o.createElement("strong",null,"Adiciones:")," ",z.adicciones.join(", ")),((G=z.salsas)==null?void 0:G.length)>0&&o.createElement("div",{style:{marginTop:"5px"}},o.createElement("strong",null,"Salsas:")," ",z.salsas.join(", ")))}))))))),r&&o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0, 0, 0, 0.6)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3}},o.createElement("div",{style:{background:"white",borderRadius:"15px",padding:"30px",maxWidth:"450px",textAlign:"center"}},o.createElement("div",{style:{fontSize:"60px",marginBottom:"20px"}},""),o.createElement("h3",{style:{fontSize:"24px",marginBottom:"15px"}},"Anular Pedido?"),o.createElement("p",{style:{marginBottom:"30px"}},"Seguro que quieres anular el pedido ",a,"?"),o.createElement("div",{style:{display:"flex",gap:"15px",justifyContent:"center"}},o.createElement("button",{onClick:T,style:{padding:"12px 25px",border:"2px solid #6c757d",borderRadius:"10px",background:"white",cursor:"pointer"}},"Cancelar"),o.createElement("button",{onClick:A,style:{padding:"12px 25px",border:"none",borderRadius:"10px",background:"#dc3545",color:"white",cursor:"pointer"}},"S, Anular")))))},GB=()=>{const t=Wd(),[e,r]=p.useState("productos"),[n,a]=p.useState({productos:[],toppings:[],adiciones:[],salsas:[],comentarios:"",opciones:{entrega:null,pago:null}}),[i,s]=p.useState("nuevo"),[l,c]=p.useState(null),{productosSeleccionados:u,limpiarProductosSeleccionados:f,carrito:m}=p.useContext(ps),v=O=>{r(O)},h=O=>{switch(s(O),O){case"nuevo":r("productos"),E();break;case"historial":r("historial");break}},E=()=>{a({productos:[],toppings:[],adiciones:[],salsas:[],comentarios:"",opciones:{entrega:null,pago:null}}),f()};p.useEffect(()=>{var A;((A=t.state)==null?void 0:A.vista)==="entrega"&&(console.log(" Llegando desde personalizacin, cambiando a vista de entrega"),r("entrega"));const O=localStorage.getItem("personalizacionesPedido");if(O)try{const T=JSON.parse(O);c(T),console.log(" Personalizaciones recuperadas:",T)}catch(T){console.error("Error al recuperar personalizaciones:",T)}},[t]),p.useEffect(()=>{u&&u.length>0&&a(O=>({...O,productos:u}))},[u]);const y=()=>{if(n.productos&&n.productos.length>0)return n.productos;if(u&&u.length>0)return u;if(m&&m.length>0)return m;try{const O=localStorage.getItem("carritoParaPersonalizar");if(O){const A=JSON.parse(O);if(A&&A.length>0)return A}}catch(O){console.error("Error al obtener productos de localStorage:",O)}return[]},b=O=>{a(A=>{const T=[...A.productos],C=T.find(_=>_.id===O.id);return C?C.cantidad=(C.cantidad||1)+1:T.push({...O,cantidad:1}),{...A,productos:T}})},x=O=>{a(A=>({...A,productos:A.productos.filter(T=>T.id!==O)}))},w=(O,A)=>{if(A<=0){x(O);return}a(T=>({...T,productos:T.productos.map(C=>C.id===O?{...C,cantidad:A}:C)}))},N=()=>{const O=y();let A=0;return A+=O.reduce((T,C)=>T+C.precio*(C.cantidad||1),0),A+=n.toppings.reduce((T,C)=>T+(C.precio||0),0),A+=n.adiciones.reduce((T,C)=>T+(C.precio||0),0),A+=n.salsas.reduce((T,C)=>T+(C.precio||0),0),l&&O.forEach(T=>{const C=l[T.id];if(C)for(let _=1;_<=(T.cantidad||1);_++){const D=C[_];D&&(D.toppings&&(A+=D.toppings.reduce((z,V)=>z+(V.precio||0),0)),D.salsas&&(A+=D.salsas.reduce((z,V)=>z+(V.precio||0),0)),D.rellenos&&(A+=D.rellenos.reduce((z,V)=>z+(V.precio||0),0)),D.adiciones&&(A+=D.adiciones.reduce((z,V)=>z+(V.precio||0),0)),D.sabores&&(A+=D.sabores.reduce((z,V)=>z+(V.precio||0),0)))}}),console.log(" Total calculado:",A),A},I=()=>{const O=y();if(O.length===0){alert(" Debes agregar al menos un producto al carrito");return}const A=O.reduce((T,C)=>T+(C.cantidad||1),0);if(A<10){alert(` Necesitas al menos 10 productos. Tienes ${A}`);return}a(T=>({...T,productos:O})),console.log(" Productos validados, yendo a personalizacin..."),localStorage.setItem("carritoParaPersonalizar",JSON.stringify(O)),window.location.href="/pedidos/PersonalizacionProductos"},P=O=>{a(A=>({...A,comentarios:O.comentarios||""})),r("pago")},L=async O=>{console.log(" prepararDatosVenta - Datos recibidos:",O);const{metodo:A,sede:T,sedeNombre:C,abono:_,total:D,subtotalProductos:z,subtotalExtras:V,numeroPedido:J,comprobante:ie}=O;if(!D||D<=0)throw console.error(" ERROR: Total invlido recibido:",D),new Error(`Total invlido: ${D}. Debe ser mayor a 0.`);console.log(" Total vlido recibido:",D);const G=y();if(!G||G.length===0)throw new Error("No hay productos en el pedido");console.log(" Productos encontrados:",G.length);let te=null,W="Cliente Pedido Online";try{const me=await Bd.obtenerDatosClienteLogueado();me&&me.idcliente&&(te=me.idcliente,W=`${me.nombre} ${me.apellido}`,console.log(" Cliente autenticado:",W,"ID:",te))}catch(me){console.warn(" No se pudo obtener cliente autenticado:",me)}if(!te)throw new Error("No se encontr el ID del cliente. Por favor inicia sesin.");const B=G.map(me=>{const de=me.precio*(me.cantidad||1);let oe=0,ee=[];if(l&&l[me.id]){const pe=l[me.id];for(let ce=1;ce<=(me.cantidad||1);ce++){const _e=pe[ce];_e&&(["toppings","salsas","rellenos","adiciones","sabores"].forEach(He=>{var Re;((Re=_e[He])==null?void 0:Re.length)>0&&(oe+=_e[He].reduce((be,gt)=>be+(gt.precio||0),0))}),ee.push({unidad:ce,..._e}))}}const le=de+oe;return{fechaventa:new Date().toISOString(),cliente:te,idproductogeneral:me.id,nombreProducto:me.nombre,cantidad:me.cantidad||1,preciounitario:me.precio,precioExtras:oe,subtotal:le,personalizaciones:ee}}),j=localStorage.getItem("datosEntrega"),U=j?JSON.parse(j):null;if(console.log(" Datos de entrega recuperados:",U),!U||!U.fecha)throw new Error("No se encontr la fecha de entrega. Por favor regresa y selecciona una fecha.");const X=U.fecha.includes("T")?U.fecha:`${U.fecha}T${U.hora||"12:00"}:00.000Z`;console.log(" Fecha de entrega formateada:",X);const Z={idCliente:te,cliente:te,clienteNombre:W,idSede:Number(T),sede:C,sedeNombre:C,productos:B,detalleventa:B,subtotalProductos:Number(z)||0,subtotalExtras:Number(V)||0,total:Number(D),abono:Number(_),saldo:Number(D-_),metodoPago:A,metodopago:A,tipoventa:"pedido",tipo_venta:"pedido",idEstado:1,estadoVentaId:1,estado:"En espera",numeroPedido:J,fechaventa:new Date().toISOString(),fechaPedido:new Date().toISOString(),fechaCreacion:new Date().toISOString(),fechaentrega:X,fecha_entrega:X,personalizacionesProductos:l,datosEntrega:{fechaEntrega:U.fecha,horaEntrega:U.hora,telefono:U.telefono,observaciones:U.observaciones||"",ubicacion:U.ubicacion,ubicacionData:U.ubicacionData},comentarios:n.comentarios||U.observaciones||"",observaciones:n.comentarios||U.observaciones||"",extras:{toppings:n.toppings||[],adiciones:n.adiciones||[],salsas:n.salsas||[]}};if(console.log(" Validando datos de venta..."),!Z.total||Z.total<=0)throw console.error(" Total invlido en datosVenta:",Z.total),new Error(`Total debe ser mayor a 0. Recibido: ${Z.total}`);if(!Z.abono||Z.abono<=0)throw console.error(" Abono invlido en datosVenta:",Z.abono),new Error(`Abono debe ser mayor a 0. Recibido: ${Z.abono}`);if(!Z.productos||Z.productos.length===0)throw console.error(" No hay productos en datosVenta"),new Error("Debe haber al menos un producto");return console.log(" Validaciones pasadas"),console.log(" Datos de venta preparados:",{idCliente:Z.idCliente,idSede:Z.idSede,total:Z.total,abono:Z.abono,saldo:Z.saldo,metodoPago:Z.metodoPago,productos:Z.productos.length,estado:Z.estado}),Z},R=()=>{switch(e){case"productos":return o.createElement(s4,{onProductoSeleccionado:b,onSiguiente:I,productosSeleccionados:n.productos,onEliminarProducto:x,onActualizarCantidad:w});case"entrega":return o.createElement(qB,{pedido:n,onSiguiente:()=>v("confirmacion"),onAnterior:()=>v("productos"),onOpcionSeleccionada:O=>{a(A=>({...A,opciones:{...A.opciones,entrega:O}}))}});case"confirmacion":return o.createElement(VB,{pedido:n,total:N(),onSiguiente:P,onAnterior:()=>v("entrega"),onEliminarProducto:x,onActualizarCantidad:w});case"pago":return o.createElement(HB,{pedido:n,total:N(),prepararDatosVenta:L,onPedidoCompletado:()=>{E(),h("historial")},onAnterior:()=>v("confirmacion"),onOpcionSeleccionada:O=>{a(A=>({...A,opciones:{...A.opciones,pago:O}}))}});case"historial":return o.createElement(WB,null);default:return o.createElement(s4,{onProductoSeleccionado:b,onSiguiente:I,productosSeleccionados:n.productos,onEliminarProducto:x,onActualizarCantidad:w})}};return o.createElement("div",{className:"pedidos-container"},o.createElement("div",{className:"pedidos-header"},o.createElement("h1",{className:"pedidos-title"},"SISTEMA DE PEDIDOS"),o.createElement("div",{className:"pedidos-nav"},o.createElement("button",{className:`nav-tab ${i==="nuevo"?"active":""}`,onClick:()=>h("nuevo")},"Nuevo pedido"),o.createElement("button",{className:`nav-tab ${i==="historial"?"active":""}`,onClick:()=>h("historial")},"Historial"))),i==="nuevo"&&o.createElement("div",{className:"progress-indicator"},o.createElement("div",{className:"progress-steps"},o.createElement("div",{className:`step ${e==="productos"?"active":""} ${["entrega","confirmacion","pago"].includes(e)?"completed":""}`},o.createElement("span",{className:"step-number"},"1"),o.createElement("span",{className:"step-label"},"Productos")),o.createElement("div",{className:`step ${e==="entrega"?"active":""} ${["confirmacion","pago"].includes(e)?"completed":""}`},o.createElement("span",{className:"step-number"},"2"),o.createElement("span",{className:"step-label"},"Entrega")),o.createElement("div",{className:`step ${e==="confirmacion"?"active":""} ${e==="pago"?"completed":""}`},o.createElement("span",{className:"step-number"},"3"),o.createElement("span",{className:"step-label"},"Confirmar")),o.createElement("div",{className:`step ${e==="pago"?"active":""}`},o.createElement("span",{className:"step-number"},"4"),o.createElement("span",{className:"step-label"},"Pago")))),o.createElement("div",{className:"pedidos-content"},R()))},KB=({onCodigoGenerado:t,onClose:e})=>{const[r,n]=p.useState(""),[a,i]=p.useState({show:!1,type:"",message:""}),[s,l]=p.useState(!1);p.useEffect(()=>(document.body.classList.add("hide-toggle"),()=>{document.body.classList.remove("hide-toggle")}),[]);const c=(f,m)=>{i({show:!0,type:f,message:m}),setTimeout(()=>{i({show:!1,type:"",message:""})},4e3)},u=async f=>{if(f.preventDefault(),!r.trim()){c("error","Por favor, ingresa tu correo electrnico.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)){c("error","Por favor, ingresa un correo electrnico vlido.");return}l(!0);try{console.log(" Solicitando recuperacin de contrasea para:",r);const v=await Bd.solicitarRecuperacionPassword(r);if(console.log(" Resultado completo del servidor:",v),console.log(" Cdigo recibido del servidor:",v.codigo),v.success){if(!v.codigo){console.error(" ERROR: No se recibi cdigo del servidor"),c("error","Error: No se recibi cdigo de verificacin");return}c("success"," Cdigo enviado a tu correo electrnico"),sessionStorage.setItem("tempEmailRecovery",r),sessionStorage.setItem("tempRecoveryCode",v.codigo),console.log(" Datos guardados en sessionStorage:"),console.log("  - Correo:",r),console.log("  - Cdigo:",v.codigo);const h=sessionStorage.getItem("tempRecoveryCode");console.log(" Verificacin - Cdigo guardado:",h),setTimeout(()=>{t(v.codigo)},1500)}else c("error",v.message||"Error al enviar el cdigo")}catch(v){console.error(" Error en manejarEnvio:",v),c("error","Error de conexin. Intntalo nuevamente.")}finally{l(!1)}};return o.createElement("div",{className:"recovery-overlay"},a.show&&o.createElement("div",{className:`custom-alert alert-${a.type}`,style:{zIndex:1e4}},a.message),o.createElement("div",{className:"recovery-modal",style:{maxWidth:"400px",padding:"1.2rem 1rem"}},o.createElement("div",{className:"progress-indicator",style:{marginBottom:"0.8rem"}},o.createElement("div",{className:"step active"},o.createElement("div",{className:"step-circle"},"1")),o.createElement("div",{className:"step-line"}),o.createElement("div",{className:"step"},o.createElement("div",{className:"step-circle"},"2")),o.createElement("div",{className:"step-line"}),o.createElement("div",{className:"step"},o.createElement("div",{className:"step-circle"},"3"))),o.createElement("div",{className:"modal-content"},o.createElement("div",{className:"modal-header",style:{marginBottom:"0.8rem"}},o.createElement("div",{className:"icon-container",style:{width:"45px",height:"45px",marginBottom:"0.5rem"}},o.createElement(jg,{size:20})),o.createElement("h2",{style:{fontSize:"1.15rem",marginBottom:"0.25rem"}},"Recuperar Contrasea"),o.createElement("p",{style:{fontSize:"0.8rem",lineHeight:"1.25"}},"Ingresa tu correo para recibir el cdigo")),o.createElement("div",{className:"modal-body"},o.createElement("form",{onSubmit:u},o.createElement("div",{className:"input-group",style:{marginBottom:"0.8rem"}},o.createElement("div",{className:"input-wrapper"},o.createElement(jg,{className:"input-icon",size:15}),o.createElement("input",{type:"email",placeholder:"Correo Electrnico",value:r,onChange:f=>n(f.target.value),disabled:s,className:"styled-input",autoComplete:"email",autoFocus:!0,style:{width:"100%",padding:"10px 10px 10px 36px",fontSize:"13px"}}))),o.createElement("div",{style:{display:"flex",gap:"8px",marginBottom:"0.7rem"}},o.createElement("button",{type:"submit",className:"btn-primary",disabled:s||!r.trim(),style:{flex:"1",padding:"10px 14px",fontSize:"13px",fontWeight:"600",minHeight:"38px"}},s?o.createElement(o.Fragment,null,o.createElement("div",{className:"spinner"}),"Enviando..."):o.createElement(o.Fragment,null,"Enviar Cdigo",o.createElement(i3,{size:13}))),o.createElement("button",{type:"button",onClick:e,className:"btn-secondary",disabled:s,style:{flex:"1",padding:"10px 14px",fontSize:"13px",fontWeight:"600",minHeight:"38px"}},"Cancelar")),o.createElement("div",{style:{background:"rgba(233, 30, 99, 0.05)",border:"1px solid rgba(233, 30, 99, 0.1)",borderRadius:"6px",padding:"8px",textAlign:"center"}},o.createElement("div",{style:{color:"#5f6368",fontSize:"11px",lineHeight:"1.3"}},"Te enviaremos un cdigo de 6 dgitos")))))),o.createElement("style",{jsx:!0},`
      .recovery-overlay {
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      right: 0 !important;
      bottom: 0 !important;
      background: rgba(0, 0, 0, 0.8) !important;
      backdrop-filter: blur(15px) !important;
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      z-index: 999999 !important;
      padding: 15px !important;
      animation: fadeInOverlay 0.4s ease-out !important;
    }

    .recovery-modal {
      background: #ffffff !important;
      border-radius: 18px !important;
      padding: 1.3rem 1.2rem !important;
      max-width: 440px !important;
      width: 95% !important;
      max-height: none !important;
      overflow-y: visible !important;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.25) !important;
      animation: slideInModal 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) !important;
      position: relative !important;
    }

        @keyframes modalSlideIn {
          from {
            opacity: 0;
            transform: translateY(-50px) scale(0.9);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        .progress-indicator {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0;
        }

        .step {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
        }

        .step-circle {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          font-size: 14px;
          background: #f1f3f4;
          color: #9aa0a6;
          border: 2px solid #f1f3f4;
        }

        .step.active .step-circle {
          background: #e91e63;
          color: white;
          border-color: #e91e63;
        }

        .step.completed .step-circle {
          background: #10b981;
          color: white;
          border-color: #10b981;
        }

        .step span {
          font-size: 12px;
          color: #9aa0a6;
          font-weight: 500;
          text-align: center;
        }

        .step.active span {
          color: #e91e63;
          font-weight: 600;
        }

        .step.completed span {
          color: #10b981;
          font-weight: 600;
        }

        .step-line {
          width: 40px;
          height: 2px;
          background: #f1f3f4;
          margin: 0 5px;
          margin-top: -20px;
        }

        .step-line.completed {
          background: #10b981;
        }

        .icon-container {
          background: linear-gradient(135deg, #e91e63, #ad1457);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          margin: 0 auto;
          box-shadow: 0 8px 25px rgba(233, 30, 99, 0.3);
        }

        .input-wrapper {
          position: relative;
          display: flex;
          align-items: center;
        }

        .input-icon {
          position: absolute;
          left: 14px;
          color: #9ca3af;
          z-index: 1;
        }

        .styled-input {
          width: 100%;
          padding: 14px 14px 14px 44px;
          font-size: 15px;
          border: 2px solid #f1f3f4;
          border-radius: 12px;
          outline: none;
          transition: all 0.3s ease;
        }

        .styled-input:focus {
          border-color: #e91e63 !important;
          box-shadow: 0 0 0 3px rgba(233, 30, 99, 0.1) !important;
        }

        .btn-primary {
          background: #e91e63 !important;
          border: none !important;
          border-radius: 12px !important;
          color: white !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 8px !important;
          transition: all 0.3s ease !important;
        }

        .btn-primary:hover:not(:disabled) {
          background: #c2185b !important;
          transform: translateY(-1px) !important;
          box-shadow: 0 4px 12px rgba(233, 30, 99, 0.3) !important;
        }

        .btn-secondary {
          background: white !important;
          border: 2px solid #f1f3f4 !important;
          border-radius: 12px !important;
          color: #5f6368 !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          transition: all 0.3s ease !important;
        }

        .btn-secondary:hover:not(:disabled) {
          border-color: #e91e63 !important;
          color: #e91e63 !important;
          background: rgba(233, 30, 99, 0.05) !important;
        }

        .btn-primary:disabled, .btn-secondary:disabled {
          opacity: 0.6 !important;
          cursor: not-allowed !important;
          transform: none !important;
        }

        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top: 2px solid white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        .custom-alert {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 10000;
          padding: 1rem 1.5rem;
          border-radius: 15px;
          color: white;
          font-weight: 600;
          font-size: 0.9rem;
          min-width: 300px;
          box-shadow: 0 10px 25px rgba(0,0,0,0.2);
          animation: slideInRight 0.5s ease-out;
        }

        .alert-success {
          background: linear-gradient(135deg, #10b981, #059669);
        }

        .alert-error {
          background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        @keyframes slideInRight {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        @media (max-width: 640px) {
          .recovery-modal {
            margin: 1rem !important;
            padding: 1.5rem 1rem !important;
            max-height: 90vh !important;
          }

          .custom-alert {
            right: 10px !important;
            left: 10px !important;
            min-width: auto !important;
          }
        }
      `))},l4=({codigoCorrecto:t,onClose:e,onCodigoValido:r,correoEmail:n=null,esParaLogin:a=!1})=>{const[i,s]=p.useState(["","","","","",""]),[l,c]=p.useState({show:!1,type:"",message:""}),[u,f]=p.useState(!1),[m,v]=p.useState(0),h=a||n!==null,E=n||sessionStorage.getItem("tempEmailRecovery")||"tu@email.com",y=localStorage.getItem("redirectAfterLogin")==="/contactenos";p.useEffect(()=>(document.body.classList.add("hide-toggle"),()=>{document.body.classList.remove("hide-toggle")}),[]),p.useEffect(()=>{var D;(D=document.getElementById("code-0"))==null||D.focus()},[]);const b=(D,z)=>{c({show:!0,type:D,message:z}),setTimeout(()=>{c({show:!1,type:"",message:""})},3e3)},x=(D,z)=>{if(z&&!/^[0-9]$/.test(z))return;const V=[...i];if(V[D]=z,s(V),z&&D<5){const J=document.getElementById(`code-${D+1}`);J==null||J.focus()}},w=(D,z)=>{var V,J;if(z.key==="Backspace")if(!i[D]&&D>0){const ie=document.getElementById(`code-${D-1}`);ie==null||ie.focus()}else{const ie=[...i];ie[D]="",s(ie)}else z.key==="ArrowLeft"&&D>0?(V=document.getElementById(`code-${D-1}`))==null||V.focus():z.key==="ArrowRight"&&D<5?(J=document.getElementById(`code-${D+1}`))==null||J.focus():z.key==="Enter"&&I()},N=D=>{D.preventDefault();const V=D.clipboardData.getData("text").replace(/[^0-9]/g,"").split("").slice(0,6);V.length===6&&(s(V),setTimeout(()=>{var J;(J=document.getElementById("code-5"))==null||J.focus()},10))},I=async()=>{const D=i.join("");if(D.length<6){b("error","Por favor, ingresa el cdigo completo de 6 dgitos.");return}const z=h?t:sessionStorage.getItem("tempRecoveryCode");if(console.log(" Cdigo ingresado:",D),console.log(" Cdigo esperado:",z),console.log(" Es para login?:",h),f(!0),v(V=>V+1),await new Promise(V=>setTimeout(V,600)),h)try{console.log(" Enviando cdigo al servidor para validacin..."),await r(D)}catch(V){console.error(" Error validando cdigo:",V.message),b("error",V.message||"Cdigo incorrecto. Intenta nuevamente."),s(["","","","","",""]),setTimeout(()=>{var J;(J=document.getElementById("code-0"))==null||J.focus()},100)}finally{f(!1)}else D===String(z)?(console.log(" Cdigo correcto para recuperacin"),b("success","Cdigo verificado correctamente"),setTimeout(()=>{r()},1e3)):(console.error(" Cdigo incorrecto:",D,"vs",z),b("error","Cdigo incorrecto. Intntalo nuevamente."),s(["","","","","",""]),setTimeout(()=>{var V;(V=document.getElementById("code-0"))==null||V.focus()},100)),f(!1)},P=()=>{h?b("success","Cdigo de acceso reenviado"):b("success","Cdigo reenviado a tu correo"),v(0),s(["","","","","",""]),setTimeout(()=>{var D;(D=document.getElementById("code-0"))==null||D.focus()},100)},L=i.join("").length===6,R=()=>h?y?"Verificar para Contacto":"Verificar Acceso":"Verificar Cdigo",O=()=>h?y?"Ingresa el cdigo de 6 dgitos para iniciar sesin y autocompletar el formulario":"Ingresa el cdigo de 6 dgitos enviado a tu correo":"Ingresa el cdigo de 6 dgitos enviado a",A=()=>h?y?"Verificar e Ir a Contacto":"Verificar e Iniciar":"Verificar",T=()=>h?o.createElement(Qz,{size:24}):o.createElement(Fg,{size:24}),C=()=>h?null:o.createElement("div",{className:"progress-indicator",style:{marginBottom:"1.2rem"}},o.createElement("div",{className:"step completed"},o.createElement("div",{className:"step-circle"},o.createElement(O5,{size:16})),o.createElement("span",null,"Correo")),o.createElement("div",{className:"step-line completed"}),o.createElement("div",{className:"step active"},o.createElement("div",{className:"step-circle"},"2"),o.createElement("span",null,"Cdigo")),o.createElement("div",{className:"step-line"}),o.createElement("div",{className:"step"},o.createElement("div",{className:"step-circle"},"3"),o.createElement("span",null,"Nueva Contrasea"))),_=()=>h&&y?"#fbbf24":"#e91e63";return o.createElement("div",{className:"recovery-overlay"},l.show&&o.createElement("div",{className:`custom-alert alert-${l.type}`,style:{zIndex:1e4}},l.message),o.createElement("div",{className:"recovery-modal",style:{maxWidth:"420px",padding:"1.3rem 1.2rem"}},C(),y&&o.createElement("div",{style:{background:"linear-gradient(135deg, #fef3c7, #fcd34d)",color:"#92400e",padding:"10px",borderRadius:"6px",margin:"0 0 12px 0",fontSize:"12px",textAlign:"center",fontWeight:"600"}},"Una vez verificado, tus datos se autocompletarn automticamente"),o.createElement("div",{className:"modal-content"},o.createElement("div",{className:"modal-header",style:{marginBottom:"1rem"}},o.createElement("div",{className:"icon-container",style:{width:"50px",height:"50px",marginBottom:"0.6rem"}},T()),o.createElement("h2",{style:{fontSize:"1.25rem",marginBottom:"0.3rem"}},R()),o.createElement("p",{style:{fontSize:"0.85rem",lineHeight:"1.3"}},O()," ",o.createElement("strong",null,E))),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"code-input-container",style:{margin:"1rem 0"}},i.map((D,z)=>o.createElement("input",{key:z,id:`code-${z}`,type:"text",maxLength:"1",value:D,onChange:V=>x(z,V.target.value),onKeyDown:V=>w(z,V),onPaste:z===0?N:void 0,className:"code-digit-input",disabled:u,style:{borderColor:D?_():"#f1f3f4",background:D?"#ffffff":"#fafbfc",width:"38px",height:"44px"}}))),o.createElement("div",{style:{display:"flex",gap:"8px",marginBottom:"0.8rem"}},o.createElement("button",{onClick:I,className:"btn-primary",disabled:u||!L,style:{flex:"1",backgroundColor:_(),color:y?"#111827":"white",padding:"11px 16px",fontSize:"14px",minHeight:"42px"}},u?o.createElement(o.Fragment,null,o.createElement("div",{className:"spinner"}),"Verificando..."):o.createElement(o.Fragment,null,A(),o.createElement(i3,{size:14}))),o.createElement("button",{type:"button",onClick:e,className:"btn-secondary",disabled:u,style:{flex:"1",padding:"11px 16px",fontSize:"14px",minHeight:"42px"}},"Cancelar")),o.createElement("button",{type:"button",onClick:P,disabled:u,style:{width:"100%",background:"rgba(233, 30, 99, 0.05)",border:"1px solid rgba(233, 30, 99, 0.2)",borderRadius:"6px",padding:"10px",color:"#e91e63",fontSize:"13px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",gap:"6px",transition:"all 0.3s ease"}},o.createElement(gB,{size:12}),"Reenviar cdigo"),o.createElement("div",{style:{background:"rgba(233, 30, 99, 0.05)",border:"1px solid rgba(233, 30, 99, 0.1)",borderRadius:"6px",padding:"10px",marginTop:"0.8rem",textAlign:"center"}},o.createElement("div",{style:{color:"#5f6368",fontSize:"12px",lineHeight:"1.3"}},h?"Revisa tu bandeja de spam si no recibiste el cdigo":"El cdigo expira en 10 minutos por seguridad")),m>0&&o.createElement("div",{style:{textAlign:"center",marginTop:"0.8rem",color:m>=3?"#ef4444":"#9aa0a6",fontSize:"12px",fontWeight:m>=3?"600":"normal"}},"Intentos: ",m,"/3")))),o.createElement("style",{jsx:!0},`
        .recovery-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: rgba(0, 0, 0, 0.7);
          backdrop-filter: blur(8px);
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 9998;
          padding: 20px;
        }

        .recovery-modal {
          background: white;
          border-radius: 20px;
          width: 100%;
          position: relative;
          box-shadow: 0 25px 50px rgba(0, 0, 0, 0.25);
          animation: modalSlideIn 0.4s ease-out;
          overflow-y: auto;
          z-index: 9998;
        }

        @keyframes modalSlideIn {
          from {
            opacity: 0;
            transform: translateY(-50px) scale(0.9);
          }
          to {
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        .progress-indicator {
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0;
        }

        .step {
          display: flex;
          flex-direction: column;
          align-items: center;
          gap: 8px;
        }

        .step-circle {
          width: 40px;
          height: 40px;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: 600;
          font-size: 14px;
          background: #f1f3f4;
          color: #9aa0a6;
          border: 2px solid #f1f3f4;
        }

        .step.active .step-circle {
          background: #e91e63;
          color: white;
          border-color: #e91e63;
        }

        .step.completed .step-circle {
          background: #10b981;
          color: white;
          border-color: #10b981;
        }

        .step span {
          font-size: 12px;
          color: #9aa0a6;
          font-weight: 500;
          text-align: center;
        }

        .step.active span {
          color: #e91e63;
          font-weight: 600;
        }

        .step.completed span {
          color: #10b981;
          font-weight: 600;
        }

        .step-line {
          width: 40px;
          height: 2px;
          background: #f1f3f4;
          margin: 0 5px;
          margin-top: -20px;
        }

        .step-line.completed {
          background: #10b981;
        }

        .icon-container {
          background: linear-gradient(135deg, #e91e63, #ad1457);
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          margin: 0 auto;
          box-shadow: 0 8px 25px rgba(233, 30, 99, 0.3);
        }

        .code-input-container {
          display: flex;
          gap: 8px;
          justify-content: center;
          align-items: center;
        }

        .code-digit-input {
          text-align: center;
          font-size: 18px;
          font-weight: 700;
          border: 2px solid;
          border-radius: 12px;
          transition: all 0.3s ease;
          outline: none;
        }

        .code-digit-input:focus {
          border-color: #e91e63 !important;
          box-shadow: 0 0 0 3px rgba(233, 30, 99, 0.1);
          transform: scale(1.05);
        }

        .custom-alert {
          position: fixed;
          top: 20px;
          right: 20px;
          z-index: 10000;
          padding: 1rem 1.5rem;
          border-radius: 15px;
          color: white;
          font-weight: 600;
          font-size: 0.9rem;
          min-width: 300px;
          box-shadow: 0 10px 25px rgba(0,0,0,0.2);
          animation: slideInRight 0.5s ease-out;
        }

        .alert-success {
          background: linear-gradient(135deg, #10b981, #059669);
        }

        .alert-error {
          background: linear-gradient(135deg, #ef4444, #dc2626);
        }

        @keyframes slideInRight {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }

        .btn-primary {
          background: #e91e63 !important;
          border: none !important;
          border-radius: 12px !important;
          color: white !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 8px !important;
          transition: all 0.3s ease !important;
          font-weight: 600 !important;
        }

        .btn-primary:hover:not(:disabled) {
          transform: translateY(-2px) !important;
          box-shadow: 0 8px 25px rgba(233, 30, 99, 0.4) !important;
        }

        .btn-secondary {
          background: white !important;
          border: 2px solid #f1f3f4 !important;
          border-radius: 12px !important;
          color: #5f6368 !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          transition: all 0.3s ease !important;
          font-weight: 600 !important;
        }

        .btn-secondary:hover:not(:disabled) {
          border-color: #e91e63 !important;
          color: #e91e63 !important;
          background: rgba(233, 30, 99, 0.05) !important;
        }

        .btn-primary:disabled, .btn-secondary:disabled {
          opacity: 0.6 !important;
          cursor: not-allowed !important;
          transform: none !important;
        }

        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top: 2px solid white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        @media (max-width: 640px) {
          .recovery-modal {
            margin: 1rem !important;
            padding: 1.5rem 1rem !important;
            max-height: 90vh !important;
          }

          .code-input-container {
            gap: 4px !important;
          }

          .code-digit-input {
            width: 38px !important;
            height: 46px !important;
            font-size: 16px !important;
          }

          .custom-alert {
            right: 10px !important;
            left: 10px !important;
            min-width: auto !important;
          }
        }
      `))},YB=({onClose:t,onContrasenaCambiada:e})=>{const[r,n]=p.useState({nueva:"",confirmar:""}),[a,i]=p.useState({nueva:!1,confirmar:!1}),[s,l]=p.useState({show:!1,type:"",message:""}),[c,u]=p.useState(!1),f=sessionStorage.getItem("tempEmailRecovery")||"",[m]=p.useState(()=>sessionStorage.getItem("tempRecoveryCode")||"");p.useEffect(()=>(document.body.classList.add("hide-toggle"),()=>{document.body.classList.remove("hide-toggle")}),[]);const v=(I,P)=>{l({show:!0,type:I,message:P}),setTimeout(()=>{l({show:!1,type:"",message:""})},4e3)},h=(I,P)=>{n(L=>({...L,[I]:P}))},E=I=>{i(P=>({...P,[I]:!P[I]}))},y=()=>{const{nueva:I,confirmar:P}=r;return I.trim()?I.length<6?(v("error","La contrasea debe tener al menos 6 caracteres."),!1):P.trim()?I!==P?(v("error","Las contraseas no coinciden."),!1):!0:(v("error","Por favor, confirma la nueva contrasea."),!1):(v("error","Por favor, ingresa la nueva contrasea."),!1)},b=async I=>{if(I.preventDefault(),!!y()){if(!f){v("error","No se encontr el correo de recuperacin.");return}u(!0);try{console.log("Cambiando contrasea para:",f);const P=await Bd.cambiarPasswordConCodigo(f,m,r.nueva);P.success?(v("success"," Contrasea actualizada correctamente"),sessionStorage.removeItem("tempEmailRecovery"),sessionStorage.removeItem("tempRecoveryCode"),setTimeout(()=>{e()},1500)):v("error",P.message||"Error al cambiar la contrasea")}catch(P){console.error("Error cambiando contrasea:",P),v("error","Error de conexin. Intntalo nuevamente.")}finally{u(!1)}}},w=(I=>{if(!I)return{strength:0,label:"",color:"#ddd"};let P=0;I.length>=6&&P++,I.length>=8&&P++,/[A-Z]/.test(I)&&P++,/[0-9]/.test(I)&&P++,/[^A-Za-z0-9]/.test(I)&&P++;const L=[{label:"Muy dbil",color:"#ef4444"},{label:"Dbil",color:"#f97316"},{label:"Regular",color:"#eab308"},{label:"Buena",color:"#22c55e"},{label:"Excelente",color:"#10b981"}];return{strength:P,...L[Math.min(P-1,4)]||L[0]}})(r.nueva),N=r.nueva&&r.confirmar&&r.nueva===r.confirmar;return o.createElement("div",{className:"recovery-overlay"},s.show&&o.createElement("div",{className:`custom-alert alert-${s.type}`},s.message),o.createElement("div",{className:"recovery-modal",style:{maxWidth:"480px",padding:"2rem 1.5rem 1.5rem",minHeight:"auto",maxHeight:"85vh"}},o.createElement("div",{className:"progress-indicator",style:{marginBottom:"1.5rem"}},o.createElement("div",{className:"step completed"},o.createElement("div",{className:"step-circle"},o.createElement(O5,{size:16})),o.createElement("span",null,"Correo")),o.createElement("div",{className:"step-line completed"}),o.createElement("div",{className:"step completed"},o.createElement("div",{className:"step-circle"},o.createElement(O5,{size:16})),o.createElement("span",null,"Cdigo")),o.createElement("div",{className:"step-line completed"}),o.createElement("div",{className:"step active"},o.createElement("div",{className:"step-circle"},"3"),o.createElement("span",null,"Nueva Contrasea"))),o.createElement("div",{className:"modal-content"},o.createElement("div",{className:"modal-header",style:{marginBottom:"1.5rem"}},o.createElement("div",{className:"icon-container",style:{width:"60px",height:"60px",marginBottom:"1rem"}},o.createElement(Dg,{size:24})),o.createElement("h2",{style:{fontSize:"1.5rem",marginBottom:"0.5rem"}},"Nueva Contrasea"),o.createElement("p",{style:{fontSize:"0.9rem",lineHeight:"1.4"}},"Ingresa tu nueva contrasea para ",o.createElement("strong",null,f))),o.createElement("div",{className:"modal-body"},o.createElement("form",{onSubmit:b},o.createElement("div",{className:"input-group",style:{marginBottom:"1rem"}},o.createElement("div",{className:"input-wrapper"},o.createElement(Dg,{className:"input-icon",size:18}),o.createElement("input",{type:a.nueva?"text":"password",placeholder:"Nueva Contrasea",value:r.nueva,onChange:I=>h("nueva",I.target.value),disabled:c,className:"styled-input",style:{width:"100%",padding:"14px 44px 14px 44px",fontSize:"15px"}}),o.createElement("button",{type:"button",onClick:()=>E("nueva"),className:"password-toggle",disabled:c,style:{position:"absolute",right:"14px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#9ca3af"}},a.nueva?o.createElement(nh,{size:18}):o.createElement(ah,{size:18}))),r.nueva&&o.createElement("div",{style:{marginTop:"8px"}},o.createElement("div",{style:{width:"100%",height:"4px",backgroundColor:"#f3f4f6",borderRadius:"2px",overflow:"hidden"}},o.createElement("div",{style:{width:`${w.strength/5*100}%`,height:"100%",backgroundColor:w.color,transition:"all 0.3s ease"}})),o.createElement("p",{style:{fontSize:"12px",color:w.color,margin:"4px 0 0 0",fontWeight:"500"}},"Fortaleza: ",w.label))),o.createElement("div",{className:"input-group",style:{marginBottom:"1.5rem"}},o.createElement("div",{className:"input-wrapper"},o.createElement(Dg,{className:"input-icon",size:18}),o.createElement("input",{type:a.confirmar?"text":"password",placeholder:"Confirmar Nueva Contrasea",value:r.confirmar,onChange:I=>h("confirmar",I.target.value),disabled:c,className:"styled-input",style:{width:"100%",padding:"14px 44px 14px 44px",fontSize:"15px",borderColor:r.confirmar?N?"#22c55e":"#ef4444":"#f1f3f4"}}),o.createElement("button",{type:"button",onClick:()=>E("confirmar"),className:"password-toggle",disabled:c,style:{position:"absolute",right:"14px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",color:"#9ca3af"}},a.confirmar?o.createElement(nh,{size:18}):o.createElement(ah,{size:18}))),r.confirmar&&o.createElement("p",{style:{fontSize:"12px",color:N?"#22c55e":"#ef4444",margin:"4px 0 0 0",fontWeight:"500"}},N?" Las contraseas coinciden":" Las contraseas no coinciden")),o.createElement("div",{style:{display:"flex",gap:"12px",marginBottom:"1rem"}},o.createElement("button",{type:"submit",className:"btn-primary",disabled:c||!r.nueva||!r.confirmar||!N,style:{flex:"1",padding:"14px 20px",fontSize:"15px",fontWeight:"600",minHeight:"48px"}},c?o.createElement(o.Fragment,null,o.createElement("div",{className:"spinner"}),"Actualizando..."):o.createElement(o.Fragment,null,"Actualizar Contrasea",o.createElement(i3,{size:16}))),o.createElement("button",{type:"button",onClick:t,className:"btn-secondary",disabled:c,style:{flex:"1",padding:"14px 20px",fontSize:"15px",fontWeight:"600",minHeight:"48px"}},"Cancelar")),o.createElement("div",{style:{background:"rgba(233, 30, 99, 0.05)",border:"1px solid rgba(233, 30, 99, 0.1)",borderRadius:"8px",padding:"12px"}},o.createElement("h4",{style:{color:"#e91e63",fontSize:"13px",margin:"0 0 8px 0",fontWeight:"600"}}," Recomendaciones para una contrasea segura:"),o.createElement("ul",{style:{color:"#5f6368",fontSize:"12px",margin:"0",paddingLeft:"16px",lineHeight:"1.5"}},o.createElement("li",null,"Al menos 8 caracteres de longitud"),o.createElement("li",null,"Incluye maysculas y minsculas"),o.createElement("li",null,"Agrega nmeros y smbolos"),o.createElement("li",null,"Evita informacin personal"))))))),o.createElement("style",{jsx:!0},`
        .input-wrapper {
          position: relative;
          display: flex;
          align-items: center;
        }

        .input-icon {
          position: absolute;
          left: 14px;
          color: #9ca3af;
          z-index: 1;
        }

        .styled-input:focus {
          border-color: #e91e63 !important;
          box-shadow: 0 0 0 3px rgba(233, 30, 99, 0.1) !important;
        }

        .btn-primary {
          background: #e91e63 !important;
          border: none !important;
          border-radius: 12px !important;
          color: white !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          gap: 8px !important;
          transition: all 0.3s ease !important;
        }

        .btn-primary:hover:not(:disabled) {
          background: #c2185b !important;
          transform: translateY(-1px) !important;
          box-shadow: 0 4px 12px rgba(233, 30, 99, 0.3) !important;
        }

        .btn-secondary {
          background: white !important;
          border: 2px solid #f1f3f4 !important;
          border-radius: 12px !important;
          color: #5f6368 !important;
          cursor: pointer !important;
          display: flex !important;
          align-items: center !important;
          justify-content: center !important;
          transition: all 0.3s ease !important;
        }

        .btn-secondary:hover:not(:disabled) {
          border-color: #e91e63 !important;
          color: #e91e63 !important;
          background: rgba(233, 30, 99, 0.05) !important;
        }

        .btn-primary:disabled, .btn-secondary:disabled {
          opacity: 0.6 !important;
          cursor: not-allowed !important;
          transform: none !important;
        }

        .spinner {
          width: 16px;
          height: 16px;
          border: 2px solid rgba(255, 255, 255, 0.3);
          border-top: 2px solid white;
          border-radius: 50%;
          animation: spin 1s linear infinite;
        }

        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }

        @media (max-width: 640px) {
          .recovery-modal {
            margin: 1rem !important;
            padding: 1.5rem 1rem !important;
            max-height: 90vh !important;
          }
        }
      `))},JB=()=>{const[t,e]=p.useState(!1),[r,n]=p.useState(!1),[a,i]=p.useState(!1),[s,l]=p.useState(!1),[c,u]=p.useState(null),[f,m]=p.useState(null),[v,h]=p.useState({show:!1,type:"",message:""}),[E,y]=p.useState(!1),[b,x]=p.useState(!1),[w,N]=p.useState({email:"",password:""}),I=po(),P=(z,V)=>{h({show:!0,type:z,message:V}),setTimeout(()=>{h({show:!1,type:"",message:""})},4e3)},L=z=>{console.log(" Cdigo recibido en LoginForm:",z),m(z),e(!1),n(!0)},R=()=>{e(!1),n(!1),i(!1),l(!1),u(null)},O=()=>{n(!1),i(!0)},A=()=>{P("success","Contrasea actualizada. Por favor inicia sesin."),R()},T=(z,V)=>{console.log("Iniciando proceso de login exitoso..."),console.log("Datos del usuario:",z),console.log("Tipo de usuario:",V);const J=localStorage.getItem("redirectAfterLogin"),ie=localStorage.getItem("loginOpenerUrl");localStorage.setItem("authToken","jwt-token-"+Date.now()),localStorage.setItem("userRole",V),localStorage.setItem("userEmail",c.email),localStorage.setItem("userData",JSON.stringify(z));const G={idcliente:z.idcliente||z.id,nombre:z.nombre||"",apellidos:z.apellidos||z.apellido||"",correo:z.correo||z.email||c.email,telefono:z.telefono||z.celular||z.phone||""};if(localStorage.setItem("user",JSON.stringify(G)),ie&&window.opener===null){localStorage.removeItem("loginOpenerUrl"),P("success","Inicio de sesin exitoso. Cerrando pestaa..."),setTimeout(()=>{J==="/contactenos"?(localStorage.removeItem("redirectAfterLogin"),I("/contactenos"),setTimeout(()=>window.close(),1e3)):J?(localStorage.removeItem("redirectAfterLogin"),I(J),setTimeout(()=>window.close(),1e3)):V==="admin"?(I("/admin/pages/Dashboard"),setTimeout(()=>window.close(),1e3)):(I("/"),setTimeout(()=>window.close(),1e3))},1500);return}if(J==="/contactenos"){localStorage.removeItem("redirectAfterLogin"),sessionStorage.setItem("fromLogin","true"),P("success",`Bienvenido ${z.nombre}! Te redirigimos al formulario de contacto`),setTimeout(()=>{I("/contactenos")},1e3);return}if(J){localStorage.removeItem("redirectAfterLogin"),sessionStorage.setItem("fromLogin","true"),P("success","Inicio de sesin exitoso"),setTimeout(()=>{I(J)},1500);return}P("success","Inicio de sesin exitoso"),setTimeout(()=>{if(V==="admin")console.log("Redirigiendo al dashboard de admin..."),I("/admin/pages/Dashboard");else{console.log("Redirigiendo segn productos temporales...");const te=localStorage.getItem("productosTemporales");I(te?"/pedidos":"/")}},1500)},C=async z=>{if(!c){console.error("No hay datos de login pendientes"),P("error","Error: No hay datos de login");return}console.log("Enviando cdigo al servidor para validacin:",z),console.log("Email:",c.email),y(!0);try{const V=await Bd.loginConValidacion(c.email,c.password,z);if(console.log("Respuesta del servidor:",V),V.success)l(!1),console.log("Login exitoso, procesando redireccin..."),T(V.user,V.userType);else throw console.error("Error en login:",V.message),P("error",V.message||"Cdigo incorrecto. Verifica tu email."),new Error(V.message||"Cdigo incorrecto")}catch(V){throw console.error("Error en completarLogin:",V),V}finally{y(!1)}},_=z=>{N({...w,[z.target.name]:z.target.value})},D=async z=>{z.preventDefault();const{email:V,password:J}=w;if(!V.trim()||!J.trim()){P("error","Por favor, completa todos los campos.");return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(V)){P("error","Correo electrnico no vlido.");return}if(J.length<6){P("error","La contrasea debe tener al menos 6 caracteres.");return}y(!0);try{console.log(" Iniciando proceso de login para:",V);const G=localStorage.getItem("redirectAfterLogin");G==="/contactenos"&&P("success","Validando credenciales...");const te=await Bd.enviarCodigoValidacionLoginConDeteccion(V,J);console.log(" Resultado validacin:",te),te.success?(u({email:V,password:J}),!G||G!=="/contactenos"?P("success","Cdigo de validacin enviado a tu correo"):P("success","Cdigo enviado. Una vez verificado, te redirigiremos al formulario de contacto"),console.log(" Mostrando modal de validacin..."),l(!0)):(console.error(" Error en validacin:",te.message),P("error",te.message||"Error al enviar cdigo de validacin"))}catch(G){console.error(" Error en manejarSubmit:",G),P("error","Error de conexin. Intntalo nuevamente.")}finally{y(!1)}};return o.createElement("div",{className:"form-container sign-in"},v.show&&o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",zIndex:2e3,padding:"1rem 1.5rem",borderRadius:"15px",color:"white",fontWeight:"600",fontSize:"0.9rem",minWidth:"300px",background:v.type==="success"?"linear-gradient(135deg, #10b981, #059669)":"linear-gradient(135deg, #ec4899, #be185d)",boxShadow:"0 10px 25px rgba(0,0,0,0.2)",animation:"slideInRight 0.5s ease-out"}},v.message),localStorage.getItem("redirectAfterLogin")==="/contactenos"&&o.createElement("div",{style:{background:"linear-gradient(135deg, #fef3c7, #fcd34d)",color:"#92400e",padding:"15px",borderRadius:"12px",marginBottom:"20px",textAlign:"center",fontSize:"14px",fontWeight:"600",border:"2px solid #f59e0b"}},o.createElement("i",{className:"fas fa-info-circle",style:{marginRight:"8px"}}),"Inicia sesin para autocompletar tus datos en el formulario de contacto"),o.createElement("form",{className:"login-form",onSubmit:D},o.createElement("input",{type:"email",name:"email",placeholder:"Correo electrnico",value:w.email,onChange:_,disabled:E,required:!0}),o.createElement("div",{style:{position:"relative",width:"100%"}},o.createElement("input",{type:b?"text":"password",name:"password",placeholder:"Contrasea",value:w.password,onChange:_,disabled:E,required:!0,style:{width:"100%",paddingRight:"45px"}}),o.createElement("button",{type:"button",onClick:()=>x(!b),disabled:E,style:{position:"absolute",right:"12px",top:"30%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",padding:"8px",display:"flex",alignItems:"center",justifyContent:"center",color:"#666",transition:"color 0.3s ease",zIndex:10},onMouseEnter:z=>z.currentTarget.style.color="#ff58a6",onMouseLeave:z=>z.currentTarget.style.color="#666"},b?o.createElement(nh,{size:18}):o.createElement(ah,{size:18}))),o.createElement("a",{type:"button",className:"forgot-password",onClick:()=>e(!0),style:{cursor:E?"not-allowed":"pointer"}},"Olvidaste tu contrasea?"),o.createElement("button",{type:"submit",className:"hiddenn1",disabled:E,style:{opacity:E?.7:1,cursor:E?"not-allowed":"pointer"}},E?"Validando...":"Iniciar"),E&&o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",marginTop:"10px"}},o.createElement("div",{style:{width:"20px",height:"20px",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}))),s&&c&&o.createElement(l4,{codigoCorrecto:"000000",onClose:R,onCodigoValido:C,correoEmail:c.email,esParaLogin:!0}),t&&o.createElement(KB,{onCodigoGenerado:L,onClose:R}),r&&o.createElement(l4,{codigoCorrecto:f,onClose:R,onCodigoValido:O}),a&&o.createElement(YB,{onClose:R,onContrasenaCambiada:A}),o.createElement("style",{jsx:!0},`
        @keyframes spin {
          0% { transform: rotate(0deg); }
          100% { transform: rotate(360deg); }
        }
        @keyframes slideInRight {
          from {
            opacity: 0;
            transform: translateX(100%);
          }
          to {
            opacity: 1;
            transform: translateX(0);
          }
        }
      `))},XB=({onCambiarALogin:t})=>{po();const[e,r]=p.useState(1),[n,a]=p.useState(!1),[i,s]=p.useState(!1),[l,c]=p.useState(!1),[u,f]=p.useState(!1),[m,v]=p.useState(null),[h,E]=p.useState({nombre:"",apellido:"",correo:"",tipoDocumento:"",documento:"",contacto:"",password:"",confirmPassword:""}),[y,b]=p.useState({show:!1,type:"",message:""}),[x,w]=p.useState({}),[N,I]=p.useState({}),[P,L]=p.useState({password:!1,confirmPassword:!1}),R={nombre:10,apellido:10,correo:100,documento:10,contacto:15,password:50};p.useEffect(()=>{const B=document.createElement("script");return B.src="https://www.google.com/recaptcha/api.js?render=6Lcz0MArAAAAAB0lZvM3iEc_5qvgWYWIQDfMg9-N",B.async=!0,B.defer=!0,document.head.appendChild(B),B.onload=()=>{window.grecaptcha.ready(()=>{console.log("reCAPTCHA v3 cargado correctamente")})},()=>{document.head.removeChild(B)}},[]);const O=async()=>{try{if(window.grecaptcha&&window.grecaptcha.ready){const B=await window.grecaptcha.execute("6Lcz0MArAAAAAB0lZvM3iEc_5qvgWYWIQDfMg9-N",{action:"register"});return v(B),B}}catch(B){console.error("Error ejecutando reCAPTCHA:",B)}return null},A=(B,j)=>{b({show:!0,type:B,message:j}),setTimeout(()=>{b({show:!1,type:"",message:""})},4e3)},T=async(B,j)=>{if(!j||j.trim()==="")return I(U=>({...U,[B]:""})),!0;s(!0);try{if(B==="correo"){if(await Bd.verificarCorreoExistente(j)){const X="Ya existe una cuenta con este correo. Por favor, inicia sesin.";return I(Z=>({...Z,[B]:X})),!1}}else if(B==="documento"){const U=await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/clientes");if(U.ok&&(await U.json()).some(me=>me.numerodocumento===j)){const me="Ya existe una cuenta con este documento. Por favor, inicia sesin.";return I(de=>({...de,[B]:me})),!1}}else if(B==="contacto"){const U=await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/clientes");if(U.ok&&(await U.json()).some(me=>me.celular===j)){const me="Ya existe una cuenta con este nmero de contacto. Por favor, inicia sesin.";return I(de=>({...de,[B]:me})),!1}}return I(U=>({...U,[B]:""})),!0}catch(U){return console.error(`Error validando duplicado ${B}:`,U),I(X=>({...X,[B]:""})),!0}finally{s(!1)}},C=(B,j)=>{let U="";switch(B){case"nombre":case"apellido":j.trim()?j.trim().length<2?U=`${B==="nombre"?"Nombre":"Apellido"} debe tener al menos 2 caracteres`:j.length>R[B]?U=`${B==="nombre"?"Nombre":"Apellido"} no puede exceder ${R[B]} caracteres`:/^[a-zA-Z]+$/.test(j)||(U="Solo se permiten letras, sin espacios"):U=`${B==="nombre"?"Nombre":"Apellido"} es requerido`;break;case"correo":j.trim()?j.length>R.correo?U=`Correo no puede exceder ${R.correo} caracteres`:/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j)||(U="Formato de correo electrnico invlido"):U="Correo electrnico es requerido";break;case"tipoDocumento":j||(U="Tipo de documento es requerido");break;case"documento":j.trim()?j.length<6?U="Nmero de documento debe tener al menos 6 dgitos":j.length>R.documento?U=`Nmero de documento no puede exceder ${R.documento} dgitos`:/^\d+$/.test(j)||(U="Solo se permiten nmeros"):U="Nmero de documento es requerido";break;case"contacto":j.trim()?j.length<10?U="Nmero de contacto debe tener al menos 10 dgitos":j.length>R.contacto?U=`Nmero de contacto no puede exceder ${R.contacto} dgitos`:/^\d+$/.test(j)||(U="Solo se permiten nmeros"):U="Nmero de contacto es requerido";break;case"password":if(!P.password&&!j)return"";j?j.length<8?U="Contrasea debe tener al menos 8 caracteres":j.length>R.password?U=`Contrasea no puede exceder ${R.password} caracteres`:/(?=.*[A-Z])/.test(j)?/(?=.*[!@#$%^&*])/.test(j)||(U="Contrasea debe tener al menos un carcter especial (!@#$%^&*)"):U="Contrasea debe tener al menos una mayscula":U="Contrasea es requerida";break;case"confirmPassword":if(!P.confirmPassword&&!j)return"";j?j!==h.password&&(U="Las contraseas no coinciden"):U="Confirmacin de contrasea es requerida";break}return U},_=async B=>{let{name:j,value:U}=B.target;(j==="password"||j==="confirmPassword")&&L(Z=>({...Z,[j]:!0})),j==="documento"?U=U.replace(/\D/g,"").substring(0,10):j==="contacto"?U=U.replace(/\D/g,"").substring(0,15):j==="nombre"||j==="apellido"?U=U.replace(/[^a-zA-Z]/g,"").substring(0,10):j==="correo"?U=U.replace(/\s/g,"").substring(0,100):j==="password"&&(U=U.substring(0,50)),["nombre","apellido","correo","documento","contacto"].includes(j)&&(U=U.replace(/\s/g,"")),E(Z=>({...Z,[j]:U}));const X=C(j,U);if(w(Z=>({...Z,[j]:X})),j==="password"&&h.confirmPassword&&P.confirmPassword){const Z=C("confirmPassword",h.confirmPassword);w(me=>({...me,confirmPassword:Z}))}["correo","documento","contacto"].includes(j)&&U.trim()&&setTimeout(()=>{T(j,U)},1e3)},D=async()=>{let B=[],j=!0;const U={};switch(e){case 1:B=["tipoDocumento","documento"];break;case 2:B=["nombre","apellido"];break;case 3:B=["correo","contacto"];break;case 4:B=["password","confirmPassword"],L({password:!0,confirmPassword:!0});break}return B.forEach(X=>{const Z=C(X,h[X]);Z&&(U[X]=Z,j=!1)}),e===1&&h.documento&&(!await T("documento",h.documento)||N.documento)&&(j=!1),e===3&&(h.correo&&(!await T("correo",h.correo)||N.correo)&&(j=!1),h.contacto&&(!await T("contacto",h.contacto)||N.contacto)&&(j=!1)),w(X=>({...X,...U})),j},z=async()=>{if(await D())e<4&&r(e+1);else{let j="Por favor, completa correctamente todos los campos del paso actual.";N.documento?j="Ya existe una cuenta con este documento. Inicia sesin en su lugar.":N.correo?j="Ya existe una cuenta con este correo. Inicia sesin en su lugar.":N.contacto&&(j="Ya existe una cuenta con este nmero. Inicia sesin en su lugar."),A("error",j)}},V=()=>{e>1&&r(e-1)},J=async B=>{if(B.preventDefault(),L({password:!0,confirmPassword:!0}),!await D()){A("error","Por favor, completa correctamente todos los campos.");return}const U=Object.keys(h);let X=!1;const Z={};if(U.forEach(me=>{const de=C(me,h[me]);de&&(Z[me]=de,X=!0)}),X){w(Z),A("error","Por favor, corrige todos los errores antes de continuar.");return}if(Object.values(N).some(me=>me!=="")){A("error","Por favor, corrige los campos duplicados antes de continuar.");return}a(!0);try{const me=await O();if(!me){A("error","Error de verificacin de seguridad. Intntalo nuevamente.");return}const de={...h,recaptchaToken:me},oe=await Bd.registrarCliente(de);oe.success?(A("success","Registro exitoso! Ahora puedes iniciar sesin."),setTimeout(()=>{t?t():window.location.reload()},2e3)):A("error",oe.message||"Error al registrar usuario")}catch(me){console.error("Error en registro:",me),A("error","Error de conexin. Intntalo nuevamente.")}finally{a(!1)}},ie=B=>{const j=x[B]||N[B];return h[B]?j?o.createElement("span",{className:"validation-icon error-icon"},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("circle",{cx:"12",cy:"12",r:"10",fill:"#ef4444",fillOpacity:"0.2",stroke:"#ef4444",strokeWidth:"2"}),o.createElement("line",{x1:"15",y1:"9",x2:"9",y2:"15",stroke:"#ef4444",strokeWidth:"2"}),o.createElement("line",{x1:"9",y1:"9",x2:"15",y2:"15",stroke:"#ef4444",strokeWidth:"2"}))):o.createElement("span",{className:"validation-icon success-icon"},o.createElement("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.createElement("circle",{cx:"12",cy:"12",r:"10",fill:"#10b981",fillOpacity:"0.2",stroke:"#10b981",strokeWidth:"2"}),o.createElement("polyline",{points:"9,12 12,15 16,10",stroke:"#10b981",strokeWidth:"2",fill:"none"}))):null},G=B=>x[B]||N[B]||"",te=()=>{const B=h.password;return{length:B.length>=8,uppercase:/(?=.*[A-Z])/.test(B),special:/(?=.*[!@#$%^&*])/.test(B)}},W=()=>{switch(e){case 1:return o.createElement(o.Fragment,null,o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container"},o.createElement("select",{name:"tipoDocumento",className:`select-documento ${G("tipoDocumento")?"error":""}`,value:h.tipoDocumento,onChange:_,disabled:n},o.createElement("option",{value:""},"Tipo de documento"),o.createElement("option",{value:"CC"},"Cdula de Ciudadana"),o.createElement("option",{value:"CE"},"Cdula de Extranjera"),o.createElement("option",{value:"PA"},"Pasaporte"),o.createElement("option",{value:"NIT"},"NIT")),ie("tipoDocumento")),G("tipoDocumento")&&o.createElement("span",{className:"error-message"},G("tipoDocumento"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container"},o.createElement("input",{type:"text",name:"documento",placeholder:"Nmero de documento",value:h.documento,onChange:_,maxLength:R.documento,className:G("documento")?"error":"",disabled:n}),ie("documento")),o.createElement("small",{className:"char-counter"},h.documento.length,"/",R.documento),G("documento")&&o.createElement("span",{className:"error-message"},G("documento"))));case 2:return o.createElement(o.Fragment,null,o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container"},o.createElement("input",{type:"text",name:"nombre",placeholder:"Nombre",value:h.nombre,onChange:_,maxLength:R.nombre,className:G("nombre")?"error":"",disabled:n}),ie("nombre")),o.createElement("small",{className:"char-counter"},h.nombre.length,"/",R.nombre),G("nombre")&&o.createElement("span",{className:"error-message"},G("nombre"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container"},o.createElement("input",{type:"text",name:"apellido",placeholder:"Apellido",value:h.apellido,onChange:_,maxLength:R.apellido,className:G("apellido")?"error":"",disabled:n}),ie("apellido")),o.createElement("small",{className:"char-counter"},h.apellido.length,"/",R.apellido),G("apellido")&&o.createElement("span",{className:"error-message"},G("apellido"))));case 3:return o.createElement(o.Fragment,null,o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container"},o.createElement("input",{type:"email",name:"correo",placeholder:"Correo electrnico",value:h.correo,onChange:_,maxLength:R.correo,className:G("correo")?"error":"",disabled:n}),ie("correo")),o.createElement("small",{className:"char-counter"},h.correo.length,"/",R.correo),G("correo")&&o.createElement("span",{className:"error-message"},G("correo"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container"},o.createElement("input",{type:"text",name:"contacto",placeholder:"Nmero de contacto",value:h.contacto,onChange:_,maxLength:R.contacto,className:G("contacto")?"error":"",disabled:n}),ie("contacto")),o.createElement("small",{className:"char-counter"},h.contacto.length,"/",R.contacto),G("contacto")&&o.createElement("span",{className:"error-message"},G("contacto"))));case 4:const B=te();return o.createElement(o.Fragment,null,o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container password-container"},o.createElement("input",{type:l?"text":"password",name:"password",placeholder:"Contrasea",value:h.password,onChange:_,className:G("password")?"error":"",disabled:n}),o.createElement("button",{type:"button",className:"eye-button",onClick:()=>c(!l),disabled:n},o.createElement("i",{className:l?"fas fa-eye-slash":"fas fa-eye"})),ie("password")),o.createElement("small",{className:"char-counter"},h.password.length,"/",R.password),G("password")&&o.createElement("span",{className:"error-message"},G("password")),h.password&&o.createElement("div",{className:"password-requirements-inline"},o.createElement("small",{style:{color:B.length?"#10b981":"#ef4444"}},o.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",marginRight:"4px"}},B.uppercase?o.createElement("polyline",{points:"20,6 9,17 4,12",stroke:"#10b981",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}):o.createElement(o.Fragment,null,o.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"#ef4444",strokeWidth:"3",strokeLinecap:"round"}),o.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"#ef4444",strokeWidth:"3",strokeLinecap:"round"}))),"Mayscula"),o.createElement("small",{style:{color:B.special?"#10b981":"#ef4444"}},o.createElement("svg",{width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{display:"inline-block",marginRight:"4px"}},B.special?o.createElement("polyline",{points:"20,6 9,17 4,12",stroke:"#10b981",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}):o.createElement(o.Fragment,null,o.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18",stroke:"#ef4444",strokeWidth:"3",strokeLinecap:"round"}),o.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18",stroke:"#ef4444",strokeWidth:"3",strokeLinecap:"round"}))),"Especial"))),o.createElement("div",{className:"form-group"},o.createElement("div",{className:"input-container password-container"},o.createElement("input",{type:u?"text":"password",name:"confirmPassword",placeholder:"Confirmar contrasea",value:h.confirmPassword,onChange:_,className:G("confirmPassword")?"error":"",disabled:n}),o.createElement("button",{type:"button",className:"eye-button",onClick:()=>f(!u),disabled:n},o.createElement("i",{className:u?"fas fa-eye-slash":"fas fa-eye"})),ie("confirmPassword")),G("confirmPassword")&&o.createElement("span",{className:"error-message"},G("confirmPassword"))));default:return null}};return o.createElement("div",{className:"form-container sign-up"},y.show&&o.createElement("div",{className:"custom-alert","data-type":y.type},y.message),o.createElement("form",{className:"login-form",onSubmit:J},o.createElement("div",{className:"registro-step-indicator"},o.createElement("div",{className:"registro-progress-bar"},o.createElement("div",{className:"registro-progress-fill",style:{width:`${e/4*100}%`}})),o.createElement("span",{className:"registro-step-text"},"Paso ",e," de 4")),o.createElement("div",{className:"registro-step-title"},e===1&&"Tipo y Nmero de Documento",e===2&&"Informacin Personal",e===3&&"Correo y Contacto",e===4&&"Contrasea"),W(),o.createElement("div",{className:"form-navigation"},e>1&&o.createElement("button",{type:"button",className:"nav-button prev-button",onClick:V,disabled:n}," Anterior"),e<4?o.createElement("button",{type:"button",className:"nav-button next-button",onClick:z,disabled:n},"Siguiente "):o.createElement("button",{type:"submit",className:"hiddenn1",disabled:n,style:{opacity:n?.7:1,cursor:n?"not-allowed":"pointer"}},n?"Registrando...":"Registrar"))))},ZB=({onSignIn:t,onSignUp:e,hasDuplicates:r=!1})=>o.createElement("div",{className:"toggle-container"},o.createElement("div",{className:"toggle"},o.createElement("div",{className:"toggle-panel toggle-left"},o.createElement("h1",null,"Registrarse"),o.createElement("p",null,"Bienvenido a Delicias Darsy! Regstrate hoy y s parte de una experiencia llena de sabor y calidad. "),o.createElement("small",{className:"texto-informativo"},"Ya tienes cuenta?"),o.createElement("button",{className:`hiddenn2 ${r?"duplicate-glow-effect":""}`,onClick:t},"Iniciar sesin")),o.createElement("div",{className:"toggle-panel toggle-right"},o.createElement("h1",null,"Inicia sesin"),o.createElement("p",null,"Bienvenido a Delicias Darsy! Endulza tu da iniciando sesin y descubre el sabor que alegra tus momentos. "),o.createElement("small",{className:"texto-informativo"},"An no tienes cuenta?"),o.createElement("button",{className:"hiddenn2",onClick:e},"Registrarse"))),o.createElement("style",{jsx:!0},`
      .duplicate-glow-effect {
        animation: glowPulse 2s ease-in-out infinite !important;
        box-shadow: 0 0 20px rgba(255, 88, 166, 0.8), 
                    0 0 40px rgba(255, 88, 166, 0.6), 
                    0 0 60px rgba(255, 88, 166, 0.4) !important;
        border: 2px solid rgba(255, 88, 166, 0.8) !important;
        background: linear-gradient(135deg, #ff58a6, #fc0278) !important;
        transform: scale(1.05) !important;
      }

      .duplicate-glow-effect:hover {
        animation: glowPulse 1s ease-in-out infinite !important;
        box-shadow: 0 0 25px rgba(255, 88, 166, 1), 
                    0 0 50px rgba(255, 88, 166, 0.8), 
                    0 0 75px rgba(255, 88, 166, 0.6) !important;
        transform: scale(1.08) !important;
      }

      @keyframes glowPulse {
        0%, 100% {
          box-shadow: 0 0 15px rgba(255, 88, 166, 0.6), 
                      0 0 30px rgba(255, 88, 166, 0.4), 
                      0 0 45px rgba(255, 88, 166, 0.2);
        }
        50% {
          box-shadow: 0 0 25px rgba(255, 88, 166, 1), 
                      0 0 50px rgba(255, 88, 166, 0.8), 
                      0 0 75px rgba(255, 88, 166, 0.6);
        }
      }
    `)),QB=()=>{const t=p.useRef(null);po();const e=()=>{t.current.classList.add("active")},r=()=>{t.current.classList.remove("active")};return o.createElement("div",{className:"login-wrapper"},o.createElement("div",{className:"containerlog",id:"container",ref:t},o.createElement(XB,{onCambiarALogin:r}),o.createElement(JB,null),o.createElement(ZB,{onSignIn:r,onSignUp:e})))},eU=()=>{const t=po(),{agregarProducto:e}=p.useContext(ps),[r,n]=p.useState([]),[a,i]=p.useState(!0),[s,l]=p.useState(null);p.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const m=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const v=await m.json();console.log("Datos obtenidos:",v);const h=Array.isArray(v)?v.filter(E=>{var y;return E.categoria==="Obleas"||((y=E.categoriaproducto)==null?void 0:y.nombrecategoria)==="Obleas"}):[{idproductogeneral:v.idcategoriaproducto,nombreproducto:v.nombrecategoria,precioproducto:0,categoria:v.nombrecategoria,urlimagen:(f=v.imagenes)==null?void 0:f.urlimg}];n(h)}catch(m){console.error("Error al cargar productos:",m),l(`Error: ${m.message}`)}finally{i(!1)}})()},[]);const c=u=>{var m,v;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((m=u.categoriaproducto)==null?void 0:m.nombrecategoria),imagen:u.urlimagen||((v=u.imagenes)==null?void 0:v.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentacin favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},""),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},""))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Aadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},tU=()=>{const t=po(),{agregarProducto:e}=p.useContext(ps),[r,n]=p.useState([]),[a,i]=p.useState(!0),[s,l]=p.useState(null);p.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const m=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const v=await m.json();console.log("Datos obtenidos:",v);const h=Array.isArray(v)?v.filter(E=>{var y;return E.categoria==="Mini Donas"||((y=E.categoriaproducto)==null?void 0:y.nombrecategoria)==="Mini Donas"}):[{idproductogeneral:v.idcategoriaproducto,nombreproducto:v.nombrecategoria,precioproducto:0,categoria:v.nombrecategoria,urlimagen:(f=v.imagenes)==null?void 0:f.urlimg}];n(h)}catch(m){console.error("Error al cargar productos:",m),l(`Error: ${m.message}`)}finally{i(!1)}})()},[]);const c=u=>{var m,v;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((m=u.categoriaproducto)==null?void 0:m.nombrecategoria),imagen:u.urlimagen||((v=u.imagenes)==null?void 0:v.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentacin favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},""),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},""))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Aadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},rU=()=>{const t=po(),{agregarProducto:e}=p.useContext(ps),[r,n]=p.useState([]),[a,i]=p.useState(!0),[s,l]=p.useState(null);p.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const m=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const v=await m.json();console.log("Datos obtenidos:",v);const h=Array.isArray(v)?v.filter(E=>{var y;return E.categoria==="cupcakes"||((y=E.categoriaproducto)==null?void 0:y.nombrecategoria)==="cupcakes"}):[{idproductogeneral:v.idcategoriaproducto,nombreproducto:v.nombrecategoria,precioproducto:0,categoria:v.nombrecategoria,urlimagen:(f=v.imagenes)==null?void 0:f.urlimg}];n(h)}catch(m){console.error("Error al cargar productos:",m),l(`Error: ${m.message}`)}finally{i(!1)}})()},[]);const c=u=>{var m,v;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((m=u.categoriaproducto)==null?void 0:m.nombrecategoria),imagen:u.urlimagen||((v=u.imagenes)==null?void 0:v.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentacin favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},""),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},""))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Aadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},nU=()=>{const t=po(),{agregarProducto:e}=p.useContext(ps),[r,n]=p.useState([]),[a,i]=p.useState(!0),[s,l]=p.useState(null);p.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const m=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const v=await m.json();console.log("Datos obtenidos:",v);const h=Array.isArray(v)?v.filter(E=>{var y;return E.categoria==="Arroz con leche"||((y=E.categoriaproducto)==null?void 0:y.nombrecategoria)==="Arroz con leche"}):[{idproductogeneral:v.idcategoriaproducto,nombreproducto:v.nombrecategoria,precioproducto:0,categoria:v.nombrecategoria,urlimagen:(f=v.imagenes)==null?void 0:f.urlimg}];n(h)}catch(m){console.error("Error al cargar productos:",m),l(`Error: ${m.message}`)}finally{i(!1)}})()},[]);const c=u=>{var m,v;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((m=u.categoriaproducto)==null?void 0:m.nombrecategoria),imagen:u.urlimagen||((v=u.imagenes)==null?void 0:v.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentacin favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},""),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},""))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Aadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},aU=()=>{const t=po(),{agregarProducto:e}=p.useContext(ps),[r,n]=p.useState([]),[a,i]=p.useState(!0),[s,l]=p.useState(null);p.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const m=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const v=await m.json();console.log("Datos obtenidos:",v);const h=Array.isArray(v)?v.filter(E=>{var y;return E.categoria==="Postres"||((y=E.categoriaproducto)==null?void 0:y.nombrecategoria)==="Postres"}):[{idproductogeneral:v.idcategoriaproducto,nombreproducto:v.nombrecategoria,precioproducto:0,categoria:v.nombrecategoria,urlimagen:(f=v.imagenes)==null?void 0:f.urlimg}];n(h)}catch(m){console.error("Error al cargar productos:",m),l(`Error: ${m.message}`)}finally{i(!1)}})()},[]);const c=u=>{var m,v;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((m=u.categoriaproducto)==null?void 0:m.nombrecategoria),imagen:u.urlimagen||((v=u.imagenes)==null?void 0:v.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentacin favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},""),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},""))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Aadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},oU=()=>{const t=po(),{agregarProducto:e}=p.useContext(ps),[r,n]=p.useState([]),[a,i]=p.useState(!0),[s,l]=p.useState(null);p.useEffect(()=>{(async()=>{var f;try{i(!0),l(null);const m=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!m.ok)throw new Error(`HTTP error! status: ${m.status}`);const v=await m.json();console.log("Datos obtenidos:",v);const h=Array.isArray(v)?v.filter(E=>{var b;return(E.categoria||((b=E.categoriaproducto)==null?void 0:b.nombrecategoria)||"").toLowerCase().includes("sandwich")}):[{idproductogeneral:v.idcategoriaproducto,nombreproducto:v.nombrecategoria,precioproducto:0,categoria:v.nombrecategoria,urlimagen:(f=v.imagenes)==null?void 0:f.urlimg}];n(h)}catch(m){console.error("Error al cargar productos:",m),l(`Error: ${m.message}`)}finally{i(!1)}})()},[]);const c=u=>{var m,v;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto)||0,categoria:u.categoria||((m=u.categoriaproducto)==null?void 0:m.nombrecategoria),imagen:u.urlimagen||((v=u.imagenes)==null?void 0:v.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentacin favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},""),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen?o.createElement("img",{src:u.urlimagen,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:f=>{f.target.style.display="none"}}):o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200"},o.createElement("span",{className:"text-4xl"},""))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Aadir al Pedido")))))),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},iU=()=>{const t=po(),{agregarProducto:e}=p.useContext(ps),[r,n]=p.useState([]),[a,i]=p.useState(!0),[s,l]=p.useState(null);p.useEffect(()=>{(async()=>{try{i(!0),l(null);const f=await fetch("https://deliciasoft-backend.onrender.com/api/productogeneral",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);const m=await f.json();console.log("Productos obtenidos:",m);const v=Array.isArray(m)?m:[m];n(v)}catch(f){console.error("Error al cargar productos:",f),l(`Error: ${f.message}`)}finally{i(!1)}})()},[]);const c=u=>{var m,v,h;const f={id:u.idproductogeneral,nombre:u.nombreproducto,precio:parseInt(u.precioproducto),descripcion:u.especificacionesreceta||((m=u.receta)==null?void 0:m.especificaciones),categoria:u.categoria||((v=u.categoriaproducto)==null?void 0:v.nombrecategoria),imagen:u.urlimagen||((h=u.imagenes)==null?void 0:h.urlimg),cantidad:1};e(f),t("/pedidos")};return a?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Fresas con Crema "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu presentacin favorita")),o.createElement("div",{className:"flex flex-col justify-center items-center h-64 bg-white rounded-2xl shadow-lg"},o.createElement("div",{className:"text-6xl mb-4"},""),o.createElement("h3",{className:"text-xl font-semibold text-pink-800 mb-2"},"Cargando productos deliciosos..."),o.createElement("p",{className:"text-gray-600 text-center max-w-md"},"Estamos preparando nuestros mejores productos para ti. Un momento por favor!"),o.createElement("div",{className:"mt-4 flex space-x-2"},o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce"}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.createElement("div",{className:"w-2 h-2 bg-pink-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}}))))):s?o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),o.createElement("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded"},o.createElement("p",null,s),o.createElement("button",{onClick:()=>window.location.reload(),className:"mt-2 bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded"},"Reintentar")))):o.createElement("div",{className:"min-h-screen bg-gradient-to-b from-pink-50 to-pink-100 p-4"},o.createElement("div",{className:"max-w-6xl mx-auto"},o.createElement("div",{className:"flex justify-start mb-6"},o.createElement("button",{onClick:()=>t("/cartas"),className:"bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-2 px-6 rounded-full shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Volver"))),o.createElement("div",{className:"text-center mb-8"},o.createElement("h1",{className:"text-3xl font-bold text-pink-800 mb-2"},"Nuestros Productos "),o.createElement("p",{className:"text-gray-600"},"Selecciona tu favorito")),r.length===0?o.createElement("div",{className:"text-center py-8"},o.createElement("p",{className:"text-gray-600"},"No hay productos disponibles")):o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},r.map(u=>{var f,m,v;return o.createElement("div",{key:u.idproductogeneral,className:"bg-white rounded-3xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 hover:scale-105"},o.createElement("div",{className:"relative h-64 bg-gray-200 overflow-hidden"},u.urlimagen||(f=u.imagenes)!=null&&f.urlimg?o.createElement("img",{src:u.urlimagen||u.imagenes.urlimg,alt:u.nombreproducto,className:"w-full h-full object-cover",onError:h=>{console.log("Error cargando imagen:",h.target.src),h.target.style.display="none",h.target.nextSibling.style.display="flex"}}):null,o.createElement("div",{className:"w-full h-full flex items-center justify-center bg-gradient-to-br from-pink-100 to-pink-200",style:{display:u.urlimagen||(m=u.imagenes)!=null&&m.urlimg?"none":"flex"}},o.createElement("span",{className:"text-4xl"},u.categoria==="Postres"?"":u.categoria==="Pasteles"?"":u.categoria==="Fresas Con Crema"?"":""))),o.createElement("div",{className:"p-6"},o.createElement("div",{className:"text-center mb-4"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-2"},u.nombreproducto),o.createElement("p",{className:"text-2xl font-bold text-pink-600 mb-2"},"$",parseInt(u.precioproducto).toLocaleString()),(u.especificacionesreceta||((v=u.receta)==null?void 0:v.especificaciones))&&o.createElement("p",{className:"text-gray-600 text-sm mb-3"},u.especificacionesreceta||u.receta.especificaciones),u.categoria&&o.createElement("span",{className:"inline-block bg-pink-100 text-pink-800 text-xs px-2 py-1 rounded-full mb-4"},u.categoria)),o.createElement("button",{onClick:()=>c(u),className:"w-full bg-gradient-to-r from-pink-500 to-pink-600 hover:from-pink-600 hover:to-pink-700 text-white font-semibold py-3 px-6 rounded-xl shadow-lg transition-all duration-300 transform hover:scale-105 flex items-center justify-center space-x-2"},o.createElement("span",null,""),o.createElement("span",null,"Aadir al Pedido"))))})),o.createElement("div",{className:"mt-8 text-center text-gray-600"},o.createElement("p",null,"Total de productos: ",r.length))))},sU=()=>{var Xe;const t=po(),{carrito:e}=p.useContext(ps),r=p.useRef(null),[n,a]=p.useState(0),[i,s]=p.useState(1),[l,c]=p.useState({}),[u,f]=p.useState({toppings:[],salsas:[],adiciones:[]}),[m,v]=p.useState({}),[h,E]=p.useState(!0),[y,b]=p.useState({show:!1,type:"",message:""}),[x,w]=p.useState(!1),[N,I]=p.useState({toppings:!0,salsas:!0,adiciones:!0}),[P,L]=p.useState(""),[R,O]=p.useState(""),[A,T]=p.useState(""),[C,_]=p.useState(1),[D,z]=p.useState(1),[V,J]=p.useState(1),ie=9,G={adiciones:"https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-adiciones",toppings:"https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-toppings",salsas:"https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-salsas",configuracion:"https://deliciasoft-backend-i6g9.onrender.com/api/configuracion-producto",insumos:"https://deliciasoft-backend-i6g9.onrender.com/api/insumos",imagenes:"https://deliciasoft-backend-i6g9.onrender.com/api/imagenes"},te=()=>{r.current?r.current.scrollIntoView({behavior:"smooth",block:"start"}):window.scrollTo({top:0,behavior:"smooth"})},W=Ke=>{I(Et=>({...Et,[Ke]:!Et[Ke]}))};p.useEffect(()=>{B()},[]);const B=async()=>{try{E(!0);const[Ke,Et,ut,zt]=await Promise.all([fetch(G.adiciones).catch(Ee=>(console.error(" Error cargando adiciones:",Ee),{ok:!1})),fetch(G.toppings).catch(Ee=>(console.error(" Error cargando toppings:",Ee),{ok:!1})),fetch(G.salsas).catch(Ee=>(console.error(" Error cargando salsas:",Ee),{ok:!1})),fetch(G.insumos).catch(Ee=>(console.error(" Error cargando insumos:",Ee),{ok:!1}))]);let Gt=[],mt=[],nt=[],ht=[];Ke.ok&&(Gt=await Ke.json(),console.log(" Adiciones cargadas:",Gt.length)),Et.ok&&(mt=await Et.json(),console.log(" Toppings cargados:",mt.length)),ut.ok&&(nt=await ut.json(),console.log(" Salsas cargadas:",nt.length)),zt.ok&&(ht=await zt.json(),console.log(" Insumos cargados:",ht.length));const Kt=async Ee=>{if(!Ee)return console.warn(" No hay idinsumos"),null;const Ne=Array.isArray(ht)?ht.find(qe=>parseInt(qe.idinsumo)===parseInt(Ee)):null;if(!Ne)return console.warn(` No se encontr insumo con ID: ${Ee}`),null;if(console.log(` Procesando insumo ${Ee}:`,Ne),Ne.idimagen){try{const Nt=`${G.imagenes}/${Ne.idimagen}`;console.log(` Consultando imagen: ${Nt}`);const St=await fetch(Nt);if(St.ok){const Ot=St.headers.get("content-type");if(console.log(` Content-Type: ${Ot}`),Ot&&Ot.startsWith("image/"))return console.log(` Imagen directa encontrada: ${Nt}`),Nt;if(Ot&&Ot.includes("json")){const gr=await St.json();console.log(" Datos JSON de imagen:",gr);const lr=gr.urlimg||gr.url||gr.ruta||gr.urlimagen||gr.imagenUrl||gr.imagen||gr.path||gr.src;if(lr){if(console.log(` URL extrada del JSON: ${lr}`),lr.startsWith("/")){const zr=`https://deliciasoft-backend-i6g9.onrender.com${lr}`;return console.log(` URL completa construida: ${zr}`),zr}return lr.startsWith("data:image")&&console.log(" Imagen base64 detectada"),lr}if(gr.data&&gr.data.url)return console.log(` URL en data.url: ${gr.data.url}`),gr.data.url}}}catch(Nt){console.error(` Error obteniendo imagen ${Ne.idimagen}:`,Nt)}const qe=`${G.imagenes}/${Ne.idimagen}`;return console.log(` Usando URL directa como ltimo recurso: ${qe}`),qe}if(Ne.imagenes){if(Ne.imagenes.idimagenes){const qe=`${G.imagenes}/${Ne.imagenes.idimagenes}`;return console.log(` Imagen desde relacin Prisma: ${qe}`),qe}if(Ne.imagenes.url||Ne.imagenes.ruta){const qe=Ne.imagenes.url||Ne.imagenes.ruta;return console.log(` URL desde objeto imagenes: ${qe}`),qe}}return console.warn(` Insumo ${Ee} no tiene imagen disponible`),null},bt=(Ee,Ne="E91E63")=>{const qe=(Ee==null?void 0:Ee.charAt(0).toUpperCase())||"?";return`https://via.placeholder.com/100x100/${Ne}/FFFFFF?text=${encodeURIComponent(qe)}`},Ar=Array.isArray(mt)?mt.filter(Ee=>Ee.estado).map(async(Ee,Ne)=>{const qe=await Kt(Ee.idinsumos),Nt=String(Ee.idtopping||Ee.id||Ee.idtoppings||Ee.catalogotoppingId||Ee.idinsumos||`topping-${Ne}`);return console.log(` Topping #${Ne} RAW:`,Ee),console.log(` Topping "${Ee.nombre}" - ID extrado: ${Nt}`),{id:Nt,nombre:Ee.nombre,imagen:qe||bt(Ee.nombre,"8B4513"),_raw:Ee}}):[],Jt=Array.isArray(nt)?nt.filter(Ee=>Ee.estado).map(async(Ee,Ne)=>{const qe=await Kt(Ee.idinsumos),Nt=String(Ee.idsalsa||Ee.id);return console.log(` Salsa #${Ne} "${Ee.nombre}" - ID: ${Nt} (tipo: ${typeof Nt}) - imagen: ${qe||"placeholder"}`),{id:Nt,nombre:Ee.nombre,imagen:qe||bt(Ee.nombre,"FF5722")}}):[],Lr=Array.isArray(Gt)?Gt.filter(Ee=>Ee.estado).map(async(Ee,Ne)=>{const qe=await Kt(Ee.idinsumos),Nt=String(Ee.idadiciones||Ee.id);return console.log(` Adicin #${Ne} "${Ee.nombre}" - ID: ${Nt} (tipo: ${typeof Nt}) - imagen: ${qe||"placeholder"}`),{id:Nt,nombre:Ee.nombre,precio:parseFloat(Ee.precioadicion||0),imagen:qe||bt(Ee.nombre,"FFC107")}}):[],[mr,wr,Ur]=await Promise.all([Promise.all(Ar),Promise.all(Jt),Promise.all(Lr)]);f({toppings:mr,salsas:wr,adiciones:Ur}),console.log(" Catlogos procesados:",{toppings:mr.length,salsas:wr.length,adiciones:Ur.length});const Sr={};for(const Ee of e)try{const Ne=await fetch(`${G.configuracion}/producto/${Ee.id}`);if(Ne.ok){const qe=await Ne.json();Sr[Ee.id]=qe}else Sr[Ee.id]={permiteToppings:!1,permiteSalsas:!1,permiteAdiciones:!1,limiteTopping:0,limiteSalsa:0}}catch{Sr[Ee.id]={permiteToppings:!1,permiteSalsas:!1,permiteAdiciones:!1,limiteTopping:0,limiteSalsa:0}}v(Sr);const kt={};e.forEach(Ee=>{kt[Ee.id]={};for(let Ne=1;Ne<=Ee.cantidad;Ne++)kt[Ee.id][Ne]={toppings:[],salsas:[],adiciones:[]}}),c(kt)}catch(Ke){console.error(" Error cargando datos:",Ke),j("error","Error al cargar datos")}finally{E(!1)}},j=(Ke,Et)=>{b({show:!0,type:Ke,message:Et}),setTimeout(()=>b({show:!1,type:"",message:""}),3e3)},U=e[n],X=m[U==null?void 0:U.id]||{},Z=((Xe=l[U==null?void 0:U.id])==null?void 0:Xe[i])||{toppings:[],salsas:[],adiciones:[]},me=Ke=>{console.log(" Seleccionando topping:",Ke),console.log(" Toppings actuales:",Z.toppings);const Et=X.limiteTopping||0,ut=Z.toppings||[],zt=String(Ke.id),Gt=ut.find(mt=>{const nt=String(mt.id);return console.log(`  Comparando: "${nt}" === "${zt}" ? ${nt===zt}`),nt===zt});if(console.log(" Ya seleccionado?",Gt),Gt)console.log(" Quitando topping..."),c(mt=>({...mt,[U.id]:{...mt[U.id],[i]:{...mt[U.id][i],toppings:ut.filter(nt=>String(nt.id)!==zt)}}}));else{if(Et>0&&ut.length>=Et){j("error",`Mximo ${Et} topping(s) permitido(s)`);return}console.log(" Agregando topping..."),c(mt=>({...mt,[U.id]:{...mt[U.id],[i]:{...mt[U.id][i],toppings:[...ut,Ke]}}}))}},de=Ke=>{const Et=X.limiteSalsa||0,ut=Z.salsas||[];if(ut.find(Gt=>String(Gt.id)===String(Ke.id)))c(Gt=>({...Gt,[U.id]:{...Gt[U.id],[i]:{...Gt[U.id][i],salsas:ut.filter(mt=>String(mt.id)!==String(Ke.id))}}}));else{if(Et>0&&ut.length>=Et){j("error",`Mximo ${Et} salsa(s) permitida(s)`);return}c(Gt=>({...Gt,[U.id]:{...Gt[U.id],[i]:{...Gt[U.id][i],salsas:[...ut,Ke]}}}))}},oe=Ke=>{const Et=Z.adiciones.find(ut=>String(ut.id)===String(Ke.id));c(ut=>({...ut,[U.id]:{...ut[U.id],[i]:{...ut[U.id][i],adiciones:Et?Z.adiciones.filter(zt=>String(zt.id)!==String(Ke.id)):[...Z.adiciones,Ke]}}}))},ee=(Ke,Et,ut)=>{const zt=Ke.filter(nt=>nt.nombre.toLowerCase().includes(Et.toLowerCase())),Gt=(ut-1)*ie,mt=Gt+ie;return{items:zt.slice(Gt,mt),total:zt.length,totalPaginas:Math.ceil(zt.length/ie)}},le=ee(u.toppings,P,C),pe=ee(u.salsas,R,D),ce=ee(u.adiciones,A,V),_e=()=>{let Ke=U.precio;return Ke+=Z.adiciones.reduce((Et,ut)=>Et+(ut.precio||0),0),Ke},He=()=>{i<U.cantidad?(s(i+1),j("success",` Unidad ${i} guardada`),te()):Re()},Re=()=>{n<e.length-1?(a(n+1),s(1),_(1),z(1),L(""),O(""),j("success"," Producto completo. Siguiente..."),te()):Ae()},be=()=>{if(i>1)s(i-1),te();else if(n>0){a(n-1);const Ke=e[n-1];s(Ke.cantidad),te()}else t("/pedidos")},gt=()=>{const Ke=l[U.id][i];c(Et=>{const ut={...Et};for(let zt=1;zt<=U.cantidad;zt++)ut[U.id][zt]={toppings:[...Ke.toppings],salsas:[...Ke.salsas],adiciones:[...Ke.adiciones]};return ut}),j("success"," Personalizacin aplicada a todas las unidades"),setTimeout(()=>{Re()},1e3)},Ae=()=>{localStorage.setItem("personalizacionesPedido",JSON.stringify(l)),console.log(" Personalizaciones guardadas:",l),j("success"," Personalizacin completada!"),setTimeout(()=>{t("/pedidos",{state:{vista:"entrega"}})},1e3)},ke=X.permiteToppings||X.permiteSalsas||X.permiteAdiciones||X.permiteRellenos||X.permiteSabores,Be=X.permiteToppings&&u.toppings.length>0||X.permiteSalsas&&u.salsas.length>0||X.permiteAdiciones&&u.adiciones.length>0;return p.useEffect(()=>{!h&&U&&(!ke||!Be)&&(console.log("Producto sin personalizacin disponible, saltando..."),Re())},[n,h]),h?o.createElement("div",{className:"personalizacion-loading"},o.createElement("div",{className:"loading-spinner"}),o.createElement("p",null,"Cargando personalizacin...")):U?o.createElement("div",{ref:r,className:"personalizacion-container"},y.show&&o.createElement("div",{className:`custom-alert ${y.type}`},y.message),o.createElement("div",{className:"personalizacion-content"},o.createElement("div",{className:"personalizacion-layout"},o.createElement("div",{className:"left-panel"},o.createElement("div",{className:"producto-header-compacto"},o.createElement("div",{className:"producto-compacto-layout"},o.createElement("div",{className:"producto-imagen-compacta",style:{backgroundImage:`url(${U.imagen})`}}),o.createElement("div",{className:"producto-info-compacta"},o.createElement("h1",{className:"producto-nombre-compacto"},U.nombre),o.createElement("p",{className:"producto-detalle-compacto"},"$",U.precio.toLocaleString()," por unidad")),o.createElement("div",{className:"unidad-badge"},o.createElement("div",{className:"unidad-badge-numero"},i),o.createElement("div",{className:"unidad-badge-texto"},"de ",U.cantidad))),X.permiteAdiciones&&u.adiciones.length>0&&o.createElement("button",{onClick:()=>w(!0),className:"btn-adicciones"},o.createElement("span",{className:"icon"},"+"),"Adicciones",Z.adiciones.length>0&&o.createElement("span",{className:"badge-count"},Z.adiciones.length))),o.createElement("div",{className:"resumen-compacto"},o.createElement("h3",null," Resumen Unidad ",i),o.createElement("div",{className:"resumen-items"},o.createElement("div",{className:"resumen-item base"},o.createElement("span",{className:"resumen-item-nombre"}," ",U.nombre),o.createElement("span",{className:"resumen-item-precio"},"$",U.precio.toLocaleString())),Z.toppings.length>0&&o.createElement("div",{className:"resumen-seccion"},o.createElement("div",{className:"resumen-seccion-header",onClick:()=>W("toppings")},o.createElement("div",{className:"resumen-seccion-titulo"}," Toppings",o.createElement("span",{className:"resumen-seccion-badge"},Z.toppings.length)),o.createElement("span",{className:`resumen-seccion-icono ${N.toppings?"open":""}`},"")),o.createElement("div",{className:`resumen-seccion-contenido ${N.toppings?"open":""}`},o.createElement("div",{className:"resumen-seccion-lista"},Z.toppings.map((Ke,Et)=>o.createElement("div",{key:`topping-${Ke.id}-${Et}`,className:"resumen-item"},o.createElement("span",{className:"resumen-item-nombre"},"+ ",Ke.nombre),o.createElement("span",{className:"resumen-item-precio"},"Gratis")))))),Z.salsas.length>0&&o.createElement("div",{className:"resumen-seccion"},o.createElement("div",{className:"resumen-seccion-header",onClick:()=>W("salsas")},o.createElement("div",{className:"resumen-seccion-titulo"}," Salsas",o.createElement("span",{className:"resumen-seccion-badge"},Z.salsas.length)),o.createElement("span",{className:`resumen-seccion-icono ${N.salsas?"open":""}`},"")),o.createElement("div",{className:`resumen-seccion-contenido ${N.salsas?"open":""}`},o.createElement("div",{className:"resumen-seccion-lista"},Z.salsas.map((Ke,Et)=>o.createElement("div",{key:`salsa-${Ke.id}-${Et}`,className:"resumen-item"},o.createElement("span",{className:"resumen-item-nombre"},"+ ",Ke.nombre),o.createElement("span",{className:"resumen-item-precio"},"Gratis")))))),Z.adiciones.length>0&&o.createElement("div",{className:"resumen-seccion"},o.createElement("div",{className:"resumen-seccion-header",onClick:()=>W("adiciones")},o.createElement("div",{className:"resumen-seccion-titulo"}," Adicciones",o.createElement("span",{className:"resumen-seccion-badge"},Z.adiciones.length)),o.createElement("span",{className:`resumen-seccion-icono ${N.adiciones?"open":""}`},"")),o.createElement("div",{className:`resumen-seccion-contenido ${N.adiciones?"open":""}`},o.createElement("div",{className:"resumen-seccion-lista"},Z.adiciones.map((Ke,Et)=>o.createElement("div",{key:`adicion-${Ke.id}-${Et}`,className:"resumen-item"},o.createElement("span",{className:"resumen-item-nombre"},"+ ",Ke.nombre),o.createElement("span",{className:"resumen-item-precio"},"+$",Ke.precio.toLocaleString())))))),o.createElement("div",{className:"resumen-item total"},o.createElement("span",{className:"resumen-item-nombre"},"Total:"),o.createElement("span",{className:"resumen-item-precio"},"$",_e().toLocaleString()))))),o.createElement("div",{className:"right-panel"},X.permiteToppings&&u.toppings.length>0&&o.createElement(c4,{titulo:" Toppings",items:le.items,seleccionados:Z.toppings,onSelect:me,search:P,onSearchChange:L,pagina:C,totalPaginas:le.totalPaginas,onPaginaChange:_,limite:X.limiteTopping}),X.permiteSalsas&&u.salsas.length>0&&o.createElement(c4,{titulo:" Salsas",items:pe.items,seleccionados:Z.salsas,onSelect:de,search:R,onSearchChange:O,pagina:D,totalPaginas:pe.totalPaginas,onPaginaChange:z,limite:X.limiteSalsa}))),o.createElement("div",{className:"navigation-buttons"},o.createElement("button",{onClick:be,className:"btn-nav anterior"}," Anterior"),U.cantidad>1&&o.createElement("button",{onClick:gt,className:"btn-nav aplicar-todos"}," Personalizar Todas las Unidades"),o.createElement("button",{onClick:He,className:"btn-nav siguiente"},i<U.cantidad?`Siguiente Unidad (${i+1}/${U.cantidad}) `:n<e.length-1?"Siguiente Producto ":"Finalizar "))),x&&o.createElement(lU,{items:ce.items,seleccionados:Z.adiciones,onToggle:oe,onClose:()=>w(!1),search:A,onSearchChange:T,pagina:V,totalPaginas:ce.totalPaginas,onPaginaChange:J})):o.createElement("div",{className:"personalizacion-empty"},o.createElement("div",{className:"empty-icon"},""),o.createElement("h2",null,"No hay productos para personalizar"),o.createElement("p",null,"Agrega productos al carrito"),o.createElement("button",{onClick:()=>t("/cartas"),className:"btn-primary"},"Ver Productos"))},c4=({titulo:t,items:e,seleccionados:r=[],onSelect:n,search:a,onSearchChange:i,pagina:s,totalPaginas:l,onPaginaChange:c,limite:u=0})=>o.createElement("div",{className:"catalogo-box"},o.createElement("div",{className:"catalogo-header"},o.createElement("h3",null,t),o.createElement("p",{className:"catalogo-limite"},u>0?`Mximo ${u}`:"Sin lmite")),o.createElement("div",{className:"catalogo-search"},o.createElement("span",{className:"catalogo-search-icon"},""),o.createElement("input",{type:"text",placeholder:"Buscar...",value:a,onChange:f=>{i(f.target.value),c(1)}})),e.length===0?o.createElement("div",{className:"no-items"},o.createElement("div",{className:"icon"},""),o.createElement("p",null,"No se encontraron resultados")):o.createElement(o.Fragment,null,o.createElement("div",{className:"catalogo-grid-3x3"},e.map((f,m)=>{const v=String(f.id),h=r.some(E=>{const b=String(E.id)===v;return m===0&&console.log(` Item "${f.nombre}" (${v}) vs Seleccionados:`,r.map(x=>`"${x.nombre}" (${String(x.id)})`),"Match:",b),b});return o.createElement("div",{key:`item-${f.id}-${m}`,onClick:()=>n(f),className:`item-card-3x3 ${h?"selected":""}`},o.createElement("div",{className:"item-imagen-3x3",style:{backgroundImage:`url("${f.imagen}")`,backgroundColor:"#e0e0e0",backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"},title:f.imagen}),o.createElement("div",{className:"item-nombre-3x3"},f.nombre),h&&o.createElement("div",{className:"item-check-3x3"},""))})),l>1&&o.createElement("div",{className:"catalogo-pagination"},o.createElement("button",{className:"pagination-btn",onClick:()=>c(Math.max(1,s-1)),disabled:s===1},""),o.createElement("span",{className:"pagination-info"},s," / ",l),o.createElement("button",{className:"pagination-btn",onClick:()=>c(Math.min(l,s+1)),disabled:s===l},"")))),lU=({items:t,seleccionados:e,onToggle:r,onClose:n,search:a,onSearchChange:i,pagina:s,totalPaginas:l,onPaginaChange:c})=>o.createElement("div",{className:"modal-overlay",onClick:n},o.createElement("div",{className:"modal-content",onClick:u=>u.stopPropagation()},o.createElement("div",{className:"modal-header"},o.createElement("h3",null," Adicciones"),o.createElement("button",{className:"modal-close",onClick:n},"")),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"modal-search"},o.createElement("span",{className:"modal-search-icon"},""),o.createElement("input",{type:"text",placeholder:"Buscar adicciones...",value:a,onChange:u=>{i(u.target.value),c(1)}})),t.length===0?o.createElement("div",{className:"no-items"},o.createElement("div",{className:"icon"},""),o.createElement("p",null,"No se encontraron adicciones")):o.createElement("div",{className:"catalogo-grid-3x3"},t.map(u=>{const f=e.some(m=>String(m.id)===String(u.id));return o.createElement("div",{key:u.id,onClick:()=>r(u),className:`item-card-3x3 ${f?"selected":""}`},o.createElement("div",{className:"item-imagen-3x3",style:{backgroundImage:`url(${u.imagen})`,backgroundColor:"#e0e0e0"}}),o.createElement("div",{className:"item-nombre-3x3"},u.nombre),u.precio>0&&o.createElement("div",{className:"adicion-precio-mini"},"+$",u.precio.toLocaleString()),f&&o.createElement("div",{className:"item-check-3x3"},""))}))),l>1&&o.createElement("div",{className:"catalogo-pagination"},o.createElement("button",{className:"pagination-btn",onClick:()=>c(Math.max(1,s-1)),disabled:s===1},""),o.createElement("span",{className:"pagination-info"},s," / ",l),o.createElement("button",{className:"pagination-btn",onClick:()=>c(Math.min(l,s+1)),disabled:s===l},"")))),ag="https://deliciasoft-backend-i6g9.onrender.com/api";class cU{constructor(){this.token=localStorage.getItem("authToken"),this.userEmail=localStorage.getItem("userEmail"),this.userRole=localStorage.getItem("userRole")}actualizarToken(){this.token=localStorage.getItem("authToken"),this.userEmail=localStorage.getItem("userEmail"),this.userRole=localStorage.getItem("userRole")}getHeaders(){const e={"Content-Type":"application/json",Accept:"application/json"};return this.token&&(e.Authorization=`Bearer ${this.token}`),e}async obtenerPerfilCliente(){try{if(this.actualizarToken(),!this.userEmail||this.userRole!=="cliente")throw new Error("No hay sesin de cliente activa");console.log("Obteniendo perfil para:",this.userEmail);const e=await fetch(`${ag}/clientes`,{method:"GET",headers:this.getHeaders()});if(!e.ok)throw new Error(`Error ${e.status}: ${e.statusText}`);const n=(await e.json()).find(i=>i.correo===this.userEmail&&i.estado===!0);if(!n)throw new Error("Cliente no encontrado o inactivo");const a=this.transformarClienteDesdeAPI(n);return localStorage.setItem("userData",JSON.stringify(n)),console.log("Perfil obtenido:",a),a}catch(e){throw console.error("Error al obtener perfil:",e),e}}async actualizarPerfil(e){try{if(this.actualizarToken(),!this.userEmail||this.userRole!=="cliente")throw new Error("No hay sesin de cliente activa");const n=(await this.obtenerPerfilCliente()).idCliente;console.log("Actualizando cliente ID:",n),console.log("Datos a actualizar:",e);const a=this.transformarClienteParaAPI(e);(!e.contrasena||e.contrasena==="********")&&delete a.hashcontrasena;const i=await fetch(`${ag}/clientes/${n}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(a)});if(!i.ok){const l=await i.json();throw new Error(l.message||`Error ${i.status}`)}const s=await i.json();return localStorage.setItem("userData",JSON.stringify(s)),this.transformarClienteDesdeAPI(s)}catch(r){throw console.error("Error al actualizar perfil:",r),r}}async cambiarContrasena(e,r){try{if(this.actualizarToken(),!this.userEmail||this.userRole!=="cliente")throw new Error("No hay sesin de cliente activa");if(!(await fetch(`${ag}/auth/direct-login`,{method:"POST",headers:this.getHeaders(),body:JSON.stringify({correo:this.userEmail,password:e,userType:"cliente"})})).ok)throw new Error("La contrasea actual es incorrecta");const i=(await this.obtenerPerfilCliente()).idCliente,s=await fetch(`${ag}/clientes/${i}/password`,{method:"PATCH",headers:this.getHeaders(),body:JSON.stringify({nuevaContrasena:r})});if(!s.ok){const l=await s.json();throw new Error(l.message||"Error al cambiar contrasea")}return await s.json()}catch(n){throw console.error("Error al cambiar contrasea:",n),n}}async suspenderCuenta(){try{if(this.actualizarToken(),!this.userEmail||this.userRole!=="cliente")throw new Error("No hay sesin de cliente activa");const r=(await this.obtenerPerfilCliente()).idCliente,n=await fetch(`${ag}/clientes/${r}/estado`,{method:"PATCH",headers:this.getHeaders()});if(!n.ok){const i=await n.json();throw new Error(i.message||"Error al suspender cuenta")}const a=await n.json();return this.cerrarSesion(),a}catch(e){throw console.error("Error al suspender cuenta:",e),e}}async validarSesion(){try{return this.actualizarToken(),!this.token||!this.userEmail||this.userRole!=="cliente"?!1:(await this.obtenerPerfilCliente(),!0)}catch(e){return console.error("Sesin invlida:",e),!1}}cerrarSesion(){localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userData"),localStorage.removeItem("userName")}transformarClienteDesdeAPI(e){return{idCliente:e.idcliente,tipoDocumento:e.tipodocumento||"CC",numeroDocumento:e.numerodocumento||"",nombre:e.nombre||"",apellido:e.apellido||"",correo:e.correo||"",contrasena:"********",direccion:e.direccion||"",barrio:e.barrio||"",ciudad:e.ciudad||"",fechaNacimiento:e.fechanacimiento?this.formatearFechaDesdeAPI(e.fechanacimiento):"",celular:e.celular||"",estado:e.estado??!0,nombreCompleto:`${e.nombre||""} ${e.apellido||""}`.trim()}}transformarClienteParaAPI(e){const r={tipodocumento:e.tipoDocumento||"CC",numerodocumento:e.numeroDocumento||"",nombre:e.nombre||"",apellido:e.apellido||"",correo:e.correo||"",direccion:e.direccion||"",barrio:e.barrio||"",ciudad:e.ciudad||"",celular:e.celular||"",estado:e.estado??!0};if(e.contrasena&&e.contrasena!=="********"&&(r.hashcontrasena=e.contrasena),e.fechaNacimiento)try{const n=new Date(e.fechaNacimiento);r.fechanacimiento=n.toISOString()}catch(n){console.warn("Error al formatear fecha:",n),r.fechanacimiento=null}else r.fechanacimiento=null;return r}formatearFechaDesdeAPI(e){if(!e)return"";try{return new Date(e).toISOString().split("T")[0]}catch(r){return console.warn("Error al formatear fecha desde API:",r),""}}hayDatosEnLocalStorage(){try{return!!localStorage.getItem("userData")}catch{return!1}}obtenerDatosLocalStorage(){try{const e=localStorage.getItem("userData");if(e){const r=JSON.parse(e);return this.transformarClienteDesdeAPI(r)}return null}catch(e){return console.error("Error al leer localStorage:",e),null}}}const uf=new cU,u4="https://deliciasoft-backend-i6g9.onrender.com/api";class uU{generarCodigoSuspension(){return Math.floor(1e5+Math.random()*9e5).toString()}async enviarTokenSuspension(e){try{const r=this.generarCodigoSuspension();console.log("Enviando token de suspensin a:",e);try{const n=await fetch(`${u4}/auth/send-reset-token`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:e,userType:"cliente"})});if(n.ok){const a=await n.json();return sessionStorage.setItem(`suspension_token_${e}`,JSON.stringify({codigo:a.token||r,timestamp:Date.now(),expiresIn:5*60*1e3})),{success:!0,codigo:a.token||r,message:"Token de suspensin enviado a tu correo electrnico"}}else throw new Error("Endpoint no disponible")}catch(n){return console.warn("Usando auth service como fallback o modo desarrollo:",n),console.log("%c TOKEN DE SUSPENSIN (Modo Desarrollo)","background: #ff6b35; color: white; padding: 4px 8px; border-radius: 4px; font-weight: bold;"),console.log(`%c Correo: ${e}`,"color: #333; font-weight: bold;"),console.log(`%c Cdigo: ${r}`,"color: #ff6b35; font-weight: bold; font-size: 16px;"),console.log("%c Vlido por: 5 minutos","color: #666;"),sessionStorage.setItem(`suspension_token_${e}`,JSON.stringify({codigo:r,timestamp:Date.now(),expiresIn:5*60*1e3})),{success:!0,codigo:r,message:"Token de suspensin generado (modo desarrollo). Usa el cdigo: "+r,isDevelopment:!0}}}catch(r){return console.error("Error al enviar token de suspensin:",r),{success:!1,message:"Error al enviar el token de suspensin: "+r.message}}}async validarTokenSuspension(e,r){try{try{const c=await fetch(`${u4}/auth/verify-reset-token`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({email:e,token:r,userType:"cliente"})});if(c.ok){const u=await c.json();return{success:u.valid||u.success||!1,message:u.message||(u.valid||u.success?"Token vlido":"Token invlido")}}}catch{console.warn("Backend no disponible para validacin, usando modo desarrollo")}const n=sessionStorage.getItem(`suspension_token_${e}`);if(!n)return{success:!1,message:"No hay token activo para este correo"};const{codigo:a,timestamp:i,expiresIn:s}=JSON.parse(n);return Date.now()-i>s?(sessionStorage.removeItem(`suspension_token_${e}`),{success:!1,message:"El token ha expirado. Solicita uno nuevo."}):r===a?(sessionStorage.removeItem(`suspension_token_${e}`),{success:!0,message:"Token vlido"}):{success:!1,message:"El cdigo ingresado es incorrecto"}}catch(n){return console.error("Error al validar token:",n),{success:!1,message:"Error al validar el token: "+n.message}}}limpiarTokensExpirados(){try{const e=Object.keys(sessionStorage),r=Date.now();e.forEach(n=>{if(n.startsWith("suspension_token_"))try{const a=JSON.parse(sessionStorage.getItem(n));r-a.timestamp>a.expiresIn&&sessionStorage.removeItem(n)}catch{sessionStorage.removeItem(n)}})}catch(e){console.warn("Error al limpiar tokens expirados:",e)}}tieneTokenActivo(e){try{const r=sessionStorage.getItem(`suspension_token_${e}`);if(!r)return!1;const{timestamp:n,expiresIn:a}=JSON.parse(r);return Date.now()-n<a}catch{return!1}}obtenerTiempoRestanteToken(e){try{const r=sessionStorage.getItem(`suspension_token_${e}`);if(!r)return 0;const{timestamp:n,expiresIn:a}=JSON.parse(r),i=Date.now(),s=a-(i-n);return Math.max(0,Math.ceil(s/1e3))}catch{return 0}}}const qv=new uU,dU=()=>{const[t,e]=p.useState({}),r=p.useCallback((b,x,w=!1)=>w&&(!b||b.trim()==="")?`El ${x} es obligatorio`:b&&b.length>0&&b[0]===" "?`El ${x} no puede empezar con espacios`:b&&b.trim().length<2&&w?`El ${x} debe tener al menos 2 caracteres`:null,[]),n=p.useCallback(b=>{if(!b||b.trim()==="")return"El nmero de documento es obligatorio";const x=b.replace(/\D/g,"");return x.length<6?"El nmero de documento debe tener al menos 6 dgitos":x.length>10?"El nmero de documento no puede tener ms de 10 dgitos":null},[]),a=p.useCallback(b=>{if(!b||b.trim()==="")return null;const x=b.replace(/\D/g,"");return x.length<7?"El nmero de telfono debe tener al menos 7 dgitos":x.length>10?"El nmero de telfono no puede tener ms de 10 dgitos":null},[]),i=p.useCallback(b=>!b||b.trim()===""?"El correo electrnico es obligatorio":b[0]===" "?"El correo no puede empezar con espacios":/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(b)?null:"Por favor ingresa un correo electrnico vlido",[]),s=p.useCallback(b=>{if(!b)return null;const x=new Date(b),w=new Date,N=w.getFullYear()-x.getFullYear(),I=w.getMonth(),P=x.getMonth();let L=N;return(I<P||I===P&&w.getDate()<x.getDate())&&L--,L<13?"Debes tener al menos 13 aos para registrarte":L>120?"Por favor ingresa una fecha de nacimiento vlida":null},[]),l=p.useCallback(b=>!b||b.trim()===""?"La contrasea es obligatoria":b[0]===" "?"La contrasea no puede empezar con espacios":b.length<6?"La contrasea debe tener al menos 6 caracteres":null,[]),c=p.useCallback((b,x)=>!b||b.trim()===""?"Por favor confirma tu contrasea":b!==x?"Las contraseas no coinciden":null,[]),u=p.useCallback(b=>{const x={},w=r(b.nombre,"nombre",!0);w&&(x.nombre=w);const N=r(b.apellido,"apellido",!0);N&&(x.apellido=N);const I=i(b.correo);I&&(x.correo=I);const P=n(b.numeroDocumento);if(P&&(x.numeroDocumento=P),b.celular){const L=a(b.celular);L&&(x.celular=L)}if(b.fechaNacimiento){const L=s(b.fechaNacimiento);L&&(x.fechaNacimiento=L)}return e(x),Object.keys(x).length===0},[r,i,n,a,s]),f=p.useCallback(b=>{const x={},w=r(b.currentPassword,"contrasea actual",!0);w&&(x.currentPassword=w);const N=l(b.newPassword);N&&(x.newPassword=N);const I=c(b.confirmPassword,b.newPassword);return I&&(x.confirmPassword=I),e(x),Object.keys(x).length===0},[r,l,c]),m=p.useCallback(()=>{e({})},[]),v=p.useCallback(b=>{e(x=>{const w={...x};return delete w[b],w})},[]),h=p.useCallback((b,x,w={})=>{let N=null;switch(b){case"nombre":N=r(x,"nombre",!0);break;case"apellido":N=r(x,"apellido",!0);break;case"correo":N=i(x);break;case"numeroDocumento":N=n(x);break;case"celular":N=a(x);break;case"fechaNacimiento":N=s(x);break;case"currentPassword":N=r(x,"contrasea actual",!0);break;case"newPassword":N=l(x);break;case"confirmPassword":N=c(x,w.newPassword);break}return e(I=>({...I,[b]:N})),!N},[r,i,n,a,s,l,c]),E=p.useCallback(b=>b.replace(/\D/g,""),[]),y=p.useCallback(b=>b&&b.replace(/^\s+/,""),[]);return{errores:t,validarPerfilCompleto:u,validarCambioContrasena:f,validarCampo:h,limpiarErrores:m,limpiarError:v,formatearNumero:E,formatearTexto:y,validarTexto:r,validarEmail:i,validarNumeroDocumento:n,validarTelefono:a,validarFechaNacimiento:s,validarContrasena:l,validarConfirmacionContrasena:c}},fU=()=>{const[t,e]=p.useState(!0),[r,n]=p.useState(!1),[a,i]=p.useState(null),[s,l]=p.useState(null),[c,u]=p.useState(null),[f,m]=p.useState(""),[v,h]=p.useState(""),[E,y]=p.useState(!1),[b,x]=p.useState(!1),[w,N]=p.useState(0),I=po(),{errores:P,validarPerfilCompleto:L,validarCambioContrasena:R,validarCampo:O,limpiarErrores:A,limpiarError:T,formatearNumero:C,formatearTexto:_}=dU(),D=p.useCallback((oe,ee)=>{console.log(`${oe.toUpperCase()}: ${ee}`)},[]);p.useEffect(()=>{let oe;return E&&(a!=null&&a.correo)&&(oe=setInterval(()=>{const ee=qv.obtenerTiempoRestanteToken(a.correo);N(ee),ee<=0&&(y(!1),clearInterval(oe))},1e3)),()=>{oe&&clearInterval(oe)}},[E,a==null?void 0:a.correo]);const z=p.useCallback(()=>{const oe=Math.floor(w/60),ee=w%60;return`${oe}:${ee.toString().padStart(2,"0")}`},[w]),V=p.useCallback(async(oe=!0)=>{try{if(oe&&e(!0),u(null),A(),!await uf.validarSesion()){D("warning","Sesin expirada. Redirigiendo al login..."),setTimeout(()=>I("/iniciar-sesion"),2e3);return}const le=await uf.obtenerPerfilCliente();i(le),l({...le})}catch(ee){console.error("Error al cargar perfil:",ee),u(ee.message);const le=uf.obtenerDatosLocalStorage();le?(i(le),l({...le}),D("warning","Usando datos guardados. Algunos datos pueden no estar actualizados.")):(D("error","Error al cargar perfil. Redirigiendo al login..."),setTimeout(()=>I("/iniciar-sesion"),3e3))}finally{oe&&e(!1)}},[I,D,A]),J=p.useCallback((oe,ee)=>{let le=ee;switch(oe){case"nombre":case"apellido":case"barrio":case"ciudad":le=_(ee);break;case"numeroDocumento":case"celular":le=C(ee),oe==="numeroDocumento"&&le.length>10&&(le=le.substring(0,10)),oe==="celular"&&le.length>10&&(le=le.substring(0,10));break;case"correo":le=_(ee.toLowerCase());break}i(pe=>({...pe,[oe]:le})),O(oe,le,a)},[_,C,O,a]),ie=p.useCallback(oe=>{const ee=oe.direccion?oe.direccion.split(",")[0].trim():"";i(le=>({...le,direccion:ee,barrio:oe.barrio||"",ciudad:oe.ciudad||""})),["direccion","barrio","ciudad"].forEach(le=>{T(le)})},[T]),G=p.useCallback(async(oe=a)=>{try{if(n(!0),u(null),!L(oe))return D("warning","Por favor corrige los errores en el formulario"),{success:!1,error:"Datos invlidos"};const le=await uf.actualizarPerfil(oe);return i(le),l({...le}),A(),D("success","Perfil actualizado exitosamente!"),{success:!0}}catch(ee){return console.error("Error al actualizar perfil:",ee),u(ee.message),D("error",ee.message),{success:!1,error:ee.message}}finally{n(!1)}},[a,L,D,A]),te=p.useCallback(async oe=>{try{return n(!0),u(null),R(oe)?(await uf.cambiarContrasena(oe.currentPassword,oe.newPassword),A(),D("success","Contrasea actualizada correctamente!"),{success:!0}):(D("warning","Por favor corrige los errores en las contraseas"),{success:!1,error:"Datos de contrasea invlidos"})}catch(ee){return console.error("Error al cambiar contrasea:",ee),u(ee.message),D("error",ee.message),{success:!1,error:ee.message}}finally{n(!1)}},[R,D,A]),W=p.useCallback(async()=>{try{if(x(!0),h(""),!(a!=null&&a.correo))throw new Error("No se encontr el correo del usuario");const oe=await qv.enviarTokenSuspension(a.correo);if(oe.success){y(!0);const ee=qv.obtenerTiempoRestanteToken(a.correo);N(ee),oe.isDevelopment?D("info","Cdigo de suspensin generado. Revisa la consola del navegador."):D("success","Cdigo de suspensin enviado a tu correo electrnico.")}else throw new Error(oe.message||"Error al enviar el token")}catch(oe){console.error("Error al enviar token:",oe),h(oe.message),D("error",oe.message)}finally{x(!1)}},[a==null?void 0:a.correo,D]),B=p.useCallback(oe=>{const ee=oe.replace(/\D/g,"").substring(0,6);m(ee),v&&h("")},[v]),j=p.useCallback(async()=>{try{if(n(!0),u(null),!(a!=null&&a.correo))throw new Error("No se encontr el correo del usuario");if(!f||f.length!==6)return h("El cdigo debe tener 6 dgitos"),{success:!1,error:"Cdigo invlido"};const oe=await qv.validarTokenSuspension(a.correo,f);return oe.success?(await uf.suspenderCuenta(),m(""),h(""),y(!1),D("warning","Tu cuenta ha sido suspendida. Contacta al administrador para reactivarla."),setTimeout(()=>I("/iniciar-sesion"),3e3),{success:!0}):(h(oe.message),{success:!1,error:oe.message})}catch(oe){return console.error("Error al suspender cuenta:",oe),u(oe.message),h(oe.message),D("error",oe.message),{success:!1,error:oe.message}}finally{n(!1)}},[f,a==null?void 0:a.correo,D,I]),U=p.useCallback(()=>{m(""),h(""),y(!1),N(0)},[]),X=p.useCallback(()=>{const oe=(a==null?void 0:a.nombre)||"Usuario";uf.cerrarSesion(),D("info",`Hasta pronto ${oe}!`),setTimeout(()=>{I("/iniciar-sesion"),window.location.reload()},2e3)},[a,I,D]),Z=p.useCallback(()=>{V(!1)},[V]),me=p.useCallback(()=>{s&&(i({...s}),A())},[s,A]),de=p.useCallback(()=>!a||!s?!1:JSON.stringify(a)!==JSON.stringify(s),[a,s]);return p.useEffect(()=>{V()},[V]),{loading:t,updating:r,userData:a,originalData:s,error:c,errores:P,suspendToken:f,tokenError:v,tokenEnviado:E,enviandoToken:b,tiempoRestante:w,setUserData:i,handleInputChange:J,handlePlaceSelect:ie,actualizarPerfil:G,cambiarContrasena:te,suspenderCuenta:j,cerrarSesion:X,recargarPerfil:Z,cancelarEdicion:me,hayCambiosSinGuardar:de,setSuspendToken:m,handleTokenChange:B,setTokenError:h,enviarTokenSuspension:W,cancelarSuspension:U,formatearTiempoRestante:z,validarCampo:O,limpiarErrores:A,limpiarError:T,showAlert:D}};function mU(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(f){try{u(n.next(f))}catch(m){s(m)}}function c(f){try{u(n.throw(f))}catch(m){s(m)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(t,[])).next())})}function pU(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var q1,d4;function gU(){return d4||(d4=1,q1=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var s=i[a];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}),q1}var hU=gU(),vU=pU(hU);const f4="__googleMapsScriptId";var Bm;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Bm||(Bm={}));let bU=class Dm{constructor({apiKey:e,authReferrerPolicy:r,channel:n,client:a,id:i=f4,language:s,libraries:l=[],mapIds:c,nonce:u,region:f,retries:m=3,url:v="https://maps.googleapis.com/maps/api/js",version:h}){if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=e,this.authReferrerPolicy=r,this.channel=n,this.client=a,this.id=i||f4,this.language=s,this.libraries=l,this.mapIds=c,this.nonce=u,this.region=f,this.retries=m,this.url=v,this.version=h,Dm.instance){if(!vU(this.options,Dm.instance.options))throw new Error(`Loader must not be called again with different options. ${JSON.stringify(this.options)} !== ${JSON.stringify(Dm.instance.options)}`);return Dm.instance}Dm.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Bm.FAILURE:this.done?Bm.SUCCESS:this.loading?Bm.LOADING:Bm.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){let e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+=`&key=${this.apiKey}`),this.channel&&(e+=`&channel=${this.channel}`),this.client&&(e+=`&client=${this.client}`),this.libraries.length>0&&(e+=`&libraries=${this.libraries.join(",")}`),this.language&&(e+=`&language=${this.language}`),this.region&&(e+=`&region=${this.region}`),this.version&&(e+=`&v=${this.version}`),this.mapIds&&(e+=`&map_ids=${this.mapIds.join(",")}`),this.authReferrerPolicy&&(e+=`&auth_referrer_policy=${this.authReferrerPolicy}`),e}deleteScript(){const e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this.loadCallback(n=>{n?r(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,r;if(document.getElementById(this.id)){this.callback();return}const n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(i=>!n[i]&&delete n[i]),!((r=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||r===void 0)&&r.importLibrary||(i=>{let s,l,c,u="The Google Maps JavaScript API",f="google",m="importLibrary",v="__ib__",h=document,E=window;E=E[f]||(E[f]={});const y=E.maps||(E.maps={}),b=new Set,x=new URLSearchParams,w=()=>s||(s=new Promise((N,I)=>mU(this,void 0,void 0,function*(){var P;yield l=h.createElement("script"),l.id=this.id,x.set("libraries",[...b]+"");for(c in i)x.set(c.replace(/[A-Z]/g,L=>"_"+L[0].toLowerCase()),i[c]);x.set("callback",f+".maps."+v),l.src=this.url+"?"+x,y[v]=N,l.onerror=()=>s=I(Error(u+" could not load.")),l.nonce=this.nonce||((P=h.querySelector("script[nonce]"))===null||P===void 0?void 0:P.nonce)||"",h.head.append(l)})));y[m]?console.warn(u+" only loads once. Ignoring:",i):y[m]=(N,...I)=>b.add(N)&&w().then(()=>y[m](N,...I))})(n);const a=this.libraries.map(i=>this.importLibrary(i));a.length||a.push(this.importLibrary("core")),Promise.all(a).then(()=>this.callback(),i=>{const s=new ErrorEvent("error",{error:i});this.loadErrorCallback(s)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){const r=this.errors.length*Math.pow(2,this.errors.length);console.error(`Failed to load Google Maps script, retrying in ${r} ms.`),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}};const $7=({value:t,onChange:e,onPlaceSelect:r,placeholder:n="Ingrese su direccin",error:a="",disabled:i=!1,style:s={}})=>{const l=p.useRef(null),c=p.useRef(null),[u,f]=p.useState(!1),[m,v]=p.useState([]),[h,E]=p.useState(!1),y=new bU({apiKey:"AIzaSyChcaitO44DwrtStITwPnMCNLI89JoIA4M",version:"weekly",libraries:["places"]});p.useEffect(()=>{y.load().then(()=>{f(!0)}).catch(N=>{console.error("Error loading Google Maps API:",N)})},[]),p.useEffect(()=>{if(u&&l.current&&!i){const N=new window.google.maps.places.Autocomplete(l.current,{types:["address"],componentRestrictions:{country:"co"},fields:["address_components","formatted_address","geometry","name"]});return c.current=N,N.addListener("place_changed",()=>{const I=N.getPlace();if(I.formatted_address){const P=b(I),L=I.formatted_address.split(",")[0].trim();e(L),r&&r({...P,direccion:L}),E(!1)}}),()=>{c.current&&window.google.maps.event.clearInstanceListeners(c.current)}}},[u,i,e,r]);const b=N=>{var A,T,C,_;const I=N.address_components||[];let P="",L="",R="";I.forEach(D=>{const z=D.types;(z.includes("sublocality_level_1")||z.includes("sublocality")||z.includes("neighborhood"))&&(P=D.long_name),(z.includes("locality")||z.includes("administrative_area_level_2")&&!L)&&(L=D.long_name),z.includes("administrative_area_level_1")&&(R=D.long_name)});const O=N.formatted_address?N.formatted_address.split(",")[0].trim():"";return{...N,address_components:I,direccion:O,direccionCompleta:N.formatted_address,barrio:P,ciudad:L,departamento:R,coordenadas:{lat:(T=(A=N.geometry)==null?void 0:A.location)==null?void 0:T.lat(),lng:(_=(C=N.geometry)==null?void 0:C.location)==null?void 0:_.lng()}}},x=N=>{const I=N.target.value;e(I),u&&I.length>2?new window.google.maps.places.AutocompleteService().getPlacePredictions({input:I,componentRestrictions:{country:"co"},types:["address"]},(L,R)=>{R===window.google.maps.places.PlacesServiceStatus.OK&&L?(v(L.slice(0,5)),E(!0)):(v([]),E(!1))}):(E(!1),v([]))},w=N=>{new window.google.maps.places.PlacesService(document.createElement("div")).getDetails({placeId:N.place_id,fields:["address_components","formatted_address","geometry","name"]},(P,L)=>{if(L===window.google.maps.places.PlacesServiceStatus.OK&&P){const R=b(P);e(R.direccion),r&&r(R),E(!1)}})};return o.createElement("div",{style:{position:"relative",width:"100%"}},o.createElement("input",{ref:l,type:"text",value:t,onChange:x,onFocus:()=>t.length>2&&m.length>0&&E(!0),onBlur:()=>setTimeout(()=>E(!1),200),placeholder:u?n:"Cargando Google Maps...",disabled:i||!u,className:`modal-input ${a?"error":""}`,style:s}),h&&m.length>0&&o.createElement("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"white",border:"1px solid #ccc",borderTop:"none",borderRadius:"0 0 4px 4px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,boxShadow:"0 2px 4px rgba(0,0,0,0.1)"}},m.map((N,I)=>o.createElement("div",{key:N.place_id,onClick:()=>w(N),style:{padding:"8px 12px",cursor:"pointer",borderBottom:I<m.length-1?"1px solid #eee":"none",fontSize:"12px"},onMouseEnter:P=>P.target.style.backgroundColor="#f5f5f5",onMouseLeave:P=>P.target.style.backgroundColor="white"},o.createElement("div",{style:{fontWeight:"bold",marginBottom:"2px"}},N.structured_formatting.main_text),o.createElement("div",{style:{color:"#666",fontSize:"11px"}},N.structured_formatting.secondary_text)))),a&&o.createElement("small",{style:{color:"red",fontSize:"10px",display:"block",marginTop:"2px"}},a),!u&&o.createElement("small",{style:{color:"#666",fontSize:"10px",display:"block",marginTop:"2px"}},"Cargando Google Maps..."))},yU=()=>{const t=po(),[e,r]=p.useState("profile"),[n,a]=p.useState(!1),[i,s]=p.useState(!1),[l,c]=p.useState(!1),[u,f]=p.useState(!1),[m,v]=p.useState(!1),[h,E]=p.useState(!1),[y,b]=p.useState({show:!1,type:"",message:""}),[x,w]=p.useState(!1),{loading:N,updating:I,userData:P,errores:L,suspendToken:R,tokenError:O,tokenEnviado:A,enviandoToken:T,tiempoRestante:C,handleInputChange:_,handlePlaceSelect:D,actualizarPerfil:z,cambiarContrasena:V,suspenderCuenta:J,cerrarSesion:ie,cancelarEdicion:G,hayCambiosSinGuardar:te,handleTokenChange:W,enviarTokenSuspension:B,cancelarSuspension:j,formatearTiempoRestante:U,limpiarError:X}=fU(),[Z,me]=p.useState({currentPassword:"",newPassword:"",confirmPassword:""}),de=(Ae,ke)=>{b({show:!0,type:Ae,message:ke}),setTimeout(()=>{b({show:!1,type:"",message:""})},4e3)},oe=async()=>{const Ae=await z();Ae.success?(a(!1),de("success","Perfil actualizado exitosamente!")):de("error",Ae.error||"Error al actualizar el perfil")},ee=Ae=>{const{name:ke,value:Be}=Ae.target;me(Xe=>({...Xe,[ke]:Be}))},le=async()=>{const Ae=await V(Z);Ae.success?(me({currentPassword:"",newPassword:"",confirmPassword:""}),f(!1),v(!1),E(!1),de("success","Contrasea actualizada correctamente!")):de("error",Ae.error||"Error al cambiar la contrasea")},pe=async()=>{const Ae=await J();Ae.success?(c(!1),de("warning","Tu cuenta ha sido suspendida.")):de("error",Ae.error||"Error al suspender la cuenta")},ce=()=>{s(!1),ie(),de("info","Hasta pronto!")},_e=()=>{te()?window.confirm("Tienes cambios sin guardar. Ests seguro de que quieres salir?")&&t(-1):t(-1)},He=()=>{G(),a(!1)},Re=(Ae,ke)=>{if(Ae.target===Ae.currentTarget)switch(ke){case"suspend":c(!1);break;case"logout":s(!1);break}};if(N)return o.createElement("div",{className:"profile-container loading-container"},o.createElement("div",{className:"loading-content"},o.createElement(Sm,{className:"loading-spinner",size:48}),o.createElement("h2",null,"Cargando perfil..."),o.createElement("p",null,"Obteniendo tus datos desde el servidor")));const be=()=>o.createElement("div",{className:"content-body"},o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"form-section"},o.createElement("h3",{className:"section-title"},o.createElement(U1,{className:"section-icon"}),"Informacin Personal"),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Tipo de Documento"),o.createElement("select",{name:"tipoDocumento",value:(P==null?void 0:P.tipoDocumento)||"CC",onChange:Ae=>_("tipoDocumento",Ae.target.value),disabled:!n,className:"form-select"},o.createElement("option",{value:"CC"},"Cdula de Ciudadana"),o.createElement("option",{value:"CE"},"Cdula de Extranjera"),o.createElement("option",{value:"PA"},"Pasaporte"))),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Nmero de Documento *"),o.createElement("input",{type:"text",value:(P==null?void 0:P.numeroDocumento)||"",onChange:Ae=>_("numeroDocumento",Ae.target.value),onFocus:()=>X("numeroDocumento"),disabled:!n,className:`form-input ${L.numeroDocumento?"error":""}`,placeholder:"Mximo 10 dgitos",maxLength:"10"}),L.numeroDocumento&&o.createElement("small",{className:"error-text"},L.numeroDocumento)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Nombres *"),o.createElement("input",{type:"text",value:(P==null?void 0:P.nombre)||"",onChange:Ae=>_("nombre",Ae.target.value),onFocus:()=>X("nombre"),disabled:!n,className:`form-input ${L.nombre?"error":""}`,placeholder:"Ingresa tu nombre"}),L.nombre&&o.createElement("small",{className:"error-text"},L.nombre)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Apellidos *"),o.createElement("input",{type:"text",value:(P==null?void 0:P.apellido)||"",onChange:Ae=>_("apellido",Ae.target.value),onFocus:()=>X("apellido"),disabled:!n,className:`form-input ${L.apellido?"error":""}`,placeholder:"Ingresa tu apellido"}),L.apellido&&o.createElement("small",{className:"error-text"},L.apellido)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Fecha de Nacimiento"),o.createElement("div",{className:"input-with-icon"},o.createElement(Mz,{className:"input-icon"}),o.createElement("input",{type:"date",value:(P==null?void 0:P.fechaNacimiento)||"",onChange:Ae=>_("fechaNacimiento",Ae.target.value),onFocus:()=>X("fechaNacimiento"),disabled:!n,className:`form-input ${L.fechaNacimiento?"error":""}`,max:new Date(new Date().setFullYear(new Date().getFullYear()-13)).toISOString().split("T")[0]})),L.fechaNacimiento&&o.createElement("small",{className:"error-text"},L.fechaNacimiento),o.createElement("small",{className:"help-text"},"Debes tener al menos 13 aos"))),o.createElement("div",{className:"form-section"},o.createElement("h3",{className:"section-title"},o.createElement(I5,{className:"section-icon"}),"Informacin de Contacto"),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Correo Electrnico *"),o.createElement("div",{className:"input-with-icon"},o.createElement(jg,{className:"input-icon"}),o.createElement("input",{type:"email",value:(P==null?void 0:P.correo)||"",onChange:Ae=>_("correo",Ae.target.value),onFocus:()=>X("correo"),disabled:!n,className:`form-input ${L.correo?"error":""}`,placeholder:"tucorreo@ejemplo.com"})),L.correo&&o.createElement("small",{className:"error-text"},L.correo)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Nmero de Celular"),o.createElement("div",{className:"input-with-icon"},o.createElement(I5,{className:"input-icon"}),o.createElement("input",{type:"tel",value:(P==null?void 0:P.celular)||"",onChange:Ae=>_("celular",Ae.target.value),onFocus:()=>X("celular"),disabled:!n,className:`form-input ${L.celular?"error":""}`,placeholder:"Mximo 10 dgitos",maxLength:"10"})),L.celular&&o.createElement("small",{className:"error-text"},L.celular)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Direccin"),o.createElement("div",{className:"input-with-icon"},o.createElement(Nb,{className:"input-icon"}),n?o.createElement($7,{value:(P==null?void 0:P.direccion)||"",onChange:Ae=>_("direccion",Ae),onPlaceSelect:D,placeholder:"Busca tu direccin",error:L.direccion,disabled:!n}):o.createElement("input",{type:"text",value:(P==null?void 0:P.direccion)||"",disabled:!0,className:"form-input",placeholder:"Calle 123 #45-67"})),L.direccion&&o.createElement("small",{className:"error-text"},L.direccion)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Barrio"),o.createElement("input",{type:"text",value:(P==null?void 0:P.barrio)||"",onChange:Ae=>_("barrio",Ae.target.value),disabled:!n,className:"form-input",placeholder:"Se llena automticamente con la direccin",readOnly:n}),o.createElement("small",{className:"help-text"},"Se completa automticamente al seleccionar la direccin")),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Ciudad"),o.createElement("input",{type:"text",value:(P==null?void 0:P.ciudad)||"",onChange:Ae=>_("ciudad",Ae.target.value),disabled:!n,className:"form-input",placeholder:"Se llena automticamente con la direccin",readOnly:n}),o.createElement("small",{className:"help-text"},"Se completa automticamente al seleccionar la direccin"))))),gt=()=>o.createElement("div",{className:"content-body"},o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"form-section"},o.createElement("h3",{className:"section-title"},o.createElement(Dg,{className:"section-icon"}),"Cambiar Contrasea"),u?o.createElement("div",{className:"password-change-form"},o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Contrasea Actual *"),o.createElement("div",{className:"password-group"},o.createElement("input",{type:m?"text":"password",name:"currentPassword",value:Z.currentPassword,onChange:ee,className:`form-input ${L.currentPassword?"error":""}`,placeholder:"Ingresa tu contrasea actual",disabled:I}),o.createElement("button",{type:"button",className:"password-toggle",onClick:()=>v(!m),disabled:I},m?o.createElement(nh,{size:20}):o.createElement(ah,{size:20}))),L.currentPassword&&o.createElement("small",{className:"error-text"},L.currentPassword)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Nueva Contrasea *"),o.createElement("div",{className:"password-group"},o.createElement("input",{type:h?"text":"password",name:"newPassword",value:Z.newPassword,onChange:ee,className:`form-input ${L.newPassword?"error":""}`,placeholder:"Mnimo 6 caracteres",disabled:I}),o.createElement("button",{type:"button",className:"password-toggle",onClick:()=>E(!h),disabled:I},h?o.createElement(nh,{size:20}):o.createElement(ah,{size:20}))),L.newPassword&&o.createElement("small",{className:"error-text"},L.newPassword)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Confirmar Nueva Contrasea *"),o.createElement("input",{type:"password",name:"confirmPassword",value:Z.confirmPassword,onChange:ee,className:`form-input ${L.confirmPassword?"error":""}`,placeholder:"Confirma tu nueva contrasea",disabled:I}),L.confirmPassword&&o.createElement("small",{className:"error-text"},L.confirmPassword)),o.createElement("div",{className:"button-group"},o.createElement("button",{onClick:()=>{f(!1),me({currentPassword:"",newPassword:"",confirmPassword:""}),v(!1),E(!1)},className:"modern-button secondary-button",disabled:I},o.createElement(lu,{size:18}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:le,className:"modern-button success-button",disabled:I},I?o.createElement(Sm,{className:"spinner",size:18}):o.createElement(n4,{size:18}),o.createElement("span",null,"Actualizar Contrasea")))):o.createElement("div",null,o.createElement("p",{className:"security-text"},"Mantn tu cuenta segura actualizando tu contrasea regularmente."),o.createElement("button",{onClick:()=>f(!0),className:"modern-button primary-button",disabled:I},o.createElement(Dg,{size:18}),o.createElement("span",null,"Cambiar Contrasea")))),o.createElement("div",{className:"form-section"},o.createElement("h3",{className:"section-title"},o.createElement(Fg,{className:"section-icon"}),"Suspender Cuenta"),x?o.createElement(o.Fragment,null,A?o.createElement(o.Fragment,null,o.createElement("p",{className:"security-text"},"Se ha enviado un cdigo de verificacin de 6 dgitos a tu correo: ",o.createElement("strong",null,P==null?void 0:P.correo)),o.createElement("div",{className:"form-group"},o.createElement("label",{className:"form-label"},"Cdigo de Verificacin"),o.createElement("div",{className:"input-with-icon"},o.createElement(Yz,{className:"input-icon"}),o.createElement("input",{type:"text",value:R,onChange:Ae=>W(Ae.target.value),placeholder:"123456",className:`form-input ${O?"error":""}`,disabled:I,maxLength:"6",style:{textAlign:"center",fontSize:"18px",letterSpacing:"4px"}})),O&&o.createElement("p",{className:"error-text"},O),C>0&&o.createElement("div",{className:"token-timer"},o.createElement("small",{className:"help-text"},"Cdigo vlido por: ",o.createElement("strong",null,U())))),o.createElement("div",{className:"token-actions"},o.createElement("p",{className:"security-text"},"No recibiste el cdigo? Revisa tu carpeta de spam o solicita uno nuevo cuando expire.")),o.createElement("div",{className:"button-group"},o.createElement("button",{onClick:()=>{w(!1),j()},className:"modern-button secondary-button",disabled:I},o.createElement(lu,{size:18}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:pe,className:"modern-button warning-button",disabled:I||!R.trim()||R.length!==6},I?o.createElement(Sm,{className:"spinner",size:18}):o.createElement(B1,{size:18}),o.createElement("span",null,"Confirmar Suspensin"))),C<=0&&o.createElement("div",{className:"token-expired"},o.createElement("p",{className:"error-text"},"El cdigo ha expirado."),o.createElement("button",{onClick:B,className:"modern-button primary-button",disabled:T},T?o.createElement(Sm,{className:"spinner",size:18}):o.createElement(jg,{size:18}),o.createElement("span",null,"Enviar Nuevo Cdigo")))):o.createElement(o.Fragment,null,o.createElement("p",{className:"security-text"},"Para suspender tu cuenta, enviaremos un cdigo de verificacin de 6 dgitos a tu correo electrnico: ",o.createElement("strong",null,P==null?void 0:P.correo)),o.createElement("div",{className:"button-group"},o.createElement("button",{onClick:()=>{w(!1),j()},className:"modern-button secondary-button",disabled:T},o.createElement(lu,{size:18}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:B,className:"modern-button warning-button",disabled:T},T?o.createElement(Sm,{className:"spinner",size:18}):o.createElement(jg,{size:18}),o.createElement("span",null,"Enviar Cdigo"))))):o.createElement(o.Fragment,null,o.createElement("p",{className:"security-text"},"Desactiva temporalmente tu cuenta. Tu informacin se mantendr segura y podrs reactivarla cuando desees contactando al administrador."),o.createElement("div",{className:"suspend-info"},o.createElement("p",{className:"suspend-warning"},o.createElement("strong",null,"Qu sucede cuando suspendes tu cuenta?")),o.createElement("ul",{className:"suspend-list"},o.createElement("li",null,' Tu cuenta ser marcada como "Desactivada"'),o.createElement("li",null," No podrs iniciar sesin hasta reactivarla"),o.createElement("li",null," Tus datos personales permanecen seguros"),o.createElement("li",null," Puedes reactivarla contactando al soporte"))),o.createElement("button",{onClick:()=>w(!0),className:"modern-button warning-button",disabled:I},o.createElement(B1,{size:18}),o.createElement("span",null,"Suspender Cuenta"))))));return o.createElement("div",{className:"profile-container"},y.show&&o.createElement("div",{className:`alert alert-${y.type}`},o.createElement("div",{className:"alert-content"},y.type==="success"&&o.createElement(jz,{size:20}),y.type==="warning"&&o.createElement(B1,{size:20}),y.type==="info"&&o.createElement(Fg,{size:20}),y.type==="error"&&o.createElement(lu,{size:20}),o.createElement("span",null,y.message))),o.createElement("button",{onClick:_e,className:"back-button-corner"},o.createElement(_z,{size:20}),o.createElement("span",null,"Regresar")),o.createElement("div",{className:"profile-layout"},o.createElement("aside",{className:"profile-sidebar"},o.createElement("div",{className:"profile-avatar"},o.createElement("div",{className:"avatar-circle"},o.createElement(U1,{size:48})),o.createElement("h2",{className:"profile-name"},P==null?void 0:P.nombre," ",P==null?void 0:P.apellido),o.createElement("p",{className:"profile-email"},P==null?void 0:P.correo),!(P!=null&&P.estado)&&o.createElement("span",{className:"status-badge suspended"},"Cuenta Suspendida")),o.createElement("nav",null,o.createElement("ul",{className:"profile-nav"},o.createElement("li",{className:"nav-item"},o.createElement("button",{className:`nav-button ${e==="profile"?"active":""}`,onClick:()=>r("profile")},o.createElement(U1,{className:"nav-icon",size:20}),"Mi Perfil")),o.createElement("li",{className:"nav-item"},o.createElement("button",{className:`nav-button ${e==="security"?"active":""}`,onClick:()=>r("security")},o.createElement(Fg,{className:"nav-icon",size:20}),"Seguridad")))),o.createElement("div",{className:"logout-section"},o.createElement("button",{onClick:()=>s(!0),className:"modern-button logout-button",disabled:I},o.createElement(z1,{size:20}),o.createElement("span",null,"Cerrar Sesin")))),o.createElement("main",{className:"profile-main"},o.createElement("header",{className:"content-header"},o.createElement("div",{className:"header-content"},o.createElement("h1",{className:"header-title"},e==="profile"?"Mi Informacin Personal":"Configuracin de Seguridad"),o.createElement("p",{className:"header-subtitle"},e==="profile"?"Mantn tu informacin actualizada para un mejor servicio":"Protege tu cuenta con configuraciones de seguridad")),e==="profile"&&o.createElement("div",{className:"header-actions"},n?o.createElement("div",{className:"edit-actions"},o.createElement("button",{onClick:He,className:"modern-button secondary-button",disabled:I},o.createElement(lu,{size:18}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:oe,className:"modern-button success-button",disabled:I},I?o.createElement(Sm,{className:"spinner",size:18}):o.createElement(n4,{size:18}),o.createElement("span",null,"Guardar"))):o.createElement("button",{onClick:()=>a(!0),className:"modern-button primary-button-header",disabled:I},o.createElement(fB,{size:18}),o.createElement("span",null,"Editar Perfil")))),e==="profile"?be():gt())),i&&o.createElement("div",{className:"modal-overlay",onClick:Ae=>Re(Ae,"logout")},o.createElement("div",{className:"modern-modal",onClick:Ae=>Ae.stopPropagation()},o.createElement("div",{className:"modal-header"},o.createElement(z1,{size:48,className:"modal-icon logout-icon"}),o.createElement("h3",{className:"modal-title"},"Cerrar Sesin?")),o.createElement("p",{className:"modal-text"},"Ests seguro que deseas cerrar sesin? Tendrs que iniciar sesin nuevamente para acceder a tu perfil y realizar pedidos."),o.createElement("div",{className:"modal-buttons"},o.createElement("button",{onClick:()=>s(!1),className:"modern-button secondary-button",disabled:I},o.createElement(lu,{size:18}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:ce,className:"modern-button danger-button",disabled:I},o.createElement(z1,{size:18}),o.createElement("span",null,"Cerrar Sesin"))))))};var EU={};function xU(t){if(Array.isArray(t))return t}function wU(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function _5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function z7(t,e){if(t){if(typeof t=="string")return _5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_5(t,e):void 0}}function SU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ab(t,e){return xU(t)||wU(t,e)||z7(t,e)||SU()}function Qa(t){"@babel/helpers - typeof";return Qa=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qa(t)}function sr(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e){for(var n=[],a=0;a<e.length;a++){var i=e[a];if(i){var s=Qa(i);if(s==="string"||s==="number")n.push(i);else if(s==="object"){var l=Array.isArray(i)?i:Object.entries(i).map(function(c){var u=Ab(c,2),f=u[0],m=u[1];return m?f:null});n=l.length?n.concat(l.filter(function(c){return!!c})):n}}}return n.join(" ").trim()}}function CU(t){if(Array.isArray(t))return _5(t)}function PU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function NU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $b(t){return CU(t)||PU(t)||z7(t)||NU()}function s3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kU(t,e){if(Qa(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qa(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function B7(t){var e=kU(t,"string");return Qa(e)=="symbol"?e:e+""}function AU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,B7(n.key),n)}}function l3(t,e,r){return r&&AU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ey(t,e,r){return(e=B7(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function V1(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=OU(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){l=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function OU(t,e){if(t){if(typeof t=="string")return m4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?m4(t,e):void 0}}function m4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var ze=function(){function t(){s3(this,t)}return l3(t,null,[{key:"innerWidth",value:function(r){if(r){var n=r.offsetWidth,a=getComputedStyle(r);return n=n+(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)),n}return 0}},{key:"width",value:function(r){if(r){var n=r.offsetWidth,a=getComputedStyle(r);return n=n-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)),n}return 0}},{key:"getBrowserLanguage",value:function(){return navigator.userLanguage||navigator.languages&&navigator.languages.length&&navigator.languages[0]||navigator.language||navigator.browserLanguage||navigator.systemLanguage||"en"}},{key:"getWindowScrollTop",value:function(){var r=document.documentElement;return(window.pageYOffset||r.scrollTop)-(r.clientTop||0)}},{key:"getWindowScrollLeft",value:function(){var r=document.documentElement;return(window.pageXOffset||r.scrollLeft)-(r.clientLeft||0)}},{key:"getOuterWidth",value:function(r,n){if(r){var a=r.getBoundingClientRect().width||r.offsetWidth;if(n){var i=getComputedStyle(r);a=a+(parseFloat(i.marginLeft)+parseFloat(i.marginRight))}return a}return 0}},{key:"getOuterHeight",value:function(r,n){if(r){var a=r.getBoundingClientRect().height||r.offsetHeight;if(n){var i=getComputedStyle(r);a=a+(parseFloat(i.marginTop)+parseFloat(i.marginBottom))}return a}return 0}},{key:"getClientHeight",value:function(r,n){if(r){var a=r.clientHeight;if(n){var i=getComputedStyle(r);a=a+(parseFloat(i.marginTop)+parseFloat(i.marginBottom))}return a}return 0}},{key:"getClientWidth",value:function(r,n){if(r){var a=r.clientWidth;if(n){var i=getComputedStyle(r);a=a+(parseFloat(i.marginLeft)+parseFloat(i.marginRight))}return a}return 0}},{key:"getViewport",value:function(){var r=window,n=document,a=n.documentElement,i=n.getElementsByTagName("body")[0],s=r.innerWidth||a.clientWidth||i.clientWidth,l=r.innerHeight||a.clientHeight||i.clientHeight;return{width:s,height:l}}},{key:"getOffset",value:function(r){if(r){var n=r.getBoundingClientRect();return{top:n.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:n.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}return{top:"auto",left:"auto"}}},{key:"index",value:function(r){if(r)for(var n=r.parentNode.childNodes,a=0,i=0;i<n.length;i++){if(n[i]===r)return a;n[i].nodeType===1&&a++}return-1}},{key:"addMultipleClasses",value:function(r,n){if(r&&n)if(r.classList)for(var a=n.split(" "),i=0;i<a.length;i++)r.classList.add(a[i]);else for(var s=n.split(" "),l=0;l<s.length;l++)r.className=r.className+(" "+s[l])}},{key:"removeMultipleClasses",value:function(r,n){if(r&&n)if(r.classList)for(var a=n.split(" "),i=0;i<a.length;i++)r.classList.remove(a[i]);else for(var s=n.split(" "),l=0;l<s.length;l++)r.className=r.className.replace(new RegExp("(^|\\b)"+s[l].split(" ").join("|")+"(\\b|$)","gi")," ")}},{key:"addClass",value:function(r,n){r&&n&&(r.classList?r.classList.add(n):r.className=r.className+(" "+n))}},{key:"removeClass",value:function(r,n){r&&n&&(r.classList?r.classList.remove(n):r.className=r.className.replace(new RegExp("(^|\\b)"+n.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(r,n){return r?r.classList?r.classList.contains(n):new RegExp("(^| )"+n+"( |$)","gi").test(r.className):!1}},{key:"addStyles",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};r&&Object.entries(n).forEach(function(a){var i=Ab(a,2),s=i[0],l=i[1];return r.style[s]=l})}},{key:"find",value:function(r,n){return r?Array.from(r.querySelectorAll(n)):[]}},{key:"findSingle",value:function(r,n){return r?r.querySelector(n):null}},{key:"setAttributes",value:function(r){var n=this,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(r){var i=function(l,c){var u,f,m=r!=null&&(u=r.$attrs)!==null&&u!==void 0&&u[l]?[r==null||(f=r.$attrs)===null||f===void 0?void 0:f[l]]:[];return[c].flat().reduce(function(v,h){if(h!=null){var E=Qa(h);if(E==="string"||E==="number")v.push(h);else if(E==="object"){var y=Array.isArray(h)?i(l,h):Object.entries(h).map(function(b){var x=Ab(b,2),w=x[0],N=x[1];return l==="style"&&(N||N===0)?"".concat(w.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),":").concat(N):N?w:void 0});v=y.length?v.concat(y.filter(function(b){return!!b})):v}}return v},m)};Object.entries(a).forEach(function(s){var l=Ab(s,2),c=l[0],u=l[1];if(u!=null){var f=c.match(/^on(.+)/);f?r.addEventListener(f[1].toLowerCase(),u):c==="p-bind"?n.setAttributes(r,u):(u=c==="class"?$b(new Set(i("class",u))).join(" ").trim():c==="style"?i("style",u).join(";").trim():u,(r.$attrs=r.$attrs||{})&&(r.$attrs[c]=u),r.setAttribute(c,u))}})}}},{key:"getAttribute",value:function(r,n){if(r){var a=r.getAttribute(n);return isNaN(a)?a==="true"||a==="false"?a==="true":a:+a}}},{key:"isAttributeEquals",value:function(r,n,a){return r?this.getAttribute(r,n)===a:!1}},{key:"isAttributeNotEquals",value:function(r,n,a){return!this.isAttributeEquals(r,n,a)}},{key:"getHeight",value:function(r){if(r){var n=r.offsetHeight,a=getComputedStyle(r);return n=n-(parseFloat(a.paddingTop)+parseFloat(a.paddingBottom)+parseFloat(a.borderTopWidth)+parseFloat(a.borderBottomWidth)),n}return 0}},{key:"getWidth",value:function(r){if(r){var n=r.offsetWidth,a=getComputedStyle(r);return n=n-(parseFloat(a.paddingLeft)+parseFloat(a.paddingRight)+parseFloat(a.borderLeftWidth)+parseFloat(a.borderRightWidth)),n}return 0}},{key:"alignOverlay",value:function(r,n,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;r&&n&&(a==="self"?this.relativePosition(r,n):(i&&(r.style.minWidth=t.getOuterWidth(n)+"px"),this.absolutePosition(r,n)))}},{key:"absolutePosition",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left";if(r&&n){var i=r.offsetParent?{width:r.offsetWidth,height:r.offsetHeight}:this.getHiddenElementDimensions(r),s=i.height,l=i.width,c=n.offsetHeight,u=n.offsetWidth,f=n.getBoundingClientRect(),m=this.getWindowScrollTop(),v=this.getWindowScrollLeft(),h=this.getViewport(),E,y;f.top+c+s>h.height?(E=f.top+m-s,E<0&&(E=m),r.style.transformOrigin="bottom"):(E=c+f.top+m,r.style.transformOrigin="top");var b=f.left;a==="left"?b+l>h.width?y=Math.max(0,b+v+u-l):y=b+v:b+u-l<0?y=v:y=b+u-l+v,r.style.top=E+"px",r.style.left=y+"px"}}},{key:"relativePosition",value:function(r,n){if(r&&n){var a=r.offsetParent?{width:r.offsetWidth,height:r.offsetHeight}:this.getHiddenElementDimensions(r),i=n.offsetHeight,s=n.getBoundingClientRect(),l=this.getViewport(),c,u;s.top+i+a.height>l.height?(c=-1*a.height,s.top+c<0&&(c=-1*s.top),r.style.transformOrigin="bottom"):(c=i,r.style.transformOrigin="top"),a.width>l.width?u=s.left*-1:s.left+a.width>l.width?u=(s.left+a.width-l.width)*-1:u=0,r.style.top=c+"px",r.style.left=u+"px"}}},{key:"flipfitCollision",value:function(r,n){var a=this,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"left top",s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"left bottom",l=arguments.length>4?arguments[4]:void 0;if(r&&n){var c=n.getBoundingClientRect(),u=this.getViewport(),f=i.split(" "),m=s.split(" "),v=function(x,w){return w?+x.substring(x.search(/(\+|-)/g))||0:x.substring(0,x.search(/(\+|-)/g))||x},h={my:{x:v(f[0]),y:v(f[1]||f[0]),offsetX:v(f[0],!0),offsetY:v(f[1]||f[0],!0)},at:{x:v(m[0]),y:v(m[1]||m[0]),offsetX:v(m[0],!0),offsetY:v(m[1]||m[0],!0)}},E={left:function(){var x=h.my.offsetX+h.at.offsetX;return x+c.left+(h.my.x==="left"?0:-1*(h.my.x==="center"?a.getOuterWidth(r)/2:a.getOuterWidth(r)))},top:function(){var x=h.my.offsetY+h.at.offsetY;return x+c.top+(h.my.y==="top"?0:-1*(h.my.y==="center"?a.getOuterHeight(r)/2:a.getOuterHeight(r)))}},y={count:{x:0,y:0},left:function(){var x=E.left(),w=t.getWindowScrollLeft();r.style.left=x+w+"px",this.count.x===2?(r.style.left=w+"px",this.count.x=0):x<0&&(this.count.x++,h.my.x="left",h.at.x="right",h.my.offsetX*=-1,h.at.offsetX*=-1,this.right())},right:function(){var x=E.left()+t.getOuterWidth(n),w=t.getWindowScrollLeft();r.style.left=x+w+"px",this.count.x===2?(r.style.left=u.width-t.getOuterWidth(r)+w+"px",this.count.x=0):x+t.getOuterWidth(r)>u.width&&(this.count.x++,h.my.x="right",h.at.x="left",h.my.offsetX*=-1,h.at.offsetX*=-1,this.left())},top:function(){var x=E.top(),w=t.getWindowScrollTop();r.style.top=x+w+"px",this.count.y===2?(r.style.left=w+"px",this.count.y=0):x<0&&(this.count.y++,h.my.y="top",h.at.y="bottom",h.my.offsetY*=-1,h.at.offsetY*=-1,this.bottom())},bottom:function(){var x=E.top()+t.getOuterHeight(n),w=t.getWindowScrollTop();r.style.top=x+w+"px",this.count.y===2?(r.style.left=u.height-t.getOuterHeight(r)+w+"px",this.count.y=0):x+t.getOuterHeight(n)>u.height&&(this.count.y++,h.my.y="bottom",h.at.y="top",h.my.offsetY*=-1,h.at.offsetY*=-1,this.top())},center:function(x){if(x==="y"){var w=E.top()+t.getOuterHeight(n)/2;r.style.top=w+t.getWindowScrollTop()+"px",w<0?this.bottom():w+t.getOuterHeight(n)>u.height&&this.top()}else{var N=E.left()+t.getOuterWidth(n)/2;r.style.left=N+t.getWindowScrollLeft()+"px",N<0?this.left():N+t.getOuterWidth(r)>u.width&&this.right()}}};y[h.at.x]("x"),y[h.at.y]("y"),this.isFunction(l)&&l(h)}}},{key:"findCollisionPosition",value:function(r){if(r){var n=r==="top"||r==="bottom",a=r==="left"?"right":"left",i=r==="top"?"bottom":"top";return n?{axis:"y",my:"center ".concat(i),at:"center ".concat(r)}:{axis:"x",my:"".concat(a," center"),at:"".concat(r," center")}}}},{key:"getParents",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return r.parentNode===null?n:this.getParents(r.parentNode,n.concat([r.parentNode]))}},{key:"getScrollableParents",value:function(r){var n=this,a=[];if(r){var i=this.getParents(r),s=/(auto|scroll)/,l=function(I){var P=I?getComputedStyle(I):null;return P&&(s.test(P.getPropertyValue("overflow"))||s.test(P.getPropertyValue("overflow-x"))||s.test(P.getPropertyValue("overflow-y")))},c=function(I){a.push(I.nodeName==="BODY"||I.nodeName==="HTML"||n.isDocument(I)?window:I)},u=V1(i),f;try{for(u.s();!(f=u.n()).done;){var m,v=f.value,h=v.nodeType===1&&((m=v.dataset)===null||m===void 0?void 0:m.scrollselectors);if(h){var E=h.split(","),y=V1(E),b;try{for(y.s();!(b=y.n()).done;){var x=b.value,w=this.findSingle(v,x);w&&l(w)&&c(w)}}catch(N){y.e(N)}finally{y.f()}}v.nodeType===1&&l(v)&&c(v)}}catch(N){u.e(N)}finally{u.f()}}return a}},{key:"getHiddenElementOuterHeight",value:function(r){if(r){r.style.visibility="hidden",r.style.display="block";var n=r.offsetHeight;return r.style.display="none",r.style.visibility="visible",n}return 0}},{key:"getHiddenElementOuterWidth",value:function(r){if(r){r.style.visibility="hidden",r.style.display="block";var n=r.offsetWidth;return r.style.display="none",r.style.visibility="visible",n}return 0}},{key:"getHiddenElementDimensions",value:function(r){var n={};return r&&(r.style.visibility="hidden",r.style.display="block",n.width=r.offsetWidth,n.height=r.offsetHeight,r.style.display="none",r.style.visibility="visible"),n}},{key:"fadeIn",value:function(r,n){if(r){r.style.opacity=0;var a=+new Date,i=0,s=function(){i=+r.style.opacity+(new Date().getTime()-a)/n,r.style.opacity=i,a=+new Date,+i<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}}},{key:"fadeOut",value:function(r,n){if(r)var a=1,i=50,s=i/n,l=setInterval(function(){a=a-s,a<=0&&(a=0,clearInterval(l)),r.style.opacity=a},i)}},{key:"getUserAgent",value:function(){return navigator.userAgent}},{key:"isIOS",value:function(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}},{key:"isAndroid",value:function(){return/(android)/i.test(navigator.userAgent)}},{key:"isChrome",value:function(){return/(chrome)/i.test(navigator.userAgent)}},{key:"isClient",value:function(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"isFunction",value:function(r){return!!(r&&r.constructor&&r.call&&r.apply)}},{key:"appendChild",value:function(r,n){if(this.isElement(n))n.appendChild(r);else if(n.el&&n.el.nativeElement)n.el.nativeElement.appendChild(r);else throw new Error("Cannot append "+n+" to "+r)}},{key:"removeChild",value:function(r,n){if(this.isElement(n))n.removeChild(r);else if(n.el&&n.el.nativeElement)n.el.nativeElement.removeChild(r);else throw new Error("Cannot remove "+r+" from "+n)}},{key:"isElement",value:function(r){return(typeof HTMLElement>"u"?"undefined":Qa(HTMLElement))==="object"?r instanceof HTMLElement:r&&Qa(r)==="object"&&r!==null&&r.nodeType===1&&typeof r.nodeName=="string"}},{key:"isDocument",value:function(r){return(typeof Document>"u"?"undefined":Qa(Document))==="object"?r instanceof Document:r&&Qa(r)==="object"&&r!==null&&r.nodeType===9}},{key:"scrollInView",value:function(r,n){var a=getComputedStyle(r).getPropertyValue("border-top-width"),i=a?parseFloat(a):0,s=getComputedStyle(r).getPropertyValue("padding-top"),l=s?parseFloat(s):0,c=r.getBoundingClientRect(),u=n.getBoundingClientRect(),f=u.top+document.body.scrollTop-(c.top+document.body.scrollTop)-i-l,m=r.scrollTop,v=r.clientHeight,h=this.getOuterHeight(n);f<0?r.scrollTop=m+f:f+h>v&&(r.scrollTop=m+f-v+h)}},{key:"clearSelection",value:function(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}},{key:"calculateScrollbarWidth",value:function(r){if(r){var n=getComputedStyle(r);return r.offsetWidth-r.clientWidth-parseFloat(n.borderLeftWidth)-parseFloat(n.borderRightWidth)}if(this.calculatedScrollbarWidth!=null)return this.calculatedScrollbarWidth;var a=document.createElement("div");a.className="p-scrollbar-measure",document.body.appendChild(a);var i=a.offsetWidth-a.clientWidth;return document.body.removeChild(a),this.calculatedScrollbarWidth=i,i}},{key:"calculateBodyScrollbarWidth",value:function(){return window.innerWidth-document.documentElement.offsetWidth}},{key:"getBrowser",value:function(){if(!this.browser){var r=this.resolveUserAgent();this.browser={},r.browser&&(this.browser[r.browser]=!0,this.browser.version=r.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}},{key:"resolveUserAgent",value:function(){var r=navigator.userAgent.toLowerCase(),n=/(chrome)[ ]([\w.]+)/.exec(r)||/(webkit)[ ]([\w.]+)/.exec(r)||/(opera)(?:.*version|)[ ]([\w.]+)/.exec(r)||/(msie) ([\w.]+)/.exec(r)||r.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(r)||[];return{browser:n[1]||"",version:n[2]||"0"}}},{key:"blockBodyScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden",n=!!document.body.style.getPropertyValue("--scrollbar-width");!n&&document.body.style.setProperty("--scrollbar-width",this.calculateBodyScrollbarWidth()+"px"),this.addClass(document.body,r)}},{key:"unblockBodyScroll",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"p-overflow-hidden";document.body.style.removeProperty("--scrollbar-width"),this.removeClass(document.body,r)}},{key:"isVisible",value:function(r){return r&&(r.clientHeight!==0||r.getClientRects().length!==0||getComputedStyle(r).display!=="none")}},{key:"isExist",value:function(r){return!!(r!==null&&typeof r<"u"&&r.nodeName&&r.parentNode)}},{key:"getFocusableElements",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=t.find(r,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])'.concat(n,`,
                [href][clientHeight][clientWidth]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n,`,
                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden])`).concat(n)),i=[],s=V1(a),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;getComputedStyle(c).display!=="none"&&getComputedStyle(c).visibility!=="hidden"&&i.push(c)}}catch(u){s.e(u)}finally{s.f()}return i}},{key:"getFirstFocusableElement",value:function(r,n){var a=t.getFocusableElements(r,n);return a.length>0?a[0]:null}},{key:"getLastFocusableElement",value:function(r,n){var a=t.getFocusableElements(r,n);return a.length>0?a[a.length-1]:null}},{key:"focus",value:function(r,n){var a=n===void 0?!0:!n;r&&document.activeElement!==r&&r.focus({preventScroll:a})}},{key:"focusFirstElement",value:function(r,n){if(r){var a=t.getFirstFocusableElement(r);return a&&t.focus(a,n),a}}},{key:"getCursorOffset",value:function(r,n,a,i){if(r){var s=getComputedStyle(r),l=document.createElement("div");l.style.position="absolute",l.style.top="0px",l.style.left="0px",l.style.visibility="hidden",l.style.pointerEvents="none",l.style.overflow=s.overflow,l.style.width=s.width,l.style.height=s.height,l.style.padding=s.padding,l.style.border=s.border,l.style.overflowWrap=s.overflowWrap,l.style.whiteSpace=s.whiteSpace,l.style.lineHeight=s.lineHeight,l.innerHTML=n.replace(/\r\n|\r|\n/g,"<br />");var c=document.createElement("span");c.textContent=i,l.appendChild(c);var u=document.createTextNode(a);l.appendChild(u),document.body.appendChild(l);var f=c.offsetLeft,m=c.offsetTop,v=c.clientHeight;return document.body.removeChild(l),{left:Math.abs(f-r.scrollLeft),top:Math.abs(m-r.scrollTop)+v}}return{top:"auto",left:"auto"}}},{key:"invokeElementMethod",value:function(r,n,a){r[n].apply(r,a)}},{key:"isClickable",value:function(r){var n=r.nodeName,a=r.parentElement&&r.parentElement.nodeName;return n==="INPUT"||n==="TEXTAREA"||n==="BUTTON"||n==="A"||a==="INPUT"||a==="TEXTAREA"||a==="BUTTON"||a==="A"||this.hasClass(r,"p-button")||this.hasClass(r.parentElement,"p-button")||this.hasClass(r.parentElement,"p-checkbox")||this.hasClass(r.parentElement,"p-radiobutton")}},{key:"applyStyle",value:function(r,n){if(typeof n=="string")r.style.cssText=n;else for(var a in n)r.style[a]=n[a]}},{key:"exportCSV",value:function(r,n){var a=new Blob([r],{type:"application/csv;charset=utf-8;"});if(window.navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(a,n+".csv");else{var i=t.saveAs({name:n+".csv",src:URL.createObjectURL(a)});i||(r="data:text/csv;charset=utf-8,"+r,window.open(encodeURI(r)))}}},{key:"saveAs",value:function(r){if(r){var n=document.createElement("a");if(n.download!==void 0){var a=r.name,i=r.src;return n.setAttribute("href",i),n.setAttribute("download",a),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n),!0}}return!1}},{key:"createInlineStyle",value:function(r,n){var a=document.createElement("style");return t.addNonce(a,r),n||(n=document.head),n.appendChild(a),a}},{key:"removeInlineStyle",value:function(r){if(this.isExist(r)){try{r.parentNode.removeChild(r)}catch{}r=null}return r}},{key:"addNonce",value:function(r,n){try{n||(n=EU.REACT_APP_CSS_NONCE)}catch{}n&&r.setAttribute("nonce",n)}},{key:"getTargetElement",value:function(r){if(!r)return null;if(r==="document")return document;if(r==="window")return window;if(Qa(r)==="object"&&r.hasOwnProperty("current"))return this.isExist(r.current)?r.current:null;var n=function(s){return!!(s&&s.constructor&&s.call&&s.apply)},a=n(r)?r():r;return this.isDocument(a)||this.isExist(a)?a:null}},{key:"getAttributeNames",value:function(r){var n,a,i;for(a=[],i=r.attributes,n=0;n<i.length;++n)a.push(i[n].nodeName);return a.sort(),a}},{key:"isEqualElement",value:function(r,n){var a,i,s,l,c;if(a=t.getAttributeNames(r),i=t.getAttributeNames(n),a.join(",")!==i.join(","))return!1;for(var u=0;u<a.length;++u)if(s=a[u],s==="style")for(var f=r.style,m=n.style,v=/^\d+$/,h=0,E=Object.keys(f);h<E.length;h++){var y=E[h];if(!v.test(y)&&f[y]!==m[y])return!1}else if(r.getAttribute(s)!==n.getAttribute(s))return!1;for(l=r.firstChild,c=n.firstChild;l&&c;l=l.nextSibling,c=c.nextSibling){if(l.nodeType!==c.nodeType)return!1;if(l.nodeType===1){if(!t.isEqualElement(l,c))return!1}else if(l.nodeValue!==c.nodeValue)return!1}return!(l||c)}},{key:"hasCSSAnimation",value:function(r){if(r){var n=getComputedStyle(r),a=parseFloat(n.getPropertyValue("animation-duration")||"0");return a>0}return!1}},{key:"hasCSSTransition",value:function(r){if(r){var n=getComputedStyle(r),a=parseFloat(n.getPropertyValue("transition-duration")||"0");return a>0}return!1}}])}();ey(ze,"DATA_PROPS",["data-"]);ey(ze,"ARIA_PROPS",["aria","focus-target"]);function IU(){var t=new Map;return{on:function(r,n){var a=t.get(r);a?a.push(n):a=[n],t.set(r,a)},off:function(r,n){var a=t.get(r);a&&a.splice(a.indexOf(n)>>>0,1)},emit:function(r,n){var a=t.get(r);a&&a.slice().forEach(function(i){return i(n)})}}}function L5(){return L5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L5.apply(null,arguments)}function p4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=_U(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){l=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function _U(t,e){if(t){if(typeof t=="string")return g4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?g4(t,e):void 0}}function g4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Te=function(){function t(){s3(this,t)}return l3(t,null,[{key:"equals",value:function(r,n,a){return a&&r&&Qa(r)==="object"&&n&&Qa(n)==="object"?this.deepEquals(this.resolveFieldData(r,a),this.resolveFieldData(n,a)):this.deepEquals(r,n)}},{key:"deepEquals",value:function(r,n){if(r===n)return!0;if(r&&n&&Qa(r)==="object"&&Qa(n)==="object"){var a=Array.isArray(r),i=Array.isArray(n),s,l,c;if(a&&i){if(l=r.length,l!==n.length)return!1;for(s=l;s--!==0;)if(!this.deepEquals(r[s],n[s]))return!1;return!0}if(a!==i)return!1;var u=r instanceof Date,f=n instanceof Date;if(u!==f)return!1;if(u&&f)return r.getTime()===n.getTime();var m=r instanceof RegExp,v=n instanceof RegExp;if(m!==v)return!1;if(m&&v)return r.toString()===n.toString();var h=Object.keys(r);if(l=h.length,l!==Object.keys(n).length)return!1;for(s=l;s--!==0;)if(!Object.prototype.hasOwnProperty.call(n,h[s]))return!1;for(s=l;s--!==0;)if(c=h[s],!this.deepEquals(r[c],n[c]))return!1;return!0}return r!==r&&n!==n}},{key:"resolveFieldData",value:function(r,n){if(!r||!n)return null;try{var a=r[n];if(this.isNotEmpty(a))return a}catch{}if(Object.keys(r).length){if(this.isFunction(n))return n(r);if(this.isNotEmpty(r[n]))return r[n];if(n.indexOf(".")===-1)return r[n];for(var i=n.split("."),s=r,l=0,c=i.length;l<c;++l){if(s==null)return null;s=s[i[l]]}return s}return null}},{key:"findDiffKeys",value:function(r,n){return!r||!n?{}:Object.keys(r).filter(function(a){return!n.hasOwnProperty(a)}).reduce(function(a,i){return a[i]=r[i],a},{})}},{key:"reduceKeys",value:function(r,n){var a={};return!r||!n||n.length===0||Object.keys(r).filter(function(i){return n.some(function(s){return i.startsWith(s)})}).forEach(function(i){a[i]=r[i],delete r[i]}),a}},{key:"reorderArray",value:function(r,n,a){r&&n!==a&&(a>=r.length&&(a=a%r.length,n=n%r.length),r.splice(a,0,r.splice(n,1)[0]))}},{key:"findIndexInList",value:function(r,n,a){var i=this;return n?a?n.findIndex(function(s){return i.equals(s,r,a)}):n.findIndex(function(s){return s===r}):-1}},{key:"getJSXElement",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return this.isFunction(r)?r.apply(void 0,a):r}},{key:"getItemValue",value:function(r){for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];return this.isFunction(r)?r.apply(void 0,a):r}},{key:"getProp",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r?r[n]:void 0;return i===void 0?a[n]:i}},{key:"getPropCaseInsensitive",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=this.toFlatCase(n);for(var s in r)if(r.hasOwnProperty(s)&&this.toFlatCase(s)===i)return r[s];for(var l in a)if(a.hasOwnProperty(l)&&this.toFlatCase(l)===i)return a[l]}},{key:"getMergedProps",value:function(r,n){return Object.assign({},n,r)}},{key:"getDiffProps",value:function(r,n){return this.findDiffKeys(r,n)}},{key:"getPropValue",value:function(r){if(!this.isFunction(r))return r;for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];if(a.length===1){var s=a[0];return r(Array.isArray(s)?s[0]:s)}return r.apply(void 0,a)}},{key:"getComponentProp",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.isNotEmpty(r)?this.getProp(r.props,n,a):void 0}},{key:"getComponentProps",value:function(r,n){return this.isNotEmpty(r)?this.getMergedProps(r.props,n):void 0}},{key:"getComponentDiffProps",value:function(r,n){return this.isNotEmpty(r)?this.getDiffProps(r.props,n):void 0}},{key:"isValidChild",value:function(r,n,a){if(r){var i,s=this.getComponentProp(r,"__TYPE")||(r.type?r.type.displayName:void 0);!s&&r!==null&&r!==void 0&&(i=r.type)!==null&&i!==void 0&&(i=i._payload)!==null&&i!==void 0&&i.value&&(s=r.type._payload.value.find(function(u){return u===n}));var l=s===n;try{var c}catch{}return l}return!1}},{key:"getRefElement",value:function(r){return r?Qa(r)==="object"&&r.hasOwnProperty("current")?r.current:r:null}},{key:"combinedRefs",value:function(r,n){r&&n&&(typeof n=="function"?n(r.current):n.current=r.current)}},{key:"removeAccents",value:function(r){return r&&r.search(/[\xC0-\xFF]/g)>-1&&(r=r.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),r}},{key:"toFlatCase",value:function(r){return this.isNotEmpty(r)&&this.isString(r)?r.replace(/(-|_)/g,"").toLowerCase():r}},{key:"toCapitalCase",value:function(r){return this.isNotEmpty(r)&&this.isString(r)?r[0].toUpperCase()+r.slice(1):r}},{key:"trim",value:function(r){return this.isNotEmpty(r)&&this.isString(r)?r.trim():r}},{key:"isEmpty",value:function(r){return r==null||r===""||Array.isArray(r)&&r.length===0||!(r instanceof Date)&&Qa(r)==="object"&&Object.keys(r).length===0}},{key:"isNotEmpty",value:function(r){return!this.isEmpty(r)}},{key:"isFunction",value:function(r){return!!(r&&r.constructor&&r.call&&r.apply)}},{key:"isObject",value:function(r){return r!==null&&r instanceof Object&&r.constructor===Object}},{key:"isDate",value:function(r){return r!==null&&r instanceof Date&&r.constructor===Date}},{key:"isArray",value:function(r){return r!==null&&Array.isArray(r)}},{key:"isString",value:function(r){return r!==null&&typeof r=="string"}},{key:"isPrintableCharacter",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return this.isNotEmpty(r)&&r.length===1&&r.match(/\S| /)}},{key:"isLetter",value:function(r){return/^[a-zA-Z\u00C0-\u017F]$/.test(r)}},{key:"isScalar",value:function(r){return r!=null&&(typeof r=="string"||typeof r=="number"||typeof r=="bigint"||typeof r=="boolean")}},{key:"findLast",value:function(r,n){var a;if(this.isNotEmpty(r))try{a=r.findLast(n)}catch{a=$b(r).reverse().find(n)}return a}},{key:"findLastIndex",value:function(r,n){var a=-1;if(this.isNotEmpty(r))try{a=r.findLastIndex(n)}catch{a=r.lastIndexOf($b(r).reverse().find(n))}return a}},{key:"sort",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3?arguments[3]:void 0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1,l=this.compare(r,n,i,a),c=a;return(this.isEmpty(r)||this.isEmpty(n))&&(c=s===1?a:s),c*l}},{key:"compare",value:function(r,n,a){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=-1,l=this.isEmpty(r),c=this.isEmpty(n);return l&&c?s=0:l?s=i:c?s=-i:typeof r=="string"&&typeof n=="string"?s=a(r,n):s=r<n?-1:r>n?1:0,s}},{key:"localeComparator",value:function(r){return new Intl.Collator(r,{numeric:!0}).compare}},{key:"findChildrenByKey",value:function(r,n){var a=p4(r),i;try{for(a.s();!(i=a.n()).done;){var s=i.value;if(s.key===n)return s.children||[];if(s.children){var l=this.findChildrenByKey(s.children,n);if(l.length>0)return l}}}catch(c){a.e(c)}finally{a.f()}return[]}},{key:"mutateFieldData",value:function(r,n,a){if(!(Qa(r)!=="object"||typeof n!="string"))for(var i=n.split("."),s=r,l=0,c=i.length;l<c;++l){if(l+1-c===0){s[i[l]]=a;break}s[i[l]]||(s[i[l]]={}),s=s[i[l]]}}},{key:"getNestedValue",value:function(r,n){return n.split(".").reduce(function(a,i){return a&&a[i]!==void 0?a[i]:void 0},r)}},{key:"absoluteCompare",value:function(r,n){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;if(!r||!n||i>a)return!0;if(Qa(r)!==Qa(n))return!1;var s=Object.keys(r),l=Object.keys(n);if(s.length!==l.length)return!1;for(var c=0,u=s;c<u.length;c++){var f=u[c],m=r[f],v=n[f],h=t.isObject(m)&&t.isObject(v),E=t.isFunction(m)&&t.isFunction(v);if((h||E)&&!this.absoluteCompare(m,v,a,i+1)||!h&&m!==v)return!1}return!0}},{key:"selectiveCompare",value:function(r,n,a){if(r===n)return!0;if(!r||!n||Qa(r)!=="object"||Qa(n)!=="object")return!1;if(!a)return this.absoluteCompare(r,n,1);var i=p4(a),s;try{for(i.s();!(s=i.n()).done;){var l=s.value,c=this.getNestedValue(r,l),u=this.getNestedValue(n,l),f=Qa(c)==="object"&&c!==null&&Qa(u)==="object"&&u!==null;if(f&&!this.absoluteCompare(c,u,1)||!f&&c!==u)return!1}}catch(m){i.e(m)}finally{i.f()}return!0}}])}(),h4=0;function av(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"pr_id_";return h4++,"".concat(t).concat(h4)}function v4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v4(Object(r),!0).forEach(function(n){ey(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Yn=function(){function t(){s3(this,t)}return l3(t,null,[{key:"getJSXIcon",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=null;if(r!==null){var s=Qa(r),l=sr(n.className,s==="string"&&r);if(i=p.createElement("span",L5({},n,{className:l,key:av("icon")})),s!=="string"){var c=LU({iconProps:n,element:i},a);return Te.getJSXElement(r,c)}}return i}}])}();function b4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function y4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b4(Object(r),!0).forEach(function(n){ey(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zb(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t){var r=function(s){return typeof s=="function"},n=e.classNameMergeFunction,a=r(n);return t.reduce(function(i,s){if(!s)return i;var l=function(){var f=s[c];if(c==="style")i.style=y4(y4({},i.style),s.style);else if(c==="className"){var m="";a?m=n(i.className,s.className):m=[i.className,s.className].join(" ").trim(),i.className=m||void 0}else if(r(f)){var v=i[c];i[c]=v?function(){v.apply(void 0,arguments),f.apply(void 0,arguments)}:f}else i[c]=f};for(var c in s)l();return i},{})}}function TU(){var t=[],e=function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:999,f=a(l,c,u),m=f.value+(f.key===l?0:u)+1;return t.push({key:l,value:m}),m},r=function(l){t=t.filter(function(c){return c.value!==l})},n=function(l,c){return a(l,c).value},a=function(l,c){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return $b(t).reverse().find(function(f){return c?!0:f.key===l})||{key:l,value:u}},i=function(l){return l&&parseInt(l.style.zIndex,10)||0};return{get:i,set:function(l,c,u,f){c&&(c.style.zIndex=String(e(l,u,f)))},clear:function(l){l&&(r(Xs.get(l)),l.style.zIndex="")},getCurrent:function(l,c){return n(l,c)}}}var Xs=TU(),Ro=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),$g=Object.freeze({AND:"and",OR:"or"});function E4(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=RU(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){l=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function RU(t,e){if(t){if(typeof t=="string")return x4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?x4(t,e):void 0}}function x4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var $f={filter:function(e,r,n,a,i){var s=[];if(!e)return s;var l=E4(e),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;if(typeof u=="string"){if(this.filters[a](u,n,i)){s.push(u);continue}}else{var f=E4(r),m;try{for(f.s();!(m=f.n()).done;){var v=m.value,h=Te.resolveFieldData(u,v);if(this.filters[a](h,n,i)){s.push(u);break}}}catch(E){f.e(E)}finally{f.f()}}}}catch(E){l.e(E)}finally{l.f()}return s},filters:{startsWith:function(e,r,n){if(r==null||r.trim()==="")return!0;if(e==null)return!1;var a=Te.removeAccents(r.toString()).toLocaleLowerCase(n),i=Te.removeAccents(e.toString()).toLocaleLowerCase(n);return i.slice(0,a.length)===a},contains:function(e,r,n){if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(e==null)return!1;var a=Te.removeAccents(r.toString()).toLocaleLowerCase(n),i=Te.removeAccents(e.toString()).toLocaleLowerCase(n);return i.indexOf(a)!==-1},notContains:function(e,r,n){if(r==null||typeof r=="string"&&r.trim()==="")return!0;if(e==null)return!1;var a=Te.removeAccents(r.toString()).toLocaleLowerCase(n),i=Te.removeAccents(e.toString()).toLocaleLowerCase(n);return i.indexOf(a)===-1},endsWith:function(e,r,n){if(r==null||r.trim()==="")return!0;if(e==null)return!1;var a=Te.removeAccents(r.toString()).toLocaleLowerCase(n),i=Te.removeAccents(e.toString()).toLocaleLowerCase(n);return i.indexOf(a,i.length-a.length)!==-1},equals:function(e,r,n){return r==null||typeof r=="string"&&r.trim()===""?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()===r.getTime():Te.removeAccents(e.toString()).toLocaleLowerCase(n)===Te.removeAccents(r.toString()).toLocaleLowerCase(n)},notEquals:function(e,r,n){return r==null||typeof r=="string"&&r.trim()===""||e==null?!0:e.getTime&&r.getTime?e.getTime()!==r.getTime():Te.removeAccents(e.toString()).toLocaleLowerCase(n)!==Te.removeAccents(r.toString()).toLocaleLowerCase(n)},in:function(e,r){if(r==null||r.length===0)return!0;for(var n=0;n<r.length;n++)if(Te.equals(e,r[n]))return!0;return!1},notIn:function(e,r){if(r==null||r.length===0)return!0;for(var n=0;n<r.length;n++)if(Te.equals(e,r[n]))return!1;return!0},between:function(e,r){return r==null||r[0]==null||r[1]==null?!0:e==null?!1:e.getTime?r[0].getTime()<=e.getTime()&&e.getTime()<=r[1].getTime():r[0]<=e&&e<=r[1]},lt:function(e,r){return r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<r.getTime():e<r},lte:function(e,r){return r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()<=r.getTime():e<=r},gt:function(e,r){return r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>r.getTime():e>r},gte:function(e,r){return r==null?!0:e==null?!1:e.getTime&&r.getTime?e.getTime()>=r.getTime():e>=r},dateIs:function(e,r){return r==null?!0:e==null?!1:e.toDateString()===r.toDateString()},dateIsNot:function(e,r){return r==null?!0:e==null?!1:e.toDateString()!==r.toDateString()},dateBefore:function(e,r){return r==null?!0:e==null?!1:e.getTime()<r.getTime()},dateAfter:function(e,r){return r==null?!0:e==null?!1:e.getTime()>r.getTime()}},register:function(e,r){this.filters[e]=r}};function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function MU(t,e){if(oh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(oh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DU(t){var e=MU(t,"string");return oh(e)=="symbol"?e:e+""}function _l(t,e,r){return(e=DU(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jU(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function FU(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var Wi=jU(function t(){FU(this,t)});_l(Wi,"ripple",!1);_l(Wi,"inputStyle","outlined");_l(Wi,"locale","en");_l(Wi,"appendTo",null);_l(Wi,"cssTransition",!0);_l(Wi,"autoZIndex",!0);_l(Wi,"hideOverlaysOnDocumentScrolling",!1);_l(Wi,"nonce",null);_l(Wi,"nullSortOrder",1);_l(Wi,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});_l(Wi,"pt",void 0);_l(Wi,"filterMatchModeOptions",{text:[Ro.STARTS_WITH,Ro.CONTAINS,Ro.NOT_CONTAINS,Ro.ENDS_WITH,Ro.EQUALS,Ro.NOT_EQUALS],numeric:[Ro.EQUALS,Ro.NOT_EQUALS,Ro.LESS_THAN,Ro.LESS_THAN_OR_EQUAL_TO,Ro.GREATER_THAN,Ro.GREATER_THAN_OR_EQUAL_TO],date:[Ro.DATE_IS,Ro.DATE_IS_NOT,Ro.DATE_BEFORE,Ro.DATE_AFTER]});_l(Wi,"changeTheme",function(t,e,r,n){var a,i=document.getElementById(r);if(!i)throw Error("Element with id ".concat(r," not found."));var s=i.getAttribute("href").replace(t,e),l=document.createElement("link");l.setAttribute("rel","stylesheet"),l.setAttribute("id",r),l.setAttribute("href",s),l.addEventListener("load",function(){n&&n()}),(a=i.parentNode)===null||a===void 0||a.replaceChild(l,i)});var $U={en:{accept:"Yes",addRule:"Add Rule",am:"AM",apply:"Apply",cancel:"Cancel",choose:"Choose",chooseDate:"Choose Date",chooseMonth:"Choose Month",chooseYear:"Choose Year",clear:"Clear",completed:"Completed",contains:"Contains",custom:"Custom",dateAfter:"Date is after",dateBefore:"Date is before",dateFormat:"mm/dd/yy",dateIs:"Date is",dateIsNot:"Date is not",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],emptyFilterMessage:"No results found",emptyMessage:"No available options",emptySearchMessage:"No results found",emptySelectionMessage:"No selected item",endsWith:"Ends with",equals:"Equals",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],filter:"Filter",firstDayOfWeek:0,gt:"Greater than",gte:"Greater than or equal to",lt:"Less than",lte:"Less than or equal to",matchAll:"Match All",matchAny:"Match Any",medium:"Medium",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nextDecade:"Next Decade",nextHour:"Next Hour",nextMinute:"Next Minute",nextMonth:"Next Month",nextSecond:"Next Second",nextYear:"Next Year",noFilter:"No Filter",notContains:"Not contains",notEquals:"Not equals",now:"Now",passwordPrompt:"Enter a password",pending:"Pending",pm:"PM",prevDecade:"Previous Decade",prevHour:"Previous Hour",prevMinute:"Previous Minute",prevMonth:"Previous Month",prevSecond:"Previous Second",prevYear:"Previous Year",reject:"No",removeRule:"Remove Rule",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",showMonthAfterYear:!1,startsWith:"Starts with",strong:"Strong",today:"Today",upload:"Upload",weak:"Weak",weekHeader:"Wk",aria:{cancelEdit:"Cancel Edit",close:"Close",collapseRow:"Row Collapsed",editRow:"Edit Row",expandRow:"Row Expanded",falseLabel:"False",filterConstraint:"Filter Constraint",filterOperator:"Filter Operator",firstPageLabel:"First Page",gridView:"Grid View",hideFilterMenu:"Hide Filter Menu",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",lastPageLabel:"Last Page",listLabel:"Option List",listView:"List View",moveAllToSource:"Move All to Source",moveAllToTarget:"Move All to Target",moveBottom:"Move Bottom",moveDown:"Move Down",moveToSource:"Move to Source",moveToTarget:"Move to Target",moveTop:"Move Top",moveUp:"Move Up",navigation:"Navigation",next:"Next",nextPageLabel:"Next Page",nullLabel:"Not Selected",pageLabel:"Page {page}",otpLabel:"Please enter one time password character {0}",passwordHide:"Hide Password",passwordShow:"Show Password",previous:"Previous",prevPageLabel:"Previous Page",rotateLeft:"Rotate Left",rotateRight:"Rotate Right",rowsPerPageLabel:"Rows per page",saveEdit:"Save Edit",scrollTop:"Scroll Top",selectAll:"All items selected",selectRow:"Row Selected",showFilterMenu:"Show Filter Menu",slide:"Slide",slideNumber:"{slideNumber}",star:"1 star",stars:"{star} stars",trueLabel:"True",unselectAll:"All items unselected",unselectRow:"Row Unselected",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out"}}};function ui(t,e){if(t.includes("__proto__")||t.includes("prototype"))throw new Error("Unsafe key detected");var r=Wi.locale;try{return U7(r)[t]}catch{throw new Error("The ".concat(t," option is not found in the current locale('").concat(r,"')."))}}function Ni(t,e){if(t.includes("__proto__")||t.includes("prototype"))throw new Error("Unsafe ariaKey detected");var r=Wi.locale;try{var n=U7(r).aria[t];if(n)for(var a in e)e.hasOwnProperty(a)&&(n=n.replace("{".concat(a,"}"),e[a]));return n}catch{throw new Error("The ".concat(t," option is not found in the current locale('").concat(r,"')."))}}function U7(t){var e=t||Wi.locale;if(e.includes("__proto__")||e.includes("prototype"))throw new Error("Unsafe locale detected");return $U[e]}var sa=o.createContext(),$n=Wi;function zU(t){if(Array.isArray(t))return t}function BU(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function T5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function q7(t,e){if(t){if(typeof t=="string")return T5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?T5(t,e):void 0}}function UU(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uu(t,e){return zU(t)||BU(t,e)||q7(t,e)||UU()}var sp=function(e){var r=p.useRef(null);return p.useEffect(function(){return r.current=e,function(){r.current=null}},[e]),r.current},Ls=function(e){return p.useEffect(function(){return e},[])},ju=function(e){var r=e.target,n=r===void 0?"document":r,a=e.type,i=e.listener,s=e.options,l=e.when,c=l===void 0?!0:l,u=p.useRef(null),f=p.useRef(null),m=sp(i),v=sp(s),h=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},N=w.target;Te.isNotEmpty(N)&&(E(),(w.when||c)&&(u.current=ze.getTargetElement(N))),!f.current&&u.current&&(f.current=function(I){return i&&i(I)},u.current.addEventListener(a,f.current,s))},E=function(){f.current&&(u.current.removeEventListener(a,f.current,s),f.current=null)},y=function(){E(),m=null,v=null},b=p.useCallback(function(){c?u.current=ze.getTargetElement(n):(E(),u.current=null)},[n,c]);return p.useEffect(function(){b()},[b]),p.useEffect(function(){var x="".concat(m)!=="".concat(i),w=v!==s,N=f.current;N&&(x||w)?(E(),c&&h()):N||y()},[i,s,c]),Ls(function(){y()}),[h,E]},V7=function(e,r){var n=p.useState(e),a=uu(n,2),i=a[0],s=a[1],l=p.useState(e),c=uu(l,2),u=c[0],f=c[1],m=p.useRef(!1),v=p.useRef(null),h=function(){return window.clearTimeout(v.current)};return gs(function(){m.current=!0}),Ls(function(){h()}),p.useEffect(function(){m.current&&(h(),v.current=window.setTimeout(function(){f(i)},r))},[i,r]),[i,u,s]},df={},qU=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=p.useState(function(){return av()}),a=uu(n,1),i=a[0],s=p.useState(0),l=uu(s,2),c=l[0],u=l[1];return p.useEffect(function(){if(r){df[e]||(df[e]=[]);var f=df[e].push(i);return u(f),function(){delete df[e][f-1];var m=df[e].length-1,v=Te.findLastIndex(df[e],function(h){return h!==void 0});v!==m&&df[e].splice(v+1),u(void 0)}}},[e,i,r]),c};function VU(t){if(Array.isArray(t))return T5(t)}function HU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function WU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w4(t){return VU(t)||HU(t)||q7(t)||WU()}var GU={TOOLTIP:1200},H7={escKeyListeners:new Map,onGlobalKeyDown:function(e){if(e.code==="Escape"){var r=H7.escKeyListeners,n=Math.max.apply(Math,w4(r.keys())),a=r.get(n),i=Math.max.apply(Math,w4(a.keys())),s=a.get(i);s(e)}},refreshGlobalKeyDownListener:function(){var e=ze.getTargetElement("document");this.escKeyListeners.size>0?e.addEventListener("keydown",this.onGlobalKeyDown):e.removeEventListener("keydown",this.onGlobalKeyDown)},addListener:function(e,r){var n=this,a=uu(r,2),i=a[0],s=a[1],l=this.escKeyListeners;l.has(i)||l.set(i,new Map);var c=l.get(i);if(c.has(s))throw new Error("Unexpected: global esc key listener with priority [".concat(i,", ").concat(s,"] already exists."));return c.set(s,e),this.refreshGlobalKeyDownListener(),function(){c.delete(s),c.size===0&&l.delete(i),n.refreshGlobalKeyDownListener()}}},KU=function(e){var r=e.callback,n=e.when,a=e.priority;p.useEffect(function(){if(n)return H7.addListener(r,a)},[r,n,a])},zn=function(){var e=p.useContext(sa);return function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return zb(n,e==null?void 0:e.ptOptions)}},gs=function(e){var r=p.useRef(!1);return p.useEffect(function(){if(!r.current)return r.current=!0,e&&e()},[])},W7=function(e){var r=e.target,n=e.listener,a=e.options,i=e.when,s=i===void 0?!0:i,l=p.useContext(sa),c=p.useRef(null),u=p.useRef(null),f=p.useRef([]),m=sp(n),v=sp(a),h=function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Te.isNotEmpty(w.target)&&(E(),(w.when||s)&&(c.current=ze.getTargetElement(w.target))),!u.current&&c.current){var N=l?l.hideOverlaysOnDocumentScrolling:$n.hideOverlaysOnDocumentScrolling,I=f.current=ze.getScrollableParents(c.current);I.some(function(P){return P===document.body||P===window})||I.push(N?window:document.body),u.current=function(P){return n&&n(P)},I.forEach(function(P){return P.addEventListener("scroll",u.current,a)})}},E=function(){if(u.current){var w=f.current;w.forEach(function(N){return N.removeEventListener("scroll",u.current,a)}),u.current=null}},y=function(){E(),f.current=null,m=null,v=null},b=p.useCallback(function(){s?c.current=ze.getTargetElement(r):(E(),c.current=null)},[r,s]);return p.useEffect(function(){b()},[b]),p.useEffect(function(){var x="".concat(m)!=="".concat(n),w=v!==a,N=u.current;N&&(x||w)?(E(),s&&h()):N||y()},[n,a,s]),Ls(function(){y()}),[h,E]},c3=function(e){var r=e.listener,n=e.when,a=n===void 0?!0:n;return ju({target:"window",type:"resize",listener:r,when:a})},u3=function(e){var r=e.target,n=e.overlay,a=e.listener,i=e.when,s=i===void 0?!0:i,l=e.type,c=l===void 0?"click":l,u=p.useRef(null),f=p.useRef(null),m=ju({target:"window",type:c,listener:function(V){a&&a(V,{type:"outside",valid:V.which!==3&&C(V)})},when:s}),v=uu(m,2),h=v[0],E=v[1],y=c3({listener:function(V){a&&a(V,{type:"resize",valid:!ze.isTouchDevice()})},when:s}),b=uu(y,2),x=b[0],w=b[1],N=ju({target:"window",type:"orientationchange",listener:function(V){a&&a(V,{type:"orientationchange",valid:!0})},when:s}),I=uu(N,2),P=I[0],L=I[1],R=W7({target:r,listener:function(V){a&&a(V,{type:"scroll",valid:!0})},when:s}),O=uu(R,2),A=O[0],T=O[1],C=function(V){return u.current&&!(u.current.isSameNode(V.target)||u.current.contains(V.target)||f.current&&f.current.contains(V.target))},_=function(){h(),x(),P(),A()},D=function(){E(),w(),L(),T()};return p.useEffect(function(){s?(u.current=ze.getTargetElement(r),f.current=ze.getTargetElement(n)):(D(),u.current=f.current=null)},[r,n,s]),Ls(function(){D()}),[_,D]},YU=0,Lf=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=p.useState(!1),a=uu(n,2),i=a[0],s=a[1],l=p.useRef(null),c=p.useContext(sa),u=ze.isClient()?window.document:void 0,f=r.document,m=f===void 0?u:f,v=r.manual,h=v===void 0?!1:v,E=r.name,y=E===void 0?"style_".concat(++YU):E,b=r.id,x=b===void 0?void 0:b,w=r.media,N=w===void 0?void 0:w,I=function(A){var T=A.querySelector('style[data-primereact-style-id="'.concat(y,'"]'));if(T)return T;if(x!==void 0){var C=m.getElementById(x);if(C)return C}return m.createElement("style")},P=function(A){i&&e!==A&&(l.current.textContent=A)},L=function(){if(!(!m||i)){var A=(c==null?void 0:c.styleContainer)||m.head;l.current=I(A),l.current.isConnected||(l.current.type="text/css",x&&(l.current.id=x),N&&(l.current.media=N),ze.addNonce(l.current,c&&c.nonce||$n.nonce),A.appendChild(l.current),y&&l.current.setAttribute("data-primereact-style-id",y)),l.current.textContent=e,s(!0)}},R=function(){!m||!l.current||(ze.removeInlineStyle(l.current),s(!1))};return p.useEffect(function(){h||L()},[h]),{id:x,name:y,update:P,unload:R,load:L,isLoaded:i}},ba=function(e,r){var n=p.useRef(!1);return p.useEffect(function(){if(!n.current){n.current=!0;return}return e&&e()},r)};function R5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function JU(t){if(Array.isArray(t))return R5(t)}function XU(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ZU(t,e){if(t){if(typeof t=="string")return R5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R5(t,e):void 0}}function QU(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S4(t){return JU(t)||XU(t)||ZU(t)||QU()}function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function eq(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tq(t){var e=eq(t,"string");return ih(e)=="symbol"?e:e+""}function M5(t,e,r){return(e=tq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Si(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(r),!0).forEach(function(n){M5(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var rq=`
.p-hidden-accessible {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    opacity: 0;
    overflow: hidden;
    padding: 0;
    pointer-events: none;
    position: absolute;
    white-space: nowrap;
    width: 1px;
}

.p-overflow-hidden {
    overflow: hidden;
    padding-right: var(--scrollbar-width);
}
`,nq=`
.p-button {
    margin: 0;
    display: inline-flex;
    cursor: pointer;
    user-select: none;
    align-items: center;
    vertical-align: bottom;
    text-align: center;
    overflow: hidden;
    position: relative;
}

.p-button-label {
    flex: 1 1 auto;
}

.p-button-icon-right {
    order: 1;
}

.p-button:disabled {
    cursor: default;
}

.p-button-icon-only {
    justify-content: center;
}

.p-button-icon-only .p-button-label {
    visibility: hidden;
    width: 0;
    flex: 0 0 auto;
}

.p-button-vertical {
    flex-direction: column;
}

.p-button-icon-bottom {
    order: 2;
}

.p-button-group .p-button {
    margin: 0;
}

.p-button-group .p-button:not(:last-child) {
    border-right: 0 none;
}

.p-button-group .p-button:not(:first-of-type):not(:last-of-type) {
    border-radius: 0;
}

.p-button-group .p-button:first-of-type {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

.p-button-group .p-button:last-of-type {
    border-top-left-radius: 0;
    border-bottom-left-radius: 0;
}

.p-button-group .p-button:focus {
    position: relative;
    z-index: 1;
}

.p-button-group-single .p-button:first-of-type {
    border-top-right-radius: var(--border-radius) !important;
    border-bottom-right-radius: var(--border-radius) !important;
}

.p-button-group-single .p-button:last-of-type {
    border-top-left-radius: var(--border-radius) !important;
    border-bottom-left-radius: var(--border-radius) !important;
}
`,aq=`
.p-inputtext {
    margin: 0;
}

.p-fluid .p-inputtext {
    width: 100%;
}

/* InputGroup */
.p-inputgroup {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup-addon {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-inputgroup .p-float-label {
    display: flex;
    align-items: stretch;
    width: 100%;
}

.p-inputgroup .p-inputtext,
.p-fluid .p-inputgroup .p-inputtext,
.p-inputgroup .p-inputwrapper,
.p-fluid .p-inputgroup .p-input {
    flex: 1 1 auto;
    width: 1%;
}

/* Floating Label */
.p-float-label {
    display: block;
    position: relative;
}

.p-float-label label {
    position: absolute;
    pointer-events: none;
    top: 50%;
    margin-top: -0.5rem;
    transition-property: all;
    transition-timing-function: ease;
    line-height: 1;
}

.p-float-label textarea ~ label,
.p-float-label .p-mention ~ label {
    top: 1rem;
}

.p-float-label input:focus ~ label,
.p-float-label input:-webkit-autofill ~ label,
.p-float-label input.p-filled ~ label,
.p-float-label textarea:focus ~ label,
.p-float-label textarea.p-filled ~ label,
.p-float-label .p-inputwrapper-focus ~ label,
.p-float-label .p-inputwrapper-filled ~ label,
.p-float-label .p-tooltip-target-wrapper ~ label {
    top: -0.75rem;
    font-size: 12px;
}

.p-float-label .p-placeholder,
.p-float-label input::placeholder,
.p-float-label .p-inputtext::placeholder {
    opacity: 0;
    transition-property: all;
    transition-timing-function: ease;
}

.p-float-label .p-focus .p-placeholder,
.p-float-label input:focus::placeholder,
.p-float-label .p-inputtext:focus::placeholder {
    opacity: 1;
    transition-property: all;
    transition-timing-function: ease;
}

.p-input-icon-left,
.p-input-icon-right {
    position: relative;
    display: inline-block;
}

.p-input-icon-left > i,
.p-input-icon-right > i,
.p-input-icon-left > svg,
.p-input-icon-right > svg,
.p-input-icon-left > .p-input-prefix,
.p-input-icon-right > .p-input-suffix {
    position: absolute;
    top: 50%;
    margin-top: -0.5rem;
}

.p-fluid .p-input-icon-left,
.p-fluid .p-input-icon-right {
    display: block;
    width: 100%;
}
`,oq=`
.p-icon {
    display: inline-block;
}

.p-icon-spin {
    -webkit-animation: p-icon-spin 2s infinite linear;
    animation: p-icon-spin 2s infinite linear;
}

svg.p-icon {
    pointer-events: auto;
}

svg.p-icon g,
.p-disabled svg.p-icon {
    pointer-events: none;
}

@-webkit-keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}

@keyframes p-icon-spin {
    0% {
        -webkit-transform: rotate(0deg);
        transform: rotate(0deg);
    }
    100% {
        -webkit-transform: rotate(359deg);
        transform: rotate(359deg);
    }
}
`,iq=`
@layer primereact {
    .p-component, .p-component * {
        box-sizing: border-box;
    }

    .p-hidden {
        display: none;
    }

    .p-hidden-space {
        visibility: hidden;
    }

    .p-reset {
        margin: 0;
        padding: 0;
        border: 0;
        outline: 0;
        text-decoration: none;
        font-size: 100%;
        list-style: none;
    }

    .p-disabled, .p-disabled * {
        cursor: default;
        pointer-events: none;
        user-select: none;
    }

    .p-component-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }

    .p-unselectable-text {
        user-select: none;
    }

    .p-scrollbar-measure {
        width: 100px;
        height: 100px;
        overflow: scroll;
        position: absolute;
        top: -9999px;
    }

    @-webkit-keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }
    @keyframes p-fadein {
      0%   { opacity: 0; }
      100% { opacity: 1; }
    }

    .p-link {
        text-align: left;
        background-color: transparent;
        margin: 0;
        padding: 0;
        border: none;
        cursor: pointer;
        user-select: none;
    }

    .p-link:disabled {
        cursor: default;
    }

    /* Non react overlay animations */
    .p-connected-overlay {
        opacity: 0;
        transform: scaleY(0.8);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-visible {
        opacity: 1;
        transform: scaleY(1);
    }

    .p-connected-overlay-hidden {
        opacity: 0;
        transform: scaleY(1);
        transition: opacity .1s linear;
    }

    /* React based overlay animations */
    .p-connected-overlay-enter {
        opacity: 0;
        transform: scaleY(0.8);
    }

    .p-connected-overlay-enter-active {
        opacity: 1;
        transform: scaleY(1);
        transition: transform .12s cubic-bezier(0, 0, 0.2, 1), opacity .12s cubic-bezier(0, 0, 0.2, 1);
    }

    .p-connected-overlay-enter-done {
        transform: none;
    }

    .p-connected-overlay-exit {
        opacity: 1;
    }

    .p-connected-overlay-exit-active {
        opacity: 0;
        transition: opacity .1s linear;
    }

    /* Toggleable Content */
    .p-toggleable-content-enter {
        max-height: 0;
    }

    .p-toggleable-content-enter-active {
        overflow: hidden;
        max-height: 1000px;
        transition: max-height 1s ease-in-out;
    }

    .p-toggleable-content-enter-done {
        transform: none;
    }

    .p-toggleable-content-exit {
        max-height: 1000px;
    }

    .p-toggleable-content-exit-active {
        overflow: hidden;
        max-height: 0;
        transition: max-height 0.45s cubic-bezier(0, 1, 0, 1);
    }

    /* @todo Refactor */
    .p-menu .p-menuitem-link {
        cursor: pointer;
        display: flex;
        align-items: center;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    `.concat(nq,`
    `).concat(aq,`
    `).concat(oq,`
}
`),An={cProps:void 0,cParams:void 0,cName:void 0,defaultProps:{pt:void 0,ptOptions:void 0,unstyled:!1},context:{},globalCSS:void 0,classes:{},styles:"",extend:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.css,n=Si(Si({},e.defaultProps),An.defaultProps),a={},i=function(f){var m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return An.context=m,An.cProps=f,Te.getMergedProps(f,n)},s=function(f){return Te.getDiffProps(f,n)},l=function(){var f,m=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},E=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;m.hasOwnProperty("pt")&&m.pt!==void 0&&(m=m.pt);var y=v,b=/./g.test(y)&&!!h[y.split(".")[0]],x=b?Te.toFlatCase(y.split(".")[1]):Te.toFlatCase(y),w=h.hostName&&Te.toFlatCase(h.hostName),N=w||h.props&&h.props.__TYPE&&Te.toFlatCase(h.props.__TYPE)||"",I=x==="transition",P="data-pc-",L=function(G){return G!=null&&G.props?G.hostName?G.props.__TYPE===G.hostName?G.props:L(G.parent):G.parent:void 0},R=function(G){var te,W;return((te=h.props)===null||te===void 0?void 0:te[G])||((W=L(h))===null||W===void 0?void 0:W[G])};An.cParams=h,An.cName=N;var O=R("ptOptions")||An.context.ptOptions||{},A=O.mergeSections,T=A===void 0?!0:A,C=O.mergeProps,_=C===void 0?!1:C,D=function(){var G=Fu.apply(void 0,arguments);return Array.isArray(G)?{className:sr.apply(void 0,S4(G))}:Te.isString(G)?{className:G}:G!=null&&G.hasOwnProperty("className")&&Array.isArray(G.className)?{className:sr.apply(void 0,S4(G.className))}:G},z=E?b?G7(D,y,h):K7(D,y,h):void 0,V=b?void 0:ry(ty(m,N),D,y,h),J=!I&&Si(Si({},x==="root"&&M5({},"".concat(P,"name"),h.props&&h.props.__parentMetadata?Te.toFlatCase(h.props.__TYPE):N)),{},M5({},"".concat(P,"section"),x));return T||!T&&V?_?zb([z,V,Object.keys(J).length?J:{}],{classNameMergeFunction:(f=An.context.ptOptions)===null||f===void 0?void 0:f.classNameMergeFunction}):Si(Si(Si({},z),V),Object.keys(J).length?J:{}):Si(Si({},V),Object.keys(J).length?J:{})},c=function(){var f=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},m=f.props,v=f.state,h=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return l((m||{}).pt,N,Si(Si({},f),I))},E=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return l(N,I,P,!1)},y=function(){return An.context.unstyled||$n.unstyled||m.unstyled},b=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return y()?void 0:Fu(r&&r.classes,N,Si({props:m,state:v},I))},x=function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(P){var L,R=Fu(r&&r.inlineStyles,N,Si({props:m,state:v},I)),O=Fu(a,N,Si({props:m,state:v},I));return zb([O,R],{classNameMergeFunction:(L=An.context.ptOptions)===null||L===void 0?void 0:L.classNameMergeFunction})}};return{ptm:h,ptmo:E,sx:x,cx:b,isUnstyled:y}};return Si(Si({getProps:i,getOtherProps:s,setMetaData:c},e),{},{defaultProps:n})}},Fu=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=String(Te.toFlatCase(r)).split("."),i=a.shift(),s=Te.isNotEmpty(e)?Object.keys(e).find(function(l){return Te.toFlatCase(l)===i}):"";return i?Te.isObject(e)?Fu(Te.getItemValue(e[s],n),a.join("."),n):void 0:Te.getItemValue(e,n)},ty=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,a=e==null?void 0:e._usept,i=function(l){var c,u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,f=n?n(l):l,m=Te.toFlatCase(r);return(c=u?m!==An.cName?f==null?void 0:f[m]:void 0:f==null?void 0:f[m])!==null&&c!==void 0?c:f};return Te.isNotEmpty(a)?{_usept:a,originalValue:i(e.originalValue),value:i(e.value)}:i(e,!0)},ry=function(e,r,n,a){var i=function(y){return r(y,n,a)};if(e!=null&&e.hasOwnProperty("_usept")){var s=e._usept||An.context.ptOptions||{},l=s.mergeSections,c=l===void 0?!0:l,u=s.mergeProps,f=u===void 0?!1:u,m=s.classNameMergeFunction,v=i(e.originalValue),h=i(e.value);return v===void 0&&h===void 0?void 0:Te.isString(h)?h:Te.isString(v)?v:c||!c&&h?f?zb([v,h],{classNameMergeFunction:m}):Si(Si({},v),h):h}return i(e)},sq=function(){return ty(An.context.pt||$n.pt,void 0,function(e){return Te.getItemValue(e,An.cParams)})},lq=function(){return ty(An.context.pt||$n.pt,void 0,function(e){return Fu(e,An.cName,An.cParams)||Te.getItemValue(e,An.cParams)})},G7=function(e,r,n){return ry(sq(),e,r,n)},K7=function(e,r,n){return ry(lq(),e,r,n)},Ll=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){},n=arguments.length>2?arguments[2]:void 0,a=n.name,i=n.styled,s=i===void 0?!1:i,l=n.hostName,c=l===void 0?"":l,u=G7(Fu,"global.css",An.cParams),f=Te.toFlatCase(a),m=Lf(rq,{name:"base",manual:!0}),v=m.load,h=Lf(iq,{name:"common",manual:!0}),E=h.load,y=Lf(u,{name:"global",manual:!0}),b=y.load,x=Lf(e,{name:a,manual:!0}),w=x.load,N=function(P){if(!c){var L=ry(ty((An.cProps||{}).pt,f),Fu,"hooks.".concat(P)),R=K7(Fu,"hooks.".concat(P));L==null||L(),R==null||R()}};N("useMountEffect"),gs(function(){v(),b(),r()||(E(),s||w())}),ba(function(){N("useUpdateEffect")}),Ls(function(){N("useUnmountEffect")})},Ma={defaultProps:{__TYPE:"IconBase",className:null,label:null,spin:!1},getProps:function(e){return Te.getMergedProps(e,Ma.defaultProps)},getOtherProps:function(e){return Te.getDiffProps(e,Ma.defaultProps)},getPTI:function(e){var r=Te.isEmpty(e.label),n=Ma.getOtherProps(e),a={className:sr("p-icon",{"p-icon-spin":e.spin},e.className),role:r?void 0:"img","aria-label":r?void 0:e.label,"aria-hidden":e.label?r:void 0};return Te.getMergedProps(n,a)}};function D5(){return D5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D5.apply(null,arguments)}var Y7=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",D5({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.99994 14C6.91097 14.0004 6.82281 13.983 6.74064 13.9489C6.65843 13.9148 6.58387 13.8646 6.52133 13.8013L1.10198 8.38193C0.982318 8.25351 0.917175 8.08367 0.920272 7.90817C0.923368 7.73267 0.994462 7.56523 1.11858 7.44111C1.24269 7.317 1.41014 7.2459 1.58563 7.2428C1.76113 7.23971 1.93098 7.30485 2.0594 7.42451L6.32263 11.6877V0.677419C6.32263 0.497756 6.394 0.325452 6.52104 0.198411C6.64808 0.0713706 6.82039 0 7.00005 0C7.17971 0 7.35202 0.0713706 7.47906 0.198411C7.6061 0.325452 7.67747 0.497756 7.67747 0.677419V11.6877L11.9407 7.42451C12.0691 7.30485 12.2389 7.23971 12.4144 7.2428C12.5899 7.2459 12.7574 7.317 12.8815 7.44111C13.0056 7.56523 13.0767 7.73267 13.0798 7.90817C13.0829 8.08367 13.0178 8.25351 12.8981 8.38193L7.47875 13.8013C7.41621 13.8646 7.34164 13.9148 7.25944 13.9489C7.17727 13.983 7.08912 14.0004 7.00015 14C7.00012 14 7.00009 14 7.00005 14C7.00001 14 6.99998 14 6.99994 14Z",fill:"currentColor"}))}));Y7.displayName="ArrowDownIcon";function j5(){return j5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j5.apply(null,arguments)}var J7=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",j5({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.51551 13.799C6.64205 13.9255 6.813 13.9977 6.99193 14C7.17087 13.9977 7.34182 13.9255 7.46835 13.799C7.59489 13.6725 7.66701 13.5015 7.66935 13.3226V2.31233L11.9326 6.57554C11.9951 6.63887 12.0697 6.68907 12.1519 6.72319C12.2341 6.75731 12.3223 6.77467 12.4113 6.77425C12.5003 6.77467 12.5885 6.75731 12.6707 6.72319C12.7529 6.68907 12.8274 6.63887 12.89 6.57554C13.0168 6.44853 13.0881 6.27635 13.0881 6.09683C13.0881 5.91732 13.0168 5.74514 12.89 5.61812L7.48846 0.216594C7.48274 0.210436 7.4769 0.204374 7.47094 0.198411C7.3439 0.0713707 7.1716 0 6.99193 0C6.81227 0 6.63997 0.0713707 6.51293 0.198411C6.50704 0.204296 6.50128 0.210278 6.49563 0.216354L1.09386 5.61812C0.974201 5.74654 0.909057 5.91639 0.912154 6.09189C0.91525 6.26738 0.986345 6.43483 1.11046 6.55894C1.23457 6.68306 1.40202 6.75415 1.57752 6.75725C1.75302 6.76035 1.92286 6.6952 2.05128 6.57554L6.31451 2.31231V13.3226C6.31685 13.5015 6.38898 13.6725 6.51551 13.799Z",fill:"currentColor"}))}));J7.displayName="ArrowUpIcon";function F5(){return F5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F5.apply(null,arguments)}var Mp=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",F5({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M6.99701 14C5.85441 13.999 4.72939 13.7186 3.72012 13.1832C2.71084 12.6478 1.84795 11.8737 1.20673 10.9284C0.565504 9.98305 0.165424 8.89526 0.041387 7.75989C-0.0826496 6.62453 0.073125 5.47607 0.495122 4.4147C0.917119 3.35333 1.59252 2.4113 2.46241 1.67077C3.33229 0.930247 4.37024 0.413729 5.4857 0.166275C6.60117 -0.0811796 7.76026 -0.0520535 8.86188 0.251112C9.9635 0.554278 10.9742 1.12227 11.8057 1.90555C11.915 2.01493 11.9764 2.16319 11.9764 2.31778C11.9764 2.47236 11.915 2.62062 11.8057 2.73C11.7521 2.78503 11.688 2.82877 11.6171 2.85864C11.5463 2.8885 11.4702 2.90389 11.3933 2.90389C11.3165 2.90389 11.2404 2.8885 11.1695 2.85864C11.0987 2.82877 11.0346 2.78503 10.9809 2.73C9.9998 1.81273 8.73246 1.26138 7.39226 1.16876C6.05206 1.07615 4.72086 1.44794 3.62279 2.22152C2.52471 2.99511 1.72683 4.12325 1.36345 5.41602C1.00008 6.70879 1.09342 8.08723 1.62775 9.31926C2.16209 10.5513 3.10478 11.5617 4.29713 12.1803C5.48947 12.7989 6.85865 12.988 8.17414 12.7157C9.48963 12.4435 10.6711 11.7264 11.5196 10.6854C12.3681 9.64432 12.8319 8.34282 12.8328 7C12.8328 6.84529 12.8943 6.69692 13.0038 6.58752C13.1132 6.47812 13.2616 6.41667 13.4164 6.41667C13.5712 6.41667 13.7196 6.47812 13.8291 6.58752C13.9385 6.69692 14 6.84529 14 7C14 8.85651 13.2622 10.637 11.9489 11.9497C10.6356 13.2625 8.85432 14 6.99701 14Z",fill:"currentColor"}))}));Mp.displayName="SpinnerIcon";function $5(){return $5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$5.apply(null,arguments)}var X7=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",$5({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.71602 11.164C5.80782 11.2021 5.9063 11.2215 6.00569 11.221C6.20216 11.2301 6.39427 11.1612 6.54025 11.0294C6.68191 10.8875 6.76148 10.6953 6.76148 10.4948C6.76148 10.2943 6.68191 10.1021 6.54025 9.96024L3.51441 6.9344L6.54025 3.90855C6.624 3.76126 6.65587 3.59011 6.63076 3.42254C6.60564 3.25498 6.525 3.10069 6.40175 2.98442C6.2785 2.86815 6.11978 2.79662 5.95104 2.7813C5.78229 2.76598 5.61329 2.80776 5.47112 2.89994L1.97123 6.39983C1.82957 6.54167 1.75 6.73393 1.75 6.9344C1.75 7.13486 1.82957 7.32712 1.97123 7.46896L5.47112 10.9991C5.54096 11.0698 5.62422 11.1259 5.71602 11.164ZM11.0488 10.9689C11.1775 11.1156 11.3585 11.2061 11.5531 11.221C11.7477 11.2061 11.9288 11.1156 12.0574 10.9689C12.1815 10.8302 12.25 10.6506 12.25 10.4645C12.25 10.2785 12.1815 10.0989 12.0574 9.96024L9.03158 6.93439L12.0574 3.90855C12.1248 3.76739 12.1468 3.60881 12.1204 3.45463C12.0939 3.30045 12.0203 3.15826 11.9097 3.04765C11.7991 2.93703 11.6569 2.86343 11.5027 2.83698C11.3486 2.81053 11.19 2.83252 11.0488 2.89994L7.51865 6.36957C7.37699 6.51141 7.29742 6.70367 7.29742 6.90414C7.29742 7.1046 7.37699 7.29686 7.51865 7.4387L11.0488 10.9689Z",fill:"currentColor"}))}));X7.displayName="AngleDoubleLeftIcon";function z5(){return z5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z5.apply(null,arguments)}function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function cq(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uq(t){var e=cq(t,"string");return sh(e)=="symbol"?e:e+""}function dq(t,e,r){return(e=uq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fq(t){if(Array.isArray(t))return t}function mq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function P4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function pq(t,e){if(t){if(typeof t=="string")return P4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?P4(t,e):void 0}}function gq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hq(t,e){return fq(t)||mq(t,e)||pq(t,e)||gq()}var vq=`
@layer primereact {
    .p-ripple {
        overflow: hidden;
        position: relative;
    }
    
    .p-ink {
        display: block;
        position: absolute;
        background: rgba(255, 255, 255, 0.5);
        border-radius: 100%;
        transform: scale(0);
    }
    
    .p-ink-active {
        animation: ripple 0.4s linear;
    }
    
    .p-ripple-disabled .p-ink {
        display: none;
    }
}

@keyframes ripple {
    100% {
        opacity: 0;
        transform: scale(2.5);
    }
}

`,bq={root:"p-ink"},Um=An.extend({defaultProps:{__TYPE:"Ripple",children:void 0},css:{styles:vq,classes:bq},getProps:function(e){return Te.getMergedProps(e,Um.defaultProps)},getOtherProps:function(e){return Te.getDiffProps(e,Um.defaultProps)}});function N4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N4(Object(r),!0).forEach(function(n){dq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var di=p.memo(p.forwardRef(function(t,e){var r=p.useState(!1),n=hq(r,2),a=n[0],i=n[1],s=p.useRef(null),l=p.useRef(null),c=zn(),u=p.useContext(sa),f=Um.getProps(t,u),m=u&&u.ripple||$n.ripple,v={props:f};Lf(Um.css.styles,{name:"ripple",manual:!m});var h=Um.setMetaData(yq({},v)),E=h.ptm,y=h.cx,b=function(){return s.current&&s.current.parentElement},x=function(){l.current&&l.current.addEventListener("pointerdown",N)},w=function(){l.current&&l.current.removeEventListener("pointerdown",N)},N=function(A){var T=ze.getOffset(l.current),C=A.pageX-T.left+document.body.scrollTop-ze.getWidth(s.current)/2,_=A.pageY-T.top+document.body.scrollLeft-ze.getHeight(s.current)/2;I(C,_)},I=function(A,T){!s.current||getComputedStyle(s.current,null).display==="none"||(ze.removeClass(s.current,"p-ink-active"),L(),s.current.style.top=T+"px",s.current.style.left=A+"px",ze.addClass(s.current,"p-ink-active"))},P=function(A){ze.removeClass(A.currentTarget,"p-ink-active")},L=function(){if(s.current&&!ze.getHeight(s.current)&&!ze.getWidth(s.current)){var A=Math.max(ze.getOuterWidth(l.current),ze.getOuterHeight(l.current));s.current.style.height=A+"px",s.current.style.width=A+"px"}};if(p.useImperativeHandle(e,function(){return{props:f,getInk:function(){return s.current},getTarget:function(){return l.current}}}),gs(function(){i(!0)}),ba(function(){a&&s.current&&(l.current=b(),L(),x())},[a]),ba(function(){s.current&&!l.current&&(l.current=b(),L(),x())}),Ls(function(){s.current&&(l.current=null,w())}),!m)return null;var R=c({"aria-hidden":!0,className:sr(y("root"))},Um.getOtherProps(f),E("root"));return p.createElement("span",z5({role:"presentation",ref:s},R,{onAnimationEnd:P}))}));di.displayName="Ripple";function B5(){return B5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B5.apply(null,arguments)}var Z7=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",B5({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M3.58659 4.5007C3.68513 4.50023 3.78277 4.51945 3.87379 4.55723C3.9648 4.59501 4.04735 4.65058 4.11659 4.7207L7.11659 7.7207L10.1166 4.7207C10.2619 4.65055 10.4259 4.62911 10.5843 4.65956C10.7427 4.69002 10.8871 4.77074 10.996 4.88976C11.1049 5.00877 11.1726 5.15973 11.1889 5.32022C11.2052 5.48072 11.1693 5.6422 11.0866 5.7807L7.58659 9.2807C7.44597 9.42115 7.25534 9.50004 7.05659 9.50004C6.85784 9.50004 6.66722 9.42115 6.52659 9.2807L3.02659 5.7807C2.88614 5.64007 2.80725 5.44945 2.80725 5.2507C2.80725 5.05195 2.88614 4.86132 3.02659 4.7207C3.09932 4.64685 3.18675 4.58911 3.28322 4.55121C3.37969 4.51331 3.48305 4.4961 3.58659 4.5007Z",fill:"currentColor"}))}));Z7.displayName="AngleDownIcon";function U5(){return U5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U5.apply(null,arguments)}var Q7=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",U5({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M10.4134 9.49931C10.3148 9.49977 10.2172 9.48055 10.1262 9.44278C10.0352 9.405 9.95263 9.34942 9.88338 9.27931L6.88338 6.27931L3.88338 9.27931C3.73811 9.34946 3.57409 9.3709 3.41567 9.34044C3.25724 9.30999 3.11286 9.22926 3.00395 9.11025C2.89504 8.99124 2.82741 8.84028 2.8111 8.67978C2.79478 8.51928 2.83065 8.35781 2.91338 8.21931L6.41338 4.71931C6.55401 4.57886 6.74463 4.49997 6.94338 4.49997C7.14213 4.49997 7.33276 4.57886 7.47338 4.71931L10.9734 8.21931C11.1138 8.35994 11.1927 8.55056 11.1927 8.74931C11.1927 8.94806 11.1138 9.13868 10.9734 9.27931C10.9007 9.35315 10.8132 9.41089 10.7168 9.44879C10.6203 9.48669 10.5169 9.5039 10.4134 9.49931Z",fill:"currentColor"}))}));Q7.displayName="AngleUpIcon";function q5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Eq(t){if(Array.isArray(t))return q5(t)}function xq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wq(t,e){if(t){if(typeof t=="string")return q5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q5(t,e):void 0}}function Sq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cq(t){return Eq(t)||xq(t)||wq(t)||Sq()}var qm={DEFAULT_MASKS:{pint:/[\d]/,int:/[\d\-]/,pnum:/[\d\.]/,money:/[\d\.\s,]/,num:/[\d\-\.]/,hex:/[0-9a-f]/i,email:/[a-z0-9_\.\-@]/i,alpha:/[a-z_]/i,alphanum:/[a-z0-9_]/i},getRegex:function(e){return qm.DEFAULT_MASKS[e]?qm.DEFAULT_MASKS[e]:e},onBeforeInput:function(e,r,n){n||!ze.isAndroid()||this.validateKey(e,e.data,r)},onKeyPress:function(e,r,n){n||ze.isAndroid()||e.ctrlKey||e.altKey||e.metaKey||this.validateKey(e,e.key,r)},onPaste:function(e,r,n){if(!n){var a=this.getRegex(r),i=e.clipboardData.getData("text");Cq(i).forEach(function(s){if(!a.test(s))return e.preventDefault(),!1})}},validateKey:function(e,r,n){if(r!=null){var a=r.length<=2;if(a){var i=this.getRegex(n);i.test(r)||e.preventDefault()}}},validate:function(e,r){var n=e.target.value,a=!0,i=this.getRegex(r);return n&&!i.test(n)&&(a=!1),a}};function Pq(t){if(Array.isArray(t))return t}function Nq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function k4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function kq(t,e){if(t){if(typeof t=="string")return k4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?k4(t,e):void 0}}function Aq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Oq(t,e){return Pq(t)||Nq(t,e)||kq(t,e)||Aq()}var V5={defaultProps:{__TYPE:"Portal",element:null,appendTo:null,visible:!1,onMounted:null,onUnmounted:null,children:void 0},getProps:function(e){return Te.getMergedProps(e,V5.defaultProps)},getOtherProps:function(e){return Te.getDiffProps(e,V5.defaultProps)}},ov=p.memo(function(t){var e=V5.getProps(t),r=p.useContext(sa),n=p.useState(e.visible&&ze.isClient()),a=Oq(n,2),i=a[0],s=a[1];gs(function(){ze.isClient()&&!i&&(s(!0),e.onMounted&&e.onMounted())}),ba(function(){e.onMounted&&e.onMounted()},[i]),Ls(function(){e.onUnmounted&&e.onUnmounted()});var l=e.element||e.children;if(l&&i){var c=e.appendTo||r&&r.appendTo||$n.appendTo;return Te.isFunction(c)&&(c=c()),c||(c=document.body),c==="self"?l:zm.createPortal(l,c)}return null});ov.displayName="Portal";function Bb(){return Bb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bb.apply(null,arguments)}function lh(t){"@babel/helpers - typeof";return lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lh(t)}function Iq(t,e){if(lh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _q(t){var e=Iq(t,"string");return lh(e)=="symbol"?e:e+""}function eR(t,e,r){return(e=_q(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Lq(t){if(Array.isArray(t))return H5(t)}function Tq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tR(t,e){if(t){if(typeof t=="string")return H5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H5(t,e):void 0}}function Rq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mq(t){return Lq(t)||Tq(t)||tR(t)||Rq()}function Dq(t){if(Array.isArray(t))return t}function jq(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Fq(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cm(t,e){return Dq(t)||jq(t,e)||tR(t,e)||Fq()}var $q={root:function(e){var r=e.positionState,n=e.classNameState;return sr("p-tooltip p-component",eR({},"p-tooltip-".concat(r),!0),n)},arrow:"p-tooltip-arrow",text:"p-tooltip-text"},zq={arrow:function(e){var r=e.context;return{top:r.bottom?"0":r.right||r.left||!r.right&&!r.left&&!r.top&&!r.bottom?"50%":null,bottom:r.top?"0":null,left:r.right||!r.right&&!r.left&&!r.top&&!r.bottom?"0":r.top||r.bottom?"50%":null,right:r.left?"0":null}}},Bq=`
@layer primereact {
    .p-tooltip {
        position: absolute;
        padding: .25em .5rem;
        /* #3687: Tooltip prevent scrollbar flickering */
        top: -9999px;
        left: -9999px;
    }
    
    .p-tooltip.p-tooltip-right,
    .p-tooltip.p-tooltip-left {
        padding: 0 .25rem;
    }
    
    .p-tooltip.p-tooltip-top,
    .p-tooltip.p-tooltip-bottom {
        padding:.25em 0;
    }
    
    .p-tooltip .p-tooltip-text {
       white-space: pre-line;
       word-break: break-word;
    }
    
    .p-tooltip-arrow {
        position: absolute;
        width: 0;
        height: 0;
        border-color: transparent;
        border-style: solid;
    }
    
    .p-tooltip-right .p-tooltip-arrow {
        top: 50%;
        left: 0;
        margin-top: -.25rem;
        border-width: .25em .25em .25em 0;
    }
    
    .p-tooltip-left .p-tooltip-arrow {
        top: 50%;
        right: 0;
        margin-top: -.25rem;
        border-width: .25em 0 .25em .25rem;
    }
    
    .p-tooltip.p-tooltip-top {
        padding: .25em 0;
    }
    
    .p-tooltip-top .p-tooltip-arrow {
        bottom: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: .25em .25em 0;
    }
    
    .p-tooltip-bottom .p-tooltip-arrow {
        top: 0;
        left: 50%;
        margin-left: -.25rem;
        border-width: 0 .25em .25rem;
    }

    .p-tooltip-target-wrapper {
        display: inline-flex;
    }
}
`,Vv=An.extend({defaultProps:{__TYPE:"Tooltip",appendTo:null,at:null,autoHide:!0,autoZIndex:!0,baseZIndex:0,className:null,closeOnEscape:!1,content:null,disabled:!1,event:null,hideDelay:0,hideEvent:"mouseleave",id:null,mouseTrack:!1,mouseTrackLeft:5,mouseTrackTop:5,my:null,onBeforeHide:null,onBeforeShow:null,onHide:null,onShow:null,position:"right",showDelay:0,showEvent:"mouseenter",showOnDisabled:!1,style:null,target:null,updateDelay:0,children:void 0},css:{classes:$q,styles:Bq,inlineStyles:zq}});function A4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Uq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(r),!0).forEach(function(n){eR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Bc=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=Vv.getProps(t,n),i=p.useState(!1),s=Cm(i,2),l=s[0],c=s[1],u=p.useState(a.position||"right"),f=Cm(u,2),m=f[0],v=f[1],h=p.useState(""),E=Cm(h,2),y=E[0],b=E[1],x=p.useState(!1),w=Cm(x,2),N=w[0],I=w[1],P=l&&a.closeOnEscape,L=qU("tooltip",P),R={props:a,state:{visible:l,position:m,className:y},context:{right:m==="right",left:m==="left",top:m==="top",bottom:m==="bottom"}},O=Vv.setMetaData(R),A=O.ptm,T=O.cx,C=O.sx,_=O.isUnstyled;Ll(Vv.css.styles,_,{name:"tooltip"}),KU({callback:function(){Ke()},when:P,priority:[GU.TOOLTIP,L]});var D=p.useRef(null),z=p.useRef(null),V=p.useRef(null),J=p.useRef(null),ie=p.useRef(!0),G=p.useRef({}),te=p.useRef(null),W=c3({listener:function(Ne){!ze.isTouchDevice()&&Ke(Ne)}}),B=Cm(W,2),j=B[0],U=B[1],X=W7({target:V.current,listener:function(Ne){Ke(Ne)},when:l}),Z=Cm(X,2),me=Z[0],de=Z[1],oe=function(Ne){return!(a.content||He(Ne,"tooltip"))},ee=function(Ne){return!(a.content||He(Ne,"tooltip")||a.children)},le=function(Ne){return He(Ne,"mousetrack")||a.mouseTrack},pe=function(Ne){return He(Ne,"disabled")==="true"||Re(Ne,"disabled")||a.disabled},ce=function(Ne){return He(Ne,"showondisabled")||a.showOnDisabled},_e=function(){return He(V.current,"autohide")||a.autoHide},He=function(Ne,qe){return Re(Ne,"data-pr-".concat(qe))?Ne.getAttribute("data-pr-".concat(qe)):null},Re=function(Ne,qe){return Ne&&Ne.hasAttribute(qe)},be=function(Ne){var qe=[He(Ne,"showevent")||a.showEvent],Nt=[He(Ne,"hideevent")||a.hideEvent];if(le(Ne))qe=["mousemove"],Nt=["mouseleave"];else{var St=He(Ne,"event")||a.event;St==="focus"&&(qe=["focus"],Nt=["blur"]),St==="both"&&(qe=["focus","mouseenter"],Nt=N?["blur"]:["mouseleave","blur"])}return{showEvents:qe,hideEvents:Nt}},gt=function(Ne){return He(Ne,"position")||m},Ae=function(Ne){var qe=He(Ne,"mousetracktop")||a.mouseTrackTop,Nt=He(Ne,"mousetrackleft")||a.mouseTrackLeft;return{top:qe,left:Nt}},ke=function(Ne,qe){if(z.current){var Nt=He(Ne,"tooltip")||a.content;Nt?(z.current.innerHTML="",z.current.appendChild(document.createTextNode(Nt)),qe()):a.children&&qe()}},Be=function(Ne){ke(V.current,function(){var qe=te.current,Nt=qe.pageX,St=qe.pageY;a.autoZIndex&&!Xs.get(D.current)&&Xs.set("tooltip",D.current,n&&n.autoZIndex||$n.autoZIndex,a.baseZIndex||n&&n.zIndex.tooltip||$n.zIndex.tooltip),D.current.style.left="",D.current.style.top="",_e()&&(D.current.style.pointerEvents="none");var Ot=le(V.current)||Ne==="mouse";(Ot&&!J.current||Ot)&&(J.current={width:ze.getOuterWidth(D.current),height:ze.getOuterHeight(D.current)}),Et(V.current,{x:Nt,y:St},Ne)})},Xe=function(Ne){Ne.type&&Ne.type==="focus"&&I(!0),V.current=Ne.currentTarget;var qe=pe(V.current),Nt=ee(ce(V.current)&&qe?V.current.firstChild:V.current);if(!(Nt||qe))if(te.current=Ne,l)Kt("updateDelay",Be);else{var St=bt(a.onBeforeShow,{originalEvent:Ne,target:V.current});St&&Kt("showDelay",function(){c(!0),bt(a.onShow,{originalEvent:Ne,target:V.current})})}},Ke=function(Ne){if(Ne&&Ne.type==="blur"&&I(!1),Ar(),l){var qe=bt(a.onBeforeHide,{originalEvent:Ne,target:V.current});qe&&Kt("hideDelay",function(){!_e()&&ie.current===!1||(Xs.clear(D.current),ze.removeClass(D.current,"p-tooltip-active"),c(!1),bt(a.onHide,{originalEvent:Ne,target:V.current}))})}else!a.onBeforeHide&&!ht("hideDelay")&&c(!1)},Et=function(Ne,qe,Nt){var St=0,Ot=0,gr=Nt||m;if((le(Ne)||gr=="mouse")&&qe){var lr={width:ze.getOuterWidth(D.current),height:ze.getOuterHeight(D.current)};St=qe.x,Ot=qe.y;var zr=Ae(Ne),st=zr.top,Ct=zr.left;switch(gr){case"left":St=St-(lr.width+Ct),Ot=Ot-(lr.height/2-st);break;case"right":case"mouse":St=St+Ct,Ot=Ot-(lr.height/2-st);break;case"top":St=St-(lr.width/2-Ct),Ot=Ot-(lr.height+st);break;case"bottom":St=St-(lr.width/2-Ct),Ot=Ot+st;break}St<=0||J.current.width>lr.width?(D.current.style.left="0px",D.current.style.right=window.innerWidth-lr.width-St+"px"):(D.current.style.right="",D.current.style.left=St+"px"),D.current.style.top=Ot+"px",ze.addClass(D.current,"p-tooltip-active")}else{var _t=ze.findCollisionPosition(gr),Kr=He(Ne,"my")||a.my||_t.my,yn=He(Ne,"at")||a.at||_t.at;D.current.style.padding="0px",ze.flipfitCollision(D.current,Ne,Kr,yn,function(en){var pr=en.at,Tr=pr.x,mn=pr.y,rn=en.my.x,er=a.at?Tr!=="center"&&Tr!==rn?Tr:mn:en.at["".concat(_t.axis)];D.current.style.padding="",v(er),ut(er),ze.addClass(D.current,"p-tooltip-active")})}},ut=function(Ne){if(D.current){var qe=getComputedStyle(D.current);Ne==="left"?D.current.style.left=parseFloat(qe.left)-parseFloat(qe.paddingLeft)*2+"px":Ne==="top"&&(D.current.style.top=parseFloat(qe.top)-parseFloat(qe.paddingTop)*2+"px")}},zt=function(){_e()||(ie.current=!1)},Gt=function(Ne){_e()||(ie.current=!0,Ke(Ne))},mt=function(Ne){if(Ne){var qe=be(Ne),Nt=qe.showEvents,St=qe.hideEvents,Ot=Jt(Ne);Nt.forEach(function(gr){return Ot==null?void 0:Ot.addEventListener(gr,Xe)}),St.forEach(function(gr){return Ot==null?void 0:Ot.addEventListener(gr,Ke)})}},nt=function(Ne){if(Ne){var qe=be(Ne),Nt=qe.showEvents,St=qe.hideEvents,Ot=Jt(Ne);Nt.forEach(function(gr){return Ot==null?void 0:Ot.removeEventListener(gr,Xe)}),St.forEach(function(gr){return Ot==null?void 0:Ot.removeEventListener(gr,Ke)})}},ht=function(Ne){return He(V.current,Ne.toLowerCase())||a[Ne]},Kt=function(Ne,qe){Ar();var Nt=ht(Ne);Nt?G.current["".concat(Ne)]=setTimeout(function(){return qe()},Nt):qe()},bt=function(Ne){if(Ne){for(var qe=arguments.length,Nt=new Array(qe>1?qe-1:0),St=1;St<qe;St++)Nt[St-1]=arguments[St];var Ot=Ne.apply(void 0,Nt);return Ot===void 0&&(Ot=!0),Ot}return!0},Ar=function(){Object.values(G.current).forEach(function(Ne){return clearTimeout(Ne)})},Jt=function(Ne){if(Ne){if(ce(Ne)){if(!Ne.hasWrapper){var qe=document.createElement("div"),Nt=Ne.nodeName==="INPUT";return Nt?ze.addMultipleClasses(qe,"p-tooltip-target-wrapper p-inputwrapper"):ze.addClass(qe,"p-tooltip-target-wrapper"),Ne.parentNode.insertBefore(qe,Ne),qe.appendChild(Ne),Ne.hasWrapper=!0,qe}return Ne.parentElement}else if(Ne.hasWrapper){var St;(St=Ne.parentElement).replaceWith.apply(St,Mq(Ne.parentElement.childNodes)),delete Ne.hasWrapper}return Ne}return null},Lr=function(Ne){wr(Ne),mr(Ne)},mr=function(Ne){Ur(Ne||a.target,mt)},wr=function(Ne){Ur(Ne||a.target,nt)},Ur=function(Ne,qe){if(Ne=Te.getRefElement(Ne),Ne)if(ze.isElement(Ne))qe(Ne);else{var Nt=function(Ot){var gr=ze.find(document,Ot);gr.forEach(function(lr){qe(lr)})};Ne instanceof Array?Ne.forEach(function(St){Nt(St)}):Nt(Ne)}};gs(function(){l&&V.current&&pe(V.current)&&Ke()}),ba(function(){return mr(),function(){wr()}},[Xe,Ke,a.target]),ba(function(){if(l){var Ee=gt(V.current),Ne=He(V.current,"classname");v(Ee),b(Ne),Be(Ee),j(),me()}else v(a.position||"right"),b(""),V.current=null,J.current=null,ie.current=!0;return function(){U(),de()}},[l]),ba(function(){var Ee=gt(V.current);l&&Ee!=="mouse"&&Kt("updateDelay",function(){ke(V.current,function(){Et(V.current)})})},[a.content]),Ls(function(){Ke(),Xs.clear(D.current)}),p.useImperativeHandle(e,function(){return{props:a,updateTargetEvents:Lr,loadTargetEvents:mr,unloadTargetEvents:wr,show:Xe,hide:Ke,getElement:function(){return D.current},getTarget:function(){return V.current}}});var Sr=function(){var Ne=oe(V.current),qe=r({id:a.id,className:sr(a.className,T("root",{positionState:m,classNameState:y})),style:a.style,role:"tooltip","aria-hidden":l,onMouseEnter:function(gr){return zt()},onMouseLeave:function(gr){return Gt(gr)}},Vv.getOtherProps(a),A("root")),Nt=r({className:T("arrow"),style:C("arrow",Uq({},R))},A("arrow")),St=r({className:T("text")},A("text"));return p.createElement("div",Bb({ref:D},qe),p.createElement("div",Nt),p.createElement("div",Bb({ref:z},St),Ne&&a.children))};if(l){var kt=Sr();return p.createElement(ov,{element:kt,appendTo:a.appendTo,visible:!0})}return null}));Bc.displayName="Tooltip";function Ub(){return Ub=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ub.apply(null,arguments)}function ch(t){"@babel/helpers - typeof";return ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ch(t)}function qq(t,e){if(ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vq(t){var e=qq(t,"string");return ch(e)=="symbol"?e:e+""}function Hq(t,e,r){return(e=Vq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Wq={root:function(e){var r=e.props,n=e.isFilled,a=e.context;return sr("p-inputtext p-component",{"p-disabled":r.disabled,"p-filled":n,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":a&&a.inputStyle==="filled"})}},Hv=An.extend({defaultProps:{__TYPE:"InputText",__parentMetadata:null,children:void 0,className:null,invalid:!1,variant:null,keyfilter:null,onBeforeInput:null,onInput:null,onKeyDown:null,onPaste:null,tooltip:null,tooltipOptions:null,validateOnly:!1,iconPosition:null},css:{classes:Wq}});function O4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function I4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?O4(Object(r),!0).forEach(function(n){Hq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):O4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ny=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=Hv.getProps(t,n),i=Hv.setMetaData(I4(I4({props:a},a.__parentMetadata),{},{context:{disabled:a.disabled,iconPosition:a.iconPosition}})),s=i.ptm,l=i.cx,c=i.isUnstyled;Ll(Hv.css.styles,c,{name:"inputtext",styled:!0});var u=p.useRef(e),f=function(w){a.onKeyDown&&a.onKeyDown(w),a.keyfilter&&qm.onKeyPress(w,a.keyfilter,a.validateOnly)},m=function(w){a.onBeforeInput&&a.onBeforeInput(w),a.keyfilter&&qm.onBeforeInput(w,a.keyfilter,a.validateOnly)},v=function(w){var N=w.target,I=!0;a.keyfilter&&a.validateOnly&&(I=qm.validate(w,a.keyfilter)),a.onInput&&a.onInput(w,I),Te.isNotEmpty(N.value)?ze.addClass(N,"p-filled"):ze.removeClass(N,"p-filled")},h=function(w){a.onPaste&&a.onPaste(w),a.keyfilter&&qm.onPaste(w,a.keyfilter,a.validateOnly)};p.useEffect(function(){Te.combinedRefs(u,e)},[u,e]);var E=p.useMemo(function(){return Te.isNotEmpty(a.value)||Te.isNotEmpty(a.defaultValue)},[a.value,a.defaultValue]),y=Te.isNotEmpty(a.tooltip);p.useEffect(function(){var x;E||(x=u.current)!==null&&x!==void 0&&x.value?ze.addClass(u.current,"p-filled"):ze.removeClass(u.current,"p-filled")},[a.disabled,E]);var b=r({className:sr(a.className,l("root",{context:n,isFilled:E})),onBeforeInput:m,onInput:v,onKeyDown:f,onPaste:h},Hv.getOtherProps(a),s("root"));return p.createElement(p.Fragment,null,p.createElement("input",Ub({ref:u},b)),y&&p.createElement(Bc,Ub({target:u,content:a.tooltip,pt:s("tooltip")},a.tooltipOptions)))}));ny.displayName="InputText";function zg(){return zg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zg.apply(null,arguments)}function W5(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Gq(t){if(Array.isArray(t))return W5(t)}function Kq(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function rR(t,e){if(t){if(typeof t=="string")return W5(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?W5(t,e):void 0}}function Yq(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jq(t){return Gq(t)||Kq(t)||rR(t)||Yq()}function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function Xq(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zq(t){var e=Xq(t,"string");return uh(e)=="symbol"?e:e+""}function Qq(t,e,r){return(e=Zq(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eV(t){if(Array.isArray(t))return t}function tV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function rV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nV(t,e){return eV(t)||tV(t,e)||rR(t,e)||rV()}var aV={root:function(e){var r=e.props,n=e.focusedState,a=e.stacked,i=e.horizontal,s=e.vertical;return sr("p-inputnumber p-component p-inputwrapper",{"p-inputwrapper-filled":r.value!=null&&r.value.toString().length>0,"p-inputwrapper-focus":n,"p-inputnumber-buttons-stacked":a,"p-inputnumber-buttons-horizontal":i,"p-inputnumber-buttons-vertical":s,"p-invalid":r.invalid})},input:function(e){var r=e.props,n=e.context;return sr("p-inputnumber-input",{"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},buttonGroup:"p-inputnumber-button-group",incrementButton:function(e){var r=e.props;return sr("p-inputnumber-button p-inputnumber-button-up p-button p-button-icon-only p-component",{"p-disabled":r.disabled})},incrementIcon:"p-button-icon",decrementButton:function(e){var r=e.props;return sr("p-inputnumber-button p-inputnumber-button-down p-button p-button-icon-only p-component",{"p-disabled":r.disabled})},decrementIcon:"p-button-icon"},oV=`
@layer primereact {
    .p-inputnumber {
        display: inline-flex;
    }
    
    .p-inputnumber-button {
        display: flex;
        align-items: center;
        justify-content: center;
        flex: 0 0 auto;
    }
    
    .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button .p-button-label,
    .p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button .p-button-label {
        display: none;
    }
    
    .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-up {
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        padding: 0;
    }
    
    .p-inputnumber-buttons-stacked .p-inputnumber-input {
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }
    
    .p-inputnumber-buttons-stacked .p-button.p-inputnumber-button-down {
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        border-bottom-left-radius: 0;
        padding: 0;
    }
    
    .p-inputnumber-buttons-stacked .p-inputnumber-button-group {
        display: flex;
        flex-direction: column;
    }
    
    .p-inputnumber-buttons-stacked .p-inputnumber-button-group .p-button.p-inputnumber-button {
        flex: 1 1 auto;
    }
    
    .p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-up {
        order: 3;
        border-top-left-radius: 0;
        border-bottom-left-radius: 0;
    }
    
    .p-inputnumber-buttons-horizontal .p-inputnumber-input {
        order: 2;
        border-radius: 0;
    }
    
    .p-inputnumber-buttons-horizontal .p-button.p-inputnumber-button-down {
        order: 1;
        border-top-right-radius: 0;
        border-bottom-right-radius: 0;
    }
    
    .p-inputnumber-buttons-vertical {
        flex-direction: column;
    }
    
    .p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-up {
        order: 1;
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        width: 100%;
    }
    
    .p-inputnumber-buttons-vertical .p-inputnumber-input {
        order: 2;
        border-radius: 0;
        text-align: center;
    }
    
    .p-inputnumber-buttons-vertical .p-button.p-inputnumber-button-down {
        order: 3;
        border-top-left-radius: 0;
        border-top-right-radius: 0;
        width: 100%;
    }
    
    .p-inputnumber-input {
        flex: 1 1 auto;
    }
    
    .p-fluid .p-inputnumber {
        width: 100%;
    }
    
    .p-fluid .p-inputnumber .p-inputnumber-input {
        width: 1%;
    }
    
    .p-fluid .p-inputnumber-buttons-vertical .p-inputnumber-input {
        width: 100%;
    }
}
`,Wv=An.extend({defaultProps:{__TYPE:"InputNumber",__parentMetadata:null,allowEmpty:!0,ariaLabelledBy:null,autoFocus:!1,buttonLayout:"stacked",className:null,currency:void 0,currencyDisplay:void 0,decrementButtonClassName:null,decrementButtonIcon:null,disabled:!1,format:!0,id:null,incrementButtonClassName:null,incrementButtonIcon:null,inputClassName:null,inputId:null,inputMode:null,inputRef:null,inputStyle:null,invalid:!1,variant:null,locale:void 0,localeMatcher:void 0,max:null,maxFractionDigits:void 0,maxLength:null,min:null,minFractionDigits:void 0,mode:"decimal",name:null,onBlur:null,onChange:null,onFocus:null,onKeyDown:null,onKeyUp:null,onValueChange:null,pattern:null,placeholder:null,prefix:null,readOnly:!1,required:!1,roundingMode:void 0,showButtons:!1,size:null,step:1,style:null,suffix:null,tabIndex:null,tooltip:null,tooltipOptions:null,type:"text",useGrouping:!0,value:null,children:void 0},css:{classes:aV,styles:oV}});function _4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_4(Object(r),!0).forEach(function(n){Qq(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var nR=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=Wv.getProps(t,n),i=p.useState(!1),s=nV(i,2),l=s[0],c=s[1],u=Pm(Pm({props:a},a.__parentMetadata),{},{state:{focused:l}}),f=Wv.setMetaData(u),m=f.ptm,v=f.cx,h=f.isUnstyled;Ll(Wv.css.styles,h,{name:"inputnumber"});var E=p.useRef(null),y=p.useRef(null),b=p.useRef(null),x=p.useRef(null),w=p.useRef(null),N=p.useRef(null),I=p.useRef(null),P=p.useRef(null),L=p.useRef(null),R=p.useRef(null),O=p.useRef(null),A=p.useRef(null),T=p.useRef(null),C=p.useRef(null),_=p.useRef(null),D=p.useRef(null),z=p.useRef(null),V=p.useRef(null),J=p.useRef(!1),ie=a.locale||n&&n.locale||$n.locale,G=a.showButtons&&a.buttonLayout==="stacked",te=a.showButtons&&a.buttonLayout==="horizontal",W=a.showButtons&&a.buttonLayout==="vertical",B=a.inputMode||(a.mode==="decimal"&&!a.minFractionDigits?"numeric":"decimal"),j=function(){var ae,Se;return{localeMatcher:a.localeMatcher,style:a.mode,currency:a.currency,currencyDisplay:a.currencyDisplay,useGrouping:a.useGrouping,minimumFractionDigits:(ae=a.minFractionDigits)!==null&&ae!==void 0?ae:void 0,maximumFractionDigits:(Se=a.maxFractionDigits)!==null&&Se!==void 0?Se:void 0,roundingMode:a.roundingMode}},U=function(){w.current=new Intl.NumberFormat(ie,j());var ae=Jq(new Intl.NumberFormat(ie,{useGrouping:!1}).format(9876543210)).reverse(),Se=new Map(ae.map(function(Ue,tt){return[Ue,tt]}));R.current=new RegExp("[".concat(ae.join(""),"]"),"g"),O.current=de(),A.current=oe(),T.current=ee(),C.current=me(),_.current=Z(),D.current=pe(),z.current=le(),V.current=function(Ue){return Se.get(Ue)}},X=function(ae){return ae.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},Z=function(){return new Intl.NumberFormat(ie,{useGrouping:!1}).format(1.1).trim().replace(R.current,"")},me=function(){var ae=new Intl.NumberFormat(ie,Pm(Pm({},j()),{},{useGrouping:!1}));return new RegExp("[".concat(ae.format(1.1).replace(T.current,"").trim().replace(R.current,""),"]"),"g")},de=function(){var ae=new Intl.NumberFormat(ie,{useGrouping:!0});return N.current=ae.format(1e6).trim().replace(R.current,"").charAt(0),new RegExp("[".concat(N.current,"]"),"g")},oe=function(){var ae=new Intl.NumberFormat(ie,{useGrouping:!1});return new RegExp("[".concat(ae.format(-1).trim().replace(R.current,""),"]"),"g")},ee=function(){if(a.currency){var ae=new Intl.NumberFormat(ie,{style:"currency",currency:a.currency,currencyDisplay:a.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:a.roundingMode});return new RegExp("[".concat(ae.format(1).replace(/\s/g,"").replace(R.current,"").replace(O.current,""),"]"),"g")}return new RegExp("[]","g")},le=function(){if(a.prefix)I.current=a.prefix;else{var ae=new Intl.NumberFormat(ie,{style:a.mode,currency:a.currency,currencyDisplay:a.currencyDisplay});I.current=ae.format(1).split("1")[0]}return new RegExp("".concat(X(I.current||"")),"g")},pe=function(){if(a.suffix)P.current=a.suffix;else{var ae=new Intl.NumberFormat(ie,{style:a.mode,currency:a.currency,currencyDisplay:a.currencyDisplay,minimumFractionDigits:0,maximumFractionDigits:0,roundingMode:a.roundingMode});P.current=ae.format(1).split("1")[1]}return new RegExp("".concat(X(P.current||"")),"g")},ce=function(ae){if(ae!=null){if(ae==="-")return ae;if(a.format){var Se=new Intl.NumberFormat(ie,j()),Ue=Se.format(ae);return a.prefix&&(Ue=a.prefix+Ue),a.suffix&&(Ue=Ue+a.suffix),Ue}return ae.toString()}return""},_e=function(ae){var Se=ae.replace(D.current,"").replace(z.current,"").trim().replace(/\s/g,"").replace(T.current,"").replace(O.current,"").replace(A.current,"-").replace(C.current,".").replace(R.current,V.current);if(Se){if(Se==="-")return Se;var Ue=+Se;return isNaN(Ue)?null:Ue}return null},He=function(ae,Se,Ue){var tt=Se||500;At(),b.current=setTimeout(function(){He(ae,40,Ue)},tt),Re(ae,Ue)},Re=function(ae,Se){if(y.current){var Ue=a.step*Se,tt=_e(y.current.value)||0,pt=_t(tt+Ue);if(a.maxLength&&a.maxLength<ce(pt).length)return;st(ae,tt,pt),!ze.isTouchDevice()&&yn(pt,null,"spin"),rn(ae,pt)}},be=function(ae){!a.disabled&&!a.readOnly&&(ze.isTouchDevice()||ze.focus(y.current,a.autoFocus),He(ae,null,1),ae.preventDefault())},gt=function(){!a.disabled&&!a.readOnly&&At()},Ae=function(){!a.disabled&&!a.readOnly&&At()},ke=function(){!a.disabled&&!a.readOnly&&At()},Be=function(ae){!a.disabled&&!a.readOnly&&(ae.keyCode===32||ae.keyCode===13)&&He(ae,null,1)},Xe=function(ae){!a.disabled&&!a.readOnly&&(ze.isTouchDevice()||ze.focus(y.current,a.autoFocus),He(ae,null,-1),ae.preventDefault())},Ke=function(){!a.disabled&&!a.readOnly&&At()},Et=function(){!a.disabled&&!a.readOnly&&At()},ut=function(){!a.disabled&&!a.readOnly&&At()},zt=function(ae){!a.disabled&&!a.readOnly&&(ae.keyCode===32||ae.keyCode===13)&&He(ae,null,-1)},Gt=function(ae){if(!(a.disabled||a.readOnly)&&(L.current&&(ae.target.value=x.current,L.current=!1),!ze.isAndroid())){var Se=ae.nativeEvent.inputType,Ue=ae.nativeEvent.data;Se==="insertText"&&/\D/.test(Ue)&&(ae.target.value=x.current)}},mt=function(ae){if(!(!ze.isAndroid()||a.disabled||a.readOnly)&&!(a.onKeyUp&&(a.onKeyUp(ae),ae.defaultPrevented))){var Se=ae.which||ae.keyCode;Se!==13&&ae.preventDefault();var Ue=String.fromCharCode(Se),tt=Jt(Ue),pt=bt(Ue);48<=Se&&Se<=57||pt||tt?Sr(ae,Ue,{isDecimalSign:tt,isMinusSign:pt}):lr(ae,ae.target.value,null,"delete-single")}},nt=function(ae){if(!(a.disabled||a.readOnly)){if(ae.altKey||ae.ctrlKey||ae.metaKey){ae.key.toLowerCase()==="x"&&(ae.ctrlKey||ae.metaKey)?L.current=!1:L.current=!0;return}if(!(a.onKeyDown&&(a.onKeyDown(ae),ae.defaultPrevented))&&(x.current=ae.target.value,!ze.isAndroid())){var Se=ae.target.selectionStart,Ue=ae.target.selectionEnd,tt=ae.target.value,pt=null;switch(ae.code){case"ArrowUp":Re(ae,1),ae.preventDefault();break;case"ArrowDown":Re(ae,-1),ae.preventDefault();break;case"ArrowLeft":Ot(tt.charAt(Se-1))||ae.preventDefault();break;case"ArrowRight":Ot(tt.charAt(Se))||ae.preventDefault();break;case"Tab":case"Enter":case"NumpadEnter":pt=_t(_e(tt)),y.current.value=ce(pt),y.current.setAttribute("aria-valuenow",pt),rn(ae,pt);break;case"Backspace":if(ae.preventDefault(),Se===Ue){var Bt=tt.charAt(Se-1);if(Ot(Bt)){var ar=wr(tt),Cr=ar.decimalCharIndex,qr=ar.decimalCharIndexWithoutPrefix,Rn=mn(tt);if(O.current.test(Bt))O.current.lastIndex=0,pt=tt.slice(0,Se-2)+tt.slice(Se-1);else if(C.current.test(Bt))C.current.lastIndex=0,Rn?y.current.setSelectionRange(Se-1,Se-1):pt=tt.slice(0,Se-1)+tt.slice(Se);else if(Cr>0&&Se>Cr){var Mn=Lr()&&(a.minFractionDigits||0)<Rn?"":"0";pt=tt.slice(0,Se-1)+Mn+tt.slice(Se)}else qr===1?(pt=tt.slice(0,Se-1)+"0"+tt.slice(Se),pt=_e(pt)>0?pt:""):pt=tt.slice(0,Se-1)+tt.slice(Se)}else if(T.current.test(Bt)){var kr=Ur(tt),Vr=kr.minusCharIndex,Mr=kr.currencyCharIndex;Vr===Mr-1&&(pt=tt.slice(0,Vr)+tt.slice(Se))}lr(ae,pt,null,"delete-single")}else pt=Ne(tt,Se,Ue),lr(ae,pt,null,"delete-range");break;case"Delete":if(ae.preventDefault(),Se===Ue){var on=tt.charAt(Se),Pn=wr(tt),la=Pn.decimalCharIndex,ra=Pn.decimalCharIndexWithoutPrefix;if(Ot(on)){var Tn=mn(tt);if(O.current.test(on))O.current.lastIndex=0,pt=tt.slice(0,Se)+tt.slice(Se+2);else if(C.current.test(on))C.current.lastIndex=0,Tn?y.current.setSelectionRange(Se+1,Se+1):pt=tt.slice(0,Se)+tt.slice(Se+1);else if(la>0&&Se>la){var sn=Lr()&&(a.minFractionDigits||0)<Tn?"":"0";pt=tt.slice(0,Se)+sn+tt.slice(Se+1)}else ra===1?(pt=tt.slice(0,Se)+"0"+tt.slice(Se+1),pt=_e(pt)>0?pt:""):pt=tt.slice(0,Se)+tt.slice(Se+1)}lr(ae,pt,null,"delete-back-single")}else pt=Ne(tt,Se,Ue),lr(ae,pt,null,"delete-range");break;case"End":ae.preventDefault(),Te.isEmpty(a.max)||rn(ae,a.max);break;case"Home":ae.preventDefault(),Te.isEmpty(a.min)||rn(ae,a.min);break;default:ae.preventDefault();var Sa=ae.key;if(Sa){var cn=Jt(Sa),oo=bt(Sa);(Number(Sa)>=0&&Number(Sa)<=9||oo||cn)&&Sr(ae,Sa,{isDecimalSign:cn,isMinusSign:oo})}break}}}},ht=function(ae){if(ae.preventDefault(),!(a.disabled||a.readOnly)){var Se=(ae.clipboardData||window.clipboardData).getData("Text");if(Se){var Ue=_e(Se);if(Ue!=null)if(mr(Ue)){var tt=ce(Ue);y.current.value=tt,rn(ae,Ue)}else Sr(ae,Ue.toString())}}},Kt=function(){return Te.isEmpty(a.min)||a.min<0},bt=function(ae){return A.current.test(ae)||ae==="-"?(A.current.lastIndex=0,!0):!1},Ar=function(ae){return mr(ae)?ae.toString().replace(/\.(?=[^.]*$)/,_.current):ae},Jt=function(ae){return C.current.test(ae)||mr(ae)?(C.current.lastIndex=0,!0):!1},Lr=function(){return a.mode==="decimal"},mr=function(ae){var Se=new Intl.NumberFormat(ie,j()),Ue=_e(Se.format(ae));return Ue===null?!1:Ue%1!==0},wr=function(ae){var Se=ae.search(C.current);C.current.lastIndex=0;var Ue=ae.replace(z.current,"").trim().replace(/\s/g,"").replace(T.current,""),tt=Ue.search(C.current);return C.current.lastIndex=0,{decimalCharIndex:Se,decimalCharIndexWithoutPrefix:tt}},Ur=function(ae){var Se=ae.search(C.current);C.current.lastIndex=0;var Ue=ae.search(A.current);A.current.lastIndex=0;var tt=ae.search(D.current);D.current.lastIndex=0;var pt=ae.search(T.current);return pt===0&&I.current&&I.current.length>1&&(pt=I.current.trim().length),T.current.lastIndex=0,{decimalCharIndex:Se,minusCharIndex:Ue,suffixCharIndex:tt,currencyCharIndex:pt}},Sr=function(ae,Se){var Ue=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{isDecimalSign:!1,isMinusSign:!1},tt=Se.search(A.current);if(A.current.lastIndex=0,!(!Kt()&&tt!==-1)){var pt=y.current.selectionStart,Bt=y.current.selectionEnd,ar=y.current.value.trim(),Cr=Ur(ar),qr=Cr.decimalCharIndex,Rn=Cr.minusCharIndex,Mn=Cr.suffixCharIndex,kr=Cr.currencyCharIndex,Vr=w.current.resolvedOptions().maximumFractionDigits,Mr;if(Ue.isMinusSign){var on=Rn===-1;(pt===0||pt===kr+1)&&(Mr=ar,(on||Bt!==0)&&(Mr=Ee(ar,Se,0,Bt)),lr(ae,Mr,Se,"insert"))}else if(Ue.isDecimalSign){if(qr>0&&pt===qr)lr(ae,ar,Se,"insert");else if(qr>pt&&qr<Bt)Mr=Ee(ar,Se,pt,Bt),lr(ae,Mr,Se,"insert");else if(qr===-1&&(Vr||a.maxFractionDigits)){var Pn=B!=="numeric"||B==="numeric"&&(a.min||a.max);Pn&&(Mr=Ee(ar,Se,pt,Bt),lr(ae,Mr,Se,"insert"))}}else{var la=pt!==Bt?"range-insert":"insert";if(qr>0&&pt>qr){if(pt+Se.length-(qr+1)<=Vr){var ra=kr>=pt?kr-1:Mn>=pt?Mn:ar.length;Mr=ar.slice(0,pt)+Se+ar.slice(pt+Se.length,ra)+ar.slice(ra),lr(ae,Mr,Se,la)}}else Mr=Ee(ar,Se,pt,Bt),lr(ae,Mr,Se,la)}}},kt=function(ae){return ae&&ae.replace(D.current,"").trim().replace(/\s/g,"").replace(T.current,"")},Ee=function(ae,Se,Ue,tt){var pt=Jt(Se)?Se:Se.split(C.current);if(pt.length===2){var Bt=ae.slice(Ue,tt).search(C.current);return C.current.lastIndex=0,Bt>0?ae.slice(0,Ue)+ce(Se)+kt(ae).slice(tt):ae||ce(Se)}else{if(Jt(Se)&&ae.length===0)return ce("0.");if(tt-Ue===ae.length)return ce(Se);if(Ue===0){var ar=Te.isLetter(ae[tt])?tt-1:tt;return Se+ae.slice(ar)}else if(tt===ae.length)return ae.slice(0,Ue)+Se}var Cr=ae.slice(Ue,tt),qr=/\s$/.test(Cr)?" ":"";return ae.slice(0,Ue)+Se+qr+ae.slice(tt)},Ne=function(ae,Se,Ue){var tt;return Ue-Se===ae.length?tt="":Se===0?tt=ae.slice(Ue):Ue===ae.length?tt=ae.slice(0,Se):tt=ae.slice(0,Se)+ae.slice(Ue),tt},qe=function(){var ae=y.current.selectionStart,Se=y.current.value,Ue=Se.length,tt=null,pt=(I.current||"").length;Se=Se.replace(z.current,""),ae=ae-pt;var Bt=Se.charAt(ae);if(Ot(Bt))return ae+pt;for(var ar=ae-1;ar>=0;)if(Bt=Se.charAt(ar),Ot(Bt)){tt=ar+pt;break}else ar--;if(tt!==null)y.current.setSelectionRange(tt+1,tt+1);else{for(ar=ae;ar<Ue;)if(Bt=Se.charAt(ar),Ot(Bt)){tt=ar+pt;break}else ar++;tt!==null&&y.current.setSelectionRange(tt,tt)}return tt||0},Nt=function(){J.current=!0},St=function(){qe()},Ot=function(ae){return ae.length===1&&(R.current.test(ae)||C.current.test(ae)||O.current.test(ae)||A.current.test(ae))?(gr(),!0):!1},gr=function(){R.current.lastIndex=0,C.current.lastIndex=0,O.current.lastIndex=0,A.current.lastIndex=0},lr=function(ae,Se,Ue,tt){var pt=y.current.value,Bt=null;Se!=null&&(Bt=zr(_e(Se)),yn(Bt,Ue,tt,Se),st(ae,pt,Bt))},zr=function(ae){return!ae&&!a.allowEmpty?a.min||0:ae},st=function(ae,Se,Ue){a.onChange&&Ct(Se,Ue)&&a.onChange({originalEvent:ae,value:Ue})},Ct=function(ae,Se){if(Se===null&&ae!==null)return!0;if(Se!=null){var Ue=typeof ae=="string"?_e(ae):ae;return Se!==Ue}return!1},_t=function(ae){return ae==="-"?null:Kr(ae)},Kr=function(ae){return Te.isEmpty(ae)?null:a.min!==null&&ae<a.min?a.min:a.max!==null&&ae>a.max?a.max:ae},yn=function(ae,Se,Ue,tt){Se=Se||"";var pt=y.current,Bt=pt.value,ar=ce(ae),Cr=Bt.length;if(ar!==tt&&(ar=Tr(ar,tt)),Cr===0){pt.value=ar,pt.setSelectionRange(0,0);var qr=qe(),Rn=qr+Se.length+(Jt(Se)?1:0);pt.setSelectionRange(Rn,Rn)}else{var Mn=pt.selectionStart,kr=pt.selectionEnd;if(a.maxLength&&a.maxLength<ar.length)return;pt.value=ar;var Vr=ar.length;if(Ue==="range-insert"){var Mr=_e((Bt||"").slice(0,Mn)),on=Mr!==null?Mr.toString():"",Pn=on.split("").join("(".concat(N.current,")?")),la=new RegExp(Pn,"g");la.test(ar);var ra=Se.split("").join("(".concat(N.current,")?")),Tn=new RegExp(ra,"g");Tn.test(ar.slice(la.lastIndex)),kr=la.lastIndex+Tn.lastIndex,pt.setSelectionRange(kr,kr)}else if(Vr===Cr)if(Ue==="insert"||Ue==="delete-back-single"){var sn=kr;Se==="0"?sn=kr+1:sn=sn+Number(Jt(ae)||Jt(Se)),pt.setSelectionRange(sn,sn)}else Ue==="delete-single"?pt.setSelectionRange(kr-1,kr-1):(Ue==="delete-range"||Ue==="spin")&&pt.setSelectionRange(kr,kr);else if(Ue==="delete-back-single"){var Sa=Bt.charAt(kr-1),cn=Bt.charAt(kr),oo=Cr-Vr,Co=O.current.test(cn);Co&&oo===1?kr=kr+1:!Co&&Ot(Sa)&&(kr=kr+(-1*oo+1)),O.current.lastIndex=0,pt.setSelectionRange(kr,kr)}else if(Bt==="-"&&Ue==="insert"){pt.setSelectionRange(0,0);var Xt=qe(),Le=Xt+Se.length+1;pt.setSelectionRange(Le,Le)}else kr=kr+(Vr-Cr),pt.setSelectionRange(kr,kr)}pt.setAttribute("aria-valuenow",ae)},en=function(ae){ae=zr(ae);var Se=y.current,Ue=Se.value,tt=pr(ae);Ue!==tt&&(Se.value=tt,Se.setAttribute("aria-valuenow",ae))},pr=function(ae){return ce(zr(ae))},Tr=function(ae,Se){if(ae&&Se){var Ue=Se.search(C.current);C.current.lastIndex=0;var tt=Ar(ae).split(C.current)[0].replace(D.current,"").trim();return Ue!==-1?tt+Se.slice(Ue):ae}return ae},mn=function(ae){if(ae){var Se=ae.split(C.current);if(Se.length===2)return kt(Se[1]).length}return 0},rn=function(ae,Se){a.onValueChange&&a.onValueChange({originalEvent:ae,value:Se,stopPropagation:function(){ae==null||ae.stopPropagation()},preventDefault:function(){ae==null||ae.preventDefault()},target:{name:a.name,id:a.id,value:Se}})},er=function(ae){if(c(!0),a.onFocus&&a.onFocus(ae),(a.suffix||a.currency||a.prefix)&&y.current&&!J.current){var Se=y.current.value,Ue=(I.current||"").length,tt=(P.current||"").length,pt=Se.length===0?0:Se.length-tt;y.current.setSelectionRange(Ue,pt)}},ct=function(ae){if(c(!1),J.current=!1,y.current){var Se=y.current.value;if(Ct(Se,a.value)){var Ue=_t(_e(Se));en(Ue),rn(ae,Ue)}}a.onBlur&&a.onBlur(ae)},At=function(){b.current&&clearInterval(b.current)},Yt=function(){var ae=Kr(a.value);en(a.format?ae:Ar(ae));var Se=_t(a.value);a.value!==null&&a.value!==Se&&rn(null,Se)},Ye=function(){return w.current};p.useImperativeHandle(e,function(){return{props:a,focus:function(){return ze.focus(y.current)},getFormatter:Ye,getElement:function(){return E.current},getInput:function(){return y.current}}}),p.useEffect(function(){Te.combinedRefs(y,a.inputRef)},[y,a.inputRef]),Ls(function(){At()}),gs(function(){U();var Ze=_t(a.value);a.value!==null&&a.value!==Ze&&rn(null,Ze)}),ba(function(){U(),Yt()},[ie,a.locale,a.localeMatcher,a.mode,a.currency,a.currencyDisplay,a.useGrouping,a.minFractionDigits,a.maxFractionDigits,a.suffix,a.prefix]),ba(function(){Yt()},[a.value]),ba(function(){a.disabled&&At()},[a.disabled]);var ft=function(){var ae=sr(a.inputClassName,v("input",{context:n})),Se=pr(a.value);return p.createElement(ny,zg({ref:y,id:a.inputId,style:a.inputStyle,role:"spinbutton",className:ae,defaultValue:Se,type:a.type,size:a.size,tabIndex:a.tabIndex,inputMode:B,maxLength:a.maxLength,disabled:a.disabled,required:a.required,pattern:a.pattern,placeholder:a.placeholder,readOnly:a.readOnly,name:a.name,autoFocus:a.autoFocus,onKeyDown:nt,onKeyPress:mt,onInput:Gt,onClick:St,onPointerDown:Nt,onBlur:ct,onFocus:er,onPaste:ht,min:a.min,max:a.max,"aria-valuemin":a.min,"aria-valuemax":a.max,"aria-valuenow":a.value},qt,or,{pt:m("input"),unstyled:a.unstyled,__parentMetadata:{parent:u}}))},ot=function(){var ae=r({className:v("incrementIcon")},m("incrementIcon")),Se=a.incrementButtonIcon||p.createElement(Q7,ae),Ue=Yn.getJSXIcon(Se,Pm({},ae),{props:a}),tt=r({type:"button",className:sr(a.incrementButtonClassName,v("incrementButton")),onPointerLeave:Ae,onPointerDown:function(Bt){return be(Bt)},onPointerUp:gt,onKeyDown:function(Bt){return Be(Bt)},onKeyUp:ke,disabled:a.disabled,tabIndex:-1,"aria-hidden":!0},m("incrementButton"));return p.createElement("button",tt,Ue,p.createElement(di,null))},$e=function(){var ae=r({className:v("decrementIcon")},m("decrementIcon")),Se=a.decrementButtonIcon||p.createElement(Z7,ae),Ue=Yn.getJSXIcon(Se,Pm({},ae),{props:a}),tt=r({type:"button",className:sr(a.decrementButtonClassName,v("decrementButton")),onPointerLeave:Et,onPointerDown:function(Bt){return Xe(Bt)},onPointerUp:Ke,onKeyDown:function(Bt){return zt(Bt)},onKeyUp:ut,disabled:a.disabled,tabIndex:-1,"aria-hidden":!0},m("decrementButton"));return p.createElement("button",tt,Ue,p.createElement(di,null))},at=function(){var ae=a.showButtons&&ot(),Se=a.showButtons&&$e(),Ue=r({className:v("buttonGroup")},m("buttonGroup"));return G?p.createElement("span",Ue,ae,Se):p.createElement(p.Fragment,null,ae,Se)},Rt=Te.isNotEmpty(a.tooltip),Ht=Wv.getOtherProps(a),or=Te.reduceKeys(Ht,ze.DATA_PROPS),qt=Te.reduceKeys(Ht,ze.ARIA_PROPS),br=ft(),Pr=at(),Rr=r({id:a.id,className:sr(a.className,v("root",{focusedState:l,stacked:G,horizontal:te,vertical:W})),style:a.style},Ht,m("root"));return p.createElement(p.Fragment,null,p.createElement("span",zg({ref:E},Rr),br,Pr),Rt&&p.createElement(Bc,zg({target:E,content:a.tooltip,pt:m("tooltip")},a.tooltipOptions)))}));nR.displayName="InputNumber";function G5(){return G5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},G5.apply(null,arguments)}var aR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",G5({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.68757 11.1451C7.7791 11.1831 7.8773 11.2024 7.9764 11.2019C8.07769 11.1985 8.17721 11.1745 8.26886 11.1312C8.36052 11.088 8.44238 11.0265 8.50943 10.9505L12.0294 7.49085C12.1707 7.34942 12.25 7.15771 12.25 6.95782C12.25 6.75794 12.1707 6.56622 12.0294 6.42479L8.50943 2.90479C8.37014 2.82159 8.20774 2.78551 8.04633 2.80192C7.88491 2.81833 7.73309 2.88635 7.6134 2.99588C7.4937 3.10541 7.41252 3.25061 7.38189 3.40994C7.35126 3.56927 7.37282 3.73423 7.44337 3.88033L10.4605 6.89748L7.44337 9.91463C7.30212 10.0561 7.22278 10.2478 7.22278 10.4477C7.22278 10.6475 7.30212 10.8393 7.44337 10.9807C7.51301 11.0512 7.59603 11.1071 7.68757 11.1451ZM1.94207 10.9505C2.07037 11.0968 2.25089 11.1871 2.44493 11.2019C2.63898 11.1871 2.81949 11.0968 2.94779 10.9505L6.46779 7.49085C6.60905 7.34942 6.68839 7.15771 6.68839 6.95782C6.68839 6.75793 6.60905 6.56622 6.46779 6.42479L2.94779 2.90479C2.80704 2.83757 2.6489 2.81563 2.49517 2.84201C2.34143 2.86839 2.19965 2.94178 2.08936 3.05207C1.97906 3.16237 1.90567 3.30415 1.8793 3.45788C1.85292 3.61162 1.87485 3.76975 1.94207 3.9105L4.95922 6.92765L1.94207 9.9448C1.81838 10.0831 1.75 10.2621 1.75 10.4477C1.75 10.6332 1.81838 10.8122 1.94207 10.9505Z",fill:"currentColor"}))}));aR.displayName="AngleDoubleRightIcon";function K5(){return K5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K5.apply(null,arguments)}var oR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",K5({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M5.25 11.1728C5.14929 11.1694 5.05033 11.1455 4.9592 11.1025C4.86806 11.0595 4.78666 10.9984 4.72 10.9228C4.57955 10.7822 4.50066 10.5916 4.50066 10.3928C4.50066 10.1941 4.57955 10.0035 4.72 9.86283L7.72 6.86283L4.72 3.86283C4.66067 3.71882 4.64765 3.55991 4.68275 3.40816C4.71785 3.25642 4.79932 3.11936 4.91585 3.01602C5.03238 2.91268 5.17819 2.84819 5.33305 2.83149C5.4879 2.81479 5.64411 2.84671 5.78 2.92283L9.28 6.42283C9.42045 6.56346 9.49934 6.75408 9.49934 6.95283C9.49934 7.15158 9.42045 7.34221 9.28 7.48283L5.78 10.9228C5.71333 10.9984 5.63193 11.0595 5.5408 11.1025C5.44966 11.1455 5.35071 11.1694 5.25 11.1728Z",fill:"currentColor"}))}));oR.displayName="AngleRightIcon";function Y5(){return Y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y5.apply(null,arguments)}var iR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",Y5({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M8.75 11.185C8.65146 11.1854 8.55381 11.1662 8.4628 11.1284C8.37179 11.0906 8.28924 11.0351 8.22 10.965L4.72 7.46496C4.57955 7.32433 4.50066 7.13371 4.50066 6.93496C4.50066 6.73621 4.57955 6.54558 4.72 6.40496L8.22 2.93496C8.36095 2.84357 8.52851 2.80215 8.69582 2.81733C8.86312 2.83252 9.02048 2.90344 9.14268 3.01872C9.26487 3.134 9.34483 3.28696 9.36973 3.4531C9.39463 3.61924 9.36303 3.78892 9.28 3.93496L6.28 6.93496L9.28 9.93496C9.42045 10.0756 9.49934 10.2662 9.49934 10.465C9.49934 10.6637 9.42045 10.8543 9.28 10.995C9.13526 11.1257 8.9448 11.1939 8.75 11.185Z",fill:"currentColor"}))}));iR.displayName="AngleLeftIcon";function J5(){return J5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J5.apply(null,arguments)}var iv=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",J5({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M7.01744 10.398C6.91269 10.3985 6.8089 10.378 6.71215 10.3379C6.61541 10.2977 6.52766 10.2386 6.45405 10.1641L1.13907 4.84913C1.03306 4.69404 0.985221 4.5065 1.00399 4.31958C1.02276 4.13266 1.10693 3.95838 1.24166 3.82747C1.37639 3.69655 1.55301 3.61742 1.74039 3.60402C1.92777 3.59062 2.11386 3.64382 2.26584 3.75424L7.01744 8.47394L11.769 3.75424C11.9189 3.65709 12.097 3.61306 12.2748 3.62921C12.4527 3.64535 12.6199 3.72073 12.7498 3.84328C12.8797 3.96582 12.9647 4.12842 12.9912 4.30502C13.0177 4.48162 12.9841 4.662 12.8958 4.81724L7.58083 10.1322C7.50996 10.2125 7.42344 10.2775 7.32656 10.3232C7.22968 10.3689 7.12449 10.3944 7.01744 10.398Z",fill:"currentColor"}))}));iv.displayName="ChevronDownIcon";function X5(){return X5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X5.apply(null,arguments)}var sR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",X5({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M12.2097 10.4113C12.1057 10.4118 12.0027 10.3915 11.9067 10.3516C11.8107 10.3118 11.7237 10.2532 11.6506 10.1792L6.93602 5.46461L2.22139 10.1476C2.07272 10.244 1.89599 10.2877 1.71953 10.2717C1.54307 10.2556 1.3771 10.1808 1.24822 10.0593C1.11933 9.93766 1.035 9.77633 1.00874 9.6011C0.982477 9.42587 1.0158 9.2469 1.10338 9.09287L6.37701 3.81923C6.52533 3.6711 6.72639 3.58789 6.93602 3.58789C7.14565 3.58789 7.3467 3.6711 7.49502 3.81923L12.7687 9.09287C12.9168 9.24119 13 9.44225 13 9.65187C13 9.8615 12.9168 10.0626 12.7687 10.2109C12.616 10.3487 12.4151 10.4207 12.2097 10.4113Z",fill:"currentColor"}))}));sR.displayName="ChevronUpIcon";function Z5(){return Z5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z5.apply(null,arguments)}var Dp=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",Z5({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z",fill:"currentColor"}))}));Dp.displayName="TimesIcon";var $u=IU();function Q5(){return Q5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q5.apply(null,arguments)}function lR(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function eS(t,e){return eS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},eS(t,e)}function cR(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,eS(t,e)}var H1={exports:{}},W1,L4;function iV(){if(L4)return W1;L4=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return W1=t,W1}var G1,T4;function sV(){if(T4)return G1;T4=1;var t=iV();function e(){}function r(){}return r.resetWarningCache=e,G1=function(){function n(s,l,c,u,f,m){if(m!==t){var v=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw v.name="Invariant Violation",v}}n.isRequired=n;function a(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},G1}var R4;function lV(){return R4||(R4=1,H1.exports=sV()()),H1.exports}var cV=lV();const Na=wa(cV);function uV(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function dV(t,e){t.classList?t.classList.add(e):uV(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function M4(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function fV(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=M4(t.className,e):t.setAttribute("class",M4(t.className&&t.className.baseVal||"",e))}const D4={disabled:!1},uR=o.createContext(null);var dR=function(e){return e.scrollTop},_g="unmounted",wf="exited",Sf="entering",jm="entered",tS="exiting",Xu=function(t){cR(e,t);function e(n,a){var i;i=t.call(this,n,a)||this;var s=a,l=s&&!s.isMounting?n.enter:n.appear,c;return i.appearStatus=null,n.in?l?(c=wf,i.appearStatus=Sf):c=jm:n.unmountOnExit||n.mountOnEnter?c=_g:c=wf,i.state={status:c},i.nextCallback=null,i}e.getDerivedStateFromProps=function(a,i){var s=a.in;return s&&i.status===_g?{status:wf}:null};var r=e.prototype;return r.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(a){var i=null;if(a!==this.props){var s=this.state.status;this.props.in?s!==Sf&&s!==jm&&(i=Sf):(s===Sf||s===jm)&&(i=tS)}this.updateStatus(!1,i)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var a=this.props.timeout,i,s,l;return i=s=l=a,a!=null&&typeof a!="number"&&(i=a.exit,s=a.enter,l=a.appear!==void 0?a.appear:s),{exit:i,enter:s,appear:l}},r.updateStatus=function(a,i){if(a===void 0&&(a=!1),i!==null)if(this.cancelNextCallback(),i===Sf){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:zm.findDOMNode(this);s&&dR(s)}this.performEnter(a)}else this.performExit();else this.props.unmountOnExit&&this.state.status===wf&&this.setState({status:_g})},r.performEnter=function(a){var i=this,s=this.props.enter,l=this.context?this.context.isMounting:a,c=this.props.nodeRef?[l]:[zm.findDOMNode(this),l],u=c[0],f=c[1],m=this.getTimeouts(),v=l?m.appear:m.enter;if(!a&&!s||D4.disabled){this.safeSetState({status:jm},function(){i.props.onEntered(u)});return}this.props.onEnter(u,f),this.safeSetState({status:Sf},function(){i.props.onEntering(u,f),i.onTransitionEnd(v,function(){i.safeSetState({status:jm},function(){i.props.onEntered(u,f)})})})},r.performExit=function(){var a=this,i=this.props.exit,s=this.getTimeouts(),l=this.props.nodeRef?void 0:zm.findDOMNode(this);if(!i||D4.disabled){this.safeSetState({status:wf},function(){a.props.onExited(l)});return}this.props.onExit(l),this.safeSetState({status:tS},function(){a.props.onExiting(l),a.onTransitionEnd(s.exit,function(){a.safeSetState({status:wf},function(){a.props.onExited(l)})})})},r.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(a,i){i=this.setNextCallback(i),this.setState(a,i)},r.setNextCallback=function(a){var i=this,s=!0;return this.nextCallback=function(l){s&&(s=!1,i.nextCallback=null,a(l))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},r.onTransitionEnd=function(a,i){this.setNextCallback(i);var s=this.props.nodeRef?this.props.nodeRef.current:zm.findDOMNode(this),l=a==null&&!this.props.addEndListener;if(!s||l){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=c[0],f=c[1];this.props.addEndListener(u,f)}a!=null&&setTimeout(this.nextCallback,a)},r.render=function(){var a=this.state.status;if(a===_g)return null;var i=this.props,s=i.children;i.in,i.mountOnEnter,i.unmountOnExit,i.appear,i.enter,i.exit,i.timeout,i.addEndListener,i.onEnter,i.onEntering,i.onEntered,i.onExit,i.onExiting,i.onExited,i.nodeRef;var l=lR(i,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return o.createElement(uR.Provider,{value:null},typeof s=="function"?s(a,l):o.cloneElement(o.Children.only(s),l))},e}(o.Component);Xu.contextType=uR;Xu.propTypes={};function Nm(){}Xu.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Nm,onEntering:Nm,onEntered:Nm,onExit:Nm,onExiting:Nm,onExited:Nm};Xu.UNMOUNTED=_g;Xu.EXITED=wf;Xu.ENTERING=Sf;Xu.ENTERED=jm;Xu.EXITING=tS;var mV=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return dV(e,n)})},K1=function(e,r){return e&&r&&r.split(" ").forEach(function(n){return fV(e,n)})},d3=function(t){cR(e,t);function e(){for(var n,a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return n=t.call.apply(t,[this].concat(i))||this,n.appliedClasses={appear:{},enter:{},exit:{}},n.onEnter=function(l,c){var u=n.resolveArguments(l,c),f=u[0],m=u[1];n.removeClasses(f,"exit"),n.addClass(f,m?"appear":"enter","base"),n.props.onEnter&&n.props.onEnter(l,c)},n.onEntering=function(l,c){var u=n.resolveArguments(l,c),f=u[0],m=u[1],v=m?"appear":"enter";n.addClass(f,v,"active"),n.props.onEntering&&n.props.onEntering(l,c)},n.onEntered=function(l,c){var u=n.resolveArguments(l,c),f=u[0],m=u[1],v=m?"appear":"enter";n.removeClasses(f,v),n.addClass(f,v,"done"),n.props.onEntered&&n.props.onEntered(l,c)},n.onExit=function(l){var c=n.resolveArguments(l),u=c[0];n.removeClasses(u,"appear"),n.removeClasses(u,"enter"),n.addClass(u,"exit","base"),n.props.onExit&&n.props.onExit(l)},n.onExiting=function(l){var c=n.resolveArguments(l),u=c[0];n.addClass(u,"exit","active"),n.props.onExiting&&n.props.onExiting(l)},n.onExited=function(l){var c=n.resolveArguments(l),u=c[0];n.removeClasses(u,"exit"),n.addClass(u,"exit","done"),n.props.onExited&&n.props.onExited(l)},n.resolveArguments=function(l,c){return n.props.nodeRef?[n.props.nodeRef.current,l]:[l,c]},n.getClassNames=function(l){var c=n.props.classNames,u=typeof c=="string",f=u&&c?c+"-":"",m=u?""+f+l:c[l],v=u?m+"-active":c[l+"Active"],h=u?m+"-done":c[l+"Done"];return{baseClassName:m,activeClassName:v,doneClassName:h}},n}var r=e.prototype;return r.addClass=function(a,i,s){var l=this.getClassNames(i)[s+"ClassName"],c=this.getClassNames("enter"),u=c.doneClassName;i==="appear"&&s==="done"&&u&&(l+=" "+u),s==="active"&&a&&dR(a),l&&(this.appliedClasses[i][s]=l,mV(a,l))},r.removeClasses=function(a,i){var s=this.appliedClasses[i],l=s.base,c=s.active,u=s.done;this.appliedClasses[i]={},l&&K1(a,l),c&&K1(a,c),u&&K1(a,u)},r.render=function(){var a=this.props;a.classNames;var i=lR(a,["classNames"]);return o.createElement(Xu,Q5({},i,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},e}(o.Component);d3.defaultProps={classNames:""};d3.propTypes={};function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}function pV(t,e){if(dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gV(t){var e=pV(t,"string");return dh(e)=="symbol"?e:e+""}function hV(t,e,r){return(e=gV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var rS={defaultProps:{__TYPE:"CSSTransition",children:void 0},getProps:function(e){return Te.getMergedProps(e,rS.defaultProps)},getOtherProps:function(e){return Te.getDiffProps(e,rS.defaultProps)}};function j4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Y1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?j4(Object(r),!0).forEach(function(n){hV(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):j4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ay=p.forwardRef(function(t,e){var r=rS.getProps(t),n=p.useContext(sa),a=r.disabled||r.options&&r.options.disabled||n&&!n.cssTransition||!$n.cssTransition,i=function(y,b){r.onEnter&&r.onEnter(y,b),r.options&&r.options.onEnter&&r.options.onEnter(y,b)},s=function(y,b){r.onEntering&&r.onEntering(y,b),r.options&&r.options.onEntering&&r.options.onEntering(y,b)},l=function(y,b){r.onEntered&&r.onEntered(y,b),r.options&&r.options.onEntered&&r.options.onEntered(y,b)},c=function(y){r.onExit&&r.onExit(y),r.options&&r.options.onExit&&r.options.onExit(y)},u=function(y){r.onExiting&&r.onExiting(y),r.options&&r.options.onExiting&&r.options.onExiting(y)},f=function(y){r.onExited&&r.onExited(y),r.options&&r.options.onExited&&r.options.onExited(y)};if(ba(function(){if(a){var E=Te.getRefElement(r.nodeRef);r.in?(i(E,!0),s(E,!0),l(E,!0)):(c(E),u(E),f(E))}},[r.in]),a)return r.in?r.children:null;var m={nodeRef:r.nodeRef,in:r.in,appear:r.appear,onEnter:i,onEntering:s,onEntered:l,onExit:c,onExiting:u,onExited:f},v={classNames:r.classNames,timeout:r.timeout,unmountOnExit:r.unmountOnExit},h=Y1(Y1(Y1({},v),r.options||{}),m);return p.createElement(d3,h,r.children)});ay.displayName="CSSTransition";function nS(){return nS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nS.apply(null,arguments)}var f3=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",nS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.67602 11.0265C3.6661 11.688 4.83011 12.0411 6.02086 12.0411C6.81149 12.0411 7.59438 11.8854 8.32483 11.5828C8.87005 11.357 9.37808 11.0526 9.83317 10.6803L12.9769 13.8241C13.0323 13.8801 13.0983 13.9245 13.171 13.9548C13.2438 13.985 13.3219 14.0003 13.4007 14C13.4795 14.0003 13.5575 13.985 13.6303 13.9548C13.7031 13.9245 13.7691 13.8801 13.8244 13.8241C13.9367 13.7116 13.9998 13.5592 13.9998 13.4003C13.9998 13.2414 13.9367 13.089 13.8244 12.9765L10.6807 9.8328C11.053 9.37773 11.3573 8.86972 11.5831 8.32452C11.8857 7.59408 12.0414 6.81119 12.0414 6.02056C12.0414 4.8298 11.6883 3.66579 11.0268 2.67572C10.3652 1.68564 9.42494 0.913972 8.32483 0.45829C7.22472 0.00260857 6.01418 -0.116618 4.84631 0.115686C3.67844 0.34799 2.60568 0.921393 1.76369 1.76338C0.921698 2.60537 0.348296 3.67813 0.115991 4.84601C-0.116313 6.01388 0.00291375 7.22441 0.458595 8.32452C0.914277 9.42464 1.68595 10.3649 2.67602 11.0265ZM3.35565 2.0158C4.14456 1.48867 5.07206 1.20731 6.02086 1.20731C7.29317 1.20731 8.51338 1.71274 9.41304 2.6124C10.3127 3.51206 10.8181 4.73226 10.8181 6.00457C10.8181 6.95337 10.5368 7.88088 10.0096 8.66978C9.48251 9.45868 8.73328 10.0736 7.85669 10.4367C6.98011 10.7997 6.01554 10.8947 5.08496 10.7096C4.15439 10.5245 3.2996 10.0676 2.62869 9.39674C1.95778 8.72583 1.50089 7.87104 1.31579 6.94046C1.13068 6.00989 1.22568 5.04532 1.58878 4.16874C1.95187 3.29215 2.56675 2.54292 3.35565 2.0158Z",fill:"currentColor"}))}));f3.displayName="SearchIcon";function aS(){return aS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aS.apply(null,arguments)}function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function vV(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bV(t){var e=vV(t,"string");return fh(e)=="symbol"?e:e+""}function fR(t,e,r){return(e=bV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yV(t){if(Array.isArray(t))return t}function EV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function F4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function xV(t,e){if(t){if(typeof t=="string")return F4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?F4(t,e):void 0}}function wV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _u(t,e){return yV(t)||EV(t,e)||xV(t,e)||wV()}var SV=`
.p-virtualscroller {
    position: relative;
    overflow: auto;
    contain: strict;
    transform: translateZ(0);
    will-change: scroll-position;
    outline: 0 none;
}

.p-virtualscroller-content {
    position: absolute;
    top: 0;
    left: 0;
    /*contain: content;*/
    min-height: 100%;
    min-width: 100%;
    will-change: transform;
}

.p-virtualscroller-spacer {
    position: absolute;
    top: 0;
    left: 0;
    height: 1px;
    width: 1px;
    transform-origin: 0 0;
    pointer-events: none;
}

.p-virtualscroller-loader {
    position: sticky;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
}

.p-virtualscroller-loader.p-component-overlay {
    display: flex;
    align-items: center;
    justify-content: center;
}

.p-virtualscroller-loading-icon {
    font-size: 2rem;
}

.p-virtualscroller-horizontal > .p-virtualscroller-content {
    display: flex;
}

/* Inline */
.p-virtualscroller-inline .p-virtualscroller-content {
    position: static;
}
`,Gv=An.extend({defaultProps:{__TYPE:"VirtualScroller",__parentMetadata:null,id:null,style:null,className:null,tabIndex:0,items:null,itemSize:0,scrollHeight:null,scrollWidth:null,orientation:"vertical",step:0,numToleratedItems:null,delay:0,resizeDelay:10,appendOnly:!1,inline:!1,lazy:!1,disabled:!1,loaderDisabled:!1,loadingIcon:null,columns:null,loading:void 0,autoSize:!1,showSpacer:!0,showLoader:!1,loadingTemplate:null,loaderIconTemplate:null,itemTemplate:null,contentTemplate:null,onScroll:null,onScrollIndexChange:null,onLazyLoad:null,children:void 0},css:{styles:SV}});function $4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function km(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$4(Object(r),!0).forEach(function(n){fR(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var oy=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=Gv.getProps(t,n),i=sp(t)||{},s=a.orientation==="vertical",l=a.orientation==="horizontal",c=a.orientation==="both",u=p.useState(c?{rows:0,cols:0}:0),f=_u(u,2),m=f[0],v=f[1],h=p.useState(c?{rows:0,cols:0}:0),E=_u(h,2),y=E[0],b=E[1],x=p.useState(0),w=_u(x,2),N=w[0],I=w[1],P=p.useState(c?{rows:0,cols:0}:0),L=_u(P,2),R=L[0],O=L[1],A=p.useState(a.numToleratedItems),T=_u(A,2),C=T[0],_=T[1],D=p.useState(a.loading||!1),z=_u(D,2),V=z[0],J=z[1],ie=p.useState([]),G=_u(ie,2),te=G[0],W=G[1],B=Gv.setMetaData({props:a,state:{first:m,last:y,page:N,numItemsInViewport:R,numToleratedItems:C,loading:V,loaderArr:te}}),j=B.ptm;Lf(Gv.css.styles,{name:"virtualscroller"});var U=p.useRef(null),X=p.useRef(null),Z=p.useRef(null),me=p.useRef(null),de=p.useRef(c?{top:0,left:0}:0),oe=p.useRef(null),ee=p.useRef(null),le=p.useRef({}),pe=p.useRef({}),ce=p.useRef(null),_e=p.useRef(null),He=p.useRef(null),Re=p.useRef(null),be=p.useRef(!1),gt=p.useRef(null),Ae=p.useRef(!1),ke=c3({listener:function($e){return gr()},when:!a.disabled}),Be=_u(ke,1),Xe=Be[0],Ke=ju({target:"window",type:"orientationchange",listener:function($e){return gr()},when:!a.disabled}),Et=_u(Ke,1),ut=Et[0],zt=function(){return U},Gt=function($e){return Math.floor(($e+C*4)/(a.step||1))},mt=function($e){X.current=$e||X.current||ze.findSingle(U.current,".p-virtualscroller-content")},nt=function($e){return a.step?N!==Gt($e):!0},ht=function($e){de.current=c?{top:0,left:0}:0,U.current&&U.current.scrollTo($e)},Kt=function($e){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"auto",Rt=mr(),Ht=Rt.numToleratedItems,or=kt(),qt=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ue=arguments.length>1?arguments[1]:void 0;return Se<=Ue?0:Se},br=function(Se,Ue,tt){return Se*Ue+tt},Pr=function(){var Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Ue=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ht({left:Se,top:Ue,behavior:at})},Rr=c?{rows:0,cols:0}:0,Ze=!1;c?(Rr={rows:qt($e[0],Ht[0]),cols:qt($e[1],Ht[1])},Pr(br(Rr.cols,a.itemSize[1],or.left),br(Rr.rows,a.itemSize[0],or.top)),Ze=m.rows!==Rr.rows||m.cols!==Rr.cols):(Rr=qt($e,Ht),l?Pr(br(Rr,a.itemSize,or.left),0):Pr(0,br(Rr,a.itemSize,or.top)),Ze=m!==Rr),be.current=Ze,v(Rr)},bt=function($e,at){var Rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"auto";if(at){var Ht=Lr(),or=Ht.first,qt=Ht.viewport,br=function(){var Ue=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return ht({left:Ue,top:tt,behavior:Rt})},Pr=at==="to-start",Rr=at==="to-end";if(Pr){if(c)qt.first.rows-or.rows>$e[0]?br(qt.first.cols*a.itemSize[1],(qt.first.rows-1)*a.itemSize[0]):qt.first.cols-or.cols>$e[1]&&br((qt.first.cols-1)*a.itemSize[1],qt.first.rows*a.itemSize[0]);else if(qt.first-or>$e){var Ze=(qt.first-1)*a.itemSize;l?br(Ze,0):br(0,Ze)}}else if(Rr){if(c)qt.last.rows-or.rows<=$e[0]+1?br(qt.first.cols*a.itemSize[1],(qt.first.rows+1)*a.itemSize[0]):qt.last.cols-or.cols<=$e[1]+1&&br((qt.first.cols+1)*a.itemSize[1],qt.first.rows*a.itemSize[0]);else if(qt.last-or<=$e+1){var ae=(qt.first+1)*a.itemSize;l?br(ae,0):br(0,ae)}}}else Kt($e,Rt)},Ar=function(){return V?a.loaderDisabled?te:[]:st()},Jt=function(){return a.columns&&c||l?V&&a.loaderDisabled?c?te[0]:te:a.columns.slice(c?m.cols:m,c?y.cols:y):a.columns},Lr=function(){var $e=function(Rr,Ze){return Math.floor(Rr/(Ze||Rr))},at=m,Rt=0;if(U.current){var Ht=U.current,or=Ht.scrollTop,qt=Ht.scrollLeft;if(c)at={rows:$e(or,a.itemSize[0]),cols:$e(qt,a.itemSize[1])},Rt={rows:at.rows+R.rows,cols:at.cols+R.cols};else{var br=l?qt:or;at=$e(br,a.itemSize),Rt=at+R}}return{first:m,last:y,viewport:{first:at,last:Rt}}},mr=function(){var $e=kt(),at=U.current?U.current.offsetWidth-$e.left:0,Rt=U.current?U.current.offsetHeight-$e.top:0,Ht=function(Rr,Ze){return Math.ceil(Rr/(Ze||Rr))},or=function(Rr){return Math.ceil(Rr/2)},qt=c?{rows:Ht(Rt,a.itemSize[0]),cols:Ht(at,a.itemSize[1])}:Ht(l?at:Rt,a.itemSize),br=C||(c?[or(qt.rows),or(qt.cols)]:or(qt));return{numItemsInViewport:qt,numToleratedItems:br}},wr=function(){var $e=mr(),at=$e.numItemsInViewport,Rt=$e.numToleratedItems,Ht=function(br,Pr,Rr){var Ze=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;return Sr(br+Pr+(br<Rr?2:3)*Rr,Ze)},or=c?{rows:Ht(m.rows,at.rows,Rt[0]),cols:Ht(m.cols,at.cols,Rt[1],!0)}:Ht(m,at,Rt);O(at),_(Rt),b(or),a.showLoader&&W(c?Array.from({length:at.rows}).map(function(){return Array.from({length:at.cols})}):Array.from({length:at})),a.lazy&&Promise.resolve().then(function(){gt.current={first:a.step?c?{rows:0,cols:m.cols}:0:m,last:Math.min(a.step?a.step:or,(a.items||[]).length)},a.onLazyLoad&&a.onLazyLoad(gt.current)})},Ur=function($e){a.autoSize&&!$e&&Promise.resolve().then(function(){if(X.current){X.current.style.minHeight=X.current.style.minWidth="auto",X.current.style.position="relative",U.current.style.contain="none";var at=[ze.getWidth(U.current),ze.getHeight(U.current)],Rt=at[0],Ht=at[1];(c||l)&&(U.current.style.width=(Rt<ce.current?Rt:a.scrollWidth||ce.current)+"px"),(c||s)&&(U.current.style.height=(Ht<_e.current?Ht:a.scrollHeight||_e.current)+"px"),X.current.style.minHeight=X.current.style.minWidth="",X.current.style.position="",U.current.style.contain=""}})},Sr=function(){var $e,at=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Rt=arguments.length>1?arguments[1]:void 0;return a.items?Math.min(Rt?(($e=a.columns||a.items[0])===null||$e===void 0?void 0:$e.length)||0:(a.items||[]).length,at):0},kt=function(){if(X.current){var $e=getComputedStyle(X.current),at=parseFloat($e.paddingLeft)+Math.max(parseFloat($e.left)||0,0),Rt=parseFloat($e.paddingRight)+Math.max(parseFloat($e.right)||0,0),Ht=parseFloat($e.paddingTop)+Math.max(parseFloat($e.top)||0,0),or=parseFloat($e.paddingBottom)+Math.max(parseFloat($e.bottom)||0,0);return{left:at,right:Rt,top:Ht,bottom:or,x:at+Rt,y:Ht+or}}return{left:0,right:0,top:0,bottom:0,x:0,y:0}},Ee=function(){if(U.current){var $e=U.current.parentElement,at=a.scrollWidth||"".concat(U.current.offsetWidth||$e.offsetWidth,"px"),Rt=a.scrollHeight||"".concat(U.current.offsetHeight||$e.offsetHeight,"px"),Ht=function(qt,br){return U.current.style[qt]=br};c||l?(Ht("height",Rt),Ht("width",at)):Ht("height",Rt)}},Ne=function(){var $e=a.items;if($e){var at=kt(),Rt=function(or,qt,br){var Pr=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;return pe.current=km(km({},pe.current),fR({},"".concat(or),(qt||[]).length*br+Pr+"px"))};c?(Rt("height",$e,a.itemSize[0],at.y),Rt("width",a.columns||$e[1],a.itemSize[1],at.x)):l?Rt("width",a.columns||$e,a.itemSize,at.x):Rt("height",$e,a.itemSize,at.y)}},qe=function($e){if(X.current&&!a.appendOnly){var at=$e?$e.first:m,Rt=function(br,Pr){return br*Pr},Ht=function(){var br=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Pr=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;me.current&&(me.current.style.top="-".concat(Pr,"px")),le.current=km(km({},le.current),{transform:"translate3d(".concat(br,"px, ").concat(Pr,"px, 0)")})};if(c)Ht(Rt(at.cols,a.itemSize[1]),Rt(at.rows,a.itemSize[0]));else{var or=Rt(at,a.itemSize);l?Ht(or,0):Ht(0,or)}}},Nt=function($e){var at=$e.target,Rt=kt(),Ht=function(Mr,on){return Mr?Mr>on?Mr-on:Mr:0},or=function(Mr,on){return Math.floor(Mr/(on||Mr))},qt=function(Mr,on,Pn,la,ra,Tn){return Mr<=ra?ra:Tn?Pn-la-ra:on+ra-1},br=function(Mr,on,Pn,la,ra,Tn,sn){return Mr<=Tn?0:Math.max(0,sn?Mr<on?Pn:Mr-Tn:Mr>on?Pn:Mr-2*Tn)},Pr=function(Mr,on,Pn,la,ra,Tn){var sn=on+la+2*ra;return Mr>=ra&&(sn=sn+(ra+1)),Sr(sn,Tn)},Rr=Ht(at.scrollTop,Rt.top),Ze=Ht(at.scrollLeft,Rt.left),ae=c?{rows:0,cols:0}:0,Se=y,Ue=!1,tt=de.current;if(c){var pt=de.current.top<=Rr,Bt=de.current.left<=Ze;if(!a.appendOnly||a.appendOnly&&(pt||Bt)){var ar={rows:or(Rr,a.itemSize[0]),cols:or(Ze,a.itemSize[1])},Cr={rows:qt(ar.rows,m.rows,y.rows,R.rows,C[0],pt),cols:qt(ar.cols,m.cols,y.cols,R.cols,C[1],Bt)};ae={rows:br(ar.rows,Cr.rows,m.rows,y.rows,R.rows,C[0],pt),cols:br(ar.cols,Cr.cols,m.cols,y.cols,R.cols,C[1],Bt)},Se={rows:Pr(ar.rows,ae.rows,y.rows,R.rows,C[0]),cols:Pr(ar.cols,ae.cols,y.cols,R.cols,C[1],!0)},Ue=ae.rows!==m.rows||Se.rows!==y.rows||ae.cols!==m.cols||Se.cols!==y.cols||be.current,tt={top:Rr,left:Ze}}}else{var qr=l?Ze:Rr,Rn=de.current<=qr;if(!a.appendOnly||a.appendOnly&&Rn){var Mn=or(qr,a.itemSize),kr=qt(Mn,m,y,R,C,Rn);ae=br(Mn,kr,m,y,R,C,Rn),Se=Pr(Mn,ae,y,R,C),Ue=ae!==m||Se!==y||be.current,tt=qr}}return{first:ae,last:Se,isRangeChanged:Ue,scrollPos:tt}},St=function($e){var at=Nt($e),Rt=at.first,Ht=at.last,or=at.isRangeChanged,qt=at.scrollPos;if(or){var br={first:Rt,last:Ht};if(qe(br),v(Rt),b(Ht),de.current=qt,a.onScrollIndexChange&&a.onScrollIndexChange(br),a.lazy&&nt(Rt)){var Pr={first:a.step?Math.min(Gt(Rt)*a.step,(a.items||[]).length-a.step):Rt,last:Math.min(a.step?(Gt(Rt)+1)*a.step:Ht,(a.items||[]).length)},Rr=!gt.current||gt.current.first!==Pr.first||gt.current.last!==Pr.last;Rr&&a.onLazyLoad&&a.onLazyLoad(Pr),gt.current=Pr}}},Ot=function($e){if(a.onScroll&&a.onScroll($e),a.delay){if(oe.current&&clearTimeout(oe.current),nt(m)){if(!V&&a.showLoader){var at=Nt($e),Rt=at.isRangeChanged,Ht=Rt||(a.step?nt(m):!1);Ht&&J(!0)}oe.current=setTimeout(function(){St($e),V&&a.showLoader&&(!a.lazy||a.loading===void 0)&&(J(!1),I(Gt(m)))},a.delay)}}else St($e)},gr=function(){ee.current&&clearTimeout(ee.current),ee.current=setTimeout(function(){if(U.current){var $e=[ze.getWidth(U.current),ze.getHeight(U.current)],at=$e[0],Rt=$e[1],Ht=at!==ce.current,or=Rt!==_e.current,qt=c?Ht||or:l?Ht:s?or:!1;qt&&(_(a.numToleratedItems),ce.current=at,_e.current=Rt,He.current=ze.getWidth(X.current),Re.current=ze.getHeight(X.current))}},a.resizeDelay)},lr=function($e){var at=(a.items||[]).length,Rt=c?m.rows+$e:m+$e;return{index:Rt,count:at,first:Rt===0,last:Rt===at-1,even:Rt%2===0,odd:Rt%2!==0,props:a}},zr=function($e,at){var Rt=te.length||0;return km({index:$e,count:Rt,first:$e===0,last:$e===Rt-1,even:$e%2===0,odd:$e%2!==0,props:a},at)},st=function(){var $e=a.items;return $e&&!V?c?$e.slice(a.appendOnly?0:m.rows,y.rows).map(function(at){return a.columns?at:at.slice(a.appendOnly?0:m.cols,y.cols)}):l&&a.columns?$e:$e.slice(a.appendOnly?0:m,y):[]},Ct=function(){U.current&&Kr()&&(mt(X.current),_t(),Xe(),ut(),ce.current=ze.getWidth(U.current),_e.current=ze.getHeight(U.current),He.current=ze.getWidth(X.current),Re.current=ze.getHeight(X.current))},_t=function(){!a.disabled&&Kr()&&(Ee(),wr(),Ne())},Kr=function(){if(ze.isVisible(U.current)){var $e=U.current.getBoundingClientRect();return $e.width>0&&$e.height>0}return!1};p.useEffect(function(){!Ae.current&&Kr()&&(Ct(),Ae.current=!0)}),ba(function(){_t()},[a.itemSize,a.scrollHeight,a.scrollWidth]),ba(function(){a.numToleratedItems!==C&&_(a.numToleratedItems)},[a.numToleratedItems]),ba(function(){a.numToleratedItems===C&&_t()},[C]),ba(function(){var ot=i.items!==void 0&&i.items!==null,$e=a.items!==void 0&&a.items!==null,at=ot?i.items.length:0,Rt=$e?a.items.length:0,Ht=at!==Rt;if(c&&!Ht){var or=ot&&i.items.length>0?i.items[0].length:0,qt=$e&&a.items.length>0?a.items[0].length:0;Ht=or!==qt}(!ot||Ht)&&_t();var br=V;a.lazy&&i.loading!==a.loading&&a.loading!==V&&(J(a.loading),br=a.loading),Ur(br)}),ba(function(){de.current=c?{top:0,left:0}:0},[a.orientation]),p.useImperativeHandle(e,function(){return{props:a,getElementRef:zt,scrollTo:ht,scrollToIndex:Kt,scrollInView:bt,getRenderedRange:Lr}});var yn=function($e){var at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Rt=zr($e,at),Ht=Te.getJSXElement(a.loadingTemplate,Rt);return p.createElement(p.Fragment,{key:$e},Ht)},en=function(){var $e="p-virtualscroller-loading-icon",at=r({className:$e},j("loadingIcon")),Rt=a.loadingIcon||p.createElement(Mp,aS({},at,{spin:!0})),Ht=Yn.getJSXIcon(Rt,km({},at),{props:a});if(!a.loaderDisabled&&a.showLoader&&V){var or=sr("p-virtualscroller-loader",{"p-component-overlay":!a.loadingTemplate}),qt=Ht;if(a.loadingTemplate)qt=te.map(function(Rr,Ze){return yn(Ze,c&&{numCols:R.cols})});else if(a.loaderIconTemplate){var br={iconClassName:$e,element:qt,props:a};qt=Te.getJSXElement(a.loaderIconTemplate,br)}var Pr=r({className:or},j("loader"));return p.createElement("div",Pr,qt)}return null},pr=function(){if(a.showSpacer){var $e=r({ref:Z,style:pe.current,className:"p-virtualscroller-spacer"},j("spacer"));return p.createElement("div",$e)}return null},Tr=function($e,at){var Rt=lr(at),Ht=Te.getJSXElement(a.itemTemplate,$e,Rt);return p.createElement(p.Fragment,{key:Rt.index},Ht)},mn=function(){var $e=st();return $e.map(Tr)},rn=function(){var $e=mn(),at=sr("p-virtualscroller-content",{"p-virtualscroller-loading":V}),Rt=r({ref:X,style:le.current,className:at},j("content")),Ht=p.createElement("div",Rt,$e);if(a.contentTemplate){var or={style:le.current,className:at,spacerStyle:pe.current,contentRef:function(br){return X.current=Te.getRefElement(br)},spacerRef:function(br){return Z.current=Te.getRefElement(br)},stickyRef:function(br){return me.current=Te.getRefElement(br)},items:st(),getItemOptions:function(br){return lr(br)},children:$e,element:Ht,props:a,loading:V,getLoaderOptions:function(br,Pr){return zr(br,Pr)},loadingTemplate:a.loadingTemplate,itemSize:a.itemSize,rows:Ar(),columns:Jt(),vertical:s,horizontal:l,both:c};return Te.getJSXElement(a.contentTemplate,or)}return Ht};if(a.disabled){var er=Te.getJSXElement(a.contentTemplate,{items:a.items,rows:a.items,columns:a.columns});return p.createElement(p.Fragment,null,a.children,er)}var ct=sr("p-virtualscroller",{"p-virtualscroller-inline":a.inline,"p-virtualscroller-both p-both-scroll":c,"p-virtualscroller-horizontal p-horizontal-scroll":l},a.className),At=en(),Yt=rn(),Ye=pr(),ft=r({ref:U,className:ct,tabIndex:a.tabIndex,style:a.style,onScroll:function($e){return Ot($e)}},Gv.getOtherProps(a),j("root"));return p.createElement("div",ft,Yt,Ye,At)}));oy.displayName="VirtualScroller";function oS(){return oS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oS.apply(null,arguments)}var Zu=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",oS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z",fill:"currentColor"}))}));Zu.displayName="CheckIcon";function du(){return du=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},du.apply(null,arguments)}function lp(t){"@babel/helpers - typeof";return lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lp(t)}function CV(t,e){if(lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PV(t){var e=CV(t,"string");return lp(e)=="symbol"?e:e+""}function iy(t,e,r){return(e=PV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NV(t){if(Array.isArray(t))return t}function kV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function z4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function AV(t,e){if(t){if(typeof t=="string")return z4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z4(t,e):void 0}}function OV(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function og(t,e){return NV(t)||kV(t,e)||AV(t,e)||OV()}function B4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function IV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(r),!0).forEach(function(n){iy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):B4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _V={root:function(e){var r=e.props,n=e.focusedState,a=e.overlayVisibleState,i=e.context;return sr("p-dropdown p-component p-inputwrapper",{"p-disabled":r.disabled,"p-invalid":r.invalid,"p-focus":n,"p-variant-filled":r.variant?r.variant==="filled":i&&i.inputStyle==="filled","p-dropdown-clearable":r.showClear&&!r.disabled,"p-inputwrapper-filled":Te.isNotEmpty(r.value),"p-inputwrapper-focus":n||a})},input:function(e){var r=e.props,n=e.label;return r.editable?"p-dropdown-label p-inputtext":sr("p-dropdown-label p-inputtext",{"p-placeholder":n===null&&r.placeholder,"p-dropdown-label-empty":n===null&&!r.placeholder})},trigger:"p-dropdown-trigger",emptyMessage:"p-dropdown-empty-message",itemGroup:function(e){var r=e.optionGroupLabel;return sr("p-dropdown-item-group",{"p-dropdown-item-empty":!r||r.length===0})},itemGroupLabel:"p-dropdown-item-group-label",dropdownIcon:"p-dropdown-trigger-icon p-clickable",loadingIcon:"p-dropdown-trigger-icon p-clickable",clearIcon:"p-dropdown-clear-icon p-clickable",filterIcon:"p-dropdown-filter-icon",filterClearIcon:"p-dropdown-filter-clear-icon",filterContainer:function(e){var r=e.clearIcon;return sr("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!r})},filterInput:function(e){var r=e.props,n=e.context;return sr("p-dropdown-filter p-inputtext p-component",{"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},list:function(e){var r=e.virtualScrollerOptions;return"p-dropdown-items"},panel:function(e){var r=e.context;return sr("p-dropdown-panel p-component",{"p-input-filled":r&&r.inputStyle==="filled"||$n.inputStyle==="filled","p-ripple-disabled":r&&r.ripple===!1||$n.ripple===!1})},item:function(e){var r=e.selected,n=e.disabled,a=e.label,i=e.index,s=e.focusedOptionIndex,l=e.highlightOnSelect;return sr("p-dropdown-item",{"p-highlight":r&&l,"p-disabled":n,"p-focus":i===s,"p-dropdown-item-empty":!a||a.length===0})},itemLabel:"p-dropdown-item-label",checkIcon:"p-dropdown-check-icon",blankIcon:"p-dropdown-blank-icon",wrapper:"p-dropdown-items-wrapper",header:"p-dropdown-header",footer:"p-dropdown-footer",transition:"p-connected-overlay"},LV=`
@layer primereact {
    .p-dropdown {
        display: inline-flex;
        cursor: pointer;
        position: relative;
        user-select: none;
    }
    
    .p-dropdown-trigger {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
    }
    
    .p-dropdown-label {
        display: block;
        white-space: nowrap;
        overflow: hidden;
        flex: 1 1 auto;
        width: 1%;
        text-overflow: ellipsis;
        cursor: pointer;
    }
    
    .p-dropdown-label-empty {
        overflow: hidden;
        visibility: hidden;
    }
    
    input.p-dropdown-label  {
        cursor: default;
    }
    
    .p-dropdown .p-dropdown-panel {
        min-width: 100%;
    }
    
    .p-dropdown-panel {
        position: absolute;
        top: 0;
        left: 0;
    }
    
    .p-dropdown-items-wrapper {
        overflow: auto;
    }
    
    .p-dropdown-item {
        cursor: pointer;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
    }
    
    .p-dropdown-items {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-dropdown-filter {
        width: 100%;
    }
    
    .p-dropdown-filter-container {
        position: relative;
    }
    
    .p-dropdown-clear-icon,
    .p-dropdown-filter-icon,
    .p-dropdown-filter-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
        right: 2rem;
    }
    
    .p-fluid .p-dropdown {
        display: flex;
    }
    
    .p-fluid .p-dropdown .p-dropdown-label {
        width: 1%;
    }
}
`,TV={wrapper:function(e){var r=e.props;return{maxHeight:r.scrollHeight||"auto"}},panel:function(e){var r=e.props;return IV({},r.panelStyle)}},Kv=An.extend({defaultProps:{__TYPE:"Dropdown",__parentMetadata:null,appendTo:null,ariaLabel:null,ariaLabelledBy:null,autoFocus:!1,autoOptionFocus:!1,checkmark:!1,children:void 0,className:null,clearIcon:null,collapseIcon:null,dataKey:null,disabled:!1,dropdownIcon:null,editable:!1,emptyFilterMessage:null,emptyMessage:null,filter:!1,filterBy:null,filterClearIcon:null,filterDelay:300,filterIcon:null,filterInputAutoFocus:!1,filterLocale:void 0,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,focusInputRef:null,focusOnHover:!0,highlightOnSelect:!0,id:null,inputId:null,inputRef:null,invalid:!1,itemTemplate:null,loading:!1,loadingIcon:null,maxLength:null,name:null,onBlur:null,onChange:null,onContextMenu:null,onFilter:null,onFocus:null,onHide:null,onMouseDown:null,onShow:null,optionDisabled:null,optionGroupChildren:"items",optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,options:null,optionValue:null,panelClassName:null,panelFooterTemplate:null,panelStyle:null,placeholder:null,required:!1,resetFilterOnHide:!1,scrollHeight:"200px",selectOnFocus:!1,showClear:!1,showFilterClear:!1,showOnFocus:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,transitionOptions:null,useOptionAsValue:!1,value:null,valueTemplate:null,variant:null,virtualScrollerOptions:null},css:{classes:_V,styles:LV,inlineStyles:TV}}),mR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",du({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("rect",{width:"1",height:"1",fill:"currentColor",fillOpacity:"0"}))}));mR.displayName="BlankIcon";var pR=p.memo(function(t){var e=zn(),r=t.ptm,n=t.cx,a=t.selected,i=t.disabled,s=t.option,l=t.label,c=t.index,u=t.focusedOptionIndex,f=t.ariaSetSize,m=t.checkmark,v=t.highlightOnSelect,h=t.onInputKeyDown,E=function(P){return r(P,{context:{selected:a,disabled:i,focused:c===u}})},y=function(P,L){t.onClick&&t.onClick({originalEvent:P,option:s})},b=t.template?Te.getJSXElement(t.template,t.option):t.label,x=e({id:"dropdownItem_".concat(c),role:"option",className:sr(s.className,n("item",{selected:a,disabled:i,label:l,index:c,focusedOptionIndex:u,highlightOnSelect:v})),style:t.style,tabIndex:0,onClick:function(P){return y(P)},onKeyDown:function(P){return h(P)},onMouseMove:function(P){return t==null?void 0:t.onMouseMove(P,c)},"aria-setsize":f,"aria-posinset":c+1,"aria-label":l,"aria-selected":a,"data-p-highlight":a,"data-p-focused":u===c,"data-p-disabled":i},E("item")),w=e({className:n("itemLabel")},E("itemLabel")),N=function(){if(a){var P=e({className:n("checkIcon")},E("checkIcon"));return p.createElement(Zu,P)}var L=e({className:n("blankIcon")},E("blankIcon"));return p.createElement(mR,L)};return p.createElement("li",du({key:t.label},x),m&&N(),p.createElement("span",w,b),p.createElement(di,null))});pR.displayName="DropdownItem";function U4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Oc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U4(Object(r),!0).forEach(function(n){iy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var gR=p.memo(p.forwardRef(function(t,e){var r=zn(),n=t.ptm,a=t.cx,i=t.sx,s=p.useContext(sa),l=p.useRef(null),c=!(t.visibleOptions&&t.visibleOptions.length)&&t.hasFilter,u=t.visibleOptions?t.visibleOptions.length:0,f={filter:function(T){return E(T)},reset:function(){return t.resetFilter()}},m=function(T,C){return n(T,Oc({hostName:t.hostName},C))},v=function(){t.onEnter(function(){if(t.virtualScrollerRef.current){var T=t.getSelectedOptionIndex();T!==-1&&setTimeout(function(){return t.virtualScrollerRef.current.scrollToIndex(T)},0)}})},h=function(){t.onEntered(function(){t.filter&&t.filterInputAutoFocus&&ze.focus(l.current,!1)})},E=function(T){t.onFilterInputChange&&t.onFilterInputChange(T)},y=function(){if(t.panelFooterTemplate){var T=Te.getJSXElement(t.panelFooterTemplate,t,t.onOverlayHide),C=r({className:a("footer")},m("footer"));return p.createElement("div",C,T)}return null},b=function(T,C){if(t.focusOnHover){var _;t==null||(_=t.changeFocusedOptionIndex)===null||_===void 0||_.call(t,T,C)}},x=function(T,C){var _=Te.getJSXElement(T,t)||ui(C?"emptyFilterMessage":"emptyMessage"),D=r({className:a("emptyMessage")},m("emptyMessage"));return p.createElement("li",D,_)},w=function(T,C){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D={height:_.props?_.props.itemSize:void 0};if(D=Oc(Oc({},D),T.style),T.group&&t.optionGroupLabel){var z=t.optionGroupLabel,V=t.optionGroupTemplate?Te.getJSXElement(t.optionGroupTemplate,T,C):t.getOptionGroupLabel(T),J=C+"_"+t.getOptionGroupRenderKey(T),ie=r({className:a("itemGroup",{optionGroupLabel:z}),style:D,"data-p-highlight":t.selected},m("itemGroup")),G=r({className:a("itemGroupLabel")},m("itemGroupLabel"));return p.createElement("li",du({key:J},ie),p.createElement("span",G,V))}var te=t.getOptionRenderKey(T)+"_"+C,W=t.getOptionLabel(T),B=t.isOptionDisabled(T);return p.createElement(pR,{key:te,label:W,index:C,focusedOptionIndex:t.focusedOptionIndex,option:T,ariaSetSize:u,onInputKeyDown:t.onInputKeyDown,style:D,template:t.itemTemplate,selected:t.isSelected(T),highlightOnSelect:t.highlightOnSelect,disabled:B,onClick:t.onOptionClick,onMouseMove:b,ptm:n,cx:a,checkmark:t.checkmark})},N=function(){return Te.isNotEmpty(t.visibleOptions)?t.visibleOptions.map(w):t.hasFilter?x(t.emptyFilterMessage,!0):x(t.emptyMessage)},I=function(){if(t.showFilterClear&&t.filterValue){var T=ui("clear"),C=r({className:a("filterClearIcon"),"aria-label":T,onClick:function(){return t.onFilterClearIconClick(function(){return ze.focus(l.current)})}},m("filterClearIcon")),_=t.filterClearIcon||p.createElement(Dp,C),D=Yn.getJSXIcon(_,Oc({},C),{props:t});return D}return null},P=function(){if(t.filter){var T=I(),C=r({className:a("filterIcon")},m("filterIcon")),_=t.filterIcon||p.createElement(f3,C),D=Yn.getJSXIcon(_,Oc({},C),{props:t}),z=r({className:a("filterContainer",{clearIcon:T})},m("filterContainer")),V=r({ref:l,type:"text",autoComplete:"off",className:a("filterInput",{context:s}),placeholder:t.filterPlaceholder,onKeyDown:t.onFilterInputKeyDown,onChange:function(W){return E(W)},value:t.filterValue},m("filterInput")),J=p.createElement("div",z,p.createElement("input",V),T,D);if(t.filterTemplate){var ie={className:sr("p-dropdown-filter-container",{"p-dropdown-clearable-filter":!!T}),element:J,filterOptions:f,filterInputKeyDown:t.onFilterInputKeyDown,filterInputChange:E,filterIconClassName:"p-dropdown-filter-icon",clearIcon:T,props:t};J=Te.getJSXElement(t.filterTemplate,ie)}var G=r({className:a("header")},m("header"));return p.createElement("div",G,J)}return null},L=function(){if(t.virtualScrollerOptions){var T=Oc(Oc({},t.virtualScrollerOptions),{style:Oc(Oc({},t.virtualScrollerOptions.style),{height:t.scrollHeight}),className:sr("p-dropdown-items-wrapper",t.virtualScrollerOptions.className),items:t.visibleOptions,autoSize:!0,onLazyLoad:function(V){return t.virtualScrollerOptions.onLazyLoad(Oc(Oc({},V),{filter:t.filterValue}))},itemTemplate:function(V,J){return V&&w(V,J.index,J)},contentTemplate:function(V){var J=t.hasFilter?t.emptyFilterMessage:t.emptyMessage,ie=c?x(J):V.children,G=r({ref:V.contentRef,style:V.style,className:sr(V.className,a("list",{virtualScrollerProps:t.virtualScrollerOptions})),role:"listbox","aria-label":Ni("listLabel")},m("list"));return p.createElement("ul",G,ie)}});return p.createElement(oy,du({ref:t.virtualScrollerRef},T,{pt:n("virtualScroller")}))}var C=N(),_=r({className:a("wrapper"),style:i("wrapper")},m("wrapper")),D=r({className:a("list"),role:"listbox","aria-label":Ni("listLabel")},m("list"));return p.createElement("div",_,p.createElement("ul",D,C))},R=function(){var T=P(),C=L(),_=y(),D=r({className:sr(t.panelClassName,a("panel",{context:s})),style:i("panel"),onClick:t.onClick},m("panel")),z=r({classNames:a("transition"),in:t.in,timeout:{enter:120,exit:100},options:t.transitionOptions,unmountOnExit:!0,onEnter:v,onEntered:h,onExit:t.onExit,onExited:t.onExited},m("transition"));return p.createElement(ay,du({nodeRef:e},z),p.createElement("div",du({ref:e},D),t.firstFocusableElement,T,C,_,t.lastFocusableElement))},O=R();return p.createElement(ov,{element:O,appendTo:t.appendTo})}));gR.displayName="DropdownPanel";function RV(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=MV(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){l=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function MV(t,e){if(t){if(typeof t=="string")return q4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?q4(t,e):void 0}}function q4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function V4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ic(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V4(Object(r),!0).forEach(function(n){iy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var qb=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=Kv.getProps(t,n),i=V7("",a.filterDelay||0),s=og(i,3),l=s[0],c=s[1],u=s[2],f=p.useState(!1),m=og(f,2),v=m[0],h=m[1],E=p.useState(-1),y=og(E,2),b=y[0],x=y[1],w=p.useState(!1),N=og(w,2),I=N[0],P=N[1],L=p.useRef(!1),R=p.useRef(null),O=p.useRef(null),A=p.useRef(null),T=p.useRef(null),C=p.useRef(a.inputRef),_=p.useRef(a.focusInputRef),D=p.useRef(null),z=p.useRef(null),V=p.useRef(null),J=a.virtualScrollerOptions&&a.virtualScrollerOptions.lazy,ie=Te.isNotEmpty(c),G=a.appendTo||n&&n.appendTo||$n.appendTo,te=Kv.setMetaData(Ic(Ic({props:a},a.__parentMetadata),{},{state:{filter:c,focused:v,overlayVisible:I}})),W=te.ptm,B=te.cx,j=te.sx,U=te.isUnstyled;Ll(Kv.css.styles,U,{name:"dropdown"});var X=u3({target:R,overlay:O,listener:function(Le,Dt){var yr=Dt.type,In=Dt.valid;In&&(yr==="outside"?ce(Le)||At():n.hideOverlaysOnDocumentScrolling?At():ze.isDocument(Le.target)||at())},when:I}),Z=og(X,2),me=Z[0],de=Z[1],oe=function(Le){return(Le||[]).reduce(function(Dt,yr,In){Dt.push(Ic(Ic({},yr),{},{group:!0,index:In}));var En=Se(yr);return En&&En.forEach(function(Dn){return Dt.push(Dn)}),Dt},[])},ee=function(){var Le=a.optionGroupLabel?oe(a.options):a.options;if(ie&&!J){var Dt=c.trim().toLocaleLowerCase(a.filterLocale),yr=a.filterBy?a.filterBy.split(","):[a.optionLabel||"label"];if(a.optionGroupLabel){var In=[],En=RV(a.options),Dn;try{for(En.s();!(Dn=En.n()).done;){var go=Dn.value,$a=$f.filter(Se(go),yr,Dt,a.filterMatchMode,a.filterLocale);$a&&$a.length&&In.push(Ic(Ic({},go),iy({},"".concat(a.optionGroupChildren),$a)))}}catch(Pt){En.e(Pt)}finally{En.f()}return oe(In)}return $f.filter(Le,yr,Dt,a.filterMatchMode,a.filterLocale)}return Le},le=function(Le){var Dt=Le.relatedTarget===_.current?ze.getFirstFocusableElement(O.current,':not([data-p-hidden-focusable="true"])'):_.current;ze.focus(Dt)},pe=function(Le){var Dt=Le.relatedTarget===_.current?ze.getLastFocusableElement(O.current,':not([data-p-hidden-focusable="true"])'):_.current;ze.focus(Dt)},ce=function(Le){return ze.isAttributeEquals(Le.target,"data-pc-section","clearicon")||ze.isAttributeEquals(Le.target.parentElement||Le.target,"data-pc-section","filterclearicon")},_e=function(Le){a.disabled||a.loading||(a.onClick&&a.onClick(Le),!Le.defaultPrevented&&(ce(Le)||Le.target.tagName==="INPUT"||((!O.current||!(O.current&&O.current.contains(Le.target)))&&(ze.focus(_.current),I?At():ct()),Le.preventDefault(),L.current=!0)))},He=function(Le){a.showOnFocus&&!I&&ct(),h(!0),a.onFocus&&a.onFocus(Le)},Re=function(Le){h(!1),a.onBlur&&setTimeout(function(){var Dt=C.current?C.current.value:void 0;a.onBlur({originalEvent:Le.originalEvent,value:Dt,stopPropagation:function(){Le.originalEvent.stopPropagation()},preventDefault:function(){Le.originalEvent.preventDefault()},target:{name:a.name,id:a.id,value:Dt}})},200)},be=function(Le,Dt){var yr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;pr({originalEvent:Le,option:Dt}),yr&&(At(),ze.focus(_.current))},gt=function(Le){$u.emit("overlay-click",{originalEvent:Le,target:R.current})},Ae=function(Le){if(a.disabled){Le.preventDefault();return}var Dt=ze.isAndroid()?Le.key:Le.code;switch(Dt){case"ArrowDown":mr(Le);break;case"ArrowUp":wr(Le);break;case"ArrowLeft":case"ArrowRight":Ur(Le,a.editable);break;case"Home":Sr(Le);break;case"End":kt(Le);break;case"PageDown":Ne(Le);break;case"PageUp":Ee(Le);break;case"Space":qe(Le,a.editable);break;case"NumpadEnter":case"Enter":Nt(Le);break;case"Escape":St(Le);break;case"Tab":Ot(Le);break;case"Backspace":gr(Le,a.editable);break;case"ShiftLeft":case"ShiftRight":break;default:var yr=Le.metaKey||Le.ctrlKey||Le.altKey;!yr&&Te.isPrintableCharacter(Le.key)&&(!I&&!a.editable&&ct(),!a.editable&&mt(Le,Le.key));break}L.current=!1},ke=function(Le){switch(Le.code){case"ArrowDown":mr(Le);break;case"ArrowUp":wr(Le);break;case"ArrowLeft":case"ArrowRight":Ur(Le,!0);break;case"Enter":case"NumpadEnter":Nt(Le),Le.preventDefault();break;case"Escape":St(Le);break}},Be=function(){return ze.getFocusableElements(O.current,':not([data-p-hidden-focusable="true"])').length>0},Xe=function(Le){var Dt;return Ke(Le)&&((Dt=or(Le))===null||Dt===void 0?void 0:Dt.toLocaleLowerCase(a.filterLocale).startsWith(V.current.toLocaleLowerCase(a.filterLocale)))},Ke=function(Le){return Te.isNotEmpty(Le)&&!(Rr(Le)||Pr(Le))},Et=function(){return Te.isNotEmpty(a.value)},ut=function(Le){return Ke(Le)&&er(Le)},zt=function(){return Et?kr.findIndex(function(Le){return ut(Le)}):-1},Gt=function(){var Le=zt();return Le<0?ht():Le},mt=function(Le,Dt){V.current=(V.current||"")+Dt;var yr=-1,In=!1;return Te.isNotEmpty(V.current)&&(b!==-1?(yr=kr.slice(b).findIndex(function(En){return Xe(En)}),yr=yr===-1?kr.slice(0,b).findIndex(function(En){return Xe(En)}):yr+b):yr=kr.findIndex(function(En){return Xe(En)}),yr!==-1&&(In=!0),yr===-1&&b===-1&&(yr=Gt()),yr!==-1&&Jt(Le,yr)),z.current&&clearTimeout(z.current),z.current=setTimeout(function(){V.current="",z.current=null},500),In},nt=function(){var Le=zt();return Le<0?Kt():Le},ht=function(){return kr.findIndex(function(Le){return Ke(Le)})},Kt=function(){return Te.findLastIndex(kr,function(Le){return Ke(Le)})},bt=function(Le){var Dt=Le<kr.length-1?kr.slice(Le+1).findIndex(function(yr){return Ke(yr)}):-1;return Dt>-1?Dt+Le+1:Le},Ar=function(Le){var Dt=Le>0?Te.findLastIndex(kr.slice(0,Le),function(yr){return Ke(yr)}):-1;return Dt>-1?Dt:Le},Jt=function(Le,Dt){b!==Dt&&(x(Dt),Lr(Dt),a.selectOnFocus&&be(Le,kr[Dt],!1))},Lr=function(Le){var Dt=ze.findSingle(O.current,'li[id="dropdownItem_'.concat(Le,'"]'));Dt&&Dt.focus()},mr=function(Le){if(!I)ct(),a.editable&&Jt(Le,zt());else{var Dt=b!==-1?bt(b):L.current?ht():Gt();Jt(Le,Dt)}Le.preventDefault()},wr=function(Le){var Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Le.altKey&&!Dt)b!==-1&&be(Le,kr[b]),state.overlayVisible&&At(),Le.preventDefault();else{var yr=b!==-1?Ar(b):L.current?Kt():nt();Jt(Le,yr),!I&&ct(),Le.preventDefault()}},Ur=function(Le){var Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Dt&&x(-1)},Sr=function(Le){var Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Dt?(Le.currentTarget.setSelectionRange(0,0),x(-1)):(Jt(Le,ht()),!I&&ct()),Le.preventDefault()},kt=function(Le){var Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Dt){var yr=Le.currentTarget,In=yr.value.length;yr.setSelectionRange(In,In),x(-1)}else Jt(Le,Kt()),!I&&ct();Le.preventDefault()},Ee=function(Le){Le.preventDefault()},Ne=function(Le){Le.preventDefault()},qe=function(Le){var Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;!Dt&&Nt(Le)},Nt=function(Le){I?b!==-1&&be(Le,kr[b]):(x(-1),mr(Le)),Le.preventDefault()},St=function(Le){I&&At(),Le.preventDefault()},Ot=function(Le){var Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Dt||(I&&!Be()?(ze.focus(A.current),Le.preventDefault()):(b!==-1&&be(Le,kr[b]),I&&At()))},gr=function(Le){var Dt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;Le&&Dt&&!I&&ct()},lr=function(Le,Dt){if(!Dt||!(Le!=null&&Le.length))return-1;var yr=Dt.toLocaleLowerCase(),In=Le.findIndex(function(En){return or(En).toLocaleLowerCase()===yr});return In!==-1?In:Le.findIndex(function(En){return or(En).toLocaleLowerCase().startsWith(yr)})},zr=function(Le){!I&&ct();var Dt=null;Le.target.value&&kr&&(Dt=lr(kr,Le.target.value)),x(Dt),a.onChange&&a.onChange({originalEvent:Le.originalEvent,value:Le.target.value,stopPropagation:function(){Le.originalEvent.stopPropagation()},preventDefault:function(){Le.originalEvent.preventDefault()},target:{name:a.name,id:a.id,value:Le.target.value}})},st=function(Le){h(!0),At(),a.onFocus&&a.onFocus(Le)},Ct=function(Le){var Dt=Le.option;Dt.disabled||(pr(Le),ze.focus(_.current)),At()},_t=function(Le){var Dt=Le.target.value;u(Dt),a.onFilter&&a.onFilter({originalEvent:Le,filter:Dt})},Kr=function(Le){yn(Le)},yn=function(Le){u(""),a.onFilter&&a.onFilter({filter:""}),Le&&Le()},en=function(Le){a.onChange&&a.onChange({originalEvent:Le,value:void 0,stopPropagation:function(){Le==null||Le.stopPropagation()},preventDefault:function(){Le==null||Le.preventDefault()},target:{name:a.name,id:a.id,value:void 0}}),a.filter&&yn(),Ht(),x(-1)},pr=function(Le){if(Vr!==Le.option){Ht(Le.option),x(-1);var Dt=qt(Le.option),yr=rn(Le.option,kr);a.onChange&&a.onChange({originalEvent:Le.originalEvent,value:Dt,stopPropagation:function(){Le.originalEvent.stopPropagation()},preventDefault:function(){Le.originalEvent.preventDefault()},target:{name:a.name,id:a.id,value:Dt}}),Jt(Le.originalEvent,yr)}},Tr=function(Le){if(Le=Le||kr,Le)if(a.optionGroupLabel)for(var Dt=0;Dt<Le.length;Dt++){var yr=rn(a.value,Se(Le[Dt]));if(yr!==-1)return{group:Dt,option:yr}}else return rn(a.value,Le);return-1},mn=function(){return a.optionValue?null:a.dataKey},rn=function(Le,Dt){var yr=mn();return Dt.findIndex(function(In){return Te.equals(Le,qt(In),yr)})},er=function(Le){return Te.equals(a.value,qt(Le),mn())},ct=function(){x(b!==-1?b:a.autoOptionFocus?Gt():a.editable?-1:zt()),P(!0)},At=function(){P(!1),L.current=!1},Yt=function(){a.editable&&!I&&L.current===!1&&ze.focus(C.current)},Ye=function(Le){Xs.set("overlay",O.current,n&&n.autoZIndex||$n.autoZIndex,n&&n.zIndex.overlay||$n.zIndex.overlay),ze.addStyles(O.current,{position:"absolute",top:"0",left:"0"}),at(),Le&&Le()},ft=function(Le){Le&&Le(),me(),a.onShow&&a.onShow()},ot=function(){de()},$e=function(){a.filter&&a.resetFilterOnHide&&yn(),Xs.clear(O.current),a.onHide&&a.onHide()},at=function(){ze.alignOverlay(O.current,C.current.parentElement,a.appendTo||n&&n.appendTo||$n.appendTo)},Rt=function(){var Le=ze.findSingle(O.current,'li[data-p-focused="true"]');if(Le&&Le.scrollIntoView)Le.scrollIntoView({block:"nearest",inline:"nearest"});else{var Dt=ze.findSingle(O.current,'li[data-p-highlight="true"]');Dt&&Dt.scrollIntoView&&Dt.scrollIntoView({block:"nearest",inline:"nearest"})}},Ht=function(Le){C.current&&(C.current.value=Le?or(Le):a.value||"",_.current&&(_.current.value=C.current.value))},or=function(Le){if(Te.isScalar(Le))return"".concat(Le);var Dt=a.optionLabel?Te.resolveFieldData(Le,a.optionLabel):Le.label;return"".concat(Dt)},qt=function(Le){if(a.useOptionAsValue)return Le;var Dt=a.optionValue?Te.resolveFieldData(Le,a.optionValue):Le?Le.value:Te.resolveFieldData(Le,"value");return a.optionValue||Te.isNotEmpty(Dt)?Dt:Le},br=function(Le){return a.dataKey?Te.resolveFieldData(Le,a.dataKey):or(Le)},Pr=function(Le){return a.optionGroupLabel&&Le.group},Rr=function(Le){return a.optionDisabled?Te.isFunction(a.optionDisabled)?a.optionDisabled(Le):Te.resolveFieldData(Le,a.optionDisabled):Le&&Le.disabled!==void 0?Le.disabled:!1},Ze=function(Le){return Te.resolveFieldData(Le,a.optionGroupLabel)},ae=function(Le){return Te.resolveFieldData(Le,a.optionGroupLabel)},Se=function(Le){return Te.resolveFieldData(Le,a.optionGroupChildren)},Ue=function(){if(a.editable&&C.current){var Le=Vr?or(Vr):null,Dt=Le||a.value||"";C.current.value=Dt,_.current&&(_.current.value=Dt)}},tt=function(){var Le=Tr(a.options);return Le!==-1?a.optionGroupLabel?Se(a.options[Le.group])[Le.option]:a.options[Le]:null};p.useImperativeHandle(e,function(){return{props:a,show:ct,hide:At,clear:en,focus:function(){return ze.focus(_.current)},getElement:function(){return R.current},getOverlay:function(){return O.current},getInput:function(){return C.current},getFocusInput:function(){return _.current},getVirtualScroller:function(){return D.current}}}),p.useEffect(function(){Te.combinedRefs(C,a.inputRef),Te.combinedRefs(_,a.focusInputRef)},[C,a.inputRef,_,a.focusInputRef]),gs(function(){a.autoFocus&&ze.focus(_.current,a.autoFocus),at()}),ba(function(){I&&(a.value||b>=0)&&Rt()},[I,a.value,b]),ba(function(){I&&c&&a.filter&&at()},[I,c,a.filter]),ba(function(){D.current&&D.current.scrollInView(0)},[c]),ba(function(){Ue(),C.current&&(C.current.selectedIndex=1)}),Ls(function(){Xs.clear(O.current)});var pt=function(){var Le={value:"",label:a.placeholder};if(Vr){var Dt=qt(Vr);Le={value:lp(Dt)==="object"?a.options.findIndex(function(Dn){return Dn===Dt}):Dt,label:or(Vr)}}var yr=r({className:"p-hidden-accessible p-dropdown-hidden-select"},W("hiddenSelectedMessage")),In=r({ref:C,required:a.required,defaultValue:Le.value,name:a.name,tabIndex:-1},W("select")),En=r({value:Le.value},W("option"));return p.createElement("div",yr,p.createElement("select",In,p.createElement("option",En,Le.label)))},Bt=function(){var Le=Te.isNotEmpty(Vr)?or(Vr):null;a.editable&&(Le=Le||a.value||"");var Dt=r({className:"p-hidden-accessible"},W("hiddenSelectedMessage")),yr=r(Ic({ref:_,id:a.inputId,defaultValue:Le,type:"text",readOnly:!0,"aria-haspopup":"listbox",onFocus:He,onBlur:Re,onKeyDown:Ae,disabled:a.disabled,tabIndex:a.disabled?-1:a.tabIndex||0},Pn),W("input"));return p.createElement("div",Dt,p.createElement("input",yr))},ar=function(){var Le=Te.isNotEmpty(Vr)?or(Vr):null;if(a.editable){var Dt=Le||a.value||"",yr=r(Ic({ref:C,type:"text",defaultValue:Dt,className:B("input",{label:Le}),disabled:a.disabled,placeholder:a.placeholder,maxLength:a.maxLength,onInput:zr,onFocus:st,onKeyDown:Ae,onBlur:Re,tabIndex:a.disabled?-1:a.tabIndex||0,"aria-haspopup":"listbox"},Pn),W("input"));return p.createElement("input",yr)}var In=a.valueTemplate?Te.getJSXElement(a.valueTemplate,Vr,a):Le||a.placeholder||a.emptyMessage||p.createElement(p.Fragment,null,""),En=r({ref:C,className:B("input",{label:Le}),tabIndex:"-1"},W("input"));return p.createElement("span",En,In)},Cr=function(Le){(Le.key==="Enter"||Le.code==="Space")&&(en(Le),Le.preventDefault())},qr=function(){if(a.value!=null&&a.showClear&&!a.disabled&&!Te.isEmpty(a.options)){var Le=r({className:B("clearIcon"),onPointerUp:en,tabIndex:a.editable?-1:a.tabIndex||"0",onKeyDown:Cr,"aria-label":ui("clear")},W("clearIcon")),Dt=a.clearIcon||p.createElement(Dp,Le);return Yn.getJSXIcon(Dt,Ic({},Le),{props:a})}return null},Rn=function(){var Le=r({className:B("loadingIcon"),"data-pr-overlay-visible":I},W("loadingIcon")),Dt=a.loadingIcon||p.createElement(Mp,{spin:!0}),yr=Yn.getJSXIcon(Dt,Ic({},Le),{props:a}),In=a.placeholder||a.ariaLabel,En=r({className:B("trigger"),role:"button","aria-haspopup":"listbox","aria-expanded":I,"aria-label":In},W("trigger"));return p.createElement("div",En,yr)},Mn=function(){var Le=r({className:B("dropdownIcon"),"data-pr-overlay-visible":I},W("dropdownIcon")),Dt=I?a.collapseIcon||p.createElement(sR,Le):a.dropdownIcon||p.createElement(iv,Le),yr=Yn.getJSXIcon(Dt,Ic({},Le),{props:a}),In=a.placeholder||a.ariaLabel,En=r({className:B("trigger"),role:"button","aria-haspopup":"listbox","aria-expanded":I,"aria-label":In},W("trigger"));return p.createElement("div",En,yr)},kr=ee(),Vr=tt(),Mr=Te.isNotEmpty(a.tooltip),on=Kv.getOtherProps(a),Pn=Te.reduceKeys(on,ze.ARIA_PROPS),la=pt(),ra=Bt(),Tn=ar(),sn=a.loading?Rn():Mn(),Sa=qr(),cn=r({id:a.id,ref:R,className:sr(a.className,B("root",{context:n,focusedState:v,overlayVisibleState:I})),style:a.style,onClick:function(Le){return _e(Le)},onMouseDown:a.onMouseDown,onContextMenu:a.onContextMenu,onFocus:Yt,"data-p-disabled":a.disabled,"data-p-focus":v,"aria-activedescendant":v?"dropdownItem_".concat(b):void 0},on,W("root")),oo=r({ref:A,role:"presentation",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:le,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},W("hiddenFirstFocusableEl")),Co=r({ref:T,role:"presentation",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:pe,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},W("hiddenLastFocusableEl"));return p.createElement(p.Fragment,null,p.createElement("div",cn,ra,la,Tn,Sa,sn,p.createElement(gR,du({hostName:"Dropdown",ref:O,visibleOptions:kr,virtualScrollerRef:D},a,{appendTo:G,cx:B,filterValue:l,focusedOptionIndex:b,getOptionGroupChildren:Se,getOptionGroupLabel:ae,getOptionGroupRenderKey:Ze,getOptionLabel:or,getOptionRenderKey:br,getSelectedOptionIndex:Tr,hasFilter:ie,in:I,isOptionDisabled:Rr,isSelected:er,onOverlayHide:At,onClick:gt,onEnter:Ye,onEntered:ft,onExit:ot,onExited:$e,onFilterClearIconClick:Kr,onFilterInputChange:_t,onFilterInputKeyDown:ke,onOptionClick:Ct,onInputKeyDown:Ae,ptm:W,resetFilter:yn,changeFocusedOptionIndex:Jt,firstFocusableElement:p.createElement("span",oo),lastFocusableElement:p.createElement("span",Co),sx:j}))),Mr&&p.createElement(Bc,du({target:R,content:a.tooltip,pt:W("tooltip")},a.tooltipOptions)))}));qb.displayName="Dropdown";function DV(t){if(Array.isArray(t))return t}function jV(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function H4(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function FV(t,e){if(t){if(typeof t=="string")return H4(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H4(t,e):void 0}}function $V(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zV(t,e){return DV(t)||jV(t,e)||FV(t,e)||$V()}function cp(t){"@babel/helpers - typeof";return cp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cp(t)}function BV(t,e){if(cp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function UV(t){var e=BV(t,"string");return cp(e)=="symbol"?e:e+""}function pi(t,e,r){return(e=UV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var qV={root:"p-paginator p-component",left:"p-paginator-left-content",end:"p-paginator-right-content",firstPageIcon:"p-paginator-icon",firstPageButton:function(e){var r=e.disabled;return sr("p-paginator-first p-paginator-element p-link",{"p-disabled":r})},prevPageIcon:"p-paginator-icon",prevPageButton:function(e){var r=e.disabled;return sr("p-paginator-prev p-paginator-element p-link",{"p-disabled":r})},nextPageIcon:"p-paginator-icon",nextPageButton:function(e){var r=e.disabled;return sr("p-paginator-next p-paginator-element p-link",{"p-disabled":r})},lastPageIcon:"p-paginator-icon",lastPageButton:function(e){var r=e.disabled;return sr("p-paginator-last p-paginator-element p-link",{"p-disabled":r})},pageButton:function(e){var r=e.pageLink,n=e.startPageInView,a=e.endPageInView,i=e.page;return sr("p-paginator-page p-paginator-element p-link",{"p-paginator-page-start":r===n,"p-paginator-page-end":r===a,"p-highlight":r-1===i})},pages:"p-paginator-pages"},VV=`
@layer primereact {
    .p-paginator {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .p-paginator-left-content {
        margin-right: auto;
    }
    
    .p-paginator-right-content {
        margin-left: auto;
    }
    
    .p-paginator-page,
    .p-paginator-next,
    .p-paginator-last,
    .p-paginator-first,
    .p-paginator-prev,
    .p-paginator-current {
        cursor: pointer;
        display: inline-flex;
        align-items: center;
        justify-content: center;
        line-height: 1;
        user-select: none;
        overflow: hidden;
        position: relative;
    }
    
    .p-paginator-element:focus {
        z-index: 1;
        position: relative;
    }
}
`,Yv=An.extend({defaultProps:{__TYPE:"Paginator",__parentMetadata:null,totalRecords:0,rows:0,first:0,pageLinkSize:5,rowsPerPageOptions:null,alwaysShow:!0,style:null,className:null,template:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",onPageChange:null,leftContent:null,rightContent:null,dropdownAppendTo:null,currentPageReportTemplate:"({currentPage} of {totalPages})",children:void 0},css:{classes:qV,styles:VV}}),HV=An.extend({defaultProps:{__TYPE:"CurrentPageReport",pageCount:null,page:null,first:null,rows:null,totalRecords:null,reportTemplate:"({currentPage} of {totalPages})",template:null,children:void 0}}),WV=An.extend({defaultProps:{__TYPE:"FirstPageLink",disabled:!1,onClick:null,template:null,firstPageLinkIcon:null,children:void 0}}),GV=An.extend({defaultProps:{__TYPE:"JumpToPageInput",page:null,rows:null,pageCount:null,disabled:!1,template:null,onChange:null,children:void 0,metaData:null,ptm:null}}),KV=An.extend({defaultProps:{__TYPE:"LastPageLink",disabled:!1,onClick:null,template:null,lastPageLinkIcon:null,children:void 0}}),YV=An.extend({defaultProps:{__TYPE:"NextPageLink",disabled:!1,onClick:null,template:null,nextPageLinkIcon:null,children:void 0}}),JV=An.extend({defaultProps:{__TYPE:"PageLinks",value:null,page:null,rows:null,pageCount:null,links:null,template:null,children:void 0}}),XV=An.extend({defaultProps:{__TYPE:"PrevPageLink",disabled:!1,onClick:null,template:null,prevPageLinkIcon:null,children:void 0}}),ZV=An.extend({defaultProps:{__TYPE:"RowsPerPageDropdown",options:null,value:null,page:null,pageCount:null,totalRecords:0,appendTo:null,onChange:null,template:null,disabled:!1,children:void 0}});function W4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function G4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W4(Object(r),!0).forEach(function(n){pi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var hR=p.memo(function(t){var e=zn(),r=p.useContext(sa),n=HV.getProps(t,r),a={currentPage:n.page+1,totalPages:n.totalPages,first:Math.min(n.first+1,n.totalRecords),last:Math.min(n.first+n.rows,n.totalRecords),rows:n.rows,totalRecords:n.totalRecords},i=n.reportTemplate.replace("{currentPage}",a.currentPage).replace("{totalPages}",a.totalPages).replace("{first}",a.first).replace("{last}",a.last).replace("{rows}",a.rows).replace("{totalRecords}",a.totalRecords),s=e({"aria-live":"polite",className:"p-paginator-current"},n.ptm("current",{hostName:n.hostName})),l=p.createElement("span",s,i);if(n.template){var c=G4(G4({},a),{ariaLive:"polite",className:"p-paginator-current",element:l,props:n});return Te.getJSXElement(n.template,c)}return l});hR.displayName="CurrentPageReport";function K4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K4(Object(r),!0).forEach(function(n){pi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var vR=p.memo(function(t){var e=zn(),r=p.useContext(sa),n=WV.getProps(t,r),a=n.ptm,i=n.cx,s=function(b){return a(b,{hostName:n.hostName,context:{disabled:n.disabled}})},l=sr("p-paginator-first p-paginator-element p-link",{"p-disabled":n.disabled}),c="p-paginator-icon",u=e({className:i("firstPageIcon")},s("firstPageIcon")),f=n.firstPageLinkIcon||p.createElement(X7,u),m=Yn.getJSXIcon(f,QV({},u),{props:n}),v=e({type:"button",className:i("firstPageButton",{disabled:n.disabled}),onClick:n.onClick,disabled:n.disabled,"aria-label":Ni("firstPageLabel")},s("firstPageButton")),h=p.createElement("button",v,m,p.createElement(di,null));if(n.template){var E={onClick:n.onClick,className:l,iconClassName:c,disabled:n.disabled,element:h,props:n};return Te.getJSXElement(n.template,E)}return h});vR.displayName="FirstPageLink";function eH(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function tH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var ns=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),Ts=eH(function t(){tH(this,t)});pi(Ts,"ripple",!1);pi(Ts,"inputStyle","outlined");pi(Ts,"locale","en");pi(Ts,"appendTo",null);pi(Ts,"cssTransition",!0);pi(Ts,"autoZIndex",!0);pi(Ts,"hideOverlaysOnDocumentScrolling",!1);pi(Ts,"nonce",null);pi(Ts,"nullSortOrder",1);pi(Ts,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});pi(Ts,"pt",void 0);pi(Ts,"filterMatchModeOptions",{text:[ns.STARTS_WITH,ns.CONTAINS,ns.NOT_CONTAINS,ns.ENDS_WITH,ns.EQUALS,ns.NOT_EQUALS],numeric:[ns.EQUALS,ns.NOT_EQUALS,ns.LESS_THAN,ns.LESS_THAN_OR_EQUAL_TO,ns.GREATER_THAN,ns.GREATER_THAN_OR_EQUAL_TO],date:[ns.DATE_IS,ns.DATE_IS_NOT,ns.DATE_BEFORE,ns.DATE_AFTER]});pi(Ts,"changeTheme",function(t,e,r,n){var a,i=document.getElementById(r);if(!i)throw Error("Element with id ".concat(r," not found."));var s=i.getAttribute("href").replace(t,e),l=document.createElement("link");l.setAttribute("rel","stylesheet"),l.setAttribute("id",r),l.setAttribute("href",s),l.addEventListener("load",function(){n&&n()}),(a=i.parentNode)===null||a===void 0||a.replaceChild(l,i)});var rH={en:{accept:"Yes",addRule:"Add Rule",am:"AM",apply:"Apply",cancel:"Cancel",choose:"Choose",chooseDate:"Choose Date",chooseMonth:"Choose Month",chooseYear:"Choose Year",clear:"Clear",completed:"Completed",contains:"Contains",custom:"Custom",dateAfter:"Date is after",dateBefore:"Date is before",dateFormat:"mm/dd/yy",dateIs:"Date is",dateIsNot:"Date is not",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],emptyFilterMessage:"No results found",emptyMessage:"No available options",emptySearchMessage:"No results found",emptySelectionMessage:"No selected item",endsWith:"Ends with",equals:"Equals",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],filter:"Filter",firstDayOfWeek:0,gt:"Greater than",gte:"Greater than or equal to",lt:"Less than",lte:"Less than or equal to",matchAll:"Match All",matchAny:"Match Any",medium:"Medium",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nextDecade:"Next Decade",nextHour:"Next Hour",nextMinute:"Next Minute",nextMonth:"Next Month",nextSecond:"Next Second",nextYear:"Next Year",noFilter:"No Filter",notContains:"Not contains",notEquals:"Not equals",now:"Now",passwordPrompt:"Enter a password",pending:"Pending",pm:"PM",prevDecade:"Previous Decade",prevHour:"Previous Hour",prevMinute:"Previous Minute",prevMonth:"Previous Month",prevSecond:"Previous Second",prevYear:"Previous Year",reject:"No",removeRule:"Remove Rule",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",showMonthAfterYear:!1,startsWith:"Starts with",strong:"Strong",today:"Today",upload:"Upload",weak:"Weak",weekHeader:"Wk",aria:{cancelEdit:"Cancel Edit",close:"Close",collapseRow:"Row Collapsed",editRow:"Edit Row",expandRow:"Row Expanded",falseLabel:"False",filterConstraint:"Filter Constraint",filterOperator:"Filter Operator",firstPageLabel:"First Page",gridView:"Grid View",hideFilterMenu:"Hide Filter Menu",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",lastPageLabel:"Last Page",listLabel:"Option List",listView:"List View",moveAllToSource:"Move All to Source",moveAllToTarget:"Move All to Target",moveBottom:"Move Bottom",moveDown:"Move Down",moveToSource:"Move to Source",moveToTarget:"Move to Target",moveTop:"Move Top",moveUp:"Move Up",navigation:"Navigation",next:"Next",nextPageLabel:"Next Page",nullLabel:"Not Selected",pageLabel:"Page {page}",otpLabel:"Please enter one time password character {0}",passwordHide:"Hide Password",passwordShow:"Show Password",previous:"Previous",prevPageLabel:"Previous Page",rotateLeft:"Rotate Left",rotateRight:"Rotate Right",rowsPerPageLabel:"Rows per page",saveEdit:"Save Edit",scrollTop:"Scroll Top",selectAll:"All items selected",selectRow:"Row Selected",showFilterMenu:"Show Filter Menu",slide:"Slide",slideNumber:"{slideNumber}",star:"1 star",stars:"{star} stars",trueLabel:"True",unselectAll:"All items unselected",unselectRow:"Row Unselected",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out"}}};function bR(t,e){if(t.includes("__proto__")||t.includes("prototype"))throw new Error("Unsafe ariaKey detected");var r=Ts.locale;try{var n=nH(r).aria[t];if(n)for(var a in e)e.hasOwnProperty(a)&&(n=n.replace("{".concat(a,"}"),e[a]));return n}catch{throw new Error("The ".concat(t," option is not found in the current locale('").concat(r,"')."))}}function nH(t){var e=t||Ts.locale;if(e.includes("__proto__")||e.includes("prototype"))throw new Error("Unsafe locale detected");return rH[e]}var yR=p.memo(function(t){zn();var e=p.useContext(sa),r=GV.getProps(t,e),n=bR("jumpToPageInputLabel"),a=function(u){r.onChange&&r.onChange(r.rows*(u.value-1),r.rows)},i=r.totalPages>0?r.page+1:0,s=p.createElement(nR,{value:i,onChange:a,className:"p-paginator-page-input",disabled:r.disabled,pt:r.ptm("JTPInput"),unstyled:r.unstyled,__parentMetadata:{parent:r.metaData},"aria-label":n});if(r.template){var l={value:i,onChange:a,disabled:r.disabled,className:"p-paginator-page-input","aria-label":n,element:s,props:r};return Te.getJSXElement(r.template,l)}return s});yR.displayName="JumpToPageInput";function Y4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y4(Object(r),!0).forEach(function(n){pi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var ER=p.memo(function(t){var e=zn(),r=p.useContext(sa),n=KV.getProps(t,r),a=n.ptm,i=n.cx,s=function(b){return a(b,{hostName:n.hostName,context:{disabled:n.disabled}})},l=sr("p-paginator-last p-paginator-element p-link",{"p-disabled":n.disabled}),c="p-paginator-icon",u=e({className:i("lastPageIcon")},s("lastPageIcon")),f=n.lastPageLinkIcon||p.createElement(aR,u),m=Yn.getJSXIcon(f,aH({},u),{props:n}),v=e({type:"button",className:i("lastPageButton",{disabled:n.disabled}),onClick:n.onClick,disabled:n.disabled,"aria-label":Ni("lastPageLabel")},s("lastPageButton")),h=p.createElement("button",v,m,p.createElement(di,null));if(n.template){var E={onClick:n.onClick,className:l,iconClassName:c,disabled:n.disabled,element:h,props:n};return Te.getJSXElement(n.template,E)}return h});ER.displayName="LastPageLink";function J4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J4(Object(r),!0).forEach(function(n){pi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var xR=p.memo(function(t){var e=zn(),r=p.useContext(sa),n=YV.getProps(t,r),a=n.ptm,i=n.cx,s=function(b){return a(b,{hostName:n.hostName,context:{disabled:n.disabled}})},l=sr("p-paginator-next p-paginator-element p-link",{"p-disabled":n.disabled}),c="p-paginator-icon",u=e({className:i("nextPageIcon")},s("nextPageIcon")),f=n.nextPageLinkIcon||p.createElement(oR,u),m=Yn.getJSXIcon(f,oH({},u),{props:n}),v=e({type:"button",className:i("nextPageButton",{disabled:n.disabled}),onClick:n.onClick,disabled:n.disabled,"aria-label":Ni("nextPageLabel")},s("nextPageButton")),h=p.createElement("button",v,m,p.createElement(di,null));if(n.template){var E={onClick:n.onClick,className:l,iconClassName:c,disabled:n.disabled,element:h,nextPageLinkIcon:m,props:n};return Te.getJSXElement(n.template,E)}return h});xR.displayName="NextPageLink";var wR=p.memo(function(t){var e=zn(),r=p.useContext(sa),n=JV.getProps(t,r),a=n.ptm,i=n.cx,s=function(h,E){return a(E,{hostName:n.hostName,context:{active:h-1===n.page}})},l=function(h,E){n.onClick&&n.onClick({originalEvent:h,value:E}),h.preventDefault()},c;if(n.value){var u=n.value[0],f=n.value[n.value.length-1];c=n.value.map(function(v){var h=sr("p-paginator-page p-paginator-element p-link",{"p-paginator-page-start":v===u,"p-paginator-page-end":v===f,"p-highlight":v-1===n.page}),E=e({type:"button",onClick:function(w){return l(w,v)},className:i("pageButton",{pageLink:v,startPageInView:u,endPageInView:f,page:n.page}),disabled:n.disabled,"aria-label":Ni("pageLabel",{page:v}),"aria-current":v-1===n.page?"true":void 0},s(v,"pageButton")),y=p.createElement("button",E,v,p.createElement(di,null));if(n.template){var b={onClick:function(w){return l(w,v)},className:h,view:{startPage:u-1,endPage:f-1},page:v-1,currentPage:n.page,totalPages:n.totalPages,ariaLabel:Ni("pageLabel",{page:v}),ariaCurrent:v-1===n.page?"true":void 0,element:y,props:n};y=Te.getJSXElement(n.template,b)}return p.createElement(p.Fragment,{key:v},y)})}var m=e({className:i("pages")},a("pages",{hostName:n.hostName}));return p.createElement("span",m,c)});wR.displayName="PageLinks";function X4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function iH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X4(Object(r),!0).forEach(function(n){pi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var SR=p.memo(function(t){var e=zn(),r=p.useContext(sa),n=XV.getProps(t,r),a=n.ptm,i=n.cx,s=function(b){return a(b,{hostName:n.hostName,context:{disabled:n.disabled}})},l=sr("p-paginator-prev p-paginator-element p-link",{"p-disabled":n.disabled}),c="p-paginator-icon",u=e({className:i("prevPageIcon")},s("prevPageIcon")),f=n.prevPageLinkIcon||p.createElement(iR,u),m=Yn.getJSXIcon(f,iH({},u),{props:n}),v=e({type:"button",className:i("prevPageButton",{disabled:n.disabled}),onClick:n.onClick,disabled:n.disabled,"aria-label":Ni("prevPageLabel")},s("prevPageButton")),h=p.createElement("button",v,m,p.createElement(di,null));if(n.template){var E={onClick:n.onClick,className:l,iconClassName:c,disabled:n.disabled,element:h,props:n};return Te.getJSXElement(n.template,E)}return h});SR.displayName="PrevPageLink";var CR=p.memo(function(t){zn();var e=p.useContext(sa),r=ZV.getProps(t,e),n=r.options&&r.options.length>0,a=n?r.options.map(function(u){return{label:String(u),value:u}}):[],i=ui("choose"),s=bR("jumpToPageDropdownLabel"),l=n?p.createElement(p.Fragment,null,p.createElement(qb,{value:r.value,options:a,onChange:r.onChange,appendTo:r.appendTo,disabled:r.disabled,placeholder:i,"aria-label":s,pt:r.ptm("RPPDropdown"),unstyled:r.unstyled,__parentMetadata:{parent:r.metaData}})):null;if(r.template){var c={value:r.value,options:a,onChange:r.onChange,appendTo:r.appendTo,currentPage:r.page,totalPages:r.pageCount,totalRecords:r.totalRecords,disabled:r.disabled,ariaLabel:s,element:l,props:r};return Te.getJSXElement(r.template,c)}return l});CR.displayName="RowsPerPageDropdown";function Z4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z4(Object(r),!0).forEach(function(n){pi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var PR=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=Yv.getProps(t,n),i=sH({props:a},a.__parentMetadata),s=Yv.setMetaData(i),l=s.ptm,c=s.cx,u=s.isUnstyled;Ll(Yv.css.styles,u,{name:"paginator"});var f=p.useRef(null),m=Math.floor(a.first/a.rows),v=Math.ceil(a.totalRecords/a.rows),h=m===0,E=m===v-1,y=v===0,b=function(){var W=v,B=Math.min(a.pageLinkSize,W),j=Math.max(0,Math.ceil(m-B/2)),U=Math.min(W-1,j+B-1),X=a.pageLinkSize-(U-j+1);return j=Math.max(0,j-X),[j,U]},x=function(){for(var W=[],B=b(),j=B[0],U=B[1],X=j;X<=U;X++)W.push(X+1);return W},w=function(W,B){var j=v,U=Math.floor(W/B);if(U>=0&&U<j){var X={first:W,rows:B,page:U,totalPages:j};a.onPageChange&&a.onPageChange(X)}},N=function(W){w(0,a.rows),W.preventDefault()},I=function(W){w(a.first-a.rows,a.rows),W.preventDefault()},P=function(W){w((W.value-1)*a.rows,a.rows)},L=function(W){w(a.first+a.rows,a.rows),W.preventDefault()},R=function(W){w((v-1)*a.rows,a.rows),W.preventDefault()},O=function(W){var B=W.value;w(0,B)};p.useImperativeHandle(e,function(){return{props:a,getElement:function(){return f.current}}}),ba(function(){m>0&&a.first>=a.totalRecords&&w((v-1)*a.rows,a.rows)},[a.totalRecords]);var A=function(W,B){var j;switch(W){case"FirstPageLink":j=p.createElement(vR,{hostName:"Paginator",key:W,page:m,totalPages:v,totalRecords:a.totalRecords,rows:a.rows,onClick:N,disabled:h||y,template:B,firstPageLinkIcon:a.firstPageLinkIcon,ptm:l,cx:c});break;case"PrevPageLink":j=p.createElement(SR,{hostName:"Paginator",key:W,page:m,totalPages:v,totalRecords:a.totalRecords,rows:a.rows,onClick:I,disabled:h||y,template:B,prevPageLinkIcon:a.prevPageLinkIcon,ptm:l,cx:c});break;case"NextPageLink":j=p.createElement(xR,{hostName:"Paginator",key:W,page:m,totalPages:v,totalRecords:a.totalRecords,rows:a.rows,onClick:L,disabled:E||y,template:B,nextPageLinkIcon:a.nextPageLinkIcon,ptm:l,cx:c});break;case"LastPageLink":j=p.createElement(ER,{hostName:"Paginator",key:W,page:m,totalPages:v,totalRecords:a.totalRecords,rows:a.rows,onClick:R,disabled:E||y,template:B,lastPageLinkIcon:a.lastPageLinkIcon,ptm:l,cx:c});break;case"PageLinks":j=p.createElement(wR,{hostName:"Paginator",key:W,page:m,totalPages:v,totalRecords:a.totalRecords,rows:a.rows,value:x(),onClick:P,template:B,ptm:l,cx:c});break;case"RowsPerPageDropdown":j=p.createElement(CR,{hostName:"Paginator",key:W,value:a.rows,page:m,totalPages:v,totalRecords:a.totalRecords,options:a.rowsPerPageOptions,onChange:O,appendTo:a.dropdownAppendTo,template:B,disabled:y,unstyled:a.unstyled,ptm:l,cx:c,metaData:i});break;case"CurrentPageReport":j=p.createElement(hR,{hostName:"Paginator",reportTemplate:a.currentPageReportTemplate,key:W,page:m,totalPages:v,totalRecords:a.totalRecords,rows:a.rows,first:a.first,template:B,ptm:l});break;case"JumpToPageInput":j=p.createElement(yR,{hostName:"Paginator",key:W,rows:a.rows,page:m,totalPages:v,onChange:w,disabled:y,template:B,ptm:l,unstyled:a.unstyled,metaData:i});break;default:j=null;break}return j},T=function(){var W=a.template;return W?cp(W)==="object"?W.layout?W.layout.split(" ").map(function(B){var j=B.trim();return A(j,W[j])}):Object.entries(W).map(function(B){var j=zV(B,2),U=j[0],X=j[1];return A(U,X)}):W.split(" ").map(function(B){return A(B.trim())}):null};if(!a.alwaysShow&&v<=1)return null;var C=Te.getJSXElement(a.leftContent,a),_=Te.getJSXElement(a.rightContent,a),D=T(),z=r({className:c("left")},l("left")),V=C&&p.createElement("div",z,C),J=r({className:c("end")},l("end")),ie=_&&p.createElement("div",J,_),G=r({ref:f,className:sr(a.className,c("root")),style:a.style},Yv.getOtherProps(a),l("root"));return p.createElement("div",G,V,D,ie)}));PR.displayName="Paginator";function iS(){return iS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iS.apply(null,arguments)}var NR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",iS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.3226 3.6129H0.677419C0.497757 3.6129 0.325452 3.54152 0.198411 3.41448C0.0713707 3.28744 0 3.11514 0 2.93548C0 2.75581 0.0713707 2.58351 0.198411 2.45647C0.325452 2.32943 0.497757 2.25806 0.677419 2.25806H13.3226C13.5022 2.25806 13.6745 2.32943 13.8016 2.45647C13.9286 2.58351 14 2.75581 14 2.93548C14 3.11514 13.9286 3.28744 13.8016 3.41448C13.6745 3.54152 13.5022 3.6129 13.3226 3.6129ZM13.3226 7.67741H0.677419C0.497757 7.67741 0.325452 7.60604 0.198411 7.479C0.0713707 7.35196 0 7.17965 0 6.99999C0 6.82033 0.0713707 6.64802 0.198411 6.52098C0.325452 6.39394 0.497757 6.32257 0.677419 6.32257H13.3226C13.5022 6.32257 13.6745 6.39394 13.8016 6.52098C13.9286 6.64802 14 6.82033 14 6.99999C14 7.17965 13.9286 7.35196 13.8016 7.479C13.6745 7.60604 13.5022 7.67741 13.3226 7.67741ZM0.677419 11.7419H13.3226C13.5022 11.7419 13.6745 11.6706 13.8016 11.5435C13.9286 11.4165 14 11.2442 14 11.0645C14 10.8848 13.9286 10.7125 13.8016 10.5855C13.6745 10.4585 13.5022 10.3871 13.3226 10.3871H0.677419C0.497757 10.3871 0.325452 10.4585 0.198411 10.5855C0.0713707 10.7125 0 10.8848 0 11.0645C0 11.2442 0.0713707 11.4165 0.198411 11.5435C0.325452 11.6706 0.497757 11.7419 0.677419 11.7419Z",fill:"currentColor"}))}));NR.displayName="BarsIcon";function sS(){return sS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sS.apply(null,arguments)}var m3=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",sS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M4.38708 13C4.28408 13.0005 4.18203 12.9804 4.08691 12.9409C3.99178 12.9014 3.9055 12.8433 3.83313 12.7701C3.68634 12.6231 3.60388 12.4238 3.60388 12.2161C3.60388 12.0084 3.68634 11.8091 3.83313 11.6622L8.50507 6.99022L3.83313 2.31827C3.69467 2.16968 3.61928 1.97313 3.62287 1.77005C3.62645 1.56698 3.70872 1.37322 3.85234 1.22959C3.99596 1.08597 4.18972 1.00371 4.3928 1.00012C4.59588 0.996539 4.79242 1.07192 4.94102 1.21039L10.1669 6.43628C10.3137 6.58325 10.3962 6.78249 10.3962 6.99022C10.3962 7.19795 10.3137 7.39718 10.1669 7.54416L4.94102 12.7701C4.86865 12.8433 4.78237 12.9014 4.68724 12.9409C4.59212 12.9804 4.49007 13.0005 4.38708 13Z",fill:"currentColor"}))}));m3.displayName="ChevronRightIcon";function lS(){return lS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lS.apply(null,arguments)}var kR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",lS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M0.609628 13.959C0.530658 13.9599 0.452305 13.9451 0.379077 13.9156C0.305849 13.8861 0.239191 13.8424 0.18294 13.787C0.118447 13.7234 0.0688234 13.6464 0.0376166 13.5614C0.00640987 13.4765 -0.00560954 13.3857 0.00241768 13.2956L0.25679 10.1501C0.267698 10.0041 0.331934 9.86709 0.437312 9.76516L9.51265 0.705715C10.0183 0.233014 10.6911 -0.0203041 11.3835 0.00127367C12.0714 0.00660201 12.7315 0.27311 13.2298 0.746671C13.7076 1.23651 13.9824 1.88848 13.9992 2.57201C14.0159 3.25554 13.7733 3.92015 13.32 4.4327L4.23648 13.5331C4.13482 13.6342 4.0017 13.6978 3.85903 13.7133L0.667067 14L0.609628 13.959ZM1.43018 10.4696L1.25787 12.714L3.50619 12.5092L12.4502 3.56444C12.6246 3.35841 12.7361 3.10674 12.7714 2.83933C12.8067 2.57193 12.7644 2.30002 12.6495 2.05591C12.5346 1.8118 12.3519 1.60575 12.1231 1.46224C11.8943 1.31873 11.6291 1.2438 11.3589 1.24633C11.1813 1.23508 11.0033 1.25975 10.8355 1.31887C10.6677 1.37798 10.5136 1.47033 10.3824 1.59036L1.43018 10.4696Z",fill:"currentColor"}))}));kR.displayName="PencilIcon";function Bg(){return Bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bg.apply(null,arguments)}function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function lH(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cH(t){var e=lH(t,"string");return mh(e)=="symbol"?e:e+""}function Du(t,e,r){return(e=cH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var uH={root:function(e){var r=e.props;return sr("p-badge p-component",Du({"p-badge-no-gutter":Te.isNotEmpty(r.value)&&String(r.value).length===1,"p-badge-dot":Te.isEmpty(r.value),"p-badge-lg":r.size==="large","p-badge-xl":r.size==="xlarge"},"p-badge-".concat(r.severity),r.severity!==null))}},dH=`
@layer primereact {
    .p-badge {
        display: inline-block;
        border-radius: 10px;
        text-align: center;
        padding: 0 .5rem;
    }
    
    .p-overlay-badge {
        position: relative;
    }
    
    .p-overlay-badge .p-badge {
        position: absolute;
        top: 0;
        right: 0;
        transform: translate(50%,-50%);
        transform-origin: 100% 0;
        margin: 0;
    }
    
    .p-badge-dot {
        width: .5rem;
        min-width: .5rem;
        height: .5rem;
        border-radius: 50%;
        padding: 0;
    }
    
    .p-badge-no-gutter {
        padding: 0;
        border-radius: 50%;
    }
}
`,Jv=An.extend({defaultProps:{__TYPE:"Badge",__parentMetadata:null,value:null,severity:null,size:null,style:null,className:null,children:void 0},css:{classes:uH,styles:dH}});function Q4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q4(Object(r),!0).forEach(function(n){Du(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q4(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var AR=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=Jv.getProps(t,n),i=Jv.setMetaData(fH({props:a},a.__parentMetadata)),s=i.ptm,l=i.cx,c=i.isUnstyled;Ll(Jv.css.styles,c,{name:"badge"});var u=p.useRef(null);p.useImperativeHandle(e,function(){return{props:a,getElement:function(){return u.current}}});var f=r({ref:u,style:a.style,className:sr(a.className,l("root"))},Jv.getOtherProps(a),s("root"));return p.createElement("span",f,a.value)}));AR.displayName="Badge";var mH={icon:function(e){var r=e.props;return sr("p-button-icon p-c",Du({},"p-button-icon-".concat(r.iconPos),r.label))},loadingIcon:function(e){var r=e.props,n=e.className;return sr(n,{"p-button-loading-icon":r.loading})},label:"p-button-label p-c",root:function(e){var r=e.props,n=e.size,a=e.disabled;return sr("p-button p-component",Du(Du(Du(Du({"p-button-icon-only":(r.icon||r.loading)&&!r.label&&!r.children,"p-button-vertical":(r.iconPos==="top"||r.iconPos==="bottom")&&r.label,"p-disabled":a,"p-button-loading":r.loading,"p-button-outlined":r.outlined,"p-button-raised":r.raised,"p-button-link":r.link,"p-button-text":r.text,"p-button-rounded":r.rounded,"p-button-loading-label-only":r.loading&&!r.icon&&r.label},"p-button-loading-".concat(r.iconPos),r.loading&&r.label),"p-button-".concat(n),n),"p-button-".concat(r.severity),r.severity),"p-button-plain",r.plain))}},Xv=An.extend({defaultProps:{__TYPE:"Button",__parentMetadata:null,badge:null,badgeClassName:null,className:null,children:void 0,disabled:!1,icon:null,iconPos:"left",label:null,link:!1,loading:!1,loadingIcon:null,outlined:!1,plain:!1,raised:!1,rounded:!1,severity:null,size:null,text:!1,tooltip:null,tooltipOptions:null,visible:!0},css:{classes:mH}});function ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function J1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ek(Object(r),!0).forEach(function(n){Du(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ek(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Lg=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=Xv.getProps(t,n),i=a.disabled||a.loading,s=J1(J1({props:a},a.__parentMetadata),{},{context:{disabled:i}}),l=Xv.setMetaData(s),c=l.ptm,u=l.cx,f=l.isUnstyled;Ll(Xv.css.styles,f,{name:"button",styled:!0});var m=p.useRef(e);if(p.useEffect(function(){Te.combinedRefs(m,e)},[m,e]),a.visible===!1)return null;var v=function(){var A=sr("p-button-icon p-c",Du({},"p-button-icon-".concat(a.iconPos),a.label)),T=r({className:u("icon")},c("icon"));A=sr(A,{"p-button-loading-icon":a.loading});var C=r({className:u("loadingIcon",{className:A})},c("loadingIcon")),_=a.loading?a.loadingIcon||p.createElement(Mp,Bg({},C,{spin:!0})):a.icon;return Yn.getJSXIcon(_,J1({},T),{props:a})},h=function(){var A=r({className:u("label")},c("label"));return a.label?p.createElement("span",A,a.label):!a.children&&!a.label&&p.createElement("span",Bg({},A,{dangerouslySetInnerHTML:{__html:"&nbsp;"}}))},E=function(){if(a.badge){var A=r({className:sr(a.badgeClassName),value:a.badge,unstyled:a.unstyled,__parentMetadata:{parent:s}},c("badge"));return p.createElement(AR,A,a.badge)}return null},y=!i||a.tooltipOptions&&a.tooltipOptions.showOnDisabled,b=Te.isNotEmpty(a.tooltip)&&y,x={large:"lg",small:"sm"},w=x[a.size],N=v(),I=h(),P=E(),L=a.label?a.label+(a.badge?" "+a.badge:""):a["aria-label"],R=r({ref:m,"aria-label":L,"data-pc-autofocus":a.autoFocus,className:sr(a.className,u("root",{size:w,disabled:i})),disabled:i},Xv.getOtherProps(a),c("root"));return p.createElement(p.Fragment,null,p.createElement("button",R,N,I,a.children,P,p.createElement(di,null)),b&&p.createElement(Bc,Bg({target:m,content:a.tooltip,pt:c("tooltip")},a.tooltipOptions)))}));Lg.displayName="Button";function cS(){return cS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cS.apply(null,arguments)}var OR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",cS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M8.64708 14H5.35296C5.18981 13.9979 5.03395 13.9321 4.91858 13.8167C4.8032 13.7014 4.73745 13.5455 4.73531 13.3824V7L0.329431 0.98C0.259794 0.889466 0.217389 0.780968 0.20718 0.667208C0.19697 0.553448 0.219379 0.439133 0.271783 0.337647C0.324282 0.236453 0.403423 0.151519 0.500663 0.0920138C0.597903 0.0325088 0.709548 0.000692754 0.823548 0H13.1765C13.2905 0.000692754 13.4021 0.0325088 13.4994 0.0920138C13.5966 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7826 0.780968 13.7402 0.889466 13.6706 0.98L9.26472 7V13.3824C9.26259 13.5455 9.19683 13.7014 9.08146 13.8167C8.96609 13.9321 8.81022 13.9979 8.64708 14ZM5.97061 12.7647H8.02943V6.79412C8.02878 6.66289 8.07229 6.53527 8.15296 6.43177L11.9412 1.23529H2.05884L5.86355 6.43177C5.94422 6.53527 5.98773 6.66289 5.98708 6.79412L5.97061 12.7647Z",fill:"currentColor"}))}));OR.displayName="FilterIcon";function uS(){return uS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uS.apply(null,arguments)}var IR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",uS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.4994 0.0920138C13.5967 0.151519 13.6758 0.236453 13.7283 0.337647C13.7807 0.439133 13.8031 0.553448 13.7929 0.667208C13.7827 0.780968 13.7403 0.889466 13.6707 0.98L11.406 4.06823C11.3099 4.19928 11.1656 4.28679 11.005 4.3115C10.8444 4.33621 10.6805 4.2961 10.5495 4.2C10.4184 4.1039 10.3309 3.95967 10.3062 3.79905C10.2815 3.63843 10.3216 3.47458 10.4177 3.34353L11.9412 1.23529H7.41184C7.24803 1.23529 7.09093 1.17022 6.97509 1.05439C6.85926 0.938558 6.79419 0.781457 6.79419 0.617647C6.79419 0.453837 6.85926 0.296736 6.97509 0.180905C7.09093 0.0650733 7.24803 0 7.41184 0H13.1765C13.2905 0.000692754 13.4022 0.0325088 13.4994 0.0920138ZM4.20008 0.181168H4.24126L13.2013 9.03411C13.3169 9.14992 13.3819 9.3069 13.3819 9.47058C13.3819 9.63426 13.3169 9.79124 13.2013 9.90705C13.1445 9.96517 13.0766 10.0112 13.0016 10.0423C12.9266 10.0735 12.846 10.0891 12.7648 10.0882C12.6836 10.0886 12.6032 10.0728 12.5283 10.0417C12.4533 10.0106 12.3853 9.96479 12.3283 9.90705L9.3142 6.92587L9.26479 6.99999V13.3823C9.26265 13.5455 9.19689 13.7014 9.08152 13.8167C8.96615 13.9321 8.81029 13.9979 8.64714 14H5.35302C5.18987 13.9979 5.03401 13.9321 4.91864 13.8167C4.80327 13.7014 4.73751 13.5455 4.73537 13.3823V6.99999L0.329492 1.02117C0.259855 0.930634 0.21745 0.822137 0.207241 0.708376C0.197031 0.594616 0.21944 0.480301 0.271844 0.378815C0.324343 0.277621 0.403484 0.192687 0.500724 0.133182C0.597964 0.073677 0.709609 0.041861 0.823609 0.0411682H3.86243C3.92448 0.0461551 3.9855 0.060022 4.04361 0.0823446C4.10037 0.10735 4.15311 0.140655 4.20008 0.181168ZM8.02949 6.79411C8.02884 6.66289 8.07235 6.53526 8.15302 6.43176L8.42478 6.05293L3.55773 1.23529H2.0589L5.84714 6.43176C5.92781 6.53526 5.97132 6.66289 5.97067 6.79411V12.7647H8.02949V6.79411Z",fill:"currentColor"}))}));IR.displayName="FilterSlashIcon";function dS(){return dS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dS.apply(null,arguments)}var _R=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",dS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M7.67742 6.32258V0.677419C7.67742 0.497757 7.60605 0.325452 7.47901 0.198411C7.35197 0.0713707 7.17966 0 7 0C6.82034 0 6.64803 0.0713707 6.52099 0.198411C6.39395 0.325452 6.32258 0.497757 6.32258 0.677419V6.32258H0.677419C0.497757 6.32258 0.325452 6.39395 0.198411 6.52099C0.0713707 6.64803 0 6.82034 0 7C0 7.17966 0.0713707 7.35197 0.198411 7.47901C0.325452 7.60605 0.497757 7.67742 0.677419 7.67742H6.32258V13.3226C6.32492 13.5015 6.39704 13.6725 6.52358 13.799C6.65012 13.9255 6.82106 13.9977 7 14C7.17966 14 7.35197 13.9286 7.47901 13.8016C7.60605 13.6745 7.67742 13.5022 7.67742 13.3226V7.67742H13.3226C13.5022 7.67742 13.6745 7.60605 13.8016 7.47901C13.9286 7.35197 14 7.17966 14 7C13.9977 6.82106 13.9255 6.65012 13.799 6.52358C13.6725 6.39704 13.5015 6.32492 13.3226 6.32258H7.67742Z",fill:"currentColor"}))}));_R.displayName="PlusIcon";function fS(){return fS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fS.apply(null,arguments)}var LR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",fS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.44802 13.9955H10.552C10.8056 14.0129 11.06 13.9797 11.3006 13.898C11.5412 13.8163 11.7632 13.6877 11.9537 13.5196C12.1442 13.3515 12.2995 13.1473 12.4104 12.9188C12.5213 12.6903 12.5858 12.442 12.6 12.1884V4.36041H13.4C13.5591 4.36041 13.7117 4.29722 13.8243 4.18476C13.9368 4.07229 14 3.91976 14 3.76071C14 3.60166 13.9368 3.44912 13.8243 3.33666C13.7117 3.22419 13.5591 3.16101 13.4 3.16101H12.0537C12.0203 3.1557 11.9863 3.15299 11.952 3.15299C11.9178 3.15299 11.8838 3.1557 11.8503 3.16101H11.2285C11.2421 3.10893 11.2487 3.05513 11.248 3.00106V1.80966C11.2171 1.30262 10.9871 0.828306 10.608 0.48989C10.229 0.151475 9.73159 -0.0236625 9.22402 0.00257442H4.77602C4.27251 -0.0171866 3.78126 0.160868 3.40746 0.498617C3.03365 0.836366 2.807 1.30697 2.77602 1.80966V3.00106C2.77602 3.0556 2.78346 3.10936 2.79776 3.16101H0.6C0.521207 3.16101 0.443185 3.17652 0.37039 3.20666C0.297595 3.2368 0.231451 3.28097 0.175736 3.33666C0.120021 3.39235 0.0758251 3.45846 0.0456722 3.53121C0.0155194 3.60397 0 3.68196 0 3.76071C0 3.83946 0.0155194 3.91744 0.0456722 3.9902C0.0758251 4.06296 0.120021 4.12907 0.175736 4.18476C0.231451 4.24045 0.297595 4.28462 0.37039 4.31476C0.443185 4.3449 0.521207 4.36041 0.6 4.36041H1.40002V12.1884C1.41426 12.442 1.47871 12.6903 1.58965 12.9188C1.7006 13.1473 1.85582 13.3515 2.04633 13.5196C2.23683 13.6877 2.45882 13.8163 2.69944 13.898C2.94005 13.9797 3.1945 14.0129 3.44802 13.9955ZM2.60002 4.36041H11.304V12.1884C11.304 12.5163 10.952 12.7961 10.504 12.7961H3.40002C2.97602 12.7961 2.60002 12.5163 2.60002 12.1884V4.36041ZM3.95429 3.16101C3.96859 3.10936 3.97602 3.0556 3.97602 3.00106V1.80966C3.97602 1.48183 4.33602 1.20197 4.77602 1.20197H9.24802C9.66403 1.20197 10.048 1.48183 10.048 1.80966V3.00106C10.0473 3.05515 10.054 3.10896 10.0678 3.16101H3.95429ZM5.57571 10.997C5.41731 10.995 5.26597 10.9311 5.15395 10.8191C5.04193 10.7071 4.97808 10.5558 4.97601 10.3973V6.77517C4.97601 6.61612 5.0392 6.46359 5.15166 6.35112C5.26413 6.23866 5.41666 6.17548 5.57571 6.17548C5.73476 6.17548 5.8873 6.23866 5.99976 6.35112C6.11223 6.46359 6.17541 6.61612 6.17541 6.77517V10.3894C6.17647 10.4688 6.16174 10.5476 6.13208 10.6213C6.10241 10.695 6.05841 10.762 6.00261 10.8186C5.94682 10.8751 5.88035 10.92 5.80707 10.9506C5.73378 10.9813 5.65514 10.9971 5.57571 10.997ZM7.99968 10.8214C8.11215 10.9339 8.26468 10.997 8.42373 10.997C8.58351 10.9949 8.73604 10.93 8.84828 10.8163C8.96052 10.7025 9.02345 10.5491 9.02343 10.3894V6.77517C9.02343 6.61612 8.96025 6.46359 8.84778 6.35112C8.73532 6.23866 8.58278 6.17548 8.42373 6.17548C8.26468 6.17548 8.11215 6.23866 7.99968 6.35112C7.88722 6.46359 7.82404 6.61612 7.82404 6.77517V10.3973C7.82404 10.5564 7.88722 10.7089 7.99968 10.8214Z",fill:"currentColor"}))}));LR.displayName="TrashIcon";function mS(){return mS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mS.apply(null,arguments)}var TR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",mS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M5.64515 3.61291C5.47353 3.61291 5.30192 3.54968 5.16644 3.4142L3.38708 1.63484L1.60773 3.4142C1.34579 3.67613 0.912244 3.67613 0.650309 3.4142C0.388374 3.15226 0.388374 2.71871 0.650309 2.45678L2.90837 0.198712C3.17031 -0.0632236 3.60386 -0.0632236 3.86579 0.198712L6.12386 2.45678C6.38579 2.71871 6.38579 3.15226 6.12386 3.4142C5.98837 3.54968 5.81676 3.61291 5.64515 3.61291Z",fill:"currentColor"}),p.createElement("path",{d:"M3.38714 14C3.01681 14 2.70972 13.6929 2.70972 13.3226V0.677419C2.70972 0.307097 3.01681 0 3.38714 0C3.75746 0 4.06456 0.307097 4.06456 0.677419V13.3226C4.06456 13.6929 3.75746 14 3.38714 14Z",fill:"currentColor"}),p.createElement("path",{d:"M10.6129 14C10.4413 14 10.2697 13.9368 10.1342 13.8013L7.87611 11.5432C7.61418 11.2813 7.61418 10.8477 7.87611 10.5858C8.13805 10.3239 8.5716 10.3239 8.83353 10.5858L10.6129 12.3652L12.3922 10.5858C12.6542 10.3239 13.0877 10.3239 13.3497 10.5858C13.6116 10.8477 13.6116 11.2813 13.3497 11.5432L11.0916 13.8013C10.9561 13.9368 10.7845 14 10.6129 14Z",fill:"currentColor"}),p.createElement("path",{d:"M10.6129 14C10.2426 14 9.93552 13.6929 9.93552 13.3226V0.677419C9.93552 0.307097 10.2426 0 10.6129 0C10.9833 0 11.2904 0.307097 11.2904 0.677419V13.3226C11.2904 13.6929 10.9832 14 10.6129 14Z",fill:"currentColor"}))}));TR.displayName="SortAltIcon";function pS(){return pS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pS.apply(null,arguments)}var RR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",pS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M4.93953 10.5858L3.83759 11.6877V0.677419C3.83759 0.307097 3.53049 0 3.16017 0C2.78985 0 2.48275 0.307097 2.48275 0.677419V11.6877L1.38082 10.5858C1.11888 10.3239 0.685331 10.3239 0.423396 10.5858C0.16146 10.8477 0.16146 11.2813 0.423396 11.5432L2.68146 13.8013C2.74469 13.8645 2.81694 13.9097 2.89823 13.9458C2.97952 13.9819 3.06985 14 3.16017 14C3.25049 14 3.33178 13.9819 3.42211 13.9458C3.5034 13.9097 3.57565 13.8645 3.63888 13.8013L5.89694 11.5432C6.15888 11.2813 6.15888 10.8477 5.89694 10.5858C5.63501 10.3239 5.20146 10.3239 4.93953 10.5858ZM13.0957 0H7.22468C6.85436 0 6.54726 0.307097 6.54726 0.677419C6.54726 1.04774 6.85436 1.35484 7.22468 1.35484H13.0957C13.466 1.35484 13.7731 1.04774 13.7731 0.677419C13.7731 0.307097 13.466 0 13.0957 0ZM7.22468 5.41935H9.48275C9.85307 5.41935 10.1602 5.72645 10.1602 6.09677C10.1602 6.4671 9.85307 6.77419 9.48275 6.77419H7.22468C6.85436 6.77419 6.54726 6.4671 6.54726 6.09677C6.54726 5.72645 6.85436 5.41935 7.22468 5.41935ZM7.6763 8.12903H7.22468C6.85436 8.12903 6.54726 8.43613 6.54726 8.80645C6.54726 9.17677 6.85436 9.48387 7.22468 9.48387H7.6763C8.04662 9.48387 8.35372 9.17677 8.35372 8.80645C8.35372 8.43613 8.04662 8.12903 7.6763 8.12903ZM7.22468 2.70968H11.2892C11.6595 2.70968 11.9666 3.01677 11.9666 3.3871C11.9666 3.75742 11.6595 4.06452 11.2892 4.06452H7.22468C6.85436 4.06452 6.54726 3.75742 6.54726 3.3871C6.54726 3.01677 6.85436 2.70968 7.22468 2.70968Z",fill:"currentColor"}))}));RR.displayName="SortAmountDownIcon";function gS(){return gS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gS.apply(null,arguments)}var MR=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",gS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{d:"M3.63435 0.19871C3.57113 0.135484 3.49887 0.0903226 3.41758 0.0541935C3.255 -0.0180645 3.06532 -0.0180645 2.90274 0.0541935C2.82145 0.0903226 2.74919 0.135484 2.68597 0.19871L0.427901 2.45677C0.165965 2.71871 0.165965 3.15226 0.427901 3.41419C0.689836 3.67613 1.12338 3.67613 1.38532 3.41419L2.48726 2.31226V13.3226C2.48726 13.6929 2.79435 14 3.16467 14C3.535 14 3.84209 13.6929 3.84209 13.3226V2.31226L4.94403 3.41419C5.07951 3.54968 5.25113 3.6129 5.42274 3.6129C5.59435 3.6129 5.76597 3.54968 5.90145 3.41419C6.16338 3.15226 6.16338 2.71871 5.90145 2.45677L3.64338 0.19871H3.63435ZM13.7685 13.3226C13.7685 12.9523 13.4615 12.6452 13.0911 12.6452H7.22016C6.84984 12.6452 6.54274 12.9523 6.54274 13.3226C6.54274 13.6929 6.84984 14 7.22016 14H13.0911C13.4615 14 13.7685 13.6929 13.7685 13.3226ZM7.22016 8.58064C6.84984 8.58064 6.54274 8.27355 6.54274 7.90323C6.54274 7.5329 6.84984 7.22581 7.22016 7.22581H9.47823C9.84855 7.22581 10.1556 7.5329 10.1556 7.90323C10.1556 8.27355 9.84855 8.58064 9.47823 8.58064H7.22016ZM7.22016 5.87097H7.67177C8.0421 5.87097 8.34919 5.56387 8.34919 5.19355C8.34919 4.82323 8.0421 4.51613 7.67177 4.51613H7.22016C6.84984 4.51613 6.54274 4.82323 6.54274 5.19355C6.54274 5.56387 6.84984 5.87097 7.22016 5.87097ZM11.2847 11.2903H7.22016C6.84984 11.2903 6.54274 10.9832 6.54274 10.6129C6.54274 10.2426 6.84984 9.93548 7.22016 9.93548H11.2847C11.655 9.93548 11.9621 10.2426 11.9621 10.6129C11.9621 10.9832 11.655 11.2903 11.2847 11.2903Z",fill:"currentColor"}))}));MR.displayName="SortAmountUpAltIcon";function Oa(){return Oa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Oa.apply(null,arguments)}function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function pH(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function gH(t){var e=pH(t,"string");return ph(e)=="symbol"?e:e+""}function ya(t,e,r){return(e=gH(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function hH(t){if(Array.isArray(t))return hS(t)}function vH(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DR(t,e){if(t){if(typeof t=="string")return hS(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hS(t,e):void 0}}function bH(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Eo(t){return hH(t)||vH(t)||DR(t)||bH()}function yH(t){if(Array.isArray(t))return t}function EH(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function xH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xa(t,e){return yH(t)||EH(t,e)||DR(t,e)||xH()}var X1=function(e){switch(e){case"local":return window.localStorage;case"session":return window.sessionStorage;case"custom":return null;default:throw new Error(e+' is not a valid value for the state storage, supported values are "local", "session" and "custom".')}},mo=An.extend({defaultProps:{__TYPE:"Column",align:null,alignFrozen:"left",alignHeader:null,body:null,bodyClassName:null,bodyStyle:null,cellEditValidateOnClose:!1,cellEditValidator:null,cellEditValidatorEvent:"click",className:null,colSpan:null,columnKey:null,dataType:"text",editor:null,excludeGlobalFilter:!1,expander:!1,exportField:null,exportable:!0,field:null,filter:!1,filterApply:null,filterClear:null,filterElement:null,filterField:null,filterFooter:null,filterFunction:null,filterHeader:null,filterHeaderClassName:null,filterHeaderStyle:null,filterMatchMode:null,filterMatchModeOptions:null,filterMaxLength:null,filterMenuClassName:null,filterMenuStyle:null,filterPlaceholder:null,filterType:"text",footer:null,footerClassName:null,footerStyle:null,frozen:!1,header:null,headerClassName:null,headerStyle:null,headerTooltip:null,headerTooltipOptions:null,hidden:!1,maxConstraints:2,onBeforeCellEditHide:null,onBeforeCellEditShow:null,onCellEditCancel:null,onCellEditComplete:null,onCellEditInit:null,onFilterApplyClick:null,onFilterClear:null,onFilterConstraintAdd:null,onFilterConstraintRemove:null,onFilterMatchModeChange:null,onFilterOperatorChange:null,reorderable:!0,resizeable:!0,rowEditor:!1,rowReorder:!1,rowReorderIcon:null,rowSpan:null,selectionMode:null,showAddButton:!0,showApplyButton:!0,showClearButton:!0,showFilterMatchModes:!0,showFilterMenu:!0,showFilterMenuOptions:!0,showFilterOperator:!0,sortField:null,sortFunction:null,sortable:!1,sortableDisabled:!1,style:null,children:void 0},getCProp:function(e,r){return Te.getComponentProp(e,r,mo.defaultProps)},getCProps:function(e){return Te.getComponentProps(e,mo.defaultProps)},getCOtherProps:function(e){return Te.getComponentDiffProps(e,mo.defaultProps)}});function tk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function rk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var wH=`
@layer primereact {
    .p-datatable {
        position: relative;
    }

    .p-datatable > .p-datatable-wrapper {
        overflow: auto;
    }

    .p-datatable-table {
        border-spacing: 0px;
        width: 100%;
    }

    .p-datatable .p-sortable-disabled {
        cursor: auto;
    }

    .p-datatable .p-sortable-column {
        cursor: pointer;
        user-select: none;
    }

    .p-datatable .p-sortable-column .p-column-title,
    .p-datatable .p-sortable-column .p-sortable-column-icon,
    .p-datatable .p-sortable-column .p-sortable-column-badge {
        vertical-align: middle;
    }

    .p-datatable .p-sortable-column .p-sortable-column-badge {
        display: inline-flex;
        align-items: center;
        justify-content: center;
    }

    .p-datatable-selectable .p-selectable-row,
    .p-datatable-selectable-cell .p-selectable-cell {
        cursor: pointer;
    }

    .p-datatable-drag-selection-helper {
        position: absolute;
        z-index: 99999999;
    }

    /* Scrollable */
    .p-datatable-scrollable > .p-datatable-wrapper {
        position: relative;
    }

    .p-datatable-scrollable-table > .p-datatable-thead {
        position: sticky;
        top: 0;
        z-index: 2;
    }

    .p-datatable.p-datatable-gridlines .p-datatable-scrollable-table > .p-datatable-thead {
        top: -1px;
    }

    .p-datatable-scrollable-table > .p-datatable-frozen-tbody {
        position: sticky;
        z-index: 1;
    }

    .p-datatable-scrollable-table > .p-datatable-tfoot {
        position: sticky;
        bottom: 0;
        z-index: 1;
    }

    .p-datatable-scrollable .p-frozen-column {
        position: sticky;
        background: inherit;
    }

    .p-datatable-scrollable th.p-frozen-column {
        z-index: 1;
    }

    .p-datatable-flex-scrollable {
        display: flex;
        flex-direction: column;
        height: 100%;
    }

    .p-datatable-flex-scrollable > .p-datatable-wrapper {
        display: flex;
        flex-direction: column;
        flex: 1;
        height: 100%;
    }

    .p-datatable-scrollable-table > .p-datatable-tbody > .p-rowgroup-header {
        position: sticky;
        z-index: 1;
    }

    /* Resizable */
    .p-datatable-resizable-table > .p-datatable-thead > tr > th,
    .p-datatable-resizable-table > .p-datatable-tfoot > tr > td,
    .p-datatable-resizable-table > .p-datatable-tbody > tr > td {
        overflow: hidden;
        white-space: nowrap;
    }

    .p-datatable-resizable-table > .p-datatable-thead > tr > th.p-resizable-column:not(.p-frozen-column) {
        background-clip: padding-box;
        position: relative;
    }

    .p-datatable-resizable-table-fit > .p-datatable-thead > tr > th.p-resizable-column:last-child .p-column-resizer {
        display: none;
    }

    .p-datatable .p-column-resizer {
        display: block;
        position: absolute;
        top: 0;
        right: 0;
        margin: 0;
        width: 0.5rem;
        height: 100%;
        padding: 0px;
        cursor: col-resize;
        border: 1px solid transparent;
    }

    .p-datatable .p-column-header-content {
        display: flex;
        align-items: center;
    }

    .p-datatable .p-column-resizer-helper {
        width: 1px;
        position: absolute;
        z-index: 10;
        display: none;
    }

    .p-datatable .p-row-editor-init,
    .p-datatable .p-row-editor-save,
    .p-datatable .p-row-editor-cancel {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }

    /* Expand */
    .p-datatable .p-row-toggler {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        overflow: hidden;
        position: relative;
    }

    /* Reorder */
    .p-datatable-reorder-indicator-up,
    .p-datatable-reorder-indicator-down {
        position: absolute;
        display: none;
    }

    .p-reorderable-column,
    .p-datatable-reorderablerow-handle {
        cursor: move;
    }

    /* Loader */
    .p-datatable .p-datatable-loading-overlay {
        position: absolute;
        display: flex;
        align-items: center;
        justify-content: center;
        z-index: 2;
    }

    /* Filter */
    .p-column-filter-row {
        display: flex;
        align-items: center;
        width: 100%;
    }

    .p-column-filter-menu {
        display: inline-flex;
        margin-left: auto;
    }

    .p-column-filter-row .p-column-filter-element {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-column-filter-menu-button,
    .p-column-filter-clear-button {
        display: inline-flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        text-decoration: none;
        overflow: hidden;
        position: relative;
    }

    .p-column-filter-overlay {
        position: absolute;
        top: 0;
        left: 0;
    }

    .p-column-filter-row-items {
        margin: 0;
        padding: 0;
        list-style: none;
    }

    .p-column-filter-row-item {
        cursor: pointer;
    }

    .p-column-filter-add-button,
    .p-column-filter-remove-button {
        justify-content: center;
    }

    .p-column-filter-add-button .p-button-label,
    .p-column-filter-remove-button .p-button-label {
        flex-grow: 0;
    }

    .p-column-filter-buttonbar {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }

    .p-column-filter-buttonbar .p-button:not(.p-button-icon-only) {
        width: auto;
    }

    /* Responsive */
    .p-datatable .p-datatable-tbody > tr > td > .p-column-title {
        display: none;
    }

    /* VirtualScroller */
    .p-datatable-virtualscroller-spacer {
        display: flex;
    }

    .p-datatable .p-virtualscroller .p-virtualscroller-loading {
        transform: none;
        min-height: 0;
        position: sticky;
        top: 0;
        left: 0;
    }

    /* Alignment */
    .p-datatable .p-datatable-thead > tr > th.p-align-left > .p-column-header-content,
    .p-datatable .p-datatable-tbody > tr > td.p-align-left,
    .p-datatable .p-datatable-tfoot > tr > td.p-align-left {
        text-align: left;
        justify-content: flex-start;
    }

    .p-datatable .p-datatable-thead > tr > th.p-align-right > .p-column-header-content,
    .p-datatable .p-datatable-tbody > tr > td.p-align-right,
    .p-datatable .p-datatable-tfoot > tr > td.p-align-right {
        text-align: right;
        justify-content: flex-end;
    }

    .p-datatable .p-datatable-thead > tr > th.p-align-center > .p-column-header-content,
    .p-datatable .p-datatable-tbody > tr > td.p-align-center,
    .p-datatable .p-datatable-tfoot > tr > td.p-align-center {
        text-align: center;
        justify-content: center;
    }
}
`,SH={root:function(e){var r=e.props,n=e.selectable;return sr("p-datatable p-component",{"p-datatable-hoverable-rows":r.rowHover,"p-datatable-selectable":n&&!r.cellSelection,"p-datatable-selectable-cell":n&&r.cellSelection,"p-datatable-resizable":r.resizableColumns,"p-datatable-resizable-fit":r.resizableColumns&&r.columnResizeMode==="fit","p-datatable-scrollable":r.scrollable,"p-datatable-flex-scrollable":r.scrollable&&r.scrollHeight==="flex","p-datatable-responsive-stack":r.responsiveLayout==="stack","p-datatable-responsive-scroll":r.responsiveLayout==="scroll","p-datatable-striped":r.stripedRows,"p-datatable-gridlines":r.showGridlines,"p-datatable-grouped-header":r.headerColumnGroup!=null,"p-datatable-grouped-footer":r.footerColumnGroup!=null,"p-datatable-sm":r.size==="small","p-datatable-lg":r.size==="large"})},loadingIcon:"p-datatable-loading-icon",loadingOverlay:"p-datatable-loading-overlay p-component-overlay",header:"p-datatable-header",wrapper:"p-datatable-wrapper",table:function(e){var r=e.props;return sr("p-datatable-table",{"p-datatable-scrollable-table":r.scrollable,"p-datatable-resizable-table":r.resizableColumns,"p-datatable-resizable-table-fit":r.resizableColumns&&r.columnResizeMode==="fit"})},thead:"p-datatable-thead",tfoot:"p-datatable-tfoot",footer:"p-datatable-footer",checkIcon:"p-checkbox-icon",resizeHelper:"p-column-resizer-helper",reorderIndicatorUp:"p-datatable-reorder-indicator-up",reorderIndicatorDown:"p-datatable-reorder-indicator-down",paginator:function(e){var r=e.position;return sr("p-paginator-"+r)},bodyCell:function(e){var r=e.selectionMode,n=e.editor,a=e.editingState,i=e.frozen,s=e.cellSelected,l=e.align,c=e.bodyProps,u=e.getCellParams;return sr(ya({"p-selection-column":r!==null,"p-editable-column":n,"p-cell-editing":n&&a,"p-frozen-column":i,"p-selectable-cell":c.allowCellSelection&&c.isSelectable({data:u(),index:c.rowIndex}),"p-highlight":s},"p-align-".concat(l),!!l))},columnTitle:"p-column-title",bodyRow:function(e){var r=e.rowProps;return sr({"p-highlight":!r.allowCellSelection&&r.selected||r.contextMenuSelected,"p-highlight-contextmenu":r.contextMenuSelected,"p-selectable-row":r.allowRowSelection&&r.isSelectable({data:r.rowData,index:r.rowIndex}),"p-row-odd":r.rowIndex%2!==0})},rowGroupTogglerIcon:"p-row-toggler-icon",rowGroupToggler:"p-row-toggler p-link",rowGroupHeader:"p-rowgroup-header",rowGroupHeaderName:"p-rowgroup-header-name",rowGroupFooter:"p-rowgroup-footer",rowReorderIcon:"p-datatable-reorderablerow-handle",rowTogglerIcon:"p-row-toggler-icon",rowToggler:"p-row-toggler p-link",rowEditorSaveIcon:"p-row-editor-save-icon",rowEditorSaveButton:"p-row-editor-save p-link",rowEditorCancelIcon:"p-row-editor-cancel-icon",rowEditorCancelButton:"p-row-editor-cancel p-link",rowEditorInitIcon:"p-row-editor-init-icon",rowEditorInitButton:"p-row-editor-init p-link",rowExpansion:"p-datatable-row-expansion",virtualScrollerSpacer:function(e){var r=e.className;return r},tbody:function(e){var r=e.className;return r},filterInput:"p-fluid p-column-filter-element",filterMenuButton:function(e){var r=e.overlayVisibleState,n=e.hasFilter;return sr("p-column-filter-menu-button p-link",{"p-column-filter-menu-button-open":r,"p-column-filter-menu-button-active":n()})},headerFilterClearButton:function(e){var r=e.hasRowFilter;return sr("p-column-filter-clear-button p-link",{"p-hidden-space":!r()})},filterSeparator:"p-column-filter-separator",filterRowItem:function(e){var r=e.isRowMatchModeSelected,n=e.isShowMatchModes,a=e.value;return n()?sr("p-column-filter-row-item",{"p-highlight":a&&r(a)}):void 0},filterRowItems:"p-column-filter-row-items",filterOperator:"p-column-filter-operator",filterConstraints:"p-column-filter-constraints",filterConstraint:"p-column-filter-constraint",filterAddRule:"p-column-filter-add-rule",filterButtonBar:"p-column-filter-buttonbar",filterOverlay:function(e){var r=e.columnFilterProps,n=e.context,a=e.getColumnProp;return sr("p-column-filter-overlay p-component p-fluid",a("filterMenuClassName"),{"p-column-filter-overlay-menu":r.display==="menu","p-input-filled":n&&n.inputStyle==="filled"||$n.inputStyle==="filled","p-ripple-disabled":n&&n.ripple===!1||$n.ripple===!1})},columnFilter:function(e){var r=e.columnFilterProps;return sr("p-column-filter p-fluid",{"p-column-filter-row":r.display==="row","p-column-filter-menu":r.display==="menu"})},columnResizer:"p-column-resizer",emptyMessage:"p-datatable-emptymessage",sortBadge:"p-sortable-column-badge",sortIcon:"p-sortable-column-icon",headerTitle:"p-column-title",headerContent:"p-column-header-content",headerCell:function(e){var r=e.headerProps,n=e.frozen,a=e.sortMeta,i=e.align,s=e._isSortableDisabled,l=e.getColumnProp;return Te.isEmpty(r)?sr("p-filter-column",{"p-frozen-column":n}):sr(ya({"p-filter-column":!r.headerColumnGroup&&r.filterDisplay==="row","p-sortable-column":l("sortable"),"p-resizable-column":r.resizableColumns&&l("resizeable"),"p-highlight":a.sorted,"p-frozen-column":n,"p-selection-column":l("selectionMode"),"p-sortable-disabled":l("sortable")&&s,"p-reorderable-column":r.reorderableColumns&&l("reorderable")&&!n},"p-align-".concat(i),!!i))},footerCell:function(e){var r=e.getColumnProp,n=e.align;return sr(ya({"p-frozen-column":r("frozen")},"p-align-".concat(n),!!n))},transition:"p-connected-overlay"},CH={wrapper:{overflow:"auto"},resizeHelper:{display:"none"},reorderIndicatorUp:function(e){var r=e.style;return rk({},r)},reorderIndicatorDown:function(e){var r=e.style;return rk({},r)}},Zv=An.extend({defaultProps:{__TYPE:"DataTable",alwaysShowPaginator:!0,breakpoint:"960px",cellClassName:null,cellSelection:!1,checkIcon:null,className:null,collapsedRowIcon:null,columnResizeMode:"fit",compareSelectionBy:"deepEquals",contextMenuSelection:null,csvSeparator:",",currentPageReportTemplate:"({currentPage} of {totalPages})",customRestoreState:null,customSaveState:null,dataKey:null,defaultSortOrder:1,dragSelection:!1,editMode:null,editingRows:null,emptyMessage:null,expandableRowGroups:!1,expandedRowIcon:null,expandedRows:null,exportFilename:"download",exportFunction:null,filterClearIcon:null,filterDelay:300,filterDisplay:"menu",filterIcon:null,filterLocale:void 0,filters:null,first:0,footer:null,footerColumnGroup:null,frozenRow:!1,frozenValue:null,frozenWidth:null,globalFilter:null,globalFilterFields:null,globalFilterMatchMode:Ro.CONTAINS,groupRowsBy:null,header:null,headerColumnGroup:null,id:null,isDataSelectable:null,lazy:!1,loading:!1,loadingIcon:null,metaKeySelection:!1,multiSortMeta:null,onAllRowsSelect:null,onAllRowsUnselect:null,onCellClick:null,onCellSelect:null,onCellUnselect:null,onColReorder:null,onColumnResizeEnd:null,onColumnResizerClick:null,onColumnResizerDoubleClick:null,onContextMenu:null,onContextMenuSelectionChange:null,onFilter:null,onPage:null,onRowClick:null,onRowCollapse:null,onRowDoubleClick:null,onRowEditCancel:null,onRowEditChange:null,onRowEditComplete:null,onRowEditInit:null,onRowEditSave:null,onRowExpand:null,onRowMouseEnter:null,onRowMouseLeave:null,onRowPointerDown:null,onRowPointerUp:null,onRowReorder:null,onRowSelect:null,onRowToggle:null,onRowUnselect:null,onSelectAllChange:null,onSelectionChange:null,onSort:null,onStateRestore:null,onStateSave:null,onValueChange:null,pageLinkSize:5,paginator:!1,paginatorClassName:null,paginatorDropdownAppendTo:null,paginatorLeft:null,paginatorPosition:"bottom",paginatorRight:null,paginatorTemplate:"FirstPageLink PrevPageLink PageLinks NextPageLink LastPageLink RowsPerPageDropdown",removableSort:!1,reorderIndicatorDownIcon:null,reorderIndicatorUpIcon:null,reorderableColumns:!1,reorderableRows:!1,resizableColumns:!1,responsiveLayout:"scroll",rowClassName:null,rowEditValidator:null,rowEditorCancelIcon:null,rowEditorInitIcon:null,rowEditorSaveIcon:null,rowExpansionTemplate:null,rowGroupFooterTemplate:null,rowGroupHeaderTemplate:null,rowGroupMode:null,rowHover:!1,rows:null,rowsPerPageOptions:null,scrollHeight:null,scrollable:!1,selectAll:!1,selectOnEdit:!0,selection:null,selectionAriaLabel:null,selectionAutoFocus:!0,selectionMode:null,selectionPageOnly:!1,showGridlines:!1,showHeaders:!0,showRowReorderElement:null,showSelectAll:!0,showSelectionElement:null,size:"normal",sortField:null,sortIcon:null,sortMode:"single",sortOrder:null,stateKey:null,stateStorage:"session",stripedRows:!1,style:null,tabIndex:0,tableClassName:null,tableStyle:null,totalRecords:null,value:null,virtualScrollerOptions:null,children:void 0},css:{styles:wH,classes:SH,inlineStyles:CH}});function PH(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function p3(t,e){if(t==null)return{};var r,n,a=PH(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var NH={box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon",root:function(e){var r=e.props,n=e.checked,a=e.context;return sr("p-checkbox p-component",{"p-highlight":n,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":a&&a.inputStyle==="filled"})}},Qv=An.extend({defaultProps:{__TYPE:"Checkbox",autoFocus:!1,checked:!1,className:null,disabled:!1,falseValue:!1,icon:null,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,name:null,onChange:null,onContextMenu:null,onMouseDown:null,readOnly:!1,required:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,value:null,children:void 0},css:{classes:NH}});function nk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ak(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var g3=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=Qv.getProps(t,n),i=p.useState(!1),s=xa(i,2),l=s[0],c=s[1],u=Qv.setMetaData({props:a,state:{focused:l},context:{checked:a.checked===a.trueValue,disabled:a.disabled}}),f=u.ptm,m=u.cx,v=u.isUnstyled;Ll(Qv.css.styles,v,{name:"checkbox"});var h=p.useRef(null),E=p.useRef(a.inputRef),y=function(){return a.checked===a.trueValue},b=function(T){if(!(a.disabled||a.readOnly)&&a.onChange){var C,_=y(),D=_?a.falseValue:a.trueValue,z={originalEvent:T,value:a.value,checked:D,stopPropagation:function(){T==null||T.stopPropagation()},preventDefault:function(){T==null||T.preventDefault()},target:{type:"checkbox",name:a.name,id:a.id,value:a.value,checked:D}};if(a==null||(C=a.onChange)===null||C===void 0||C.call(a,z),T.defaultPrevented)return;ze.focus(E.current)}},x=function(T){var C;c(!0),a==null||(C=a.onFocus)===null||C===void 0||C.call(a,T)},w=function(T){var C;c(!1),a==null||(C=a.onBlur)===null||C===void 0||C.call(a,T)};p.useImperativeHandle(e,function(){return{props:a,focus:function(){return ze.focus(E.current)},getElement:function(){return h.current},getInput:function(){return E.current}}}),p.useEffect(function(){Te.combinedRefs(E,a.inputRef)},[E,a.inputRef]),ba(function(){E.current.checked=y()},[a.checked,a.trueValue]),gs(function(){a.autoFocus&&ze.focus(E.current,a.autoFocus)});var N=y(),I=Te.isNotEmpty(a.tooltip),P=Qv.getOtherProps(a),L=r({id:a.id,className:sr(a.className,m("root",{checked:N,context:n})),style:a.style,"data-p-highlight":N,"data-p-disabled":a.disabled,onContextMenu:a.onContextMenu,onMouseDown:a.onMouseDown},P,f("root")),R=function(){var T=Te.reduceKeys(P,ze.ARIA_PROPS),C=r(ak({id:a.inputId,type:"checkbox",className:m("input"),name:a.name,tabIndex:a.tabIndex,onFocus:function(D){return x(D)},onBlur:function(D){return w(D)},onChange:function(D){return b(D)},disabled:a.disabled,readOnly:a.readOnly,required:a.required,"aria-invalid":a.invalid,checked:N},T),f("input"));return p.createElement("input",Oa({ref:E},C))},O=function(){var T=r({className:m("icon")},f("icon")),C=r({className:m("box",{checked:N}),"data-p-highlight":N,"data-p-disabled":a.disabled},f("box")),_=N?a.icon||p.createElement(Zu,T):null,D=Yn.getJSXIcon(_,ak({},T),{props:a,checked:N});return p.createElement("div",C,D)};return p.createElement(p.Fragment,null,p.createElement("div",Oa({ref:h},L),R(),O()),I&&p.createElement(Bc,Oa({target:h,content:a.tooltip,pt:f("tooltip")},a.tooltipOptions)))}));g3.displayName="Checkbox";function ok(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ok(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ok(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var jR=p.memo(function(t){var e=zn(),r=function(){return mo.getCProps(t.column)},n=t.ptCallbacks,a=n.ptm,i=n.ptmo,s=n.cx,l=function(y){var b={props:r(),parent:t.metaData,hostName:t.hostName,state:{},context:{index:t.tabIndex,checked:t.checked,disabled:t.disabled}};return e(a("column.".concat(y),{column:b}),a("column.".concat(y),b),i(r(),y,b))},c=function(y){t.disabled||t.onChange(y)},u=e({className:s("checkIcon")},l("rowCheckbox.icon")),f=t.checked?t.checkIcon||p.createElement(Zu,u):null,m=Yn.getJSXIcon(f,kH({},u),{props:t}),v=t.disabled?null:"0",h={role:"checkbox","aria-checked":t.checked,tabIndex:v,onChange:c,"aria-label":t.ariaLabel,checked:t.checked,icon:m,disabled:t.disabled,unstyled:t.unstyled,pt:l("rowCheckbox")};return p.createElement(g3,h)});jR.displayName="RowCheckbox";var AH={root:function(e){var r=e.props,n=e.context;return sr("p-radiobutton p-component",{"p-highlight":r.checked,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":n&&n.inputStyle==="filled"})},box:"p-radiobutton-box",input:"p-radiobutton-input",icon:"p-radiobutton-icon"},eb=An.extend({defaultProps:{__TYPE:"RadioButton",autoFocus:!1,checked:!1,className:null,disabled:!1,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,name:null,onChange:null,onClick:null,required:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,value:null,children:void 0},css:{classes:AH}});function ik(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function OH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ik(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ik(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var FR=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=eb.getProps(t,n),i=p.useRef(null),s=p.useRef(a.inputRef),l=eb.setMetaData({props:a}),c=l.ptm,u=l.cx,f=l.isUnstyled;Ll(eb.css.styles,f,{name:"radiobutton"});var m=function(P){v(P)},v=function(P){if(!(a.disabled||a.readOnly)&&a.onChange){var L=a.checked,R=P.target instanceof HTMLDivElement,O=P.target===s.current,A=O&&P.target.checked!==L,T=R&&(ze.hasClass(i.current,"p-radiobutton-checked")===L?!L:!1),C=!L,_={originalEvent:P,value:a.value,checked:C,stopPropagation:function(){P==null||P.stopPropagation()},preventDefault:function(){P==null||P.preventDefault()},target:{type:"radio",name:a.name,id:a.id,value:a.value,checked:C}};if(A||T){var D;if(a==null||(D=a.onChange)===null||D===void 0||D.call(a,_),P.defaultPrevented)return;T&&(s.current.checked=C)}ze.focus(s.current)}},h=function(P){var L;a==null||(L=a.onFocus)===null||L===void 0||L.call(a,P)},E=function(P){var L;a==null||(L=a.onBlur)===null||L===void 0||L.call(a,P)};p.useImperativeHandle(e,function(){return{props:a,select:m,focus:function(){return ze.focus(s.current)},getElement:function(){return i.current},getInput:function(){return s.current}}}),p.useEffect(function(){s.current&&(s.current.checked=a.checked)},[a.checked]),p.useEffect(function(){Te.combinedRefs(s,a.inputRef)},[s,a.inputRef]),gs(function(){a.autoFocus&&ze.focus(s.current,a.autoFocus)});var y=Te.isNotEmpty(a.tooltip),b=eb.getOtherProps(a),x=r({id:a.id,className:sr(a.className,u("root",{context:n})),style:a.style,"data-p-checked":a.checked},b,c("root"));delete x.input,delete x.box,delete x.icon;var w=function(){var P=Te.reduceKeys(b,ze.ARIA_PROPS),L=r(OH({id:a.inputId,type:"radio",name:a.name,defaultChecked:a.checked,onFocus:h,onBlur:E,onChange:v,disabled:a.disabled,readOnly:a.readOnly,required:a.required,tabIndex:a.tabIndex,className:u("input")},P),t.input,c("input"));return p.createElement("input",Oa({ref:s},L))},N=function(){var P=r({className:u("box")},t.box,c("box")),L=r({className:u("icon")},t.icon,c("icon"));return p.createElement("div",P,p.createElement("div",L))};return p.createElement(p.Fragment,null,p.createElement("div",Oa({ref:i},x),w(),N()),y&&p.createElement(Bc,Oa({target:i,content:a.tooltip,pt:c("tooltip")},a.tooltipOptions)))}));FR.displayName="RadioButton";var $R=p.memo(function(t){var e=zn(),r=function(){return mo.getCProps(t.column)},n=t.ptCallbacks,a=n.ptm,i=n.ptmo,s=function(f){var m={props:r(),parent:t.metaData,hostName:t.hostName,state:{},context:{index:t.tabIndex,checked:t.checked,disabled:t.disabled}};return e(a("column.".concat(f),{column:m}),a("column.".concat(f),m),i(r(),f,m))},l=function(f){t.disabled||t.onChange(f)},c={role:"radio","aria-checked":t.checked,checked:t.checked,disabled:t.disabled,name:"".concat(t.tableSelector,"_dt_radio"),onChange:l,unstyled:t.unstyled,pt:s("rowRadioButton")};return p.createElement(FR,c)});$R.displayName="RowRadioButton";function sk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Js(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var zR=function(e){var r=zn(),n=p.useState(e.editing),a=xa(n,2),i=a[0],s=a[1],l=p.useState(e.rowData),c=xa(l,2),u=c[0],f=c[1],m=p.useState({}),v=xa(m,2),h=v[0],E=v[1],y=p.useRef(null),b=p.useRef(null),x=p.useRef(null),w=p.useRef(!1),N=p.useRef(null),I=p.useRef(null),P=p.useRef(null),L=e.ptCallbacks,R=L.ptm,O=L.ptmo,A=L.cx,T=function(ke){return mo.getCProp(e.column,ke)},C=function(ke){var Be={props:e.cProps,parent:e.metaData,hostName:e.hostName,state:{styleObject:h,editing:i,editingRowData:u},context:{index:e.index,size:e.metaData.props.size,showGridlines:e.metaData.props.showGridlines}};return r(R("column.".concat(ke),{column:Be}),R("column.".concat(ke),Be),O(e.cProps,ke,Be))},_=function(){return Te.isNotEmpty(e.editMode)&&T("editor")},D=function(){return T("cellEditValidateOnClose")},z=ju({type:"click",listener:function(ke){setTimeout(function(){!w.current&&G(ke.target)&&U(ke,!0)},0),w.current=!1},options:!0,when:_()}),V=xa(z,2),J=V[0],ie=V[1],G=function(ke){return y.current&&!(y.current.isSameNode(ke)||y.current.contains(ke))},te=function(){var ke=T("bodyStyle"),Be=T("style");return e.frozenCol?Object.assign({},Be,ke,h):Object.assign({},Be,ke)},W=function(){return{value:e.resolveFieldData(),field:e.field,rowData:e.rowData,rowIndex:e.rowIndex,cellIndex:e.index,selected:e.isCellSelected,column:e.column,props:e}},B=function(ke){var Be=W();return Js({originalEvent:ke},Be)},j=function(ke){var Be=B(ke),Xe=T("onBeforeCellEditHide");Xe&&Xe(Be),setTimeout(function(){s(!1),ie(),$u.off("overlay-click",x.current),x.current=null,P.current=null,w.current=!1},1)},U=function(ke,Be){var Xe=B(ke),Ke=Js({},P.current),Et=e.resolveFieldData(Ke),ut=Js(Js({},Xe),{},{newRowData:Ke,newValue:Et}),zt=T("onCellEditCancel"),Gt=T("cellEditValidator"),mt=T("onCellEditComplete");!Be&&zt&&zt(ut);var nt=!0;(!Be||D())&&Gt&&(nt=Gt(ut)),nt?(Be&&mt&&mt(ut),j(ke)):ke.preventDefault(),f(Ke)},X=function(ke){var Be=Js({},u);Te.mutateFieldData(Be,e.field,ke),f(Be);var Xe=e.getEditingRowData();Xe&&Te.mutateFieldData(Xe,e.field,ke),P.current=Be},Z=function(ke){e.onClick(ke,B(ke),_(),i,s,w,e.column,J,x)},me=function(ke){var Be=B(ke);e.onMouseDown&&e.onMouseDown(Be)},de=function(ke){var Be=B(ke);e.onMouseUp&&e.onMouseUp(Be)},oe=function(ke){if(e.editMode!=="row"&&((ke.code==="Enter"||ke.code==="NumpadEnter"||ke.code==="Tab")&&U(ke,!0),ke.code==="Escape"&&U(ke,!1)),e.allowCellSelection){var Be=ke.target,Xe=ke.currentTarget;switch(ke.code){case"ArrowLeft":var Ke=e.findPrevSelectableCell(Xe);Ke&&(changeTabIndex(Xe,Ke),Ke.focus()),ke.preventDefault();break;case"ArrowRight":var Et=e.findNextSelectableCell(Xe);Et&&(changeTabIndex(Xe,Et),Et.focus()),ke.preventDefault();break;case"ArrowUp":var ut=e.findUpSelectableCell(Xe,index);ut&&(changeTabIndex(Xe,ut),ut.focus()),ke.preventDefault();break;case"ArrowDown":var zt=e.findDownSelectableCell(Xe,index);zt&&(changeTabIndex(Xe,zt),zt.focus()),ke.preventDefault();break;case"Enter":case"NumpadEnter":ke.shiftKey||ke.ctrlKey||ze.isClickable(Be)||(Z(ke),ke.preventDefault());break;case"Space":!ze.isClickable(Be)&&!Be.readOnly&&(Z(ke),ke.preventDefault());break}}},ee=function(ke){w.current=!1,e.editMode!=="row"&&i&&T("cellEditValidatorEvent")==="blur"&&U(ke,!0)},le=function(ke){Z(ke)},pe=function(ke){e.onRadioChange({originalEvent:ke,data:e.rowData,index:e.rowIndex})},ce=function(ke){e.onRowToggle({originalEvent:ke,data:e.rowData}),ke.preventDefault(),ke.stopPropagation()},_e=function(ke){e.onRowEditInit({originalEvent:ke,data:e.rowData,newData:e.getEditingRowData(),field:e.field,index:e.rowIndex})},He=function(ke){e.onRowEditSave({originalEvent:ke,data:e.rowData,newData:e.getEditingRowData(),field:e.field,index:e.rowIndex}),e.focusOnInit(I,y)},Re=function(ke){e.onRowEditCancel({originalEvent:ke,data:e.rowData,newData:e.getEditingRowData(),field:e.field,index:e.rowIndex}),e.focusOnInit()};p.useEffect(function(){e.frozenCol&&e.updateStickyPosition(y,e.frozenCol,e.alignFrozenCol,h,E),(e.editMode==="cell"||e.editMode==="row")&&e.focusOnElement(N,i,y,b)},[e.editMode,e.editing,i,e.frozenCol,e.alignFrozenCol]),p.useEffect(function(){e.editMode==="row"&&e.editing!==i&&s(e.editing)},[e.editMode,e.editing,i]),ba(function(){if(e.editMode==="cell"||e.editMode==="row"){var Ae=e.getEditingRowData();f(Ae),P.current=Ae}},[e.editingMeta]),p.useEffect(function(){if(e.editMode==="cell"||e.editMode==="row"){var Ae=B(),ke=Js(Js({},Ae),{},{editing:i,editingKey:e.editingKey});e.onEditingMetaChange(ke)}},[i]),Ls(function(){x.current&&($u.off("overlay-click",x.current),x.current=null)});var be=function(){var ke=e.getVirtualScrollerOption("getLoaderOptions")(e.rowIndex,{cellIndex:e.index,cellFirst:e.index===0,cellLast:e.index===e.getVirtualScrollerOption("columns").length-1,cellEven:e.index%2===0,cellOdd:e.index%2!==0,column:e.column,field:e.field}),Be=Te.getJSXElement(e.getVirtualScrollerOption("loadingTemplate"),ke),Xe=r(C("bodyCell"),{role:"cell"});return p.createElement("td",Xe,Be)},gt=function(){var ke,Be,Xe=e.allowCellSelection&&e.isCellSelected,Ke=e.editMode==="row",Et=e.getTabIndex(Xe,e.index),ut=T("selectionMode"),zt=T("rowReorder"),Gt=T("header"),mt=T("body"),nt=T("editor"),ht=e.frozenCol,Kt=T("align"),bt=e.resolveFieldData(),Ar={column:e.column,field:e.field,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps},Jt=Te.getPropValue(T("rowEditor"),e.rowData,Ar),Lr=Te.getPropValue(T("expander"),e.rowData,Ar),mr=Te.getPropValue(e.cellClassName,bt,Ar),wr=Te.getPropValue(T("bodyClassName"),e.rowData,Ar),Ur=te(),Sr=r({className:A("columnTitle")},C("columnTitle")),kt=e.responsiveLayout==="stack"&&p.createElement("span",Sr,Te.getJSXElement(Gt,{props:e.tableProps}));if(ut){var Ee=e.showSelectionElement?e.showSelectionElement(e.rowData,{rowIndex:e.rowIndex,props:e.tableProps}):!0,Ne;if(Ee){var qe=e.selectionAriaLabel||e.tableProps.dataKey,Nt=Te.resolveFieldData(e.rowData,qe);Ne="".concat(e.isRowSelected?Ni("unselectRow"):Ni("selectRow")," ").concat(Nt)}ke=Ee&&p.createElement(p.Fragment,null,ut==="single"&&p.createElement($R,{hostName:e.hostName,column:e.column,checked:e.isRowSelected,disabled:!e.isSelectable({data:e.rowData,index:e.rowIndex}),onChange:pe,tabIndex:e.tabIndex,tableSelector:e.tableSelector,ariaLabel:Ne,ptCallbacks:e.ptCallbacks,metaData:e.metaData,unstyled:e.unstyled}),ut==="multiple"&&p.createElement(jR,{hostName:e.hostName,column:e.column,checked:e.isRowSelected,disabled:!e.isSelectable({data:e.rowData,index:e.rowIndex}),onChange:e.onCheckboxChange,tabIndex:e.tabIndex,ariaLabel:Ne,checkIcon:e.checkIcon,ptCallbacks:e.ptCallbacks,metaData:e.metaData,unstyled:e.unstyled}))}else if(zt){var St=e.showRowReorderElement?e.showRowReorderElement(e.rowData,{rowIndex:e.rowIndex,props:e.tableProps}):!0,Ot=T("rowReorderIcon"),gr=r({className:A("rowReorderIcon")},Ot?null:C("rowReorderIcon")),lr=Ot||p.createElement(NR,gr);ke=St?Yn.getJSXIcon(lr,Js({},gr),{props:e}):null}else if(Lr){var zr=r({className:A("rowTogglerIcon"),"aria-hidden":!0},C("rowTogglerIcon")),st=e.expanded?e.expandedRowIcon||p.createElement(iv,zr):e.collapsedRowIcon||p.createElement(m3,zr),Ct=Yn.getJSXIcon(st,Js({},zr),{props:e}),_t="".concat(e.tableSelector,"_content_").concat(e.rowIndex,"_expanded"),Kr=e.selectionAriaLabel||e.tableProps.dataKey,yn=Te.resolveFieldData(e.rowData,Kr),en="".concat(e.expanded?Ni("collapseLabel"):Ni("expandLabel")," ").concat(yn),pr={onClick:ce,className:A("rowToggler")},Tr=r(Js(Js({},pr),{},{type:"button","aria-expanded":e.expanded,"aria-controls":_t,tabIndex:e.tabIndex,"aria-label":en}),C("rowToggler"));ke=p.createElement("button",Tr,Ct,p.createElement(di,null)),mt&&(pr.element=ke,ke=Te.getJSXElement(mt,e.rowData,{column:e.column,field:e.field,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,expander:pr}))}else if(Ke&&Jt){var mn={},rn=r({className:A("rowEditorSaveIcon")},C("rowEditorSaveIcon")),er=r({className:A("rowEditorCancelIcon")},C("rowEditorCancelIcon")),ct=r({className:A("rowEditorInitIcon")},C("rowEditorInitIcon")),At=Yn.getJSXIcon(e.rowEditorSaveIcon||p.createElement(Zu,rn),Js({},rn),{props:e}),Yt=Yn.getJSXIcon(e.rowEditorCancelIcon||p.createElement(Dp,er),Js({},er),{props:e}),Ye=Yn.getJSXIcon(e.rowEditorInitIcon||p.createElement(kR,ct),Js({},ct),{props:e});if(i){mn={editing:!0,onSaveClick:He,saveClassName:A("rowEditorSaveButton"),onCancelClick:Re,cancelClassName:A("rowEditorCancelButton")};var ft=r({type:"button",name:"row-save","aria-label":Ni("saveEdit"),onClick:mn.onSaveClick,className:mn.saveClassName,tabIndex:e.tabIndex,"data-p-row-editor-save":!0},C("rowEditorSaveButton")),ot=r({type:"button",name:"row-cancel","aria-label":Ni("cancelEdit"),onClick:mn.onCancelClick,className:mn.cancelClassName,tabIndex:e.tabIndex},C("rowEditorCancelButton"));ke=p.createElement(p.Fragment,null,p.createElement("button",ft,At,p.createElement(di,null)),p.createElement("button",ot,Yt,p.createElement(di,null)))}else{mn={editing:!1,onInitClick:_e,initClassName:A("rowEditorInitButton")};var $e=r({type:"button",name:"row-edit","aria-label":Ni("editRow"),onClick:mn.onInitClick,className:mn.initClassName,tabIndex:e.tabIndex,"data-p-row-editor-init":!0},C("rowEditorInitButton"));ke=p.createElement("button",$e,Ye,p.createElement(di,null))}mt&&(mn.element=ke,ke=Te.getJSXElement(mt,e.rowData,{column:e.column,field:e.field,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,rowEditor:mn}))}else mt&&(!i||!nt)?ke=mt?Te.getJSXElement(mt,e.rowData,{column:e.column,field:e.field,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps}):bt:nt&&i?ke=Te.getJSXElement(nt,{rowData:u,value:e.resolveFieldData(u),column:e.column,field:e.field,rowIndex:e.rowIndex,frozenRow:e.frozenRow,props:e.tableProps,editorCallback:X}):ke=bt;if(ke=typeof ke=="boolean"?ke.toString():ke,!Ke&&nt){var at=r({tabIndex:"0",className:"p-cell-editor-key-helper p-hidden-accessible",onFocus:function(qt){return le(qt)}},C("editorKeyHelperLabel")),Rt=r(C("editorKeyHelper"));Be=p.createElement("a",Oa({ref:b},at),p.createElement("span",Rt))}var Ht=r({style:Ur,className:sr(wr,T("className"),mr,A("bodyCell",{selectionMode:ut,editor:nt,editingState:i,frozen:ht,cellSelected:Xe,align:Kt,bodyProps:e,getCellParams:W})),rowSpan:e.rowSpan,tabIndex:Et,role:"cell",onClick:function(qt){return Z(qt)},onKeyDown:function(qt){return oe(qt)},onBlur:function(qt){return ee(qt)},onMouseDown:function(qt){return me(qt)},onMouseUp:function(qt){return de(qt)},"data-p-selectable-cell":e.allowCellSelection&&e.isSelectable({data:W(),index:e.rowIndex}),"data-p-selection-column":T("selectionMode")!=null,"data-p-editable-column":_()!=null,"data-p-cell-editing":i,"data-p-frozen-column":ht},C("root"),C("bodyCell"));return p.createElement("td",Oa({ref:y},Ht),Be,kt,ke)};return e.getVirtualScrollerOption("loading")?be():gt()},BR=p.memo(function(t){return p.createElement(zR,t)},function(t,e){var r=["isRowSelected","field","allowCellSelection","isCellSelected","editMode","index","tabIndex","editing","expanded","editingMeta","rowData"];return Te.selectiveCompare(t,e,r)});BR.displayName="RadioCheckCell";var UR=p.memo(function(t){return p.createElement(zR,t)},function(t,e){var r=["field","allowCellSelection","isCellSelected","editMode","index","tabIndex","editing","expanded","editingMeta","rowData","frozenCol","alignFrozenCol"];return Te.selectiveCompare(t,e,r)});UR.displayName="BodyCell";function lk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ck(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var qR=p.memo(function(t){var e=zn(),r=p.useState(!1),n=xa(r,2),a=n[0],i=n[1],s=t.onRowEditChange?t.editing:a,l=t.ptCallbacks,c=l.ptm,u=l.cx,f=!t.allowCellSelection&&t.selected||t.contextMenuSelected,m=function(Ee){return c(Ee,{parent:t.metaData,hostName:t.hostName,state:{editing:s},context:{index:t.index,selectable:t.allowRowSelection&&t.isSelectable({data:t.rowData,index:t.rowIndex}),selected:f,stripedRows:t.metaData.props.stripedRows}})},v=function(Ee,Ne){return mo.getCProp(Ee,Ne)},h=function(){return t.selectionMode&&t.selectionModeInColumn!=="single"&&t.selectionModeInColumn!=="multiple"},E=function(Ee){var Ne=v(Ee,"field");return t.groupRowsBy&&Ne?Array.isArray(t.groupRowsBy)?t.groupRowsBy.indexOf(Ne)>-1:t.groupRowsBy===Ne:!1},y=function(Ee,Ne){return t.compareSelectionBy==="equals"?Ee===Ne:Te.equals(Ee,Ne,t.dataKey)},b=function(){return h()&&!t.allowCellSelection?t.rowIndex===0?t.tabIndex:-1:null},x=function(Ee,Ne){return(Ee||[]).findIndex(function(qe){return y(Ne,qe)})},w=function(Ee,Ne){Ee&&Ne&&(Ee.tabIndex=-1,Ne.tabIndex=t.tabIndex)},N=function(Ee){var Ne=ze.findSingle(Ee.parentNode,"tr[data-p-selectable-row]");return Ne||null},I=function(Ee){var Ne=Ee.nextElementSibling;return Ne?ze.getAttribute(Ne,"data-p-selectable-row")===!0?Ne:I(Ne):null},P=function(Ee){var Ne=Ee.previousElementSibling;return Ne?ze.getAttribute(Ne,"data-p-selectable-row")===!0?Ne:P(Ne):null},L=function(Ee){var Ne=ze.findSingle(Ee.parentNode,"tr[data-p-selectable-row]:last-child");return Ne||null},R=function(Ee,Ne,qe){if(v(Ne,"hidden"))return!1;if(t.rowGroupMode&&t.rowGroupMode==="rowspan"&&E(Ne)){var Nt=Ee[qe-1];if(Nt){var St=Te.resolveFieldData(Ee[qe],v(Ne,"field")),Ot=Te.resolveFieldData(Nt,v(Ne,"field"));return St!==Ot}}return!0},O=function(Ee,Ne,qe){if(E(Ne)){for(var Nt=Te.resolveFieldData(Ee[qe],v(Ne,"field")),St=Nt,Ot=0;Nt===St;){Ot++;var gr=Ee[++qe];if(gr)St=Te.resolveFieldData(gr,v(Ne,"field"));else break}return Ot===1?null:Ot}return null},A=function(Ee){t.onRowClick({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},T=function(Ee){t.onRowDoubleClick({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},C=function(Ee){t.onRowPointerDown({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},_=function(Ee){t.onRowPointerUp({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},D=function(Ee){t.onRowRightClick({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},z=function(Ee){t.onRowMouseEnter({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},V=function(Ee){t.onRowMouseLeave({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},J=function(Ee){t.onRowTouchEnd(Ee)},ie=function(Ee){if(h()&&!t.allowCellSelection){var Ne=Ee.target,qe=Ee.currentTarget;switch(Ee.code){case"ArrowDown":G(qe,Ee);break;case"ArrowUp":te(qe,Ee);break;case"Home":W(qe,Ee);break;case"End":B(qe,Ee);break;case"Enter":case"NumpadEnter":j(qe,Ee,Ne);break;case"Space":U(qe,Ee,Ne);break;case"Tab":X(qe,Ee);break}}},G=function(Ee,Ne){var qe=I(Ee);qe&&(w(Ee,qe),qe.focus()),Ne.preventDefault()},te=function(Ee,Ne){var qe=P(Ee);qe&&(w(Ee,qe),qe.focus()),Ne.preventDefault()},W=function(Ee,Ne){var qe=N(Ee);qe&&(w(Ee,qe),qe.focus()),Ne.preventDefault()},B=function(Ee,Ne){var qe=L(Ee);qe&&(w(Ee,qe),qe.focus()),Ne.preventDefault()},j=function(Ee,Ne,qe){ze.isClickable(qe)||(A(Ne),Ne.preventDefault())},U=function(Ee,Ne,qe){!ze.isClickable(qe)&&!qe.readOnly&&(A(Ne),Ne.preventDefault())},X=function(Ee,Ne){var qe=Ee.parentNode,Nt=ze.find(qe,'tr[data-p-selectable-row="true"]');if(Ne.code==="Tab"&&Nt&&Nt.length>0){var St=ze.findSingle(qe,'tr[data-p-highlight="true"]'),Ot=ze.findSingle(qe,'tr[data-p-selectable-row="true"][tabindex="0"]');St?(St.tabIndex="0",Ot&&Ot!==St&&(Ot.tabIndex="-1")):(Nt[0].tabIndex="0",Ot!==Nt[0]&&(Nt[t.rowIndex].tabIndex="-1"))}},Z=function(Ee){t.onRowMouseDown({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},me=function(Ee){t.onRowMouseUp({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},de=function(Ee){t.onRowDragStart({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},oe=function(Ee){t.onRowDragOver({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},ee=function(Ee){t.onRowDragLeave({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},le=function(Ee){t.onRowDragEnd({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},pe=function(Ee){t.onRowDrop({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},ce=function(Ee,Ne){if(t.onRowEditChange){var qe,Nt=t.dataKey,St=Ee.originalEvent,Ot=Ee.data,gr=Ee.index,lr=Ee.newData;if(Nt){var zr=String(Te.resolveFieldData(Ot,Nt));if(qe=t.editingRows?ck({},t.editingRows):{},Ne)qe[zr]=!0;else{delete qe[zr];var st=String(Te.resolveFieldData(lr,Nt));delete qe[st]}}else{var Ct=x(t.editingRows,Ot);qe=t.editingRows?Eo(t.editingRows):[],Ct!==-1?qe=qe.filter(function(_t,Kr){return Kr!==Ct}):qe.push(Ot)}t.onRowEditChange({originalEvent:St,data:qe,index:gr})}else i(Ne)},_e=function(Ee){var Ne=Ee.originalEvent;t.onRowEditInit&&t.onRowEditInit({originalEvent:Ne,data:t.rowData,index:t.rowIndex}),ce(Ee,!0),Ne.preventDefault()},He=function(Ee){var Ne=Ee.originalEvent,qe=Ee.newData,Nt=t.rowEditValidator?t.rowEditValidator(qe,{props:t.tableProps,rowIndex:t.rowIndex}):!0;t.onRowEditSave&&t.onRowEditSave({originalEvent:Ne,data:t.rowData,index:t.rowIndex,newData:qe,valid:Nt}),Nt&&(t.onRowEditComplete&&t.onRowEditComplete(Ee),ce(Ee,!1)),Ne.preventDefault()},Re=function(Ee){var Ne=Ee.originalEvent;t.onRowEditCancel&&t.onRowEditCancel({originalEvent:Ne,data:t.rowData,index:t.rowIndex}),ce(Ee,!1),Ne.preventDefault()},be=function(Ee){return t.compareSelectionBy==="equals"?Ee===t.rowData:Te.equals(Ee,t.rowData,t.dataKey)},gt=function(Ee,Ne,qe){return Ee&&(Ee.rowIndex===t.rowIndex||be(Ee.rowData))&&(Ee.field===Ne||Ee.cellIndex===qe)},Ae=function(Ee,Ne,qe){return(Ee||[]).findIndex(function(Nt){return gt(Nt,Ne,qe)})},ke=function(Ee,Ne,qe){return Ee?Ee instanceof Array?Ae(Ee,Ne,qe)>-1:gt(Ee,Ne,qe):!1},Be=function(Ee){t.onCheckboxChange({originalEvent:Ee,data:t.rowData,index:t.rowIndex})},Xe=t.dataKey&&t.rowData&&t.rowData[t.dataKey]||t.rowIndex,Ke=p.useCallback(function(kt){return t.virtualScrollerOptions?t.virtualScrollerOptions[kt]:null},[t.virtualScrollerOptions]),Et=function(){return t.editingMeta&&t.editingMeta[Xe]?t.editingMeta[Xe].data:t.rowData},ut=p.useCallback(function(kt,Ee){return t.allowCellSelection?kt?0:t.rowIndex===0&&Ee===0?t.tabIndex:-1:null},[t.allowCellSelection,t.rowIndex,t.tabIndex]),zt=p.useCallback(function(kt){var Ee=kt.nextElementSibling;return Ee?ze.getAttribute(Ee,"data-p-selectable-cell")?Ee:zt(Ee):null},[]),Gt=p.useCallback(function(kt){var Ee=kt.previousElementSibling;return Ee?ze.getAttribute(Ee,"data-p-selectable-cell")?Ee:Gt(Ee):null},[]),mt=p.useCallback(function(kt,Ee){var Ne=kt.parentElement.nextElementSibling,qe=Ne?Ne.children[Ee]:null;return Ne&&qe?ze.getAttribute(Ne,"data-p-selectable-row")&&ze.getAttribute(qe,"data-p-selectable-cell")?qe:mt(qe):null},[]),nt=p.useCallback(function(kt,Ee){var Ne=kt.parentElement.previousElementSibling,qe=Ne?Ne.children[Ee]:null;return Ne&&qe?ze.getAttribute(Ne,"data-p-selectable-row")&&ze.getAttribute(qe,"data-p-selectable-cell")?qe:nt(qe):null},[]),ht=p.useCallback(function(kt,Ee,Ne,qe){clearTimeout(kt.current),kt.current=setTimeout(function(){if(Ee){var Nt=t.editMode==="cell"?ze.getFirstFocusableElement(Ne.current,':not([data-pc-section="editorkeyhelperlabel"])'):ze.findSingle(Ne.current,'[data-p-row-editor-save="true"]');Nt&&Nt.focus()}qe.current&&(qe.current.tabIndex=Ee?-1:0)},1)},[t.editMode]),Kt=p.useCallback(function(kt,Ee){clearTimeout(kt.current),kt.current=setTimeout(function(){var Ne=t.editMode==="row"?ze.findSingle(Ee.current,'[data-p-row-editor-init="true"]'):null;Ne&&Ne.focus()},1)},[t.editMode]),bt=p.useCallback(function(kt,Ee,Ne,qe,Nt){if(Ee){var St=ck({},qe);if(Ne==="right"){var Ot=0,gr=kt.current&&kt.current.nextElementSibling;gr&&gr.classList.contains("p-frozen-column")&&(Ot=ze.getOuterWidth(gr)+parseFloat(gr.style.right||0)),St.right=Ot+"px"}else{var lr=0,zr=kt.current&&kt.current.previousElementSibling;zr&&zr.classList.contains("p-frozen-column")&&(lr=ze.getOuterWidth(zr)+parseFloat(zr.style.left||0)),St.left=lr+"px"}var st=qe.left===St.left&&qe.right===St.right;!st&&Nt(St)}},[]),Ar=function(Ee,Ne,qe,Nt,St,Ot,gr,lr,zr){if(t.editMode!=="row"&&qe&&!Nt&&(t.selectOnEdit||!t.selectOnEdit&&t.isRowSelected)){Ot.current=!0;var st=v(gr,"onBeforeCellEditShow"),Ct=v(gr,"onCellEditInit"),_t=v(gr,"cellEditValidatorEvent");if(st&&(st(Ne)===!1||Ee&&Ee.defaultPrevented))return;setTimeout(function(){St(!0),!(Ct&&(Ct(Ne)===!1||Ee&&Ee.defaultPrevented))&&_t==="click"&&(lr(),zr.current=function(Kr){isOutsideClicked(Kr.target)||(Ot.current=!0)},$u.on("overlay-click",zr.current))},1)}t.allowCellSelection&&t.onCellClick&&t.onCellClick(Ne)},Jt=function(){return t.columns.map(function(Ee,Ne){if(R(t.value,Ee,t.index)){var qe="".concat(t.rowIndex,"_").concat(v(Ee,"columnKey")||v(Ee,"field"),"_").concat(Ne),Nt=t.rowGroupMode==="rowspan"?O(t.value,Ee,t.index):null,St=v(Ee,"field")||"field_".concat(Ne),Ot=function(st){return Te.resolveFieldData(st||t.rowData,St)},gr=v(Ee,"selectionMode"),lr=e({hostName:t.hostName,allowCellSelection:t.allowCellSelection,cellClassName:t.cellClassName,checkIcon:t.checkIcon,collapsedRowIcon:t.collapsedRowIcon,field:St,resolveFieldData:Ot,column:Ee,cProps:t.colsProps[Ne],dataKey:t.dataKey,editMode:t.editMode,editing:s,editingMeta:t.editingMeta,onEditingMetaChange:t.onEditingMetaChange,editingKey:Xe,getEditingRowData:Et,expanded:t.expanded,expandedRowIcon:t.expandedRowIcon,frozenRow:t.frozenRow,frozenCol:v(Ee,"frozen"),alignFrozenCol:v(Ee,"alignFrozen"),index:Ne,isSelectable:t.isSelectable,onCheckboxChange:Be,onClick:Ar,onMouseDown:t.onCellMouseDown,onMouseUp:t.onCellMouseUp,onRadioChange:t.onRadioChange,onRowEditCancel:Re,onRowEditInit:_e,onRowEditSave:He,onRowToggle:t.onRowToggle,responsiveLayout:t.responsiveLayout,rowData:t.rowData,rowEditorCancelIcon:t.rowEditorCancelIcon,rowEditorInitIcon:t.rowEditorInitIcon,rowEditorSaveIcon:t.rowEditorSaveIcon,rowIndex:t.rowIndex,rowSpan:Nt,selectOnEdit:t.selectOnEdit,isRowSelected:f,isCellSelected:ke(t.selection,St,Ne),selectionAriaLabel:t.tableProps.selectionAriaLabel,showRowReorderElement:t.showRowReorderElement,showSelectionElement:t.showSelectionElement,tabIndex:t.tabIndex,getTabIndex:ut,tableProps:t.tableProps,tableSelector:t.tableSelector,value:t.value,getVirtualScrollerOption:Ke,ptCallbacks:t.ptCallbacks,metaData:t.metaData,unstyled:t.unstyled,findNextSelectableCell:zt,findPrevSelectableCell:Gt,findDownSelectableCell:mt,findUpSelectableCell:nt,focusOnElement:ht,focusOnInit:Kt,updateStickyPosition:bt});return p.createElement(p.Fragment,{key:qe},gr?p.createElement(BR,lr):p.createElement(UR,lr))}return null})},Lr=Te.getPropValue(t.rowClassName,t.rowData,{props:t.tableProps}),mr={height:t.virtualScrollerOptions?t.virtualScrollerOptions.itemSize:void 0},wr=Jt(),Ur=b(),Sr=e({role:"row",tabIndex:Ur,className:sr(u("bodyRow",{rowProps:t})),style:mr,onMouseDown:function(Ee){return Z(Ee)},onMouseUp:function(Ee){return me(Ee)},onMouseEnter:function(Ee){return z(Ee)},onMouseLeave:function(Ee){return V(Ee)},onClick:function(Ee){return A(Ee)},onDoubleClick:function(Ee){return T(Ee)},onPointerDown:function(Ee){return C(Ee)},onPointerUp:function(Ee){return _(Ee)},onContextMenu:function(Ee){return D(Ee)},onTouchEnd:function(Ee){return J(Ee)},onKeyDown:function(Ee){return ie(Ee)},onDragStart:function(Ee){return de(Ee)},onDragOver:function(Ee){return oe(Ee)},onDragLeave:function(Ee){return ee(Ee)},onDragEnd:function(Ee){return le(Ee)},onDrop:function(Ee){return pe(Ee)},"aria-selected":t!=null&&t.selectionMode?t.selected:null,"data-p-selectable-row":t.allowRowSelection&&t.isSelectable({data:t.rowData,index:t.rowIndex}),"data-p-highlight":t.selected,"data-p-highlight-contextmenu":t.contextMenuSelected},m("bodyRow"),{className:sr(Lr)});return p.createElement("tr",Sr,wr)});qR.displayName="BodyRow";function uk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function IH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var VR=p.memo(function(t){var e=zn(),r=t.ptCallbacks,n=r.ptm,a=r.ptmo,i=r.cx;r.isUnstyled;var s=function(y){t.onClick({originalEvent:y,data:t.rowData})},l=function(){return mo.getCProps(t.column)},c=function(y){var b=l(),x={props:l(),parent:t.metaData,hostName:t.hostName};return e(n("column.".concat(y),{column:x}),n("column.".concat(y),x),a(b,y,x))},u=e({className:i("rowGroupTogglerIcon"),"aria-hidden":!0},n("rowGroupTogglerIcon"),c("rowGroupTogglerIcon")),f=t.expanded?t.expandedRowIcon||p.createElement(iv,u):t.collapsedRowIcon||p.createElement(m3,u),m=Yn.getJSXIcon(f,IH({},u),{props:t}),v=t.expanded?Ni("collapseLabel"):Ni("expandLabel"),h=e({type:"button",onClick:function(y){return s(y)},className:i("rowGroupToggler"),tabIndex:t.tabIndex,"aria-label":v},n("rowGroupToggler"),c("rowGroupToggler"));return p.createElement("button",h,m,p.createElement(di,null))});VR.displayName="RowTogglerButton";var _H=["originalEvent"];function dk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Ob=p.memo(p.forwardRef(function(t,e){var r=zn(),n=t.ptCallbacks,a=n.ptm,i=n.ptmo,s=n.cx,l=n.isUnstyled,c=p.useState({}),u=xa(c,2),f=u[0],m=u[1],v=function(ae){return mo.getCProps(ae)},h=v(t.column),E=t.columns?t.columns.map(function(Ze){return v(Ze)}):[],y=function(ae){var Se={props:h,parent:t.metaData,hostName:t.hostName,state:{rowGroupHeaderStyleObject:f}};return r(a("column.".concat(ae),{column:Se}),a("column.".concat(ae),Se),i(h,ae,Se))},b=p.useRef(null),x=p.useCallback(function(Ze){b.current=Ze,t.virtualScrollerContentRef&&t.virtualScrollerContentRef(Ze)},[t]),w=p.useRef(null),N=p.useRef(null),I=p.useRef(null),P=p.useRef(null),L=p.useRef(null),R=p.useRef(null),O=p.useRef(!1),A=p.useRef(!1),T=p.useRef(null),C=p.useRef(null),_=t.rowGroupMode&&t.rowGroupMode==="subheader",D=t.selectionMode==="radiobutton",z=t.selectionMode==="checkbox",V=t.selectionModeInColumn==="single",J=t.selectionModeInColumn==="multiple",ie=function(ae,Se){return gt()?(ae.rowIndex===Se.rowIndex||ae.rowData===Se.rowData)&&(ae.field===Se.field||ae.cellIndex===Se.cellIndex):t.compareSelectionBy==="equals"?ae===Se:Te.equals(ae,Se,t.dataKey)},G=function(){return t.selectionMode||t.selectionModeInColumn!==null||t.columns&&t.columns.some(function(ae){return ae&&!!ke(ae,"selectionMode")})},te=function(){return t.selectionMode==="single"&&!J||!D&&V},W=function(){return t.selectionMode==="multiple"&&!V||J},B=function(){return D&&V},j=function(){return z&&J},U=function(ae){return ae&&t.selection?t.selection instanceof Array?Ke(t.selection,ae)>-1:ie(ae,t.selection):!1},X=function(ae){return ae&&t.contextMenuSelection?ie(ae,t.contextMenuSelection):!1},Z=function(ae){return t.isDataSelectable?t.isDataSelectable(ae):!0},me=function(ae){if(ae&&t.expandedRows){if(_&&t.expandableRowGroups)return de(ae);if(t.dataKey){var Se=Te.resolveFieldData(ae,t.dataKey),Ue=!1;return t.expandedRows&&(Array.isArray(t.expandedRows)?Ue=t.expandedRows.some(function(tt){return Te.resolveFieldData(tt,t.dataKey)===Se}):Ue=t.expandedRows[Se]!==void 0),Ue}return Ke(t.expandedRows,ae)!==-1}return!1},de=function(ae){return t.dataKey===t.groupRowsBy?Object.keys(t.expandedRows).some(function(Se){return Te.equals(Se,Te.resolveFieldData(ae,t.dataKey))}):t.expandedRows.some(function(Se){return Te.equals(Se,ae,t.groupRowsBy)})},oe=function(ae){return t.editMode==="row"&&ae&&t.editingRows?t.dataKey?t.editingRows?t.editingRows[Te.resolveFieldData(ae,t.dataKey)]!==void 0:!1:Ke(t.editingRows,ae)!==-1:!1},ee=function(ae){return t.dragSelection&&W()&&!ae.originalEvent.shiftKey},le=function(ae){return!gt()&&ee(ae)||t.reorderableRows},pe=function(ae){return gt()&&ee(ae)},ce=function(ae){return!ze.isClickable(ae.originalEvent.target)},_e=p.useRef(t.metaKeySelection);p.useEffect(function(){_e.current=t.metaKeySelection},[t.metaKeySelection]);var He=function(ae){return!O.current&&(!_e.current||_e.current&&(ae.originalEvent.metaKey||ae.originalEvent.ctrlKey))},Re=function(ae){return W()&&ae.originalEvent.shiftKey&&I.current!==null},be=function(){return(t.selectionMode||t.selectionModeInColumn)&&!B()&&!j()},gt=function(){return t.cellSelection&&!V&&!J},Ae=function(){return t.columns?t.columns.length:0},ke=function(ae,Se){return mo.getCProp(ae,Se)},Be=function(ae,Se){return Se=Se||t.virtualScrollerOptions,Se?Se[ae]:null},Xe=function(ae){return t.lazy?ae-t.first:ae},Ke=function(ae,Se){return(ae||[]).findIndex(function(Ue){return ie(Se,Ue)})},Et=function(){return t.scrollable?{top:f.top}:null},ut=function(ae,Se){return t.dataKey?Te.resolveFieldData(ae,t.dataKey):Se},zt=function(ae,Se,Ue){var tt=Te.resolveFieldData(Se,t.groupRowsBy),pt=ae[Ue-1];if(pt){var Bt=Te.resolveFieldData(pt,t.groupRowsBy);return!Te.deepEquals(tt,Bt)}return!0},Gt=function(ae,Se,Ue,tt){if(t.expandableRowGroups&&!tt)return!1;var pt=Te.resolveFieldData(Se,t.groupRowsBy),Bt=ae[Ue+1];if(Bt){var ar=Te.resolveFieldData(Bt,t.groupRowsBy);return!Te.deepEquals(pt,ar)}return!0},mt=function(){b.current.style.top=ze.getOuterHeight(b.current.previousElementSibling)+"px"},nt=function(){var ae=ze.getOuterHeight(b.current.previousElementSibling),Se=ae+"px";f.top!==Se&&m({top:Se})},ht=p.useRef(t.selection);p.useEffect(function(){ht.current=t.selection},[t.selection]);var Kt=function(ae){var Se=ae.originalEvent,Ue=ae.data,tt=ae.index,pt=ae.toggleable,Bt=ae.type;if(Z({data:Ue,index:tt})){var ar=U(Ue),Cr=ht.current||[],qr=Cr;ar?pt&&(qr=null,Ur({originalEvent:Se,data:Ue,type:Bt})):(qr=Ue,wr({originalEvent:Se,data:Ue,type:Bt})),kt(Se,!0),t.onSelectionChange&&qr!==Cr&&t.onSelectionChange({originalEvent:Se,value:qr,type:Bt})}},bt=function(ae){var Se=ae.originalEvent,Ue=ae.data,tt=ae.index,pt=ae.toggleable,Bt=ae.type;if(Z({data:Ue,index:tt})){var ar=U(Ue),Cr=ht.current||[],qr=Cr;if(ar)if(pt){var Rn=Ke(Cr,Ue);qr=Cr.filter(function(Mn,kr){return kr!==Rn}),Ur({originalEvent:Se,data:Ue,type:Bt})}else Cr.length&&(Cr.forEach(function(Mn){return Ur({originalEvent:Se,data:Mn,type:Bt})}),qr=[Ue],wr({originalEvent:Se,data:Ue,type:Bt}));else qr=Te.isObject(Cr)?[Cr]:Cr,qr=pt&&W()?[].concat(Eo(qr),[Ue]):[Ue],wr({originalEvent:Se,data:Ue,type:Bt});t.onSelectionChange&&qr!==Cr&&t.onSelectionChange({originalEvent:Se,value:qr,type:Bt})}},Ar=function(ae,Se){ze.clearSelection(),L.current=gt()?ae.rowIndex:ae.index;var Ue=Jt(ae);t.onSelectionChange&&Ue!==t.selection&&t.onSelectionChange({originalEvent:ae.originalEvent,value:Ue,type:Se}),I.current=L.current,P.current=ae.cellIndex},Jt=function(ae){var Se,Ue,tt=gt(),pt=Xe(L.current),Bt=Xe(I.current);return pt>Bt?(Se=Bt,Ue=pt):pt<Bt?(Se=pt,Ue=Bt):Se=Ue=pt,tt?mr(ae,Se,Ue):Lr(ae,Se,Ue)},Lr=function(ae,Se,Ue){for(var tt=[],pt=Se;pt<=Ue;pt++){var Bt=t.processedData[pt];Z({data:Bt,index:pt})&&(tt.push(Bt),wr({originalEvent:ae.originalEvent,data:Bt,type:"row"}))}return tt},mr=function(ae,Se,Ue){var tt,pt,Bt=ae.cellIndex;Bt>P.current?(tt=P.current,pt=Bt):Bt<P.current?(tt=Bt,pt=P.current):tt=pt=Bt;for(var ar=t.value,Cr=[],qr=Se;qr<=Ue;qr++)for(var Rn=ar[qr],Mn=t.columns,kr=t.lazy?qr+t.first:qr,Vr=tt;Vr<=pt;Vr++){var Mr=ke(Mn[Vr],"field"),on=Te.resolveFieldData(Rn,Mr),Pn={value:on,field:Mr,rowData:Rn,rowIndex:kr,cellIndex:Vr,selected:!0};Z({data:Pn,index:qr})&&(Cr.push(Pn),wr({originalEvent:ae.originalEvent,data:Pn,type:"cell"}))}return Cr},wr=function(ae){gt()?t.onCellSelect&&t.onCellSelect(wl(wl({originalEvent:ae.originalEvent},ae.data),{},{type:ae.type})):t.onRowSelect&&t.onRowSelect(ae)},Ur=function(ae){gt()?t.onCellUnselect&&t.onCellUnselect(wl(wl({originalEvent:ae.originalEvent},ae.data),{},{type:ae.type})):t.onRowUnselect&&t.onRowUnselect(ae)},Sr=function(ae){t.dragSelection&&!w.current&&(w.current=document.createElement("div"),w.current.setAttribute("p-datatable-drag-selection-helper","true"),!l()&&ze.addClass(w.current,"p-datatable-drag-selection-helper"),N.current={x:ae.clientX,y:ae.clientY},w.current.style.top="".concat(ae.pageY,"px"),w.current.style.left="".concat(ae.pageX,"px"),ft())},kt=function(ae,Se){var Ue=ae.currentTarget;if(!gt()&&t.selectionAutoFocus){if(J){var tt=ze.findSingle(Ue,'td[data-p-selection-column="true"] [data-pc-section="checkbox"]');tt&&tt.focus()}else if(V){var pt=ze.findSingle(Ue,'td[data-p-selection-column="true"] input[type="radio"]');pt&&pt.focus()}}!Se&&Ue&&Ue.focus()},Ee=function(ae,Se){var Ue=ae.currentTarget,tt=ze.getAttribute(Ue,Se==="cell"?"data-p-selectable-cell":"data-p-selectable-row")===!0;if(tt){var pt=Se==="cell"?"tr > td":"tr",Bt=ze.findSingle(b.current,"".concat(pt,'[tabindex="').concat(t.tabIndex,'"]'));Bt&&Ue&&(Bt.tabIndex=-1,Ue.tabIndex=t.tabIndex)}},Ne=function(ae){if(!(ae.defaultPrevented||ae.originalEvent&&ae.originalEvent.defaultPrevented||gt()||!ce(ae))){if(t.onRowClick&&t.onRowClick(ae),be()){if(Re(ae))Ar(ae,"row");else{var Se=V||J||He(ae);I.current=ae.index,L.current=ae.index,R.current=t.first,te()?Kt(wl(wl({},ae),{},{toggleable:Se,type:"row"})):bt(wl(wl({},ae),{},{toggleable:Se,type:"row"}))}Ee(ae.originalEvent,"row")}else kt(ae.originalEvent);O.current=!1}},qe=function(ae){var Se=ae.originalEvent;ze.isClickable(Se.target)||t.onRowDoubleClick&&t.onRowDoubleClick(ae)},Nt=function(ae){var Se=ae.originalEvent;ze.isClickable(Se.target)||t.onRowPointerDown&&t.onRowPointerDown(ae)},St=function(ae){var Se=ae.originalEvent;ze.isClickable(Se.target)||t.onRowPointerUp&&t.onRowPointerUp(ae)},Ot=function(ae){if(t.onContextMenu||t.onContextMenuSelectionChange){var Se=Te.isNotEmpty(t.selection),Ue=ae.data;Se&&ze.clearSelection(),t.onContextMenuSelectionChange&&t.onContextMenuSelectionChange({originalEvent:ae.originalEvent,value:Ue,index:ae.index}),t.onContextMenu&&t.onContextMenu({originalEvent:ae.originalEvent,data:Ue,index:ae.index}),ae.originalEvent.preventDefault()}},gr=function(ae){t.onRowMouseEnter&&t.onRowMouseEnter(ae)},lr=function(ae){t.onRowMouseLeave&&t.onRowMouseLeave(ae)},zr=function(){O.current=!0},st=function(ae){var Se=ae.originalEvent,Ue=l()?ze.getAttribute(Se.target,"data-pc-section")==="rowreordericon"||Se.target.closest('[data-pc-section="rowreordericon"]'):ze.hasClass(Se.target,"p-datatable-reorderablerow-handle")||Se.target.closest(".p-datatable-reorderablerow-handle");Se.currentTarget.draggable=Ue,le(ae)&&(Sr(Se),I.current=ae.index,L.current=ae.index,R.current=t.first)},Ct=function(ae){var Se=ae.index===I.current;le(ae)&&!Se&&Ar(ae,"row")},_t=function(ae){var Se,Ue=t.dataKey,tt=t.groupRowsBy?Ue===t.groupRowsBy:!!Ue;if(tt){var pt=String(Te.resolveFieldData(ae.data,Ue));Se=t.expandedRows?wl({},t.expandedRows):{},Se[pt]!=null?(delete Se[pt],t.onRowCollapse&&t.onRowCollapse({originalEvent:ae,data:ae.data})):(Se[pt]=!0,t.onRowExpand&&t.onRowExpand({originalEvent:ae,data:ae.data}))}else{var Bt=Ke(t.expandedRows,ae.data);Se=t.expandedRows?Eo(t.expandedRows):[],Bt!==-1?(Se=Se.filter(function(ar,Cr){return Cr!==Bt}),t.onRowCollapse&&t.onRowCollapse({originalEvent:ae,data:ae.data})):(Se.push(ae.data),t.onRowExpand&&t.onRowExpand({originalEvent:ae,data:ae.data}))}t.onRowToggle&&t.onRowToggle({data:Se})},Kr=function(ae){var Se=ae.originalEvent,Ue=ae.index;le(ae)&&(A.current=!0,T.current=Ue,Se.dataTransfer.setData("text","b"))},yn=function(ae){var Se=ae.originalEvent,Ue=ae.index;if(A.current){if(T.current!==Ue){var tt=Se.currentTarget,pt=ze.getOffset(tt).top+ze.getWindowScrollTop(),Bt=Se.pageY+window.scrollY,ar=pt+ze.getOuterHeight(tt)/2,Cr=tt.previousElementSibling;Bt<ar?(tt.setAttribute("data-p-datatable-dragpoint-bottom","false"),!l()&&ze.removeClass(tt,"p-datatable-dragpoint-bottom"),C.current=Ue,Cr?(Cr.setAttribute("data-p-datatable-dragpoint-bottom","true"),!l()&&ze.addClass(Cr,"p-datatable-dragpoint-bottom")):(tt.setAttribute("data-p-datatable-dragpoint-top","true"),!l()&&ze.addClass(tt,"p-datatable-dragpoint-top"))):(Cr?(Cr.setAttribute("data-p-datatable-dragpoint-bottom","false"),!l()&&ze.removeClass(Cr,"p-datatable-dragpoint-bottom")):(tt.setAttribute("data-p-datatable-dragpoint-top","true"),!l()&&ze.addClass(tt,"p-datatable-dragpoint-top")),Ue+1!==T.current&&(C.current=Ue+1),tt.setAttribute("data-p-datatable-dragpoint-bottom","true"),!l()&&ze.addClass(tt,"p-datatable-dragpoint-bottom"))}Se.preventDefault()}},en=function(ae){var Se=ae.originalEvent,Ue=Se.currentTarget,tt=Ue.previousElementSibling;tt&&(tt.setAttribute("data-p-datatable-dragpoint-bottom","false"),!l()&&ze.removeClass(tt,"p-datatable-dragpoint-bottom")),Ue.setAttribute("data-p-datatable-dragpoint-bottom","false"),!l()&&ze.removeClass(Ue,"p-datatable-dragpoint-bottom"),Ue.setAttribute("data-p-datatable-dragpoint-top","false"),!l()&&ze.removeClass(Ue,"p-datatable-dragpoint-top")},pr=function(ae){var Se=ae.originalEvent;A.current=!1,T.current=null,C.current=null,Se.currentTarget.draggable=!1},Tr=function(ae){var Se=ae.originalEvent;if(C.current!=null){var Ue=T.current>C.current?C.current:C.current===0?0:C.current-1,tt=Eo(t.tableProps.value);Te.reorderArray(tt,T.current,Ue),t.onRowReorder&&t.onRowReorder({originalEvent:Se,value:tt,dragIndex:T.current,dropIndex:Ue})}en(ae),pr(ae),Se.preventDefault()},mn=function(ae){Kt(wl(wl({},ae),{},{toggleable:!0,type:"radio"}))},rn=function(ae){bt(wl(wl({},ae),{},{toggleable:!0,type:"checkbox"}))},er=function(ae){var Se=N.current,Ue=Se.x,tt=Se.y,pt=ae.clientX-Ue,Bt=ae.clientY-tt;Bt<0&&(w.current.style.top="".concat(ae.pageY+5,"px")),pt<0&&(w.current.style.left="".concat(ae.pageX+5,"px")),w.current.style.height="".concat(Math.abs(Bt),"px"),w.current.style.width="".concat(Math.abs(pt),"px"),ae.preventDefault()},ct=function(){w.current&&(w.current.remove(),w.current=null),document.removeEventListener("mousemove",er),document.removeEventListener("mouseup",ct)},At=function(ae){if(ce(ae)){if(t.onCellClick&&t.onCellClick(ae),gt()){if(Re(ae))Ar(ae,"cell");else{var Se=He(ae),Ue=ae.originalEvent,tt=p3(ae,_H);I.current=ae.rowIndex,L.current=ae.rowIndex,R.current=t.first,P.current=ae.cellIndex,te()?Kt({originalEvent:Ue,data:tt,index:ae.rowIndex,toggleable:Se,type:"cell"}):bt({originalEvent:Ue,data:tt,index:ae.rowIndex,toggleable:Se,type:"cell"})}Ee(ae.originalEvent,"cell")}O.current=!1}},Yt=function(ae){pe(ae)&&(Sr(ae.originalEvent),I.current=ae.rowIndex,L.current=ae.rowIndex,R.current=t.first,P.current=ae.cellIndex)},Ye=function(ae){var Se=ae.rowIndex===I.current&&ae.cellIndex===P.current;pe(ae)&&!Se&&Ar(ae,"cell")},ft=function(){document.addEventListener("mousemove",er),document.addEventListener("mouseup",ct),document.body.appendChild(w.current)},ot=function(){ct()};p.useEffect(function(){t.frozenRow&&mt(),t.scrollable&&t.rowGroupMode==="subheader"&&nt()}),ba(function(){t.paginator&&W()&&(I.current=null)},[t.first]),Ls(function(){t.dragSelection&&ot()});var $e=function(){if(!t.loading){var ae=Ae(),Se=Te.getJSXElement(t.emptyMessage,{props:t.tableProps,frozen:t.frozenRow})||ui("emptyMessage"),Ue=r({className:s("emptyMessage"),role:"row"},a("emptyMessage")),tt=r({colSpan:ae,role:"cell"},y("root"),y("bodyCell"));return p.createElement("tr",Ue,p.createElement("td",tt,Se))}return null},at=function(ae,Se,Ue,tt){if(_&&zt(t.value,ae,Xe(Se))){var pt=Et(),Bt=t.expandableRowGroups&&p.createElement(VR,{hostName:t.hostName,onClick:_t,rowData:ae,expanded:Ue,expandedRowIcon:t.expandedRowIcon,collapsedRowIcon:t.collapsedRowIcon,ptCallbacks:t.ptCallbacks,metaData:t.metaData,unstyled:l()}),ar={index:Se,props:t.tableProps,customRendering:!1},Cr=Te.getJSXElement(t.rowGroupHeaderTemplate,ae,ar);if(!ar.customRendering){var qr=r({colSpan:tt},y("root"),y("bodyCell")),Rn=r({className:s("rowGroupHeaderName")},a("rowGroupHeaderName"));Cr=p.createElement("td",qr,Bt,p.createElement("span",Rn,Cr))}var Mn=r({className:s("rowGroupHeader"),style:pt,role:"row"},a("rowGroupHeader"));return p.createElement("tr",Mn,Cr)}return null},Rt=function(ae,Se,Ue,tt){if(!t.expandableRowGroups||tt){var pt=G()?U(ae):!1,Bt=X(ae),ar=be(),Cr=gt(),qr=oe(ae);return p.createElement(qR,{hostName:t.hostName,allowCellSelection:Cr,allowRowSelection:ar,cellClassName:t.cellClassName,checkIcon:t.checkIcon,collapsedRowIcon:t.collapsedRowIcon,columns:t.columns,colsProps:E,compareSelectionBy:t.compareSelectionBy,contextMenuSelected:Bt,dataKey:t.dataKey,editMode:t.editMode,editing:qr,editingMeta:t.editingMeta,editingRows:t.editingRows,expanded:tt,expandedRowIcon:t.expandedRowIcon,frozenRow:t.frozenRow,groupRowsBy:t.groupRowsBy,index:Ue,isSelectable:Z,onCellClick:At,onCellMouseDown:Yt,onCellMouseUp:Ye,onCheckboxChange:rn,onEditingMetaChange:t.onEditingMetaChange,onRadioChange:mn,onRowClick:Ne,onRowDoubleClick:qe,onRowPointerDown:Nt,onRowPointerUp:St,onRowDragEnd:pr,onRowDragLeave:en,onRowDragOver:yn,onRowDragStart:Kr,onRowDrop:Tr,onRowEditCancel:t.onRowEditCancel,onRowEditChange:t.onRowEditChange,onRowEditComplete:t.onRowEditComplete,onRowEditInit:t.onRowEditInit,onRowEditSave:t.onRowEditSave,onRowMouseDown:st,onRowMouseEnter:gr,onRowMouseLeave:lr,onRowMouseUp:Ct,onRowRightClick:Ot,onRowToggle:_t,onRowTouchEnd:zr,responsiveLayout:t.responsiveLayout,rowClassName:t.rowClassName,rowData:ae,rowEditValidator:t.rowEditValidator,rowEditorCancelIcon:t.rowEditorCancelIcon,rowEditorInitIcon:t.rowEditorInitIcon,rowEditorSaveIcon:t.rowEditorSaveIcon,rowGroupMode:t.rowGroupMode,rowIndex:Se,selectOnEdit:t.selectOnEdit,selected:pt,selection:t.selection,selectionMode:t.selectionMode,selectionModeInColumn:t.selectionModeInColumn,showRowReorderElement:t.showRowReorderElement,showSelectionElement:t.showSelectionElement,tabIndex:t.tabIndex,tableProps:t.tableProps,tableSelector:t.tableSelector,value:t.value,virtualScrollerOptions:t.virtualScrollerOptions,ptCallbacks:t.ptCallbacks,metaData:t.metaData,unstyled:l()})}},Ht=function(ae,Se,Ue,tt){if(Ue&&!(_&&t.expandableRowGroups)){var pt="".concat(t.tableSelector,"_content_").concat(Se,"_expanded"),Bt={index:Se,customRendering:!1},ar=Te.getJSXElement(t.rowExpansionTemplate,ae,Bt);if(!Bt.customRendering){var Cr=r({colSpan:tt,role:"cell"},y("root"),y("bodyCell"));ar=p.createElement("td",Cr,ar)}var qr=r({id:pt,className:s("rowExpansion"),role:"row"},a("rowExpansion"));return p.createElement("tr",qr,ar)}return null},or=function(ae,Se,Ue,tt){if(_&&Gt(t.value,ae,Se-t.first,Ue)){var pt=Te.getJSXElement(t.rowGroupFooterTemplate,ae,{index:Se,colSpan:tt,props:t.tableProps}),Bt=r({className:s("rowGroupFooter"),role:"row"},a("rowGroupFooter"));return p.createElement("tr",Bt,pt)}return null},qt=function(){return t.value&&t.value.map(function(ae,Se){var Ue=Be("getItemOptions")?Be("getItemOptions")(Se).index:t.first+Se,tt=ut(ae,Ue),pt=me(ae),Bt=Ae(),ar=at(ae,Ue,pt,Bt),Cr=Rt(ae,Ue,Se,pt),qr=Ht(ae,Ue,pt,Bt),Rn=or(ae,Ue,pt,Bt);return p.createElement(p.Fragment,{key:tt},ar,Cr,qr,Rn)})},br=t.empty?$e():qt(),Pr=t.className==="p-datatable-virtualscroller-spacer"?"virtualScrollerSpacer":"tbody",Rr=r({style:t.style,className:s(Pr,{className:t.className}),role:" rowgroup"},a(Pr,{hostName:t.hostName}));return p.createElement("tbody",Oa({ref:x},Rr),br)}));Ob.displayName="TableBody";var Fd=An.extend({defaultProps:{__TYPE:"ColumnGroup",children:void 0},getCProp:function(e,r){return Te.getComponentProp(e,r,Fd.defaultProps)},getCProps:function(e){return Te.getComponentProps(e,Fd.defaultProps)}}),gh=An.extend({defaultProps:{__TYPE:"Row",style:null,className:null,children:void 0},getCProp:function(e,r){return Te.getComponentProp(e,r,gh.defaultProps)}});function fk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var HR=p.memo(function(t){var e=p.useState({}),r=xa(e,2),n=r[0],a=r[1],i=p.useRef(null),s=zn(),l=function(){return mo.getCProps(t.column)},c=t.ptCallbacks,u=c.ptm,f=c.ptmo,m=c.cx,v=function(R){var O=l(),A={props:O,parent:t.metaData,hostName:t.hostName,state:{styleObject:n},context:{index:t.index,size:t.metaData.props.size,showGridlines:t.metaData.props.showGridlines}};return s(u("column.".concat(R),{column:A}),u("column.".concat(R),A),f(O,R,A))},h=function(R){return mo.getCProp(t.column,R)},E=function(){var R=h("footerStyle"),O=h("style");return h("frozen")?Object.assign({},O,R,n):Object.assign({},O,R)},y=function(){if(h("frozen")){var R=LH({},n),O=h("alignFrozen");if(O==="right"){var A=0,T=i.current.nextElementSibling;T&&T.classList.contains("p-frozen-column")&&(A=ze.getOuterWidth(T)+parseFloat(T.style.right||0)),R.right=A+"px"}else{var C=0,_=i.current.previousElementSibling;_&&_.classList.contains("p-frozen-column")&&(C=ze.getOuterWidth(_)+parseFloat(_.style.left||0)),R.left=C+"px"}var D=n.left===R.left&&n.right===R.right;!D&&a(R)}};p.useEffect(function(){h("frozen")&&y()});var b=E(),x=h("align"),w=h("colSpan"),N=h("rowSpan"),I=Te.getJSXElement(h("footer"),{props:t.tableProps}),P=s({style:b,className:sr(h("footerClassName"),h("className"),m("footerCell",{getColumnProp:h,align:x})),role:"cell",colSpan:w,rowSpan:N},v("root"),v("footerCell"));return p.createElement("td",Oa({ref:i},P),I)});HR.displayName="FooterCell";var TH=["unstyled","__TYPE","ptOptions"];function mk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function RH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var WR=p.memo(function(t){var e=t.ptCallbacks,r=e.ptm,n=e.ptmo,a=e.cx,i=zn(),s=function(N){return Fd.getCProps(N)},l=p.useContext(sa),c=function(){return t.footerColumnGroup?Fd.getCProps(t.footerColumnGroup):void 0},u=function(N,I){var P=s(N),L={props:P,parent:t.metaData,hostName:t.hostName};return i(r("row.".concat(I),{row:L}),r("row.".concat(I),L),n(P,I,L))},f=function(N){var I=c(),P={props:c(),parent:t.metaData,hostName:t.hostName};return i(r("columnGroup.".concat(N),{columnGroup:P}),r("columnGroup.".concat(N),P),n(I,N,P))},m=function(){return t.footerColumnGroup?!0:t.columns?t.columns.some(function(N){return N&&v(N,"footer")}):!1},v=function(N,I){return mo.getCProp(N,I)},h=function(N){var I=p.Children.toArray(gh.getCProp(N,"children"));return E(I)},E=function(N){return p.Children.map(N,function(I,P){var L=I?!v(I,"hidden"):!0,R=I&&(v(I,"columnKey")||v(I,"field"))||P;return L&&p.createElement(HR,{hostName:t.hostName,key:R,tableProps:t.tableProps,column:I,ptCallbacks:t.ptCallbacks,metaData:t.metaData})})},y=function(){if(t.footerColumnGroup){var N=p.Children.toArray(Fd.getCProp(t.footerColumnGroup,"children"));return N.map(function(P,L){var R=gh.getProps(P.props,l),O=R.unstyled;R.__TYPE,R.ptOptions;var A=p3(R,TH),T=i({role:"row"},O?RH({unstyled:O},A):A,u(P,"root"));return p.createElement("tr",Oa({},T,{key:L}),h(P))})}var I=i({role:"row"},r("footerRow",{hostName:t.hostName}));return p.createElement("tr",I,E(t.columns))};if(m()){var b=y(),x=i({className:a("tfoot"),role:"rowgroup"},f("root"),r("tfoot",{hostName:t.hostName}));return p.createElement("tfoot",x,b)}return null});WR.displayName="TableFooter";function MH(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function DH(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var as=Object.freeze({STARTS_WITH:"startsWith",CONTAINS:"contains",NOT_CONTAINS:"notContains",ENDS_WITH:"endsWith",EQUALS:"equals",NOT_EQUALS:"notEquals",IN:"in",LESS_THAN:"lt",LESS_THAN_OR_EQUAL_TO:"lte",GREATER_THAN:"gt",GREATER_THAN_OR_EQUAL_TO:"gte",BETWEEN:"between",DATE_IS:"dateIs",DATE_IS_NOT:"dateIsNot",DATE_BEFORE:"dateBefore",DATE_AFTER:"dateAfter",CUSTOM:"custom"}),Rs=MH(function t(){DH(this,t)});ya(Rs,"ripple",!1);ya(Rs,"inputStyle","outlined");ya(Rs,"locale","en");ya(Rs,"appendTo",null);ya(Rs,"cssTransition",!0);ya(Rs,"autoZIndex",!0);ya(Rs,"hideOverlaysOnDocumentScrolling",!1);ya(Rs,"nonce",null);ya(Rs,"nullSortOrder",1);ya(Rs,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100,toast:1200});ya(Rs,"pt",void 0);ya(Rs,"filterMatchModeOptions",{text:[as.STARTS_WITH,as.CONTAINS,as.NOT_CONTAINS,as.ENDS_WITH,as.EQUALS,as.NOT_EQUALS],numeric:[as.EQUALS,as.NOT_EQUALS,as.LESS_THAN,as.LESS_THAN_OR_EQUAL_TO,as.GREATER_THAN,as.GREATER_THAN_OR_EQUAL_TO],date:[as.DATE_IS,as.DATE_IS_NOT,as.DATE_BEFORE,as.DATE_AFTER]});ya(Rs,"changeTheme",function(t,e,r,n){var a,i=document.getElementById(r);if(!i)throw Error("Element with id ".concat(r," not found."));var s=i.getAttribute("href").replace(t,e),l=document.createElement("link");l.setAttribute("rel","stylesheet"),l.setAttribute("id",r),l.setAttribute("href",s),l.addEventListener("load",function(){n&&n()}),(a=i.parentNode)===null||a===void 0||a.replaceChild(l,i)});var jH={en:{accept:"Yes",addRule:"Add Rule",am:"AM",apply:"Apply",cancel:"Cancel",choose:"Choose",chooseDate:"Choose Date",chooseMonth:"Choose Month",chooseYear:"Choose Year",clear:"Clear",completed:"Completed",contains:"Contains",custom:"Custom",dateAfter:"Date is after",dateBefore:"Date is before",dateFormat:"mm/dd/yy",dateIs:"Date is",dateIsNot:"Date is not",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],emptyFilterMessage:"No results found",emptyMessage:"No available options",emptySearchMessage:"No results found",emptySelectionMessage:"No selected item",endsWith:"Ends with",equals:"Equals",fileSizeTypes:["B","KB","MB","GB","TB","PB","EB","ZB","YB"],filter:"Filter",firstDayOfWeek:0,gt:"Greater than",gte:"Greater than or equal to",lt:"Less than",lte:"Less than or equal to",matchAll:"Match All",matchAny:"Match Any",medium:"Medium",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],nextDecade:"Next Decade",nextHour:"Next Hour",nextMinute:"Next Minute",nextMonth:"Next Month",nextSecond:"Next Second",nextYear:"Next Year",noFilter:"No Filter",notContains:"Not contains",notEquals:"Not equals",now:"Now",passwordPrompt:"Enter a password",pending:"Pending",pm:"PM",prevDecade:"Previous Decade",prevHour:"Previous Hour",prevMinute:"Previous Minute",prevMonth:"Previous Month",prevSecond:"Previous Second",prevYear:"Previous Year",reject:"No",removeRule:"Remove Rule",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",showMonthAfterYear:!1,startsWith:"Starts with",strong:"Strong",today:"Today",upload:"Upload",weak:"Weak",weekHeader:"Wk",aria:{cancelEdit:"Cancel Edit",close:"Close",collapseRow:"Row Collapsed",editRow:"Edit Row",expandRow:"Row Expanded",falseLabel:"False",filterConstraint:"Filter Constraint",filterOperator:"Filter Operator",firstPageLabel:"First Page",gridView:"Grid View",hideFilterMenu:"Hide Filter Menu",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",lastPageLabel:"Last Page",listLabel:"Option List",listView:"List View",moveAllToSource:"Move All to Source",moveAllToTarget:"Move All to Target",moveBottom:"Move Bottom",moveDown:"Move Down",moveToSource:"Move to Source",moveToTarget:"Move to Target",moveTop:"Move Top",moveUp:"Move Up",navigation:"Navigation",next:"Next",nextPageLabel:"Next Page",nullLabel:"Not Selected",pageLabel:"Page {page}",otpLabel:"Please enter one time password character {0}",passwordHide:"Hide Password",passwordShow:"Show Password",previous:"Previous",prevPageLabel:"Previous Page",rotateLeft:"Rotate Left",rotateRight:"Rotate Right",rowsPerPageLabel:"Rows per page",saveEdit:"Save Edit",scrollTop:"Scroll Top",selectAll:"All items selected",selectRow:"Row Selected",showFilterMenu:"Show Filter Menu",slide:"Slide",slideNumber:"{slideNumber}",star:"1 star",stars:"{star} stars",trueLabel:"True",unselectAll:"All items unselected",unselectRow:"Row Unselected",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out"}}};function Vm(t,e){if(t.includes("__proto__")||t.includes("prototype"))throw new Error("Unsafe ariaKey detected");var r=Rs.locale;try{var n=FH(r).aria[t];if(n)for(var a in e)e.hasOwnProperty(a)&&(n=n.replace("{".concat(a,"}"),e[a]));return n}catch{throw new Error("The ".concat(t," option is not found in the current locale('").concat(r,"')."))}}function FH(t){var e=t||Rs.locale;if(e.includes("__proto__")||e.includes("prototype"))throw new Error("Unsafe locale detected");return jH[e]}var $H="",Ug=An.extend({defaultProps:{__TYPE:"FocusTrap",children:void 0},css:{styles:$H},getProps:function(e){return Te.getMergedProps(e,Ug.defaultProps)},getOtherProps:function(e){return Te.getDiffProps(e,Ug.defaultProps)}});function pk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var BH=o.memo(o.forwardRef(function(t,e){var r=o.useRef(null),n=o.useRef(null),a=o.useRef(null),i=o.useContext(sa),s=Ug.getProps(t,i),l={props:s};Lf(Ug.css.styles,{name:"focustrap"});var c=Ug.setMetaData(zH({},l));c.ptm,o.useImperativeHandle(e,function(){return{props:s,getInk:function(){return n.current},getTarget:function(){return r.current}}}),gs(function(){s.disabled||(r.current=u(),f(r.current))});var u=function(){return n.current&&n.current.parentElement},f=function(b){var x=s||{},w=x.autoFocusSelector,N=w===void 0?"":w,I=x.firstFocusableSelector,P=I===void 0?"":I,L=x.autoFocus,R=L===void 0?!1:L,O="".concat(m(N)),A="[autofocus]".concat(O,", [data-pc-autofocus='true']").concat(O),T=ze.getFirstFocusableElement(b,A);R&&!T&&(T=ze.getFirstFocusableElement(b,m(P))),ze.focus(T)},m=function(b){return':not(.p-hidden-focusable):not([data-p-hidden-focusable="true"])'.concat(b??"")},v=function(b){var x,w=b.currentTarget,N=b.relatedTarget,I=N===w.$_pfocustrap_lasthiddenfocusableelement||!((x=r.current)!==null&&x!==void 0&&x.contains(N))?ze.getFirstFocusableElement(w.parentElement,m(w.$_pfocustrap_focusableselector)):w.$_pfocustrap_lasthiddenfocusableelement;ze.focus(I)},h=function(b){var x,w=b.currentTarget,N=b.relatedTarget,I=N===w.$_pfocustrap_firsthiddenfocusableelement||!((x=r.current)!==null&&x!==void 0&&x.contains(N))?ze.getLastFocusableElement(w.parentElement,m(w.$_pfocustrap_focusableselector)):w.$_pfocustrap_firsthiddenfocusableelement;ze.focus(I)},E=function(){var b=s||{},x=b.tabIndex,w=x===void 0?0:x,N=function(R,O,A){return o.createElement("span",{ref:R,className:"p-hidden-accessible p-hidden-focusable",tabIndex:w,role:"presentation","aria-hidden":!0,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0,onFocus:O,"data-pc-section":A})},I=N(n,v,"firstfocusableelement"),P=N(a,h,"lastfocusableelement");return n.current&&a.current&&(n.current.$_pfocustrap_lasthiddenfocusableelement=a.current,a.current.$_pfocustrap_firsthiddenfocusableelement=n.current),o.createElement(o.Fragment,null,I,s.children,P)};return E()})),UH=BH;function gk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _c(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var h3=p.memo(function(t){var e=p.useState(!1),r=xa(e,2),n=r[0],a=r[1],i=p.useRef(null),s=p.useRef(null),l=p.useRef(null),c=p.useRef(!1),u=p.useRef(null),f=zn(),m=function(ct){return mo.getCProp(t.column,ct)},v=function(){return mo.getCProps(t.column)},h=p.useContext(sa),E=t.ptCallbacks,y=E.ptm,b=E.ptmo,x=E.cx,w=function(ct,At){var Yt=v(),Ye=_c({props:Yt,parent:t.metaData,hostName:t.hostName,state:{overlayVisible:n}},At);return f(y("column.".concat(ct),{column:Ye}),y("column.".concat(ct),Ye),b(Yt,ct,Ye))},N=m("filterField")||m("field"),I=t.filters[N],P=t.filtersStore&&t.filtersStore[N],L=u3({target:l,overlay:i,listener:function(ct,At){var Yt=At.type,Ye=At.valid;Ye&&(Yt==="outside"?(!c.current&&!j(ct.target)&&Be(),c.current=!1):h.hideOverlaysOnDocumentScrolling?Be():ze.isDocument(ct.target)||ze.alignOverlay(i.current,l.current,h&&h.appendTo||$n.appendTo,!1))},when:n}),R=xa(L,2),O=R[0],A=R[1],T=function(){return!P||!I?!1:P.operator?!_(I.constraints[0].value):!_(I.value)},C=function(){return I&&!_(I.value)},_=function(ct){return Te.isEmpty(ct)},D=function(ct){return I&&I.matchMode===ct},z=function(){return m("filterMatchModeOptions")||h&&h.filterMatchModeOptions[X()].map(function(ct){return{label:ui(ct),value:ct}})||$n.filterMatchModeOptions[X()].map(function(ct){return{label:ui(ct),value:ct}})},V=function(){return m("showFilterMenu")&&(t.display==="row"?m("dataType")!=="boolean":!0)},J=function(){return m("showClearButton")&&t.display==="row"},ie=function(){return m("dataType")!=="boolean"&&m("showFilterMatchModes")&&z()&&m("showFilterMenuOptions")},G=function(){return m("showFilterOperator")&&I&&I.operator&&m("showFilterMenuOptions")},te=function(){return nt().length>1},W=function(){return m("showAddButton")&&I&&I.operator&&nt()&&nt().length<m("maxConstraints")&&m("showFilterMenuOptions")},B=function(ct){return!j(ct)&&i.current&&!(i.current.isSameNode(ct)||i.current.contains(ct))},j=function(ct){return l.current&&(l.current.isSameNode(ct)||l.current.contains(ct))},U=function(){if(P)return P.operator?{matchMode:P.constraints[0].matchMode,operator:P.operator}:{matchMode:P.matchMode}},X=function(){var ct=m("dataType"),At=m("filterMatchMode"),Yt=function(ft){return h&&h.filterMatchModeOptions[ft].some(function(ot){return ot===At})||$n.filterMatchModeOptions[ft].some(function(ot){return ot===At})};return At==="custom"&&!Yt(ct)?(h&&h.filterMatchModeOptions[ct].push(Ro.CUSTOM)||$n.filterMatchModeOptions[ct].push(Ro.CUSTOM),ct):At&&Object.keys(h&&h.filterMatchModeOptions||$n.filterMatchModeOptions).find(function(Ye){return Yt(Ye)})||ct},Z=function(){var ct=m("onFilterClear"),At=U(),Yt=_c({},t.filters);Yt[N].operator?(Yt[N].constraints.splice(1),Yt[N].operator=At.operator,Yt[N].constraints[0]={value:null,matchMode:At.matchMode}):(Yt[N].value=null,Yt[N].matchMode=At.matchMode),ct&&ct(),t.onFilterChange(Yt),t.onFilterApply(),Be()},me=function(){var ct=m("onFilterApplyClick");ct&&ct({field:N,constraints:I}),t.onFilterApply(),Be()},de=function(){a(function(ct){return!ct})},oe=function(ct){switch(ct.key){case"Escape":case"Tab":Be();break;case"ArrowDown":if(n){var At=ze.getFirstFocusableElement(i.current);At&&At.focus(),ct.preventDefault()}else ct.altKey&&(a(!0),ct.preventDefault());break}},ee=function(ct){ct.key==="Escape"&&(Be(),l.current&&l.current.focus())},le=function(ct,At){var Yt=_c({},t.filters),Ye=ct.target.value,ft=Yt[N];t.display==="menu"&&Te.isNotEmpty(ft.constraints)?ft.constraints[At].value=Ye:ft.value=Ye,t.onFilterChange(Yt),(!m("showApplyButton")||t.display==="row")&&t.onFilterApply()},pe=function(ct,At){ct.key==="Enter"&&(!m("showApplyButton")||t.display==="menu")&&me()},ce=function(ct){var At=m("onFilterMatchModeChange"),Yt=_c({},t.filters);Yt[N].matchMode=ct,At&&At({field:N,matchMode:ct}),t.onFilterChange(Yt),t.onFilterApply(),Be()},_e=function(ct,At,Yt){var Ye=ct.target;switch(ct.key){case"ArrowDown":var ft=Ae(Ye);ft&&(Ye.removeAttribute("tabindex"),ft.tabIndex=0,ft.focus()),ct.preventDefault();break;case"ArrowUp":var ot=ke(Ye);ot&&(Ye.removeAttribute("tabindex"),ot.tabIndex=0,ot.focus()),ct.preventDefault();break;case"Enter":Yt?Z():ce(At.value),ct.preventDefault();break}},He=function(ct){var At=m("onFilterOperatorChange"),Yt=ct.value,Ye=_c({},t.filters);Ye[N].operator=Yt,t.onFilterChange(Ye),At&&At({field:N,operator:Yt}),m("showApplyButton")||t.onFilterApply()},Re=function(ct,At){var Yt=m("onFilterMatchModeChange"),Ye=_c({},t.filters),ft=Ye[N];t.display==="menu"&&Te.isNotEmpty(ft.constraints)?ft.constraints[At].matchMode=ct:ft.matchMode=ct,t.onFilterChange(Ye),Yt&&Yt({field:N,matchMode:ct,index:At}),m("showApplyButton")||t.onFilterApply()},be=function(){var ct=m("onFilterConstraintAdd"),At=U(),Yt=_c({},t.filters),Ye={value:null,matchMode:At.matchMode};Yt[N].constraints.push(Ye),ct&&ct({field:N,constraint:Ye}),t.onFilterChange(Yt),m("showApplyButton")||t.onFilterApply()},gt=function(ct){var At=m("onFilterConstraintRemove"),Yt=_c({},t.filters),Ye=Yt[N].constraints.splice(ct,1);At&&At({field:N,constraint:Ye}),t.onFilterChange(Yt),m("showApplyButton")||t.onFilterApply()},Ae=function(ct){var At=ct.nextElementSibling;return At?ze.getAttribute(At,"data-p-column-filter-separator")===!0?Ae(At):At:ct.parentElement.firstElementChild},ke=function(ct){var At=ct.previousElementSibling;return At?ze.getAttribute(At,"data-p-column-filter-separator")===!0?ke(At):At:ct.parentElement.lastElementChild},Be=function(){a(!1)},Xe=function(ct){c.current=!0,$u.emit("overlay-click",{originalEvent:ct,target:i.current})},Ke=function(){c.current=!0},Et=function(){Xs.set("overlay",i.current,h&&h.autoZIndex||$n.autoZIndex,h&&h.zIndex.overlay||$n.zIndex.overlay),ze.addStyles(i.current,{position:"absolute",top:"0",left:"0"}),ze.alignOverlay(i.current,l.current,h&&h.appendTo||$n.appendTo,!1),u.current=function(ct){B(ct.target)||(c.current=!0)},$u.on("overlay-click",u.current)},ut=function(){O()},zt=function(){mt()},Gt=function(){Xs.clear(i.current)},mt=function(){A(),$u.off("overlay-click",u.current),u.current=null,c.current=!1},nt=function(){return I?I.constraints||[I]:[]},ht=function(){return I.operator},Kt=function(){return[{label:ui("matchAll"),value:$g.AND},{label:ui("matchAny"),value:$g.OR}]},bt=function(){return ui("noFilter")},Ar=function(){return ui("removeRule")},Jt=function(){return ui("addRule")},Lr=function(){return ui("clear")},mr=function(){return ui("apply")},wr=function(ct){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Yt=_c({},t.filters),Ye=Yt[N];t.display==="menu"&&Ye&&Ye.operator?Yt[N].constraints[At].value=ct:Yt[N].value=ct,t.onFilterChange(Yt)},Ur=function(){for(var ct=arguments.length,At=new Array(ct),Yt=0;Yt<ct;Yt++)At[Yt]=arguments[Yt];At&&wr(At[0],At[1]),t.onFilterApply()};ba(function(){t.display==="menu"&&n&&ze.alignOverlay(i.current,l.current,h&&h.appendTo||$n.appendTo,!1)}),gs(function(){s.current||(s.current=av())}),Ls(function(){u.current&&($u.off("overlay-click",u.current),u.current=null),i.current&&(Xs.clear(i.current),mt())});var Sr=function(ct,At){var Yt=ct?ct.value:null;return m("filterElement")?Te.getJSXElement(m("filterElement"),{field:N,index:At,filterModel:ct,value:Yt,filterApplyCallback:Ur,filterCallback:wr}):p.createElement(ny,{type:m("filterType"),value:Yt||"",onChange:function(ft){return le(ft,At)},onKeyDown:function(ft){return pe(ft)},className:"p-column-filter",placeholder:m("filterPlaceholder"),maxLength:m("filterMaxLength"),"aria-label":m("filterPlaceholder"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}})},kt=function(){if(t.display==="row"){var ct=Sr(I,0),At=f({className:x("filterInput")},w("filterInput"));return p.createElement("div",At,ct)}return null},Ee=function(ct,At){return t.display==="menu"?Sr(ct,At):null},Ne=function(){if(!V())return null;var ct=f({"aria-hidden":!0},w("filterIcon")),At=t.filterIcon||p.createElement(OR,ct),Yt=Yn.getJSXIcon(At,_c({},ct),{props:t}),Ye=Vm(n?"hideFilterMenu":"showFilterMenu"),ft=f({type:"button",className:x("filterMenuButton",{overlayVisibleState:n,hasFilter:T}),"aria-haspopup":!0,"aria-expanded":n,"aria-label":Ye,"aria-controls":n?s.current:void 0,onClick:function($e){return de()},onKeyDown:function($e){return oe($e)}},w("filterMenuButton",{context:{active:T()}}));return p.createElement("button",Oa({ref:l},ft),Yt,p.createElement(di,null))},qe=function(){if(!J())return null;var ct=f({"aria-hidden":!0},w("filterClearIcon")),At=t.filterClearIcon||p.createElement(IR,ct),Yt=Yn.getJSXIcon(At,_c({},ct),{props:t}),Ye=Lr(),ft=f({className:x("headerFilterClearButton",{hasRowFilter:C}),type:"button",onClick:function($e){return Z()},"aria-label":Ye},w("headerFilterClearButton",{context:{hidden:C()}}));return p.createElement("button",ft,Yt,p.createElement(di,null))},Nt=function(){if(ie()){var ct=z(),At=bt(),Yt=f({className:x("filterSeparator"),"data-p-column-filter-separator":!0},w("filterSeparator")),Ye=f({className:x("filterRowItem",{isRowMatchModeSelected:D,isShowMatchModes:ie}),onClick:function($e){return Z()},onKeyDown:function($e){return _e($e,null,!0)}},w("filterRowItem")),ft=f({className:x("filterRowItems")},w("filterRowItems"));return p.createElement("ul",ft,ct.map(function(ot,$e){var at=ot.value,Rt=ot.label,Ht=$e===0?0:null,or=f({className:x("filterRowItem",{isRowMatchModeSelected:D,isShowMatchModes:ie,value:at}),onClick:function(){return ce(at)},onKeyDown:function(br){return _e(br,ot)},tabIndex:Ht},w("filterRowItem",{context:{highlighted:ot&&D(at)}}));return p.createElement("li",Oa({},or,{key:Rt}),Rt)}),p.createElement("li",Yt),p.createElement("li",Ye,At))}return null},St=function(){if(G()){var ct=Kt(),At=ht(),Yt=f({className:x("filterOperator")},w("filterOperator"));return p.createElement("div",Yt,p.createElement(qb,{options:ct,value:At,onChange:He,className:"p-column-filter-operator-dropdown",pt:w("filterOperatorDropdown"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData},"aria-label":Vm("filterOperator")}))}return null},Ot=function(ct,At){if(ie()){var Yt=z();return p.createElement(qb,{options:Yt,value:ct.matchMode,onChange:function(ft){return Re(ft.value,At)},className:"p-column-filter-matchmode-dropdown",pt:w("filterMatchModeDropdown"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData},"aria-label":Vm("filterConstraint")})}return null},gr=function(ct){if(te()){var At=Ar();return p.createElement(Lg,{type:"button",icon:t.filterRemoveIcon||p.createElement(LR,null),className:"p-column-filter-remove-button p-button-text p-button-danger p-button-sm",onClick:function(){return gt(ct)},label:At,pt:w("filterRemoveButton"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}})}return null},lr=function(){var ct=nt(),At=f({className:x("filterConstraints")},w("filterConstraints")),Yt=f({className:x("filterConstraint")},w("filterConstraint"));return p.createElement("div",At,ct.map(function(Ye,ft){var ot=Ot(Ye,ft),$e=Ee(Ye,ft),at=gr(ft),Rt=f(w("filterRemove"));return p.createElement("div",Oa({},Yt,{key:ft}),ot,$e,p.createElement("div",Rt,at))}))},zr=function(){if(W()){var ct=Jt(),At=f({className:x("filterAddRule")},w("filterAddRule"));return p.createElement("div",At,p.createElement(Lg,{type:"button",label:ct,icon:t.filterAddIcon||p.createElement(_R,null),className:"p-column-filter-add-button p-button-text p-button-sm",onClick:be,pt:w("filterAddRuleButton"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}}))}return null},st=function(){if(m("showClearButton")){if(!m("filterClear")){var ct=Lr();return p.createElement(Lg,{type:"button",outlined:!0,size:"small",onClick:Z,label:ct,pt:w("filterClearButton"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}})}return Te.getJSXElement(m("filterClear"),{field:N,filterModel:I,filterClearCallback:Z})}return null},Ct=function(){if(m("showApplyButton")){if(!m("filterApply")){var ct=mr();return p.createElement(Lg,{type:"button",size:"small",onClick:me,label:ct,pt:w("filterApplyButton"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}})}return Te.getJSXElement(m("filterApply"),{field:N,filterModel:I,filterApplyCallback:me})}return null},_t=function(){var ct=st(),At=Ct(),Yt=f({className:x("filterButtonBar")},w("filterButtonBar"));return p.createElement("div",Yt,ct,At)},Kr=function(){var ct=St(),At=lr(),Yt=zr(),Ye=_t();return p.createElement(p.Fragment,null,ct,At,Yt,Ye)},yn=function(){var ct=m("filterMenuStyle"),At=Te.getJSXElement(m("filterHeader"),{field:N,filterModel:I,filterApplyCallback:Ur}),Yt=Te.getJSXElement(m("filterFooter"),{field:N,filterModel:I,filterApplyCallback:Ur}),Ye=t.display==="row"?Nt():Kr(),ft=f({style:ct,className:x("filterOverlay",{columnFilterProps:t,context:h,getColumnProp:m}),onKeyDown:function(at){return ee(at)},onClick:function(at){return Xe(at)},onMouseDown:function(at){return Ke()},id:s.current,"aria-modal":n,role:"dialog"},w("filterOverlay")),ot=f({classNames:x("transition"),in:n,timeout:{enter:120,exit:100},unmountOnExit:!0,onEnter:Et,onEntered:ut,onExit:zt,onExited:Gt},w("transition"));return p.createElement(ov,null,p.createElement(ay,Oa({nodeRef:i},ot),p.createElement("div",Oa({ref:i},ft),p.createElement(UH,{autoFocus:!0},At,Ye,Yt))))},en=kt(),pr=Ne(),Tr=qe(),mn=yn(),rn=f({className:x("columnFilter",{columnFilterProps:t})},w("columnFilter"));return p.createElement("div",rn,en,pr,Tr,mn)});h3.displayName="ColumnFilter";function hk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function qH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var v3=p.memo(function(t){var e=zn(),r=function(){return mo.getCProps(t.column)},n=t.ptCallbacks,a=n.ptm,i=n.ptmo,s=n.cx,l=function(y){var b=r(),x={props:b,parent:t.metaData,hostName:t.hostName,state:{},context:{checked:t.checked,disabled:t.disabled}};return e(a("column.".concat(y),{column:x}),a("column.".concat(y),x),i(b,y,x))},c=function(y){t.disabled||t.onChange({originalEvent:y,checked:!t.checked})},u=e({className:s("checkIcon")},l("headerCheckbox.icon")),f=t.checked?t.checkIcon||p.createElement(Zu,u):null,m=Yn.getJSXIcon(f,qH({},u),{props:t}),v=t.disabled?null:0,h={role:"checkbox","aria-checked":t.checked,"aria-label":t.checked?Vm("selectAll"):Vm("unselectAll"),tabIndex:v,onChange:c,icon:m,checked:t.checked,disabled:t.disabled,unstyled:t.unstyled,pt:l("headerCheckbox")};return p.createElement(g3,h)});v3.displayName="HeaderCheckbox";function vk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var GR=p.memo(function(t){var e=p.useState({}),r=xa(e,2),n=r[0],a=r[1],i=p.useRef(null),s=sp(t.column),l=zn(),c=t.metaData,u=t.ptCallbacks,f=t.index,m=t.ptCallbacks,v=m.ptm,h=m.ptmo,E=m.cx,y={index:f},b=tb(tb({},c),y),x=function(){return mo.getCProps(t.column)},w=function(ce){var _e=x(),He={props:_e,parent:b,hostName:t.hostName,state:{styleObject:n},context:{index:t.index,sorted:O().sorted,resizable:t.resizableColumns,size:t.metaData.props.size,showGridlines:t.metaData.props.showGridlines}};return l(v("column.".concat(ce),{column:He}),v("column.".concat(ce),He),h(_e,ce,He))},N=function(){return t.multiSortMeta&&t.multiSortMeta.length>1},I=function(){return!P("sortable")||P("sortable")&&(t.allSortableDisabled||P("sortableDisabled"))},P=function(){return t.column?typeof(arguments.length<=0?void 0:arguments[0])=="string"?mo.getCProp(t.column,arguments.length<=0?void 0:arguments[0]):mo.getCProp((arguments.length<=0?void 0:arguments[0])||t.column,arguments.length<=1?void 0:arguments[1]):null},L=function(){var ce=P("headerStyle"),_e=P("style");return P("frozen")?Object.assign({},_e,ce,n):Object.assign({},_e,ce)},R=function(){return t.multiSortMeta.findIndex(function(ce){return ce.field===P("field")||ce.field===P("sortField")})},O=function(){var ce=!1,_e=0,He=-1;return t.sortMode==="single"?(ce=t.sortField&&(t.sortField===P("field")||t.sortField===P("sortField")),_e=ce?t.sortOrder:0):t.sortMode==="multiple"&&(He=R(),He>-1&&(ce=!0,_e=t.multiSortMeta[He].order)),{sorted:ce,sortOrder:_e,metaIndex:He}},A=function(ce){var _e=ce.sorted,He=ce.sortOrder;return P("sortable")?_e&&He<0?"descending":_e&&He>0?"ascending":"none":null},T=function(){if(P("frozen")){var ce=tb({},n),_e=P("alignFrozen");if(_e==="right"){var He=0,Re=i.current.nextElementSibling;Re&&Re.classList.contains("p-frozen-column")&&(He=ze.getOuterWidth(Re)+parseFloat(Re.style.right||0)),ce.right=He+"px"}else{var be=0,gt=i.current.previousElementSibling;gt&&gt.classList.contains("p-frozen-column")&&(be=ze.getOuterWidth(gt)+parseFloat(gt.style.left||0)),ce.left=be+"px"}var Ae=i.current.parentElement.nextElementSibling;if(Ae){var ke=ze.index(i.current);Ae.children[ke].style.left=ce.left,Ae.children[ke].style.right=ce.right}var Be=n.left===ce.left&&n.right===ce.right;!Be&&a(ce)}},C=function(ce){(P(ce,"sortableDisabled")!==P("sortableDisabled")||P(ce,"sortable")!==P("sortable"))&&t.onSortableChange()},_=function(ce){if(!I()){var _e=ce.target;(ze.getAttribute(_e,"data-p-sortable-column")===!0||ze.getAttribute(_e,"data-pc-section")==="headertitle"||ze.getAttribute(_e,"data-pc-section")==="headercontent"||ze.getAttribute(_e,"data-pc-section")==="sortIcon"||ze.getAttribute(_e.parentElement,"data-pc-section")==="sortIcon"||_e.closest('[data-p-sortable-column="true"]')&&!_e.closest('[data-pc-section="filtermenubutton"]'))&&(ze.clearSelection(),t.onSortChange({originalEvent:ce,column:t.column,sortableDisabledFields:t.sortableDisabledFields}))}},D=function(ce){t.onColumnMouseDown({originalEvent:ce,column:t.column})},z=function(ce){(ce.code=="Enter"||ce.code==="NumpadEnter"||ce.code=="Space")&&ce.target===i.current&&ze.getAttribute(ce.currentTarget,"data-p-sortable-column")===!0&&(_(ce),ce.preventDefault())},V=function(ce){t.onColumnDragStart({originalEvent:ce,column:t.column})},J=function(ce){t.onColumnDragOver({originalEvent:ce,column:t.column})},ie=function(ce){t.onColumnDragLeave({originalEvent:ce,column:t.column})},G=function(ce){t.onColumnDrop({originalEvent:ce,column:t.column})},te=function(ce){t.onColumnResizeStart({originalEvent:ce,column:t.column})},W=function(ce){t.onColumnResizerClick&&(t.onColumnResizerClick({originalEvent:ce,element:ce.currentTarget.parentElement,column:t.column}),ce.preventDefault())},B=function(ce){t.onColumnResizerDoubleClick&&(t.onColumnResizerDoubleClick({originalEvent:ce,element:ce.currentTarget.parentElement,column:t.column}),ce.preventDefault())};p.useEffect(function(){P("frozen")&&T(),C(s)});var j=function(){if(t.resizableColumns&&!P("frozen")){var ce=l({className:E("columnResizer"),onMouseDown:function(He){return te(He)},onTouchStart:function(He){return te(He)},onClick:function(He){return W(He)},onDoubleClick:function(He){return B(He)}},w("columnResizer"));return p.createElement("span",ce)}return null},U=function(){var ce=Te.getJSXElement(P("header"),{props:t.tableProps}),_e=l({className:E("headerTitle")},w("headerTitle"));return p.createElement("span",_e,ce)},X=function(ce){var _e=ce.sorted,He=ce.sortOrder;if(P("sortable")){var Re=l({className:E("sortIcon")},w("sortIcon")),be=l(w("sort")),gt=_e?He<0?p.createElement(RR,Re):p.createElement(MR,Re):p.createElement(TR,Re),Ae=Yn.getJSXIcon(t.sortIcon||gt,tb({},Re),{props:t,sorted:_e,sortOrder:He});return p.createElement("span",be,Ae)}return null},Z=function(ce){var _e=ce.metaIndex;if(_e!==-1&&N()){var He=t.groupRowsBy&&t.groupRowsBy===t.groupRowSortField?_e:_e+1,Re=l({className:E("sortBadge")},w("root"),w("sortBadge"));return p.createElement("span",Re,He)}return null},me=function(){if(t.showSelectAll&&P("selectionMode")==="multiple"&&t.filterDisplay!=="row"){var ce=t.allRowsSelected(t.value);return p.createElement(v3,{hostName:t.hostName,column:t.column,checked:ce,onChange:t.onColumnCheckboxChange,disabled:t.empty,ptCallbacks:u,metaData:c,unstyled:t.unstyled})}return null},de=function(){return t.filterDisplay==="menu"&&P("filter")?p.createElement(h3,{hostName:t.hostName,display:"menu",column:t.column,filters:t.filters,onFilterChange:t.onFilterChange,onFilterApply:t.onFilterApply,filtersStore:t.filtersStore,filterIcon:t.filterIcon,filterClearIcon:t.filterClearIcon,ptCallbacks:u,metaData:c,unstyled:t.unstyled}):null},oe=function(ce){var _e=U(),He=X(ce),Re=Z(ce),be=me(),gt=de(),Ae=l({className:E("headerContent")},w("headerContent"));return p.createElement("div",Ae,_e,He,Re,be,gt)},ee=function(){var ce=I(),_e=O(),He=L(),Re=P("alignHeader")||P("align"),be=P("frozen"),gt=P("sortable")&&!ce?t.tabIndex:null,Ae=P("colSpan"),ke=P("rowSpan"),Be=A(_e),Xe=P("headerTooltip"),Ke=P("headerClassName"),Et=Te.isNotEmpty(Xe),ut=P("headerTooltipOptions"),zt=j(),Gt=oe(_e),mt=l({className:sr(Ke,E("headerCell",{headerProps:t,frozen:be,sortMeta:_e,align:Re,_isSortableDisabled:ce,getColumnProp:P})),style:He,role:"columnheader",onClick:function(ht){return _(ht)},onKeyDown:function(ht){return z(ht)},onMouseDown:function(ht){return D(ht)},onDragStart:function(ht){return V(ht)},onDragOver:function(ht){return J(ht)},onDragLeave:function(ht){return ie(ht)},onDrop:function(ht){return G(ht)},tabIndex:gt,colSpan:Ae,rowSpan:ke,"aria-sort":Be,"data-p-sortable-column":P("sortable"),"data-p-resizable-column":t.resizableColumns,"data-p-highlight":_e.sorted,"data-p-filter-column":!t.metaData.props.headerColumnGroup&&t.filterDisplay==="row","data-p-frozen-column":P("frozen"),"data-p-reorderable-column":t.reorderableColumns},w("root"),w("headerCell"));return p.createElement(p.Fragment,null,p.createElement("th",Oa({ref:i},mt),zt,Gt),Et&&p.createElement(Bc,Oa({target:i,content:Xe,pt:w("tooltip"),unstyled:t.unstyled},ut)))},le=ee();return le});GR.displayName="HeaderCell";var VH=["unstyled","__TYPE","ptOptions"];function bk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Z1(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bk(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var KR=p.memo(function(t){var e=p.useState([]),r=xa(e,2),n=r[0],a=r[1],i=p.useState(!1),s=xa(i,2),l=s[0],c=s[1],u=zn(),f=t.sortMode==="single",m=t.sortMode==="multiple",v=f&&l,h=t.ptCallbacks,E=h.ptm,y=h.ptmo,b=h.cx,x=p.useContext(sa),w=function(j,U){return mo.getCProp(j,U)},N=function(j){return mo.getCProps(j)},I=function(j){return Fd.getCProps(j)},P=function(){return t.headerColumnGroup?y(Fd.getCProps(t.headerColumnGroup)):void 0},L=function(j){var U=P(),X={props:U,parent:t.metaData,hostName:t.hostName,state:{sortableDisabledFields:n,allSortableDisabled:l}};return u(E("columnGroup.".concat(j),{columnGroup:X}),E("columnGroup.".concat(j),X),y(U,j,X))},R=function(j,U){var X=N(j),Z={props:X,parent:t.metaData,hostName:t.hostName,state:{sortableDisabledFields:n,allSortableDisabled:l}};return u(E("column.".concat(U),{column:Z}),E("column.".concat(U),Z),y(X,U,Z))},O=function(j,U){var X=I(j),Z={props:X,parent:t.metaData,hostName:t.hostName};return u(E("row.".concat(U),{row:Z}),E("row.".concat(U),Z),y(X,U,Z))},A=function(j){return t.sortField!==null?w(j,"field")===t.sortField||w(j,"sortField")===t.sortField:!1},T=function(){if(f||m&&t.onSortChange){var j=[],U=!1;t.columns.forEach(function(X){w(X,"sortableDisabled")&&(j.push(w(X,"sortField")||w(X,"field")),!U&&A(X)&&(U=!0))}),a(j),c(U)}},C=function(){T()},_=function(j){t.onColumnCheckboxChange(j,t.value)};gs(function(){T()});var D=function(j){var U=p.Children.toArray(gh.getCProp(j,"children"));return z(U)},z=function(j){return p.Children.map(j,function(U,X){var Z=U?!w(U,"hidden"):!0,me=U&&(w(U,"columnKey")||w(U,"field"))||X;return Z&&p.createElement(GR,{hostName:t.hostName,allRowsSelected:t.allRowsSelected,allSortableDisabled:v,column:U,index:X,empty:t.empty,filterClearIcon:t.filterClearIcon,filterDisplay:t.filterDisplay,filterIcon:t.filterIcon,filters:t.filters,filtersStore:t.filtersStore,groupRowSortField:t.groupRowSortField,groupRowsBy:t.groupRowsBy,key:me,multiSortMeta:t.multiSortMeta,onColumnCheckboxChange:_,onColumnDragLeave:t.onColumnDragLeave,onColumnDragOver:t.onColumnDragOver,onColumnDragStart:t.onColumnDragStart,onColumnDrop:t.onColumnDrop,onColumnMouseDown:t.onColumnMouseDown,onColumnResizeStart:t.onColumnResizeStart,onColumnResizerClick:t.onColumnResizerClick,onColumnResizerDoubleClick:t.onColumnResizerDoubleClick,onFilterApply:t.onFilterApply,onFilterChange:t.onFilterChange,onSortChange:t.onSortChange,onSortableChange:C,reorderableColumns:t.reorderableColumns,resizableColumns:t.resizableColumns,showSelectAll:t.showSelectAll,sortField:t.sortField,sortIcon:t.sortIcon,sortMode:t.sortMode,sortOrder:t.sortOrder,sortableDisabledFields:n,tabIndex:t.tabIndex,tableProps:t.tableProps,value:t.value,ptCallbacks:t.ptCallbacks,metaData:t.metaData,unstyled:t.unstyled})})},V=function(j,U){if(t.showSelectAll&&U==="multiple"){var X=t.allRowsSelected(t.value);return p.createElement(v3,{hostName:t.hostName,column:j,checked:X,onChange:_,disabled:t.empty,ptCallbacks:t.ptCallbacks,metaData:t.metaData,unstyled:t.unstyled})}return null},J=function(j,U){return U?p.createElement(h3,{hostName:t.hostName,display:"row",column:j,filterClearIcon:t.filterClearIcon,filterIcon:t.filterIcon,filters:t.filters,filtersStore:t.filtersStore,metaData:t.metaData,onFilterApply:t.onFilterApply,onFilterChange:t.onFilterChange,ptCallbacks:t.ptCallbacks,unstyled:t.unstyled}):null},ie=function(){return p.Children.map(t.columns,function(j,U){var X=!w(j,"hidden");if(X){var Z=mo.getCProps(j),me=Z.filterHeaderStyle,de=Z.style,oe=Z.filterHeaderClassName,ee=Z.className,le=Z.frozen,pe=Z.columnKey,ce=Z.field,_e=Z.selectionMode,He=Z.filter,Re=Z1(Z1({},me||{}),de||{}),be=pe||ce||U,gt=V(j,_e),Ae=J(j,He),ke=u({style:Re,className:sr(oe,ee,b("headerCell",{frozen:le,column:j}))},R(j,"root"),R(j,"headerCell"));return p.createElement("th",Oa({key:be},ke),gt,Ae)}return null})},G=function(){if(t.headerColumnGroup){var j=p.Children.toArray(Fd.getCProp(t.headerColumnGroup,"children"));return j.map(function(me,de){var oe=gh.getProps(me.props,x),ee=oe.unstyled;oe.__TYPE,oe.ptOptions;var le=p3(oe,VH),pe=u({role:"row"},ee?Z1({unstyled:ee},le):le,O(me,"root"));return p.createElement("tr",Oa({},pe,{key:de}),D(me))})}var U=u({role:"row"},E("headerRow",{hostName:t.hostName})),X=p.createElement("tr",U,z(t.columns)),Z=t.filterDisplay==="row"&&p.createElement("tr",U,ie());return p.createElement(p.Fragment,null,X,Z)},te=G(),W=u({className:b("thead"),role:"rowgroup"},L("root"),E("thead",{hostName:t.hostName}));return p.createElement("thead",W,te)});KR.displayName="TableHeader";function HH(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=WH(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){l=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function WH(t,e){if(t){if(typeof t=="string")return yk(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yk(t,e):void 0}}function yk(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Ek(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Ek(Object(r),!0).forEach(function(n){ya(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Ek(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var _s=p.forwardRef(function(t,e){var r=p.useContext(sa),n=zn(),a=Zv.getProps(t,r),i=p.useState(a.first),s=xa(i,2),l=s[0],c=s[1],u=p.useState(a.rows),f=xa(u,2),m=f[0],v=f[1],h=p.useState(a.sortField),E=xa(h,2),y=E[0],b=E[1],x=p.useState(a.sortOrder),w=xa(x,2),N=w[0],I=w[1],P=p.useState(a.multiSortMeta),L=xa(P,2),R=L[0],O=L[1],A=p.useState(a.filters),T=xa(A,2),C=T[0],_=T[1],D=p.useState([]),z=xa(D,2),V=z[0],J=z[1],ie=p.useState(null),G=xa(ie,2),te=G[0],W=G[1],B=p.useState({}),j=xa(B,2),U=j[0],X=j[1],Z=p.useState({}),me=xa(Z,2),de=me[0],oe=me[1],ee=p.useState(a.rows),le=xa(ee,2),pe=le[0],ce=le[1],_e=p.useState({}),He=xa(_e,2),Re=He[0],be=He[1],gt={props:a,state:{first:l,rows:m,sortField:y,sortOrder:N,multiSortMeta:R,filters:C,columnOrder:V,groupRowsSortMeta:te,editingMeta:U,frozenEditingMeta:de,d_rows:pe,d_filters:Re},context:{scrollable:a.scrollable}},Ae=Zv.setMetaData(gt);Ll(Zv.css.styles,Ae.isUnstyled,{name:"datatable"});var ke=p.useRef(""),Be=p.useRef(null),Xe=p.useRef(null),Ke=p.useRef(null),Et=p.useRef(null),ut=p.useRef(null),zt=p.useRef(null),Gt=p.useRef(null),mt=p.useRef(null),nt=p.useRef(null),ht=p.useRef(null),Kt=p.useRef(null),bt=p.useRef(null),Ar=p.useRef(null),Jt=p.useRef(null),Lr=p.useRef(null),mr=p.useRef(null),wr=p.useRef(null),Ur=p.useRef(null),Sr=p.useRef(null),kt=p.useRef(null),Ee=p.useRef(null),Ne=p.useRef(!1),qe=p.useRef(null),Nt=p.useRef(!1),St=p.useRef(null),Ot=p.useRef(null),gr=p.useRef(null);a.rows!==pe&&!a.onPage&&(v(a.rows),ce(a.rows));var lr=function(Me){return Ne.current&&oo(Me)},zr=function(){return Ne.current&&(Ne.current=!1,Co())},st=ju({type:"mousemove",listener:lr}),Ct=xa(st,2),_t=Ct[0],Kr=Ct[1],yn=ju({type:"mouseup",listener:zr}),en=xa(yn,2),pr=en[0],Tr=en[1],mn=ju({type:"touchmove",listener:lr}),rn=xa(mn,2),er=rn[0],ct=rn[1],At=ju({type:"touchend",listener:zr}),Yt=xa(At,2),Ye=Yt[0],ft=Yt[1],ot=function(){return a.stateStorage==="custom"},$e=function(){return a.stateKey!=null||ot()},at=function(){return Te.isEmpty(a.virtualScrollerOptions)||!a.scrollable},Rt=function(Me,Je){return a.compareSelectionBy==="equals"?Me===Je:Te.equals(Me,Je,a.dataKey)},Ht=function(){return Te.isNotEmpty(Ze())||a.globalFilter},or=function(){return a.onPage?a.first:l},qt=function(){return a.onPage?a.rows:m},br=function(){return a.onSort?a.sortField:y},Pr=function(){return a.onSort?a.sortOrder:N},Rr=function(){return(a.onSort?a.multiSortMeta:R)||[]},Ze=function(){return a.onFilter?a.filters:C},ae=function(Me,Je){return mo.getCProp(Me,Je)},Se=function(Me){var Je=p.Children.toArray(a.children);if(!Je)return null;if(!Me&&a.reorderableColumns&&V){var yt=V.reduce(function(Lt,Wt){var Tt=Pn(Je,Wt);return Tt&&Lt.push(Tt),Lt},[]);return[].concat(Eo(yt),Eo(Je.filter(function(Lt){return yt.indexOf(Lt)<0})))}return Je},Ue=function(){var Me={};a.paginator&&(Me.first=or(),Me.rows=qt());var Je=br();Je&&(Me.sortField=Je,Me.sortOrder=Pr());var yt=Rr();if(yt&&(Me.multiSortMeta=yt),Ht()&&(Me.filters=Ze()),a.resizableColumns&&Cr(Me),a.reorderableColumns&&(Me.columnOrder=V),a.expandedRows&&(Me.expandedRows=a.expandedRows),a.selection&&a.onSelectionChange&&(Me.selection=a.selection),ot())a.customSaveState&&a.customSaveState(Me);else{var Lt=X1(a.stateStorage);Te.isNotEmpty(Me)&&Lt.setItem(a.stateKey,JSON.stringify(Me))}a.onStateSave&&a.onStateSave(Me)},tt=function(){var Me=X1(a.stateStorage);Me&&a.stateKey&&Me.removeItem(a.stateKey)},pt=function(){var Me={};if(ot())a.customRestoreState&&(Me=a.customRestoreState());else{var Je=X1(a.stateStorage),yt=Je.getItem(a.stateKey),Lt=/\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}.\d{3}Z/,Wt=function(tr,ur){return typeof ur=="string"&&Lt.test(ur)?new Date(ur):ur};yt&&(Me=JSON.parse(yt,Wt))}ar(Me)},Bt=function(Me){ar(Me)},ar=function(){var Me=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(Te.isNotEmpty(Me)){if(a.paginator)if(a.onPage){var Je=function(Lt,Wt){var Tt=la(vo()),tr=Math.ceil(Tt/Wt)||1,ur=Math.floor(Lt/Wt);return{first:Lt,rows:Wt,page:ur,pageCount:tr}};a.onPage(No(Je(Me.first,Me.rows)))}else c(Me.first),v(Me.rows);Me.sortField&&(a.onSort?a.onSort(No({sortField:Me.sortField,sortOrder:Me.sortOrder})):(b(Me.sortField),I(Me.sortOrder))),Me.multiSortMeta&&(a.onSort?a.onSort(No({multiSortMeta:Me.multiSortMeta})):O(Me.multiSortMeta)),Me.filters&&(be(Zo(Me.filters)),a.onFilter?a.onFilter(No({filters:Me.filters})):_(Zo(Me.filters))),a.resizableColumns&&(Ur.current=Me.columnWidths,Sr.current=Me.tableWidth,Rn()),a.reorderableColumns&&J(Me.columnOrder),Me.expandedRows&&a.onRowToggle&&a.onRowToggle({data:Me.expandedRows}),Me.selection&&a.onSelectionChange&&a.onSelectionChange({value:Me.selection}),a.onStateRestore&&a.onStateRestore(Me)}},Cr=function(Me){var Je=[],yt=ze.find(Be.current,'[data-pc-section="thead"] > tr > th');yt.forEach(function(Lt){return Je.push(ze.getOuterWidth(Lt))}),Me.columnWidths=Je.join(","),a.columnResizeMode==="expand"&&(Me.tableWidth=ze.getOuterWidth(Xe.current)+"px")},qr=function(Me){De();var Je="",yt='[data-pc-name="datatable"]['.concat(ke.current,'] > [data-pc-section="wrapper"] ').concat(at()?"":'> [data-pc-name="virtualscroller"]',' > [data-pc-section="table"]');Me.forEach(function(Lt,Wt){var Tt="width: ".concat(Lt,"px !important; max-width: ").concat(Lt,"px !important");Je=Je+`
                `.concat(yt,' > [data-pc-section="thead"] > tr > th:nth-child(').concat(Wt+1,`),
                `).concat(yt,' > [data-pc-section="tbody"] > tr > td:nth-child(').concat(Wt+1,`),
                `).concat(yt,' > [data-pc-section="tfoot"] > tr > td:nth-child(').concat(Wt+1,`) {
                    `).concat(Tt,`
                }
            `)}),Lr.current.innerHTML=Je},Rn=function(){if(Ur.current){var Me=Ur.current.split(",");a.columnResizeMode==="expand"&&Sr.current&&(Xe.current.style.width=Sr.current,Xe.current.style.minWidth=Sr.current),Te.isNotEmpty(Me)&&qr(Me)}},Mn=function(Me){if(Me.nodeName==="TH")return Me;for(var Je=Me.parentElement;Je.nodeName!=="TH"&&(Je=Je.parentElement,!!Je););return Je},kr=function(){return a.sortMode==="single"?a.sortField:te?te.field:null},Vr=function(Me){return a.showSelectionElement||a.isDataSelectable?Me.filter(function(Je,yt){var Lt=!0;return a.showSelectionElement&&(Lt=a.showSelectionElement({rowIndex:yt,props:a})),a.isDataSelectable&&Lt&&(Lt=a.isDataSelectable({data:Je,index:yt})),Lt}):Me},Mr=function(Me){if(a.onSelectAllChange)return a.selectAll;var Je=a.selectionPageOnly?Ki(Me):Me,yt=Te.isNotEmpty(a.frozenValue)?[].concat(Eo(a.frozenValue),Eo(Je)):Je,Lt=Vr(yt);return Te.isNotEmpty(Lt)&&a.selection&&Lt.every(function(Wt){return Te.isArray(a.selection)&&a.selection.some(function(Tt){return Rt(Tt,Wt)})})},on=function(Me){if(Me){var Je=Me.find(function(yt){return!!ae(yt,"selectionMode")});return Je?ae(Je,"selectionMode"):null}return null},Pn=function(Me,Je){return Te.isNotEmpty(Me)?Me.find(function(yt){return ae(yt,"columnKey")===Je||ae(yt,"field")===Je}):null},la=function(Me){return a.lazy?a.totalRecords:Me?Me.length:0},ra=function(Me){var Je=Me.rowData,yt=Me.field,Lt=Me.editingKey;Me.rowIndex;var Wt=Me.editing,Tt=wi({},U),tr=Tt[Lt];if(Wt)!tr&&(tr=Tt[Lt]={data:wi({},Je),fields:[]}),tr.fields.push(yt);else if(tr){var ur=tr.fields.filter(function(Nr){return Nr!==yt});ur.length?tr.fields=ur:delete Tt[Lt]}X(Tt)},Tn=function(){a.editMode&&Te.isNotEmpty(U)&&X({})},sn=function(Me){var Je=Me.rowData,yt=Me.field,Lt=Me.editingKey,Wt=Me.editing,Tt=wi({},de),tr=Tt[Lt];if(Wt)!tr&&(tr=Tt[Lt]={data:wi({},Je),fields:[]}),tr.fields.push(yt);else if(tr){var ur=tr.fields.filter(function(Nr){return Nr!==yt});ur.length?tr.fields=ur:delete Tt[Lt]}oe(Tt)},Sa=function(){a.editMode&&Te.isNotEmpty(de)&&oe({})},cn=function(Me){Pt();var Je=Me.originalEvent,yt=Me.column,Lt=ze.getOffset(Be.current).left;kt.current=yt,Ee.current=Je.currentTarget.parentElement,Ne.current=!0,qe.current=(Je.type==="touchstart"?Je.changedTouches[0].clientX:Je.pageX)-Lt+Be.current.scrollLeft,Le()},oo=function(Me){var Je=ze.getOffset(Be.current).left;Be.current.setAttribute("data-p-unselectable-text",!0),Kt.current.style.height=Be.current.offsetHeight+"px",Kt.current.style.top="0px",Kt.current.style.left=(Me.type==="touchmove"?Me.changedTouches[0].clientX:Me.pageX)-Je+Be.current.scrollLeft+"px",Kt.current.style.display="block"},Co=function(){var Me=Kt.current.offsetLeft-qe.current,Je=Ee.current.offsetWidth,yt=Je+Me,Lt=Ee.current.style.minWidth||15;if(Je+Me>parseInt(Lt,10)){if(a.columnResizeMode==="fit"){var Wt=Ee.current.nextElementSibling,Tt=Wt.offsetWidth-Me;yt>15&&Tt>15&&Xt(yt,Tt)}else if(a.columnResizeMode==="expand"){var tr=Xe.current.offsetWidth+Me+"px",ur=function(Xr){Xr&&(Xr.style.width=Xr.style.minWidth=tr)};Xt(yt),ur(Xe.current),at()||(ur(Et.current),ur(ut.current),Ke.current&&ur(ze.findSingle(Ke.current,'[data-pc-name="virtualscroller"] > table > tbody')))}a.onColumnResizeEnd&&a.onColumnResizeEnd({element:Ee.current,column:kt.current,delta:Me}),$e()&&Ue()}Kt.current.style.display="none",kt.current=null,Ee.current=null,Be.current.setAttribute("data-p-unselectable-text","true"),nn(),Dt()},Xt=function(Me,Je){var yt=[],Lt=ze.index(Ee.current),Wt=ze.find(Xe.current,'[data-pc-section="thead"] > tr > th');Wt.forEach(function(ur){return yt.push(ze.getOuterWidth(ur))}),Dr(),De();var Tt="",tr='[data-pc-name="datatable"]['.concat(ke.current,'] > [data-pc-section="wrapper"] ').concat(at()?"":'> [data-pc-name="virtualscroller"]',' > [data-pc-section="table"]');yt.forEach(function(ur,Nr){var Xr=Nr===Lt?Me:Je&&Nr===Lt+1?Je:ur,Nn="width: ".concat(Xr,"px !important; max-width: ").concat(Xr,"px !important");Tt=Tt+`
                 `.concat(tr,' > [data-pc-section="thead"] > tr > th:nth-child(').concat(Nr+1,`),
                `).concat(tr,' > [data-pc-section="tbody"] > tr > td:nth-child(').concat(Nr+1,`),
                `).concat(tr,' > [data-pc-section="tfoot"] > tr > td:nth-child(').concat(Nr+1,`) {
                    `).concat(Nn,`
                }
            `)}),Lr.current.innerHTML=Tt},Le=function(){_t(),pr(),er(),Ye()},Dt=function(){Kr(),Tr(),ct(),ft()},yr=function(Me){ze.clearSelection();var Je=Me.originalEvent,yt=Me.column;a.reorderableColumns&&ae(yt,"reorderable")!==!1&&!ae(yt,"frozen")&&(Je.target.nodeName==="INPUT"||Je.target.nodeName==="TEXTAREA"||ze.getAttribute(Je.target,'[data-pc-section="columnresizer"]')?Je.currentTarget.draggable=!1:Je.currentTarget.draggable=!0)},In=function(Me,Je){if(a.onSelectAllChange)a.onSelectAllChange(Me);else{var yt=Me.originalEvent,Lt=Me.checked,Wt=a.selectionPageOnly?Ki(Je):Je,Tt=a.selectionPageOnly&&a.selection?a.selection.filter(function(tr){return!Wt.some(function(ur){return Rt(tr,ur)})}):[];Lt?(Tt=Te.isNotEmpty(a.frozenValue)?[].concat(Eo(Tt),Eo(a.frozenValue),Eo(Wt)):[].concat(Eo(Tt),Eo(Wt)),Tt=Vr(Tt),a.onAllRowsSelect&&a.onAllRowsSelect({originalEvent:yt,data:Tt,type:"all"})):a.onAllRowsUnselect&&a.onAllRowsUnselect({originalEvent:yt,data:Tt,type:"all"}),a.onSelectionChange&&a.onSelectionChange({originalEvent:yt,value:Tt,type:"all"})}},En=function(Me){var Je=Me.originalEvent,yt=Me.column;if(Ne.current){Je.preventDefault();return}a.reorderableColumns&&(nt.current=ze.getHiddenElementOuterWidth(Gt.current),ht.current=ze.getHiddenElementOuterHeight(Gt.current),Ar.current=yt,bt.current=Mn(Je.currentTarget),Je.dataTransfer.setData("text","b"))},Dn=function(Me){var Je=Me.originalEvent,yt=Me.column,Lt=Mn(Je.currentTarget);if(a.reorderableColumns&&bt.current&&Lt&&!ae(yt,"frozen")&&(Je.preventDefault(),bt.current!==Lt)){var Wt=ze.getOffset(Be.current),Tt=ze.getOffset(Lt),tr=Tt.left-Wt.left,ur=Tt.left+Lt.offsetWidth/2,Nr=ze.index(bt.current),Xr=ze.index(Mn(Je.currentTarget));Gt.current.style.top=Tt.top-Wt.top-(ht.current-1)+"px",mt.current.style.top=Tt.top-Wt.top+Lt.offsetHeight+"px",Je.pageX>ur&&Nr<Xr?(Gt.current.style.left=tr+Lt.offsetWidth-Math.ceil(nt.current/2)+"px",mt.current.style.left=tr+Lt.offsetWidth-Math.ceil(nt.current/2)+"px",Jt.current=1):Nr>Xr&&(Gt.current.style.left=tr-Math.ceil(nt.current/2)+"px",mt.current.style.left=tr-Math.ceil(nt.current/2)+"px",Jt.current=-1),Gt.current.style.display="block",mt.current.style.display="block"}},go=function(Me){var Je=Me.originalEvent;a.reorderableColumns&&bt.current&&(Je.preventDefault(),Gt.current.style.display="none",mt.current.style.display="none")},$a=function(Me){var Je=Me.originalEvent,yt=Me.column;if(Je.preventDefault(),bt.current){var Lt=ze.index(bt.current),Wt=ze.index(Mn(Je.currentTarget)),Tt=Lt!==Wt;if(Tt&&(Wt-Lt===1&&Jt.current===-1||Lt-Wt===1&&Jt.current===1)&&(Tt=!1),Tt){var tr=Se(),ur=function(da,vi){return ae(da,"columnKey")||ae(vi,"columnKey")?Te.equals(da.props,vi.props,"columnKey"):Te.equals(da.props,vi.props,"field")},Nr=tr.findIndex(function(Ga){return ur(Ga,Ar.current)}),Xr=tr.findIndex(function(Ga){return ur(Ga,yt)}),Nn=[],jn=ze.find(Xe.current,'[data-pc-section="thead"] > tr > th');jn.forEach(function(Ga){return Nn.push(ze.getOuterWidth(Ga))});var tn=Nn.find(function(Ga,da){return da===Nr}),Wa=Nn.filter(function(Ga,da){return da!==Nr}),$o=[].concat(Eo(Wa.slice(0,Xr)),[tn],Eo(Wa.slice(Xr)));qr($o),Xr<Nr&&Jt.current===1&&Xr++,Xr>Nr&&Jt.current===-1&&Xr--,Te.reorderArray(tr,Nr,Xr);var zo=tr.reduce(function(Ga,da){return Ga.push(ae(da,"columnKey")||ae(da,"field")),Ga},[]);J(zo),a.onColReorder&&a.onColReorder({originalEvent:Je,dragIndex:Nr,dropIndex:Xr,columns:tr})}Gt.current.style.display="none",mt.current.style.display="none",bt.current.draggable=!1,bt.current=null,Ar.current=null,Jt.current=null}},Pt=function(){wr.current=ze.createInlineStyle(r&&r.nonce||$n.nonce,r&&r.styleContainer);var Me=`
[data-pc-name="datatable"][`.concat(ke.current,`] {
    user-select:none;
}
        `);wr.current.innerHTML=Me},De=function(){Lr.current=ze.createInlineStyle(r&&r.nonce||$n.nonce,r&&r.styleContainer)},lt=function(){if(!mr.current){mr.current=ze.createInlineStyle(r&&r.nonce||$n.nonce,r&&r.styleContainer);var Me=".p-datatable-wrapper ".concat(at()?"":"> .p-virtualscroller"," > .p-datatable-table"),Je=".p-datatable[".concat(ke.current,"] > ").concat(Me),yt=".p-datatable[".concat(ke.current,"].p-datatable-gridlines > ").concat(Me),Lt=`
@media screen and (max-width: `.concat(a.breakpoint,`) {
    `).concat(Je,` > .p-datatable-thead > tr > th,
    `).concat(Je,` > .p-datatable-tfoot > tr > td {
        display: none;
    }

    `).concat(Je,` > .p-datatable-tbody > tr > td {
        display: flex;
        width: 100%;
        align-items: center;
        justify-content: space-between;
    }

    `).concat(Je,` > .p-datatable-tbody > tr > td:not(:last-child) {
        border: 0 none;
    }

    `).concat(yt,` > .p-datatable-tbody > tr > td:last-child {
        border-top: 0;
        border-right: 0;
        border-left: 0;
    }

    `).concat(Je,` > .p-datatable-tbody > tr > td > .p-column-title {
        display: block;
    }
}
`);mr.current.innerHTML=Lt}},Vt=function(){mr.current=ze.removeInlineStyle(mr.current)},Dr=function(){Lr.current=ze.removeInlineStyle(Lr.current)},nn=function(){wr.current=ze.removeInlineStyle(wr.current)},Vn=function(Me){Tn(),Sa(),a.onPage?a.onPage(No(Me)):(c(Me.first),v(Me.rows)),a.onValueChange&&a.onValueChange(vo())},za=function(Me){Tn(),Sa();var Je=Me.originalEvent,yt=Me.column,Lt=Me.sortableDisabledFields,Wt=ae(yt,"sortField")||ae(yt,"field"),Tt=a.defaultSortOrder,tr,ur;if(Nt.current=ae(yt,"sortable"),St.current=ae(yt,"sortFunction"),Ot.current=Wt,a.sortMode==="multiple"){var Nr=Je.metaKey||Je.ctrlKey;tr=Eo(Rr());var Xr=tr.find(function(jn){return jn.field===Wt});Tt=Xr?io(Xr.order):Tt;var Nn={field:Wt,order:Tt};Tt?(tr=Nr?tr:tr.filter(function(jn){return Lt.some(function(tn){return tn===jn.field})}),rl(Nn,tr)):a.removableSort&&Ii(Nn,tr),ur={multiSortMeta:tr}}else Tt=br()===Wt?io(Pr()):Tt,a.removableSort&&(Wt=Tt?Wt:null),ur={sortField:Wt,sortOrder:Tt};a.onSort?a.onSort(No(ur)):(c(0),b(ur.sortField),I(ur.sortOrder),O(ur.multiSortMeta)),a.onValueChange&&a.onValueChange(vo({sortField:Wt,sortOrder:Tt,multiSortMeta:tr}))},io=function(Me){return a.removableSort?a.defaultSortOrder===Me?Me*-1:0:Me*-1},hi=function(Me,Je,yt,Lt){return Te.sort(Me,Je,Lt,yt,r&&r.nullSortOrder||$n.nullSortOrder)},rl=function(Me,Je){var yt=Je.findIndex(function(Lt){return Lt.field===Me.field});yt>=0?Je[yt]=Me:Je.push(Me)},Ii=function(Me,Je){var yt=Je.findIndex(function(Lt){return Lt.field===Me.field});yt>=0&&Je.splice(yt,1),Je=Je.length>0?Je:null},ho=function(Me,Je,yt){if(a.groupRowsBy&&a.groupRowsBy===a.sortField){var Lt=[{field:a.sortField,order:a.sortOrder||a.defaultSortOrder}];return a.sortField!==Je&&Lt.push({field:Je,order:yt}),so(Me,Lt)}var Wt=Eo(Me);if(Nt.current&&St.current)Wt=St.current({data:Me,field:Je,order:yt});else{var Tt=new Map,tr=Te.localeComparator(r&&r.locale||$n.locale),ur=HH(Me),Nr;try{for(ur.s();!(Nr=ur.n()).done;){var Xr=Nr.value;Tt.set(Xr,Te.resolveFieldData(Xr,Je))}}catch(Nn){ur.e(Nn)}finally{ur.f()}Wt.sort(function(Nn,jn){var tn=Tt.get(Nn),Wa=Tt.get(jn);return hi(tn,Wa,tr,yt)})}return Wt},so=function(Me){var Je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(a.groupRowsBy&&(te||Je.length&&a.groupRowsBy===Je[0].field)){var yt=te,Lt=Je[0];yt||(yt=Lt,W(yt)),Lt.field!==yt.field&&(Je=[yt].concat(Eo(Je)))}var Wt=Eo(Me);if(Nt.current&&St.current){var Tt=Je.find(function(Xr){return Xr.field===Ot.current}),tr=Ot.current,ur=Tt?Tt.order:a.defaultSortOrder;Wt=St.current({data:Me,field:tr,order:ur,multiSortMeta:Je})}else{var Nr=Te.localeComparator(r&&r.locale||$n.locale);Wt.sort(function(Xr,Nn){return Ms(Xr,Nn,Je,0,Nr)})}return Wt},Ms=function(Me,Je,yt,Lt,Wt){if(!(!yt||!yt[Lt])){var Tt=Te.resolveFieldData(Me,yt[Lt].field),tr=Te.resolveFieldData(Je,yt[Lt].field);return Te.compare(Tt,tr,Wt)===0?yt.length-1>Lt?Ms(Me,Je,yt,Lt+1,Wt):0:hi(Tt,tr,Wt,yt[Lt].order)}},hs=function(Me){Tn(),Sa(),be(Me)},vs=function(Me){clearTimeout(gr.current),gr.current=setTimeout(function(){var Je=Zo(Me||Re);a.onFilter?a.onFilter(No({filters:Je})):(c(0),_(Je)),a.onValueChange&&a.onValueChange(vo({filters:Je}))},a.filterDelay)},Gi=function(Me){var Je=function(Tt){var tr=xa(Tt,2),ur=tr[0],Nr=tr[1];if(Nr.constraints){var Xr=Nr.constraints.filter(function(Nn){return Nn.value!==null});if(Xr.length>0)return[ur,wi(wi({},Nr),{},{constraints:Xr})]}else if(Nr.value!==null)return[ur,Nr]},yt=function(Tt){return Tt!==void 0},Lt=Object.entries(Me).map(Je).filter(yt);return Object.fromEntries(Lt)},Ds=function(Me,Je){if(Me){var yt=Je?Gi(Je):{},Lt=Se(),Wt=[],Tt=yt.global||a.globalFilter,tr;Tt&&(tr=a.globalFilterFields||Lt.filter(function(Ba){return!ae(Ba,"excludeGlobalFilter")}).map(function(Ba){return ae(Ba,"filterField")||ae(Ba,"field")}));for(var ur=0;ur<Me.length;ur++){var Nr=!0,Xr=!1,Nn=!1;for(var jn in yt)if(jn!=="null"&&Object.prototype.hasOwnProperty.call(yt,jn)&&jn!=="global"){Nn=!0;var tn=jn,Wa=yt[tn];if(Wa.operator)for(var $o=0;$o<Wa.constraints.length;$o++){var zo=Wa.constraints[$o];if(Nr=_i(tn,Me[ur],zo,$o),Wa.operator===$g.OR&&Nr||Wa.operator===$g.AND&&!Nr)break}else Nr=_i(tn,Me[ur],Wa,0);if(!Nr)break}if(Nr&&Tt&&!Xr&&tr)for(var Ga=0;Ga<tr.length;Ga++){var da=tr[Ga],vi=yt.global?yt.global.matchMode:a.globalFilterMatchMode,Xi=yt.global?yt.global.value:a.globalFilter;if(Xr=$f.filters[vi](Te.resolveFieldData(Me[ur],da),Xi,a.filterLocale),Xr)break}var ll=void 0;Tt?ll=Nn?Nn&&Nr&&Xr:Xr:ll=Nn&&Nr,ll&&Wt.push(Me[ur])}return(Wt.length===a.value.length||Object.keys(yt).length===0)&&(Wt=Me),Wt}},_i=function(Me,Je,yt,Lt){var Wt=yt.value,Tt=yt.matchMode==="custom"?"custom_".concat(Me):yt.matchMode||Ro.STARTS_WITH,tr=Te.resolveFieldData(Je,Me),ur=$f.filters[Tt];return Te.isFunction(ur)&&ur(tr,Wt,a.filterLocale,Lt)},Zo=function(Me){Me=Me||a.filters;var Je={};if(Me)Object.entries(Me).forEach(function(Lt){var Wt=xa(Lt,2),Tt=Wt[0],tr=Wt[1];Je[Tt]=tr.operator?{operator:tr.operator,constraints:tr.constraints.map(function(ur){return wi({},ur)})}:wi({},tr)});else{var yt=Se();Je=yt.reduce(function(Lt,Wt){var Tt=ae(Wt,"filterField")||ae(Wt,"field"),tr=ae(Wt,"filterFunction"),ur=ae(Wt,"dataType"),Nr=ae(Wt,"filterMatchMode")||(r&&r.filterMatchModeOptions[ur]||$n.filterMatchModeOptions[ur]?r&&r.filterMatchModeOptions[ur][0]||$n.filterMatchModeOptions[ur][0]:Ro.STARTS_WITH),Xr={value:null,matchMode:Nr};return tr&&$f.register("custom_".concat(Tt),function(){for(var Nn=arguments.length,jn=new Array(Nn),tn=0;tn<Nn;tn++)jn[tn]=arguments[tn];return tr.apply(void 0,jn.concat([{column:Wt}]))}),Lt[Tt]=a.filterDisplay==="menu"?{operator:$g.AND,constraints:[Xr]}:Xr,Lt},{})}return Je},Qo=function(Me,Je,yt){var Lt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,Wt=wi({},Re),Tt=Wt[Je],tr=Tt&&Tt.operator?Tt.constraints[Lt]:Tt;tr=Tt?{value:Me,matchMode:yt||tr.matchMode}:{value:Me,matchMode:yt},a.filterDisplay==="menu"&&Tt&&Tt.operator?Wt[Je].constraints[Lt]=tr:Wt[Je]=tr,be(Wt),vs(Wt)},ei=function(){ce(a.rows),be(Zo(a.filters)),W(null),X({}),oe({}),a.onPage||(c(a.first),v(a.rows)),a.onSort||(b(a.sortField),I(a.sortOrder),O(a.multiSortMeta)),a.onFilter||_(a.filters),ti()},uo=function(){if(Ke.current){var Me=at()?Ke.current:ze.findSingle(Ke.current,'[data-pc-name="virtualscroller"]');Me.scrollTo(0,0)}},Hc=function(){Dr()},ti=function(){var Me=Se(!0),Je=[];Me&&(Je=Me.reduce(function(yt,Lt){return yt.push(ae(Lt,"columnKey")||ae(Lt,"field")),yt},[])),J(Je)},Po=function(Me){var Je,yt="\uFEFF",Lt=Se();Me&&Me.selectionOnly?Je=a.selection||[]:Je=[].concat(Eo(a.frozenValue||[]),Eo(vo()||[])),Lt.forEach(function(Wt,Tt){var tr=[ae(Wt,"field"),ae(Wt,"header"),ae(Wt,"exportHeader"),ae(Wt,"exportable")],ur=tr[0],Nr=tr[1],Xr=tr[2],Nn=tr[3];if(Nn&&ur){var jn=String(Xr||Nr||ur).replace(/"/g,'""').replace(/\n/g,"\u2028");yt=yt+('"'+jn+'"'),Tt<Lt.length-1&&(yt=yt+a.csvSeparator)}}),Je.forEach(function(Wt){yt=yt+`
`,Lt.forEach(function(Tt,tr){var ur=[ae(Tt,"field"),ae(Tt,"exportField"),ae(Tt,"exportable")],Nr=ur[0],Xr=ur[1],Nn=ur[2],jn=Xr||Nr;if(Nn&&jn){var tn=Te.resolveFieldData(Wt,jn);tn!=null?a.exportFunction?tn=a.exportFunction({data:tn,field:jn,rowData:Wt,column:Tt}):tn=String(tn).replace(/"/g,'""').replace(/\n/g,"\u2028"):tn="",yt=yt+('"'+tn+'"'),tr<Lt.length-1&&(yt=yt+a.csvSeparator)}})}),ze.exportCSV(yt,a.exportFilename)},nl=function(){a.editMode!=="row"&&document.body.click()},Ha=function(){ze.find(document.body,'[data-pc-section="roweditorcancelbuttonprops"]').forEach(function(Me,Je){setTimeout(function(){Me.click()},Je*5)})},No=function(Me){return wi({first:or(),rows:qt(),sortField:br(),sortOrder:Pr(),multiSortMeta:Rr(),filters:Ze()},Me)},vo=function(Me){var Je=a.value||[];if(!a.lazy&&Je&&Je.length){var yt=Me&&Me.filters||Ze(),Lt=Me&&Me.sortField||br(),Wt=Me&&Me.sortOrder||Pr(),Tt=Me&&Me.multiSortMeta||Rr(),tr=Se(),ur=tr.find(function(Nr){return ae(Nr,"field")===Lt});ur&&(Nt.current=ae(ur,"sortable"),St.current=ae(ur,"sortFunction")),(Te.isNotEmpty(yt)||a.globalFilter)&&(Je=Ds(Je,yt)),(Lt||Te.isNotEmpty(Tt))&&(a.sortMode==="single"?Je=ho(Je,Lt,Wt):a.sortMode==="multiple"&&(Je=so(Je,Tt)))}return Je},Ki=function(Me){if(Me&&a.paginator){var Je=a.lazy?0:or();return Me.slice(Je,Je+qt())}return Me};gs(function(){Be.current&&(ke.current=av(),Be.current.setAttribute(ke.current,"")),be(Zo(a.filters)),$e()&&(pt(),a.resizableColumns&&Rn())}),ba(function(){return a.responsiveLayout==="stack"&&!a.scrollable&&lt(),function(){Vt()}},[a.breakpoint]),ba(function(){var Mt=Zo(a.filters);_(Mt),be(Zo(a.filters)),a.onValueChange&&a.onValueChange(vo({filters:Mt}))},[a.filters]),ba(function(){$e()&&Ue()}),ba(function(){Vt(),a.responsiveLayout==="stack"&&!a.scrollable&&lt()},[a.responsiveLayout,a.scrollable]),ba(function(){if(a.globalFilter)Qo(a.globalFilter,"global",a.globalFilterMatchMode);else if(Re.global){var Mt=wi({},Re);delete Mt.global,be(Mt),vs(Mt)}},[a.globalFilter,a.globalFilterMatchMode]),Ls(function(){Dt(),Dr(),Vt(),nn()}),p.useImperativeHandle(e,function(){return{props:a,clearState:tt,closeEditingCell:nl,closeEditingRows:Ha,exportCSV:Po,filter:Qo,reset:ei,resetColumnOrder:ti,resetScroll:uo,resetResizeColumnsWidth:Hc,restoreColumnWidths:Rn,restoreState:pt,restoreTableState:Bt,saveState:Ue,getFilterMeta:function(){return C},setFilterMeta:function(Me){return _(Me)},getSortMeta:function(){return R},setSortMeta:function(Me){return O(Me)},getElement:function(){return Be.current},getTable:function(){return Xe.current},getVirtualScroller:function(){return zt.current}}});var ac=function(){if(a.loading){var Me=n({className:Ae.cx("loadingIcon")},Ae.ptm("loadingIcon")),Je=a.loadingIcon||p.createElement(Mp,Oa({},Me,{spin:!0})),yt=Yn.getJSXIcon(Je,wi({},Me),{props:a}),Lt=n({className:Ae.cx("loadingOverlay")},Ae.ptm("loadingOverlay"));return p.createElement("div",Lt,yt)}return null},al=function(){if(a.header){var Me=Te.getJSXElement(a.header,{props:a}),Je=n({className:Ae.cx("header")},Ae.ptm("header"));return p.createElement("div",Je,Me)}return null},ol=function(Me,Je,yt){if(a.showHeaders===!1)return null;var Lt=br(),Wt=Pr(),Tt=Eo(Rr()),tr=kr(),ur=Re,Nr=!a.onFilter&&a.filters||Ze(),Xr=Me.items,Nn=Me.props,jn=Me.columns,tn=yt||Nn.lazy?Xr:Nn.items;return p.createElement(KR,{hostName:"DataTable",value:tn,tableProps:a,columns:jn,tabIndex:a.tabIndex,empty:Je,headerColumnGroup:a.headerColumnGroup,resizableColumns:a.resizableColumns,onColumnResizeStart:cn,onColumnResizerClick:a.onColumnResizerClick,onColumnResizerDoubleClick:a.onColumnResizerDoubleClick,sortMode:a.sortMode,sortField:Lt,sortIcon:a.sortIcon,sortOrder:Wt,multiSortMeta:Tt,groupRowsBy:a.groupRowsBy,groupRowSortField:tr,onSortChange:za,filterDisplay:a.filterDisplay,filters:ur,filtersStore:Nr,filterIcon:a.filterIcon,filterClearIcon:a.filterClearIcon,onFilterChange:hs,onFilterApply:vs,showSelectAll:a.showSelectAll,allRowsSelected:Mr,onColumnCheckboxChange:In,onColumnMouseDown:yr,onColumnDragStart:En,onColumnDragOver:Dn,onColumnDragLeave:go,onColumnDrop:$a,rowGroupMode:a.rowGroupMode,reorderableColumns:a.reorderableColumns,ptCallbacks:Ae,metaData:gt,unstyled:a.unstyled})},Li=function(Me,Je,yt,Lt,Wt){var Tt=or(),tr=Me.rows,ur=Me.columns,Nr=Me.contentRef,Xr=Me.style,Nn=Me.className,jn=Me.spacerStyle,tn=Me.itemSize,Wa=Te.isNotEmpty(a.frozenValue)&&p.createElement(Ob,{hostName:"DataTable",ref:ut,cellClassName:a.cellClassName,cellSelection:a.cellSelection,checkIcon:a.checkIcon,className:"p-datatable-tbody p-datatable-frozen-tbody",collapsedRowIcon:a.collapsedRowIcon,columns:ur,compareSelectionBy:a.compareSelectionBy,contextMenuSelection:a.contextMenuSelection,dataKey:a.dataKey,dragSelection:a.dragSelection,editMode:a.editMode,editingMeta:de,editingRows:a.editingRows,emptyMessage:a.emptyMessage,expandableRowGroups:a.expandableRowGroups,expandedRowIcon:a.expandedRowIcon,expandedRows:a.expandedRows,first:Tt,frozenRow:!0,groupRowsBy:a.groupRowsBy,isDataSelectable:a.isDataSelectable,isVirtualScrollerDisabled:!0,lazy:a.lazy,loading:a.loading,metaKeySelection:a.metaKeySelection,onCellClick:a.onCellClick,onCellSelect:a.onCellSelect,onCellUnselect:a.onCellUnselect,onContextMenu:a.onContextMenu,onContextMenuSelectionChange:a.onContextMenuSelectionChange,onEditingMetaChange:sn,onRowClick:a.onRowClick,onRowCollapse:a.onRowCollapse,onRowDoubleClick:a.onRowDoubleClick,onRowPointerDown:a.onRowPointerDown,onRowPointerUp:a.onRowPointerUp,onRowEditCancel:a.onRowEditCancel,onRowEditChange:a.onRowEditChange,onRowEditComplete:a.onRowEditComplete,onRowEditInit:a.onRowEditInit,onRowEditSave:a.onRowEditSave,onRowExpand:a.onRowExpand,onRowMouseEnter:a.onRowMouseEnter,onRowMouseLeave:a.onRowMouseLeave,onRowReorder:a.onRowReorder,onRowSelect:a.onRowSelect,onRowToggle:a.onRowToggle,onRowUnselect:a.onRowUnselect,onSelectionChange:a.onSelectionChange,paginator:a.paginator,processedData:Wt,reorderableRows:a.reorderableRows,responsiveLayout:a.responsiveLayout,rowClassName:a.rowClassName,rowEditValidator:a.rowEditValidator,rowEditorCancelIcon:a.rowEditorCancelIcon,rowEditorInitIcon:a.rowEditorInitIcon,rowEditorSaveIcon:a.rowEditorSaveIcon,rowExpansionTemplate:a.rowExpansionTemplate,rowGroupFooterTemplate:a.rowGroupFooterTemplate,rowGroupHeaderTemplate:a.rowGroupHeaderTemplate,rowGroupMode:a.rowGroupMode,scrollable:a.scrollable,selectOnEdit:a.selectOnEdit,selection:a.selection,selectionAutoFocus:a.selectionAutoFocus,selectionMode:a.selectionMode,selectionModeInColumn:Je,showRowReorderElement:a.showRowReorderElement,showSelectionElement:a.showSelectionElement,tabIndex:a.tabIndex,tableProps:a,tableSelector:ke.current,value:a.frozenValue,virtualScrollerOptions:Me,ptCallbacks:Ae,metaData:gt,unstyled:a.unstyled}),$o=p.createElement(Ob,{hostName:"DataTable",ref:Et,cellClassName:a.cellClassName,cellSelection:a.cellSelection,checkIcon:a.checkIcon,className:sr("p-datatable-tbody",Nn),collapsedRowIcon:a.collapsedRowIcon,columns:ur,compareSelectionBy:a.compareSelectionBy,contextMenuSelection:a.contextMenuSelection,dataKey:a.dataKey,dragSelection:a.dragSelection,editMode:a.editMode,editingMeta:U,editingRows:a.editingRows,empty:yt,emptyMessage:a.emptyMessage,expandableRowGroups:a.expandableRowGroups,expandedRowIcon:a.expandedRowIcon,expandedRows:a.expandedRows,first:Tt,frozenRow:!1,groupRowsBy:a.groupRowsBy,isDataSelectable:a.isDataSelectable,isVirtualScrollerDisabled:Lt,lazy:a.lazy,loading:a.loading,metaKeySelection:a.metaKeySelection,onCellClick:a.onCellClick,onCellSelect:a.onCellSelect,onCellUnselect:a.onCellUnselect,onContextMenu:a.onContextMenu,onContextMenuSelectionChange:a.onContextMenuSelectionChange,onEditingMetaChange:ra,onRowClick:a.onRowClick,onRowCollapse:a.onRowCollapse,onRowDoubleClick:a.onRowDoubleClick,onRowEditCancel:a.onRowEditCancel,onRowEditChange:a.onRowEditChange,onRowEditComplete:a.onRowEditComplete,onRowEditInit:a.onRowEditInit,onRowEditSave:a.onRowEditSave,onRowExpand:a.onRowExpand,onRowMouseEnter:a.onRowMouseEnter,onRowMouseLeave:a.onRowMouseLeave,onRowPointerDown:a.onRowPointerDown,onRowPointerUp:a.onRowPointerUp,onRowReorder:a.onRowReorder,onRowSelect:a.onRowSelect,onRowToggle:a.onRowToggle,onRowUnselect:a.onRowUnselect,onSelectionChange:a.onSelectionChange,paginator:a.paginator,processedData:Wt,reorderableRows:a.reorderableRows,responsiveLayout:a.responsiveLayout,rowClassName:a.rowClassName,rowEditValidator:a.rowEditValidator,rowEditorCancelIcon:a.rowEditorCancelIcon,rowEditorInitIcon:a.rowEditorInitIcon,rowEditorSaveIcon:a.rowEditorSaveIcon,rowExpansionTemplate:a.rowExpansionTemplate,rowGroupFooterTemplate:a.rowGroupFooterTemplate,rowGroupHeaderTemplate:a.rowGroupHeaderTemplate,rowGroupMode:a.rowGroupMode,scrollable:a.scrollable,selectOnEdit:a.selectOnEdit,selection:a.selection,selectionAutoFocus:a.selectionAutoFocus,selectionMode:a.selectionMode,selectionModeInColumn:Je,showRowReorderElement:a.showRowReorderElement,showSelectionElement:a.showSelectionElement,style:Xr,tabIndex:a.tabIndex,tableProps:a,tableSelector:ke.current,value:Ki(tr),virtualScrollerContentRef:Nr,virtualScrollerOptions:Me,ptCallbacks:Ae,metaData:gt,unstyled:a.unstyled}),zo=Te.isNotEmpty(jn)?p.createElement(Ob,{hostName:"DataTable",style:{height:"calc(".concat(jn.height," - ").concat(tr.length*tn,"px)")},className:"p-datatable-virtualscroller-spacer",ptCallbacks:Ae,metaData:gt,unstyled:a.unstyled}):null;return p.createElement(p.Fragment,null,Wa,$o,zo)},Ti=function(Me){var Je=Me.columns;return p.createElement(WR,{hostName:"DataTable",tableProps:a,columns:Je,footerColumnGroup:a.footerColumnGroup,ptCallbacks:Ae,metaData:gt,unstyled:a.unstyled})},Tl=function(Me,Je,yt,Lt){if(Je){var Wt=at(),Tt=a.virtualScrollerOptions||{},tr=n({className:Ae.cx("wrapper"),style:wi(wi({},Ae.sx("wrapper")),{},{maxHeight:Wt?a.scrollHeight:null})},Ae.ptm("wrapper"));return p.createElement("div",Oa({ref:Ke},tr),p.createElement(oy,Oa({ref:zt},Tt,{items:Me,columns:Je,style:wi(wi({},Tt.style),{height:a.scrollHeight!=="flex"?a.scrollHeight:void 0}),scrollHeight:a.scrollHeight!=="flex"?void 0:"100%",disabled:Wt,loaderDisabled:!0,inline:!0,autoSize:!0,pt:Ae.ptm("virtualScroller"),__parentMetadata:{parent:gt},showSpacer:!1,unstyled:a.unstyled,contentTemplate:function(Nr){var Xr=function(zo){Xe.current=zo,Nr.spacerRef&&Nr.spacerRef(zo)},Nn=ol(Nr,Lt,Wt),jn=Li(Nr,yt,Lt,Wt,Me),tn=Ti(Nr),Wa=n({className:sr(a.tableClassName,Ae.cx("table")),style:a.tableStyle,role:"table"},Ae.ptm("table"));return p.createElement("table",Oa({ref:Xr},Wa),Nn,jn,tn)}})))}},Wc=function(){if(a.footer){var Me=Te.getJSXElement(a.footer,{props:a}),Je=n({className:Ae.cx("footer")},Ae.ptm("footer"));return p.createElement("div",Je,Me)}return null},Rl=function(Me,Je){return p.createElement(PR,{first:or(),rows:qt(),pageLinkSize:a.pageLinkSize,className:sr(a.paginatorClassName,Ae.cx("paginator",{position:Me})),onPageChange:Vn,template:a.paginatorTemplate,totalRecords:Je,rowsPerPageOptions:a.rowsPerPageOptions,currentPageReportTemplate:a.currentPageReportTemplate,leftContent:a.paginatorLeft,rightContent:a.paginatorRight,alwaysShow:a.alwaysShowPaginator,dropdownAppendTo:a.paginatorDropdownAppendTo,pt:Ae.ptm("paginator"),unstyled:a.unstyled,__parentMetadata:{parent:gt}})},il=function(Me){return a.paginator&&a.paginatorPosition!=="bottom"?Rl("top",Me):null},Yi=function(Me){return a.paginator&&a.paginatorPosition!=="top"?Rl("bottom",Me):null},Ri=function(){if(a.resizableColumns){var Me=n({className:Ae.cx("resizeHelper"),style:Ae.sx("resizeHelper")},Ae.ptm("resizeHelper"));return p.createElement("div",Oa({ref:Kt},Me))}return null},Ji=function(){if(a.reorderableColumns){var Me={position:"absolute",display:"none"},Je=n({className:Ae.cx("reorderIndicatorUp"),style:Ae.sx("reorderIndicatorUp",{style:Me})},Ae.ptm("reorderIndicatorUp")),yt=n(Ae.ptm("reorderIndicatorUpIcon")),Lt=Yn.getJSXIcon(a.reorderIndicatorUpIcon||p.createElement(Y7,yt),wi({},yt),{props:a}),Wt=n({className:Ae.cx("reorderIndicatorDown"),style:Ae.sx("reorderIndicatorDown",{style:Me})},Ae.ptm("reorderIndicatorDown")),Tt=n(Ae.ptm("reorderIndicatorDownIcon")),tr=Yn.getJSXIcon(a.reorderIndicatorDownIcon||p.createElement(J7,Tt),wi({},Tt),{props:a});return p.createElement(p.Fragment,null,p.createElement("span",Oa({ref:Gt},Je),Lt),p.createElement("span",Oa({ref:mt},Wt),tr))}return null},sl=vo(),q=Se(),fe=la(sl),je=Te.isEmpty(sl),Ve=on(q),it=a.selectionMode||Ve,It=ac(),Zt=al(),Er=il(fe),jr=Tl(sl,q,Ve,je),an=Yi(fe),hn=Wc(),_n=Ri(),Ia=Ji(),Da=n({id:a.id,className:sr(a.className,Ae.cx("root",{selectable:it})),style:a.style,"data-scrollselectors":".p-datatable-wrapper","data-showgridlines":a.showGridlines},Zv.getOtherProps(a),Ae.ptm("root"));return p.createElement("div",Oa({ref:Be},Da),It,Zt,Er,jr,an,hn,_n,Ia)});_s.displayName="DataTable";var cr=function(){};cr.displayName="Column";function Ta({visible:t,onClose:e,children:r}){return t?o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3}},o.createElement("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",minWidth:"300px",boxShadow:"0 5px 15px rgba(0,0,0,0.3)",position:"relative"}},o.createElement("button",{onClick:e,style:{position:"absolute",top:"10px",right:"10px",border:"none",background:"transparent",fontSize:"20px",cursor:"pointer"}},""),r)):null}const tc=({placeholder:t,value:e,onChange:r})=>o.createElement("div",{className:"search-bar"},o.createElement("input",{type:"text",placeholder:t||"Buscar...",value:e,onChange:n=>r(n.target.value),className:"search-input"}),o.createElement("i",{className:"fas fa-search",style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"#e91e63",fontSize:"12px",pointerEvents:"none"}})),Fo=({mensaje:t,tipo:e="success",visible:r,onClose:n})=>(p.useEffect(()=>{if(r&&t){const a=setTimeout(()=>{n()},3e3);return()=>clearTimeout(a)}},[r,t,n]),!r||!t?null:o.createElement("div",{className:`notification notification-${e}`},o.createElement("div",{className:"notification-content"},o.createElement("span",{className:"notification-icon"},e==="success"?"":e==="error"?"":""),o.createElement("span",{className:"notification-message"},t),o.createElement("button",{className:"notification-close",onClick:n},"")))),qn=({children:t,text:e})=>{const[r,n]=p.useState(!1),[a,i]=p.useState({top:0,left:0}),s=p.useRef(null),l=p.useRef(null);p.useEffect(()=>{if(r&&s.current&&l.current){const u=s.current.getBoundingClientRect(),f=l.current.getBoundingClientRect();let m=u.top-f.height-10,v=u.left+u.width/2-f.width/2;m<0&&(m=u.bottom+10),v<10&&(v=10),v+f.width>window.innerWidth-10&&(v=window.innerWidth-f.width-10),i({top:m,left:v})}},[r]);const c={position:"fixed",top:`${a.top}px`,left:`${a.left}px`,backgroundColor:"#FFFFFF",color:"#C2185B",padding:"8px 14px",borderRadius:"8px",fontSize:"13px",fontWeight:"600",whiteSpace:"nowrap",zIndex:999999,boxShadow:"0 4px 10px rgba(233, 30, 99, 0.15)",border:"2px solid #F8BBD0",pointerEvents:"none",opacity:r?1:0,visibility:r?"visible":"hidden",transition:"opacity 0.2s ease-in-out, transform 0.2s ease-in-out",transform:r?"translateY(0)":"translateY(5px)"};return o.createElement(o.Fragment,null,o.createElement("span",{ref:s,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),style:{display:"inline-block",position:"relative"}},t),e&&o.createElement("div",{ref:l,style:c},e))},GH="modulepreload",KH=function(t){return"/"+t},xk={},vS=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let s=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=s(r.map(u=>{if(u=KH(u),u in xk)return;xk[u]=!0;const f=u.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const v=document.createElement("link");if(v.rel=f?"stylesheet":GH,f||(v.as="script"),v.crossOrigin="",v.href=u,c&&v.setAttribute("nonce",c),document.head.appendChild(v),f)return new Promise((h,E)=>{v.addEventListener("load",h),v.addEventListener("error",()=>E(new Error(`Unable to preload CSS for ${u}`)))})}))}function i(s){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=s,window.dispatchEvent(l),!l.defaultPrevented)throw s}return a.then(s=>{for(const l of s||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};function Ra(t){"@babel/helpers - typeof";return Ra=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ra(t)}var fs=Uint8Array,Al=Uint16Array,b3=Int32Array,sy=new fs([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ly=new fs([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),bS=new fs([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),YR=function(t,e){for(var r=new Al(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new b3(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)a[i]=i-r[n]<<5|n;return{b:r,r:a}},JR=YR(sy,2),XR=JR.b,yS=JR.r;XR[28]=258,yS[258]=28;var ZR=YR(ly,0),YH=ZR.b,wk=ZR.r,ES=new Al(32768);for(var ao=0;ao<32768;++ao){var Cd=(ao&43690)>>1|(ao&21845)<<1;Cd=(Cd&52428)>>2|(Cd&13107)<<2,Cd=(Cd&61680)>>4|(Cd&3855)<<4,ES[ao]=((Cd&65280)>>8|(Cd&255)<<8)>>1}var pu=function(t,e,r){for(var n=t.length,a=0,i=new Al(e);a<n;++a)t[a]&&++i[t[a]-1];var s=new Al(e);for(a=1;a<e;++a)s[a]=s[a-1]+i[a-1]<<1;var l;if(r){l=new Al(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],f=e-t[a],m=s[t[a]-1]++<<f,v=m|(1<<f)-1;m<=v;++m)l[ES[m]>>c]=u}else for(l=new Al(n),a=0;a<n;++a)t[a]&&(l[a]=ES[s[t[a]-1]++]>>15-t[a]);return l},Ud=new fs(288);for(var ao=0;ao<144;++ao)Ud[ao]=8;for(var ao=144;ao<256;++ao)Ud[ao]=9;for(var ao=256;ao<280;++ao)Ud[ao]=7;for(var ao=280;ao<288;++ao)Ud[ao]=8;var hh=new fs(32);for(var ao=0;ao<32;++ao)hh[ao]=5;var JH=pu(Ud,9,0),XH=pu(Ud,9,1),ZH=pu(hh,5,0),QH=pu(hh,5,1),Q1=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Lc=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},eE=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},y3=function(t){return(t+7)/8|0},QR=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new fs(t.subarray(e,r))},eW=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Dc=function(t,e,r){var n=new Error(e||eW[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,Dc),!r)throw n;return n},tW=function(t,e,r,n){var a=t.length,i=0;if(!a||e.f&&!e.l)return r||new fs(0);var s=!r,l=s||e.i!=2,c=e.i;s&&(r=new fs(a*3));var u=function(pe){var ce=r.length;if(pe>ce){var _e=new fs(Math.max(ce*2,pe));_e.set(r),r=_e}},f=e.f||0,m=e.p||0,v=e.b||0,h=e.l,E=e.d,y=e.m,b=e.n,x=a*8;do{if(!h){f=Lc(t,m,1);var w=Lc(t,m+1,3);if(m+=3,w)if(w==1)h=XH,E=QH,y=9,b=5;else if(w==2){var L=Lc(t,m,31)+257,R=Lc(t,m+10,15)+4,O=L+Lc(t,m+5,31)+1;m+=14;for(var A=new fs(O),T=new fs(19),C=0;C<R;++C)T[bS[C]]=Lc(t,m+C*3,7);m+=R*3;for(var _=Q1(T),D=(1<<_)-1,z=pu(T,_,1),C=0;C<O;){var V=z[Lc(t,m,D)];m+=V&15;var N=V>>4;if(N<16)A[C++]=N;else{var J=0,ie=0;for(N==16?(ie=3+Lc(t,m,3),m+=2,J=A[C-1]):N==17?(ie=3+Lc(t,m,7),m+=3):N==18&&(ie=11+Lc(t,m,127),m+=7);ie--;)A[C++]=J}}var G=A.subarray(0,L),te=A.subarray(L);y=Q1(G),b=Q1(te),h=pu(G,y,1),E=pu(te,b,1)}else Dc(1);else{var N=y3(m)+4,I=t[N-4]|t[N-3]<<8,P=N+I;if(P>a){c&&Dc(0);break}l&&u(v+I),r.set(t.subarray(N,P),v),e.b=v+=I,e.p=m=P*8,e.f=f;continue}if(m>x){c&&Dc(0);break}}l&&u(v+131072);for(var W=(1<<y)-1,B=(1<<b)-1,j=m;;j=m){var J=h[eE(t,m)&W],U=J>>4;if(m+=J&15,m>x){c&&Dc(0);break}if(J||Dc(2),U<256)r[v++]=U;else if(U==256){j=m,h=null;break}else{var X=U-254;if(U>264){var C=U-257,Z=sy[C];X=Lc(t,m,(1<<Z)-1)+XR[C],m+=Z}var me=E[eE(t,m)&B],de=me>>4;me||Dc(3),m+=me&15;var te=YH[de];if(de>3){var Z=ly[de];te+=eE(t,m)&(1<<Z)-1,m+=Z}if(m>x){c&&Dc(0);break}l&&u(v+131072);var oe=v+X;if(v<te){var ee=i-te,le=Math.min(te,oe);for(ee+v<0&&Dc(3);v<le;++v)r[v]=n[ee+v]}for(;v<oe;++v)r[v]=r[v-te]}}e.l=h,e.p=j,e.b=v,e.f=f,h&&(f=1,e.m=y,e.d=E,e.n=b)}while(!f);return v!=r.length&&s?QR(r,0,v):r.subarray(0,v)},Lu=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},ig=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},tE=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,i=r.slice();if(!a)return{t:t9,l:0};if(a==1){var s=new fs(r[0].s+1);return s[r[0].s]=1,{t:s,l:1}}r.sort(function(P,L){return P.f-L.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,f=1,m=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=a-1;)l=r[r[u].f<r[m].f?u++:m++],c=r[u!=f&&r[u].f<r[m].f?u++:m++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var v=i[0].s,n=1;n<a;++n)i[n].s>v&&(v=i[n].s);var h=new Al(v+1),E=xS(r[f-1],h,0);if(E>e){var n=0,y=0,b=E-e,x=1<<b;for(i.sort(function(L,R){return h[R.s]-h[L.s]||L.f-R.f});n<a;++n){var w=i[n].s;if(h[w]>e)y+=x-(1<<E-h[w]),h[w]=e;else break}for(y>>=b;y>0;){var N=i[n].s;h[N]<e?y-=1<<e-h[N]++-1:++n}for(;n>=0&&y;--n){var I=i[n].s;h[I]==e&&(--h[I],++y)}E=e}return{t:new fs(h),l:E}},xS=function(t,e,r){return t.s==-1?Math.max(xS(t.l,e,r+1),xS(t.r,e,r+1)):e[t.s]=r},Sk=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Al(++e),n=0,a=t[0],i=1,s=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=t[l]}return{c:r.subarray(0,n),n:e}},sg=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},e9=function(t,e,r){var n=r.length,a=y3(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var i=0;i<n;++i)t[a+i+4]=r[i];return(a+4+n)*8},Ck=function(t,e,r,n,a,i,s,l,c,u,f){Lu(e,f++,r),++a[256];for(var m=tE(a,15),v=m.t,h=m.l,E=tE(i,15),y=E.t,b=E.l,x=Sk(v),w=x.c,N=x.n,I=Sk(y),P=I.c,L=I.n,R=new Al(19),O=0;O<w.length;++O)++R[w[O]&31];for(var O=0;O<P.length;++O)++R[P[O]&31];for(var A=tE(R,7),T=A.t,C=A.l,_=19;_>4&&!T[bS[_-1]];--_);var D=u+5<<3,z=sg(a,Ud)+sg(i,hh)+s,V=sg(a,v)+sg(i,y)+s+14+3*_+sg(R,T)+2*R[16]+3*R[17]+7*R[18];if(c>=0&&D<=z&&D<=V)return e9(e,f,t.subarray(c,c+u));var J,ie,G,te;if(Lu(e,f,1+(V<z)),f+=2,V<z){J=pu(v,h,0),ie=v,G=pu(y,b,0),te=y;var W=pu(T,C,0);Lu(e,f,N-257),Lu(e,f+5,L-1),Lu(e,f+10,_-4),f+=14;for(var O=0;O<_;++O)Lu(e,f+3*O,T[bS[O]]);f+=3*_;for(var B=[w,P],j=0;j<2;++j)for(var U=B[j],O=0;O<U.length;++O){var X=U[O]&31;Lu(e,f,W[X]),f+=T[X],X>15&&(Lu(e,f,U[O]>>5&127),f+=U[O]>>12)}}else J=JH,ie=Ud,G=ZH,te=hh;for(var O=0;O<l;++O){var Z=n[O];if(Z>255){var X=Z>>18&31;ig(e,f,J[X+257]),f+=ie[X+257],X>7&&(Lu(e,f,Z>>23&31),f+=sy[X]);var me=Z&31;ig(e,f,G[me]),f+=te[me],me>3&&(ig(e,f,Z>>5&8191),f+=ly[me])}else ig(e,f,J[Z]),f+=ie[Z]}return ig(e,f,J[256]),f+ie[256]},rW=new b3([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),t9=new fs(0),nW=function(t,e,r,n,a,i){var s=i.z||t.length,l=new fs(n+s+5*(1+Math.ceil(s/7e3))+a),c=l.subarray(n,l.length-a),u=i.l,f=(i.r||0)&7;if(e){f&&(c[0]=i.r>>3);for(var m=rW[e-1],v=m>>13,h=m&8191,E=(1<<r)-1,y=i.p||new Al(32768),b=i.h||new Al(E+1),x=Math.ceil(r/3),w=2*x,N=function(He){return(t[He]^t[He+1]<<x^t[He+2]<<w)&E},I=new b3(25e3),P=new Al(288),L=new Al(32),R=0,O=0,A=i.i||0,T=0,C=i.w||0,_=0;A+2<s;++A){var D=N(A),z=A&32767,V=b[D];if(y[z]=V,b[D]=z,C<=A){var J=s-A;if((R>7e3||T>24576)&&(J>423||!u)){f=Ck(t,c,0,I,P,L,O,T,_,A-_,f),T=R=O=0,_=A;for(var ie=0;ie<286;++ie)P[ie]=0;for(var ie=0;ie<30;++ie)L[ie]=0}var G=2,te=0,W=h,B=z-V&32767;if(J>2&&D==N(A-B))for(var j=Math.min(v,J)-1,U=Math.min(32767,A),X=Math.min(258,J);B<=U&&--W&&z!=V;){if(t[A+G]==t[A+G-B]){for(var Z=0;Z<X&&t[A+Z]==t[A+Z-B];++Z);if(Z>G){if(G=Z,te=B,Z>j)break;for(var me=Math.min(B,Z-2),de=0,ie=0;ie<me;++ie){var oe=A-B+ie&32767,ee=y[oe],le=oe-ee&32767;le>de&&(de=le,V=oe)}}}z=V,V=y[z],B+=z-V&32767}if(te){I[T++]=268435456|yS[G]<<18|wk[te];var pe=yS[G]&31,ce=wk[te]&31;O+=sy[pe]+ly[ce],++P[257+pe],++L[ce],C=A+G,++R}else I[T++]=t[A],++P[t[A]]}}for(A=Math.max(A,C);A<s;++A)I[T++]=t[A],++P[t[A]];f=Ck(t,c,u,I,P,L,O,T,_,A-_,f),u||(i.r=f&7|c[f/8|0]<<3,f-=7,i.h=b,i.p=y,i.i=A,i.w=C)}else{for(var A=i.w||0;A<s+u;A+=65535){var _e=A+65535;_e>=s&&(c[f/8|0]=u,_e=s),f=e9(c,f+1,t.subarray(A,_e))}i.i=s}return QR(l,0,n+y3(f)+a)},r9=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,i=r.length|0,s=0;s!=i;){for(var l=Math.min(s+2655,i);s<l;++s)a+=n+=r[s];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},aW=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),s=new fs(i.length+t.length);s.set(i),s.set(t,i.length),t=s,a.w=i.length}return nW(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},n9=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},oW=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=r9();a.p(e.dictionary),n9(t,2,a.d())}},iW=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Dc(6,"invalid zlib data"),(t[1]>>5&1)==1&&Dc(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function wS(t,e){e||(e={});var r=r9();r.p(t);var n=aW(t,e,e.dictionary?6:2,4);return oW(n,e),n9(n,n.length-4,r.d()),n}function sW(t,e){return tW(t.subarray(iW(t),-4),{i:2},e,e)}var lW=typeof TextDecoder<"u"&&new TextDecoder,cW=0;try{lW.decode(t9,{stream:!0}),cW=1}catch{}var bn=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function rE(){bn.console&&typeof bn.console.log=="function"&&bn.console.log.apply(bn.console,arguments)}var qa={log:rE,warn:function(t){bn.console&&(typeof bn.console.warn=="function"?bn.console.warn.apply(bn.console,arguments):rE.call(null,arguments))},error:function(t){bn.console&&(typeof bn.console.error=="function"?bn.console.error.apply(bn.console,arguments):rE(t))}};function nE(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Cf(n.response,e,r)},n.onerror=function(){qa.error("could not download file")},n.send()}function Pk(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function rb(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var qg,SS,Cf=bn.saveAs||((typeof window>"u"?"undefined":Ra(window))!=="object"||window!==bn?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=bn.URL||bn.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?Pk(a.href)?nE(t,e,r):rb(a,a.target="_blank"):rb(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){rb(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(Pk(t))nE(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){rb(n)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:Ra(i)!=="object"&&(qa.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return nE(t,e,r);var a=t.type==="application/octet-stream",i=/constructor/i.test(bn.HTMLElement)||bn.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":Ra(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=s?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(t)}else{var c=bn.URL||bn.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function a9(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,i=r[n].process,s=a.exec(t);s&&(e=i(s),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function aE(t,e){var r=t[0],n=t[1],a=t[2],i=t[3];r=os(r,n,a,i,e[0],7,-680876936),i=os(i,r,n,a,e[1],12,-389564586),a=os(a,i,r,n,e[2],17,606105819),n=os(n,a,i,r,e[3],22,-1044525330),r=os(r,n,a,i,e[4],7,-176418897),i=os(i,r,n,a,e[5],12,1200080426),a=os(a,i,r,n,e[6],17,-1473231341),n=os(n,a,i,r,e[7],22,-45705983),r=os(r,n,a,i,e[8],7,1770035416),i=os(i,r,n,a,e[9],12,-1958414417),a=os(a,i,r,n,e[10],17,-42063),n=os(n,a,i,r,e[11],22,-1990404162),r=os(r,n,a,i,e[12],7,1804603682),i=os(i,r,n,a,e[13],12,-40341101),a=os(a,i,r,n,e[14],17,-1502002290),r=is(r,n=os(n,a,i,r,e[15],22,1236535329),a,i,e[1],5,-165796510),i=is(i,r,n,a,e[6],9,-1069501632),a=is(a,i,r,n,e[11],14,643717713),n=is(n,a,i,r,e[0],20,-373897302),r=is(r,n,a,i,e[5],5,-701558691),i=is(i,r,n,a,e[10],9,38016083),a=is(a,i,r,n,e[15],14,-660478335),n=is(n,a,i,r,e[4],20,-405537848),r=is(r,n,a,i,e[9],5,568446438),i=is(i,r,n,a,e[14],9,-1019803690),a=is(a,i,r,n,e[3],14,-187363961),n=is(n,a,i,r,e[8],20,1163531501),r=is(r,n,a,i,e[13],5,-1444681467),i=is(i,r,n,a,e[2],9,-51403784),a=is(a,i,r,n,e[7],14,1735328473),r=ss(r,n=is(n,a,i,r,e[12],20,-1926607734),a,i,e[5],4,-378558),i=ss(i,r,n,a,e[8],11,-2022574463),a=ss(a,i,r,n,e[11],16,1839030562),n=ss(n,a,i,r,e[14],23,-35309556),r=ss(r,n,a,i,e[1],4,-1530992060),i=ss(i,r,n,a,e[4],11,1272893353),a=ss(a,i,r,n,e[7],16,-155497632),n=ss(n,a,i,r,e[10],23,-1094730640),r=ss(r,n,a,i,e[13],4,681279174),i=ss(i,r,n,a,e[0],11,-358537222),a=ss(a,i,r,n,e[3],16,-722521979),n=ss(n,a,i,r,e[6],23,76029189),r=ss(r,n,a,i,e[9],4,-640364487),i=ss(i,r,n,a,e[12],11,-421815835),a=ss(a,i,r,n,e[15],16,530742520),r=ls(r,n=ss(n,a,i,r,e[2],23,-995338651),a,i,e[0],6,-198630844),i=ls(i,r,n,a,e[7],10,1126891415),a=ls(a,i,r,n,e[14],15,-1416354905),n=ls(n,a,i,r,e[5],21,-57434055),r=ls(r,n,a,i,e[12],6,1700485571),i=ls(i,r,n,a,e[3],10,-1894986606),a=ls(a,i,r,n,e[10],15,-1051523),n=ls(n,a,i,r,e[1],21,-2054922799),r=ls(r,n,a,i,e[8],6,1873313359),i=ls(i,r,n,a,e[15],10,-30611744),a=ls(a,i,r,n,e[6],15,-1560198380),n=ls(n,a,i,r,e[13],21,1309151649),r=ls(r,n,a,i,e[4],6,-145523070),i=ls(i,r,n,a,e[11],10,-1120210379),a=ls(a,i,r,n,e[2],15,718787259),n=ls(n,a,i,r,e[9],21,-343485551),t[0]=Rd(r,t[0]),t[1]=Rd(n,t[1]),t[2]=Rd(a,t[2]),t[3]=Rd(i,t[3])}function cy(t,e,r,n,a,i){return e=Rd(Rd(e,t),Rd(n,i)),Rd(e<<a|e>>>32-a,r)}function os(t,e,r,n,a,i,s){return cy(e&r|~e&n,t,e,a,i,s)}function is(t,e,r,n,a,i,s){return cy(e&n|r&~n,t,e,a,i,s)}function ss(t,e,r,n,a,i,s){return cy(e^r^n,t,e,a,i,s)}function ls(t,e,r,n,a,i,s){return cy(r^(e|~n),t,e,a,i,s)}function o9(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)aE(n,uW(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(aE(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,aE(n,a),n}function uW(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}qg=bn.atob.bind(bn),SS=bn.btoa.bind(bn);var Nk="0123456789abcdef".split("");function dW(t){for(var e="",r=0;r<4;r++)e+=Nk[t>>8*r+4&15]+Nk[t>>8*r&15];return e}function fW(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function CS(t){return o9(t).map(fW).join("")}var mW=function(t){for(var e=0;e<t.length;e++)t[e]=dW(t[e]);return t.join("")}(o9("hello"))!="5d41402abc4b2a76b9719d911017c592";function Rd(t,e){if(mW){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function PS(t,e){var r,n,a,i;if(t!==r){for(var s=(a=t,i=1+(256/t.length>>0),new Array(i+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var f=l[c];u=(u+f+s.charCodeAt(c))%256,l[c]=l[u],l[u]=f}r=t,n=l}else l=n;var m=e.length,v=0,h=0,E="";for(c=0;c<m;c++)h=(h+(f=l[v=(v+1)%256]))%256,l[v]=l[h],l[h]=f,s=l[(l[v]+l[h])%256],E+=String.fromCharCode(e.charCodeAt(c)^s);return E}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var kk={print:4,modify:8,copy:16,"annot-forms":32};function Fm(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(kk.perm!==void 0)throw new Error("Invalid permission: "+l);a+=kk[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var i=(e+this.padding).substr(0,32),s=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=CS(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=PS(this.encryptionKey,this.padding)}function $m(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?e+="#"+("0"+a.toString(16)).slice(-2):e+=t[n]}return e}function Ak(t){if(Ra(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!a],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var i in e[r]){var s=e[r][i];try{s[0].apply(t,n)}catch(l){bn.console&&qa.error("jsPDF PubSub Error",l.message,l)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Vb(t){if(!(this instanceof Vb))return new Vb(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function i9(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Af(t,e,r,n,a){if(!(this instanceof Af))return new Af(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,i9.call(this,n,a)}function Hm(t,e,r,n,a){if(!(this instanceof Hm))return new Hm(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,i9.call(this,n,a)}function gn(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],i=arguments[3],s=[],l=1,c=16,u="S",f=null;Ra(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,i=t.compress||t.compressPdf||i,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),s=t.filters||(i===!0?["FlateEncode"]:s),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,v={},h={internal:{},__private__:{}};h.__private__.PubSub=Ak;var E="1.3",y=h.__private__.getPdfVersion=function(){return E};h.__private__.setPdfVersion=function(q){E=q};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return b};var x=h.__private__.getPageFormat=function(q){return b[q]};a=a||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},N=w.COMPAT;function I(){this.saveGraphicsState(),be(new Ct(bt,0,0,-bt,0,Ji()*bt).toString()+" cm"),this.setFontSize(this.getFontSize()/bt),u="n",N=w.ADVANCED}function P(){this.restoreGraphicsState(),u="S",N=w.COMPAT}var L=h.__private__.combineFontStyleAndFontWeight=function(q,fe){if(q=="bold"&&fe=="normal"||q=="bold"&&fe==400||q=="normal"&&fe=="italic"||q=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(q=fe==400||fe==="normal"?q==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||q!=="normal"?(fe==700?"bold":fe)+""+q:"bold"),q};h.advancedAPI=function(q){var fe=N===w.COMPAT;return fe&&I.call(this),typeof q!="function"||(q(this),fe&&P.call(this)),this},h.compatAPI=function(q){var fe=N===w.ADVANCED;return fe&&P.call(this),typeof q!="function"||(q(this),fe&&I.call(this)),this},h.isAdvancedAPI=function(){return N===w.ADVANCED};var R,O=function(q){if(N!==w.ADVANCED)throw new Error(q+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},A=h.roundToPrecision=h.__private__.roundToPrecision=function(q,fe){var je=e||fe;if(isNaN(q)||isNaN(je))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return q.toFixed(je).replace(/0+$/,"")};R=h.hpf=h.__private__.hpf=typeof c=="number"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return A(q,c)}:c==="smart"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return A(q,q>-1&&q<1?16:5)}:function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return A(q,16)};var T=h.f2=h.__private__.f2=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f2");return A(q,2)},C=h.__private__.f3=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f3");return A(q,3)},_=h.scale=h.__private__.scale=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.scale");return N===w.COMPAT?q*bt:N===w.ADVANCED?q:void 0},D=function(q){return N===w.COMPAT?Ji()-q:N===w.ADVANCED?q:void 0},z=function(q){return _(D(q))};h.__private__.setPrecision=h.setPrecision=function(q){typeof parseInt(q,10)=="number"&&(e=parseInt(q,10))};var V,J="00000000000000000000000000000000",ie=h.__private__.getFileId=function(){return J},G=h.__private__.setFileId=function(q){return J=q!==void 0&&/^[a-fA-F0-9]{32}$/.test(q)?q.toUpperCase():J.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Dn=new Fm(f.userPermissions,f.userPassword,f.ownerPassword,J)),J};h.setFileId=function(q){return G(q),this},h.getFileId=function(){return ie()};var te=h.__private__.convertDateToPDFDate=function(q){var fe=q.getTimezoneOffset(),je=fe<0?"+":"-",Ve=Math.floor(Math.abs(fe/60)),it=Math.abs(fe%60),It=[je,X(Ve),"'",X(it),"'"].join("");return["D:",q.getFullYear(),X(q.getMonth()+1),X(q.getDate()),X(q.getHours()),X(q.getMinutes()),X(q.getSeconds()),It].join("")},W=h.__private__.convertPDFDateToDate=function(q){var fe=parseInt(q.substr(2,4),10),je=parseInt(q.substr(6,2),10)-1,Ve=parseInt(q.substr(8,2),10),it=parseInt(q.substr(10,2),10),It=parseInt(q.substr(12,2),10),Zt=parseInt(q.substr(14,2),10);return new Date(fe,je,Ve,it,It,Zt,0)},B=h.__private__.setCreationDate=function(q){var fe;if(q===void 0&&(q=new Date),q instanceof Date)fe=te(q);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(q))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=q}return V=fe},j=h.__private__.getCreationDate=function(q){var fe=V;return q==="jsDate"&&(fe=W(V)),fe};h.setCreationDate=function(q){return B(q),this},h.getCreationDate=function(q){return j(q)};var U,X=h.__private__.padd2=function(q){return("0"+parseInt(q)).slice(-2)},Z=h.__private__.padd2Hex=function(q){return("00"+(q=q.toString())).substr(q.length)},me=0,de=[],oe=[],ee=0,le=[],pe=[],ce=!1,_e=oe,He=function(){me=0,ee=0,oe=[],de=[],le=[],rn=pr(),er=pr()};h.__private__.setCustomOutputDestination=function(q){ce=!0,_e=q};var Re=function(q){ce||(_e=q)};h.__private__.resetCustomOutputDestination=function(){ce=!1,_e=oe};var be=h.__private__.out=function(q){return q=q.toString(),ee+=q.length+1,_e.push(q),_e},gt=h.__private__.write=function(q){return be(arguments.length===1?q.toString():Array.prototype.join.call(arguments," "))},Ae=h.__private__.getArrayBuffer=function(q){for(var fe=q.length,je=new ArrayBuffer(fe),Ve=new Uint8Array(je);fe--;)Ve[fe]=q.charCodeAt(fe);return je},ke=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return ke};var Be=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(q){return Be=N===w.ADVANCED?q/bt:q,this};var Xe,Ke=h.__private__.getFontSize=h.getFontSize=function(){return N===w.COMPAT?Be:Be*bt},Et=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(q){return Et=q,this},h.__private__.getR2L=h.getR2L=function(){return Et};var ut,zt=h.__private__.setZoomMode=function(q){var fe=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(q))Xe=q;else if(isNaN(q)){if(fe.indexOf(q)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+q+'" is not recognized.');Xe=q}else Xe=parseInt(q,10)};h.__private__.getZoomMode=function(){return Xe};var Gt,mt=h.__private__.setPageMode=function(q){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(q)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+q+'" is not recognized.');ut=q};h.__private__.getPageMode=function(){return ut};var nt=h.__private__.setLayoutMode=function(q){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(q)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+q+'" is not recognized.');Gt=q};h.__private__.getLayoutMode=function(){return Gt},h.__private__.setDisplayMode=h.setDisplayMode=function(q,fe,je){return zt(q),nt(fe),mt(je),this};var ht={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(q){if(Object.keys(ht).indexOf(q)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return ht[q]},h.__private__.getDocumentProperties=function(){return ht},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(q){for(var fe in ht)ht.hasOwnProperty(fe)&&q[fe]&&(ht[fe]=q[fe]);return this},h.__private__.setDocumentProperty=function(q,fe){if(Object.keys(ht).indexOf(q)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return ht[q]=fe};var Kt,bt,Ar,Jt,Lr,mr={},wr={},Ur=[],Sr={},kt={},Ee={},Ne={},qe=null,Nt=0,St=[],Ot=new Ak(h),gr=t.hotfixes||[],lr={},zr={},st=[],Ct=function q(fe,je,Ve,it,It,Zt){if(!(this instanceof q))return new q(fe,je,Ve,it,It,Zt);isNaN(fe)&&(fe=1),isNaN(je)&&(je=0),isNaN(Ve)&&(Ve=0),isNaN(it)&&(it=1),isNaN(It)&&(It=0),isNaN(Zt)&&(Zt=0),this._matrix=[fe,je,Ve,it,It,Zt]};Object.defineProperty(Ct.prototype,"sx",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(Ct.prototype,"shy",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(Ct.prototype,"shx",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(Ct.prototype,"sy",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(Ct.prototype,"tx",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(Ct.prototype,"ty",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(Ct.prototype,"a",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(Ct.prototype,"b",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(Ct.prototype,"c",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(Ct.prototype,"d",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(Ct.prototype,"e",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(Ct.prototype,"f",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(Ct.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ct.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ct.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ct.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ct.prototype.join=function(q){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(R).join(q)},Ct.prototype.multiply=function(q){var fe=q.sx*this.sx+q.shy*this.shx,je=q.sx*this.shy+q.shy*this.sy,Ve=q.shx*this.sx+q.sy*this.shx,it=q.shx*this.shy+q.sy*this.sy,It=q.tx*this.sx+q.ty*this.shx+this.tx,Zt=q.tx*this.shy+q.ty*this.sy+this.ty;return new Ct(fe,je,Ve,it,It,Zt)},Ct.prototype.decompose=function(){var q=this.sx,fe=this.shy,je=this.shx,Ve=this.sy,it=this.tx,It=this.ty,Zt=Math.sqrt(q*q+fe*fe),Er=(q/=Zt)*je+(fe/=Zt)*Ve;je-=q*Er,Ve-=fe*Er;var jr=Math.sqrt(je*je+Ve*Ve);return Er/=jr,q*(Ve/=jr)<fe*(je/=jr)&&(q=-q,fe=-fe,Er=-Er,Zt=-Zt),{scale:new Ct(Zt,0,0,jr,0,0),translate:new Ct(1,0,0,1,it,It),rotate:new Ct(q,fe,-fe,q,0,0),skew:new Ct(1,0,Er,1,0,0)}},Ct.prototype.toString=function(q){return this.join(" ")},Ct.prototype.inversed=function(){var q=this.sx,fe=this.shy,je=this.shx,Ve=this.sy,it=this.tx,It=this.ty,Zt=1/(q*Ve-fe*je),Er=Ve*Zt,jr=-fe*Zt,an=-je*Zt,hn=q*Zt;return new Ct(Er,jr,an,hn,-Er*it-an*It,-jr*it-hn*It)},Ct.prototype.applyToPoint=function(q){var fe=q.x*this.sx+q.y*this.shx+this.tx,je=q.x*this.shy+q.y*this.sy+this.ty;return new Li(fe,je)},Ct.prototype.applyToRectangle=function(q){var fe=this.applyToPoint(q),je=this.applyToPoint(new Li(q.x+q.w,q.y+q.h));return new Ti(fe.x,fe.y,je.x-fe.x,je.y-fe.y)},Ct.prototype.clone=function(){var q=this.sx,fe=this.shy,je=this.shx,Ve=this.sy,it=this.tx,It=this.ty;return new Ct(q,fe,je,Ve,it,It)},h.Matrix=Ct;var _t=h.matrixMult=function(q,fe){return fe.multiply(q)},Kr=new Ct(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Kr;var yn=function(q,fe){if(!kt[q]){var je=(fe instanceof Af?"Sh":"P")+(Object.keys(Sr).length+1).toString(10);fe.id=je,kt[q]=je,Sr[je]=fe,Ot.publish("addPattern",fe)}};h.ShadingPattern=Af,h.TilingPattern=Hm,h.addShadingPattern=function(q,fe){return O("addShadingPattern()"),yn(q,fe),this},h.beginTilingPattern=function(q){O("beginTilingPattern()"),Wc(q.boundingBox[0],q.boundingBox[1],q.boundingBox[2]-q.boundingBox[0],q.boundingBox[3]-q.boundingBox[1],q.matrix)},h.endTilingPattern=function(q,fe){O("endTilingPattern()"),fe.stream=pe[U].join(`
`),yn(q,fe),Ot.publish("endTilingPattern",fe),st.pop().restore()};var en=h.__private__.newObject=function(){var q=pr();return Tr(q,!0),q},pr=h.__private__.newObjectDeferred=function(){return me++,de[me]=function(){return ee},me},Tr=function(q,fe){return fe=typeof fe=="boolean"&&fe,de[q]=ee,fe&&be(q+" 0 obj"),q},mn=h.__private__.newAdditionalObject=function(){var q={objId:pr(),content:""};return le.push(q),q},rn=pr(),er=pr(),ct=h.__private__.decodeColorString=function(q){var fe=q.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length===5&&(fe[4]==="k"||fe[4]==="K")&&(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var je=parseFloat(fe[0]);fe=[je,je,je,"r"]}for(var Ve="#",it=0;it<3;it++)Ve+=("0"+Math.floor(255*parseFloat(fe[it])).toString(16)).slice(-2);return Ve},At=h.__private__.encodeColorString=function(q){var fe;typeof q=="string"&&(q={ch1:q});var je=q.ch1,Ve=q.ch2,it=q.ch3,It=q.ch4,Zt=q.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof je=="string"&&je.charAt(0)!=="#"){var Er=new a9(je);if(Er.ok)je=Er.toHex();else if(!/^\d*\.?\d*$/.test(je))throw new Error('Invalid color "'+je+'" passed to jsPDF.encodeColorString.')}if(typeof je=="string"&&/^#[0-9A-Fa-f]{3}$/.test(je)&&(je="#"+je[1]+je[1]+je[2]+je[2]+je[3]+je[3]),typeof je=="string"&&/^#[0-9A-Fa-f]{6}$/.test(je)){var jr=parseInt(je.substr(1),16);je=jr>>16&255,Ve=jr>>8&255,it=255&jr}if(Ve===void 0||It===void 0&&je===Ve&&Ve===it)if(typeof je=="string")fe=je+" "+Zt[0];else switch(q.precision){case 2:fe=T(je/255)+" "+Zt[0];break;case 3:default:fe=C(je/255)+" "+Zt[0]}else if(It===void 0||Ra(It)==="object"){if(It&&!isNaN(It.a)&&It.a===0)return fe=["1.","1.","1.",Zt[1]].join(" ");if(typeof je=="string")fe=[je,Ve,it,Zt[1]].join(" ");else switch(q.precision){case 2:fe=[T(je/255),T(Ve/255),T(it/255),Zt[1]].join(" ");break;default:case 3:fe=[C(je/255),C(Ve/255),C(it/255),Zt[1]].join(" ")}}else if(typeof je=="string")fe=[je,Ve,it,It,Zt[2]].join(" ");else switch(q.precision){case 2:fe=[T(je),T(Ve),T(it),T(It),Zt[2]].join(" ");break;case 3:default:fe=[C(je),C(Ve),C(it),C(It),Zt[2]].join(" ")}return fe},Yt=h.__private__.getFilters=function(){return s},Ye=h.__private__.putStream=function(q){var fe=(q=q||{}).data||"",je=q.filters||Yt(),Ve=q.alreadyAppliedFilters||[],it=q.addLength1||!1,It=fe.length,Zt=q.objectId,Er=function(Me){return Me};if(f!==null&&Zt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(Er=Dn.encryptor(Zt,0));var jr={};je===!0&&(je=["FlateEncode"]);var an=q.additionalKeyValues||[],hn=(jr=gn.API.processDataByFilters!==void 0?gn.API.processDataByFilters(fe,je):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(Ve)?Ve.join(" "):Ve.toString());if(jr.data.length!==0&&(an.push({key:"Length",value:jr.data.length}),it===!0&&an.push({key:"Length1",value:It})),hn.length!=0)if(hn.split("/").length-1==1)an.push({key:"Filter",value:hn});else{an.push({key:"Filter",value:"["+hn+"]"});for(var _n=0;_n<an.length;_n+=1)if(an[_n].key==="DecodeParms"){for(var Ia=[],Da=0;Da<jr.reverseChain.split("/").length-1;Da+=1)Ia.push("null");Ia.push(an[_n].value),an[_n].value="["+Ia.join(" ")+"]"}}be("<<");for(var Mt=0;Mt<an.length;Mt++)be("/"+an[Mt].key+" "+an[Mt].value);be(">>"),jr.data.length!==0&&(be("stream"),be(Er(jr.data)),be("endstream"))},ft=h.__private__.putPage=function(q){var fe=q.number,je=q.data,Ve=q.objId,it=q.contentsObjId;Tr(Ve,!0),be("<</Type /Page"),be("/Parent "+q.rootDictionaryObjId+" 0 R"),be("/Resources "+q.resourceDictionaryObjId+" 0 R"),be("/MediaBox ["+parseFloat(R(q.mediaBox.bottomLeftX))+" "+parseFloat(R(q.mediaBox.bottomLeftY))+" "+R(q.mediaBox.topRightX)+" "+R(q.mediaBox.topRightY)+"]"),q.cropBox!==null&&be("/CropBox ["+R(q.cropBox.bottomLeftX)+" "+R(q.cropBox.bottomLeftY)+" "+R(q.cropBox.topRightX)+" "+R(q.cropBox.topRightY)+"]"),q.bleedBox!==null&&be("/BleedBox ["+R(q.bleedBox.bottomLeftX)+" "+R(q.bleedBox.bottomLeftY)+" "+R(q.bleedBox.topRightX)+" "+R(q.bleedBox.topRightY)+"]"),q.trimBox!==null&&be("/TrimBox ["+R(q.trimBox.bottomLeftX)+" "+R(q.trimBox.bottomLeftY)+" "+R(q.trimBox.topRightX)+" "+R(q.trimBox.topRightY)+"]"),q.artBox!==null&&be("/ArtBox ["+R(q.artBox.bottomLeftX)+" "+R(q.artBox.bottomLeftY)+" "+R(q.artBox.topRightX)+" "+R(q.artBox.topRightY)+"]"),typeof q.userUnit=="number"&&q.userUnit!==1&&be("/UserUnit "+q.userUnit),Ot.publish("putPage",{objId:Ve,pageContext:St[fe],pageNumber:fe,page:je}),be("/Contents "+it+" 0 R"),be(">>"),be("endobj");var It=je.join(`
`);return N===w.ADVANCED&&(It+=`
Q`),Tr(it,!0),Ye({data:It,filters:Yt(),objectId:it}),be("endobj"),Ve},ot=h.__private__.putPages=function(){var q,fe,je=[];for(q=1;q<=Nt;q++)St[q].objId=pr(),St[q].contentsObjId=pr();for(q=1;q<=Nt;q++)je.push(ft({number:q,data:pe[q],objId:St[q].objId,contentsObjId:St[q].contentsObjId,mediaBox:St[q].mediaBox,cropBox:St[q].cropBox,bleedBox:St[q].bleedBox,trimBox:St[q].trimBox,artBox:St[q].artBox,userUnit:St[q].userUnit,rootDictionaryObjId:rn,resourceDictionaryObjId:er}));Tr(rn,!0),be("<</Type /Pages");var Ve="/Kids [";for(fe=0;fe<Nt;fe++)Ve+=je[fe]+" 0 R ";be(Ve+"]"),be("/Count "+Nt),be(">>"),be("endobj"),Ot.publish("postPutPages")},$e=function(q){Ot.publish("putFont",{font:q,out:be,newObject:en,putStream:Ye}),q.isAlreadyPutted!==!0&&(q.objectNumber=en(),be("<<"),be("/Type /Font"),be("/BaseFont /"+$m(q.postScriptName)),be("/Subtype /Type1"),typeof q.encoding=="string"&&be("/Encoding /"+q.encoding),be("/FirstChar 32"),be("/LastChar 255"),be(">>"),be("endobj"))},at=function(){for(var q in mr)mr.hasOwnProperty(q)&&(m===!1||m===!0&&v.hasOwnProperty(q))&&$e(mr[q])},Rt=function(q){q.objectNumber=en();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[R(q.x),R(q.y),R(q.x+q.width),R(q.y+q.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+q.matrix.toString()+"]"});var je=q.pages[1].join(`
`);Ye({data:je,additionalKeyValues:fe,objectId:q.objectNumber}),be("endobj")},Ht=function(){for(var q in lr)lr.hasOwnProperty(q)&&Rt(lr[q])},or=function(q,fe){var je,Ve=[],it=1/(fe-1);for(je=0;je<1;je+=it)Ve.push(je);if(Ve.push(1),q[0].offset!=0){var It={offset:0,color:q[0].color};q.unshift(It)}if(q[q.length-1].offset!=1){var Zt={offset:1,color:q[q.length-1].color};q.push(Zt)}for(var Er="",jr=0,an=0;an<Ve.length;an++){for(je=Ve[an];je>q[jr+1].offset;)jr++;var hn=q[jr].offset,_n=(je-hn)/(q[jr+1].offset-hn),Ia=q[jr].color,Da=q[jr+1].color;Er+=Z(Math.round((1-_n)*Ia[0]+_n*Da[0]).toString(16))+Z(Math.round((1-_n)*Ia[1]+_n*Da[1]).toString(16))+Z(Math.round((1-_n)*Ia[2]+_n*Da[2]).toString(16))}return Er.trim()},qt=function(q,fe){fe||(fe=21);var je=en(),Ve=or(q.colors,fe),it=[];it.push({key:"FunctionType",value:"0"}),it.push({key:"Domain",value:"[0.0 1.0]"}),it.push({key:"Size",value:"["+fe+"]"}),it.push({key:"BitsPerSample",value:"8"}),it.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),it.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ye({data:Ve,additionalKeyValues:it,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:je}),be("endobj"),q.objectNumber=en(),be("<< /ShadingType "+q.type),be("/ColorSpace /DeviceRGB");var It="/Coords ["+R(parseFloat(q.coords[0]))+" "+R(parseFloat(q.coords[1]))+" ";q.type===2?It+=R(parseFloat(q.coords[2]))+" "+R(parseFloat(q.coords[3])):It+=R(parseFloat(q.coords[2]))+" "+R(parseFloat(q.coords[3]))+" "+R(parseFloat(q.coords[4]))+" "+R(parseFloat(q.coords[5])),be(It+="]"),q.matrix&&be("/Matrix ["+q.matrix.toString()+"]"),be("/Function "+je+" 0 R"),be("/Extend [true true]"),be(">>"),be("endobj")},br=function(q,fe){var je=pr(),Ve=en();fe.push({resourcesOid:je,objectOid:Ve}),q.objectNumber=Ve;var it=[];it.push({key:"Type",value:"/Pattern"}),it.push({key:"PatternType",value:"1"}),it.push({key:"PaintType",value:"1"}),it.push({key:"TilingType",value:"1"}),it.push({key:"BBox",value:"["+q.boundingBox.map(R).join(" ")+"]"}),it.push({key:"XStep",value:R(q.xStep)}),it.push({key:"YStep",value:R(q.yStep)}),it.push({key:"Resources",value:je+" 0 R"}),q.matrix&&it.push({key:"Matrix",value:"["+q.matrix.toString()+"]"}),Ye({data:q.stream,additionalKeyValues:it,objectId:q.objectNumber}),be("endobj")},Pr=function(q){var fe;for(fe in Sr)Sr.hasOwnProperty(fe)&&(Sr[fe]instanceof Af?qt(Sr[fe]):Sr[fe]instanceof Hm&&br(Sr[fe],q))},Rr=function(q){for(var fe in q.objectNumber=en(),be("<<"),q)switch(fe){case"opacity":be("/ca "+T(q[fe]));break;case"stroke-opacity":be("/CA "+T(q[fe]))}be(">>"),be("endobj")},Ze=function(){var q;for(q in Ee)Ee.hasOwnProperty(q)&&Rr(Ee[q])},ae=function(){for(var q in be("/XObject <<"),lr)lr.hasOwnProperty(q)&&lr[q].objectNumber>=0&&be("/"+q+" "+lr[q].objectNumber+" 0 R");Ot.publish("putXobjectDict"),be(">>")},Se=function(){Dn.oid=en(),be("<<"),be("/Filter /Standard"),be("/V "+Dn.v),be("/R "+Dn.r),be("/U <"+Dn.toHexString(Dn.U)+">"),be("/O <"+Dn.toHexString(Dn.O)+">"),be("/P "+Dn.P),be(">>"),be("endobj")},Ue=function(){for(var q in be("/Font <<"),mr)mr.hasOwnProperty(q)&&(m===!1||m===!0&&v.hasOwnProperty(q))&&be("/"+q+" "+mr[q].objectNumber+" 0 R");be(">>")},tt=function(){if(Object.keys(Sr).length>0){for(var q in be("/Shading <<"),Sr)Sr.hasOwnProperty(q)&&Sr[q]instanceof Af&&Sr[q].objectNumber>=0&&be("/"+q+" "+Sr[q].objectNumber+" 0 R");Ot.publish("putShadingPatternDict"),be(">>")}},pt=function(q){if(Object.keys(Sr).length>0){for(var fe in be("/Pattern <<"),Sr)Sr.hasOwnProperty(fe)&&Sr[fe]instanceof h.TilingPattern&&Sr[fe].objectNumber>=0&&Sr[fe].objectNumber<q&&be("/"+fe+" "+Sr[fe].objectNumber+" 0 R");Ot.publish("putTilingPatternDict"),be(">>")}},Bt=function(){if(Object.keys(Ee).length>0){var q;for(q in be("/ExtGState <<"),Ee)Ee.hasOwnProperty(q)&&Ee[q].objectNumber>=0&&be("/"+q+" "+Ee[q].objectNumber+" 0 R");Ot.publish("putGStateDict"),be(">>")}},ar=function(q){Tr(q.resourcesOid,!0),be("<<"),be("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Ue(),tt(),pt(q.objectOid),Bt(),ae(),be(">>"),be("endobj")},Cr=function(){var q=[];at(),Ze(),Ht(),Pr(q),Ot.publish("putResources"),q.forEach(ar),ar({resourcesOid:er,objectOid:Number.MAX_SAFE_INTEGER}),Ot.publish("postPutResources")},qr=function(){Ot.publish("putAdditionalObjects");for(var q=0;q<le.length;q++){var fe=le[q];Tr(fe.objId,!0),be(fe.content),be("endobj")}Ot.publish("postPutAdditionalObjects")},Rn=function(q){wr[q.fontName]=wr[q.fontName]||{},wr[q.fontName][q.fontStyle]=q.id},Mn=function(q,fe,je,Ve,it){var It={id:"F"+(Object.keys(mr).length+1).toString(10),postScriptName:q,fontName:fe,fontStyle:je,encoding:Ve,isStandardFont:it||!1,metadata:{}};return Ot.publish("addFont",{font:It,instance:this}),mr[It.id]=It,Rn(It),It.id},kr=function(q){for(var fe=0,je=ke.length;fe<je;fe++){var Ve=Mn.call(this,q[fe][0],q[fe][1],q[fe][2],ke[fe][3],!0);m===!1&&(v[Ve]=!0);var it=q[fe][0].split("-");Rn({id:Ve,fontName:it[0],fontStyle:it[1]||""})}Ot.publish("addFonts",{fonts:mr,dictionary:wr})},Vr=function(q){return q.foo=function(){try{return q.apply(this,arguments)}catch(Ve){var fe=Ve.stack||"";~fe.indexOf(" at ")&&(fe=fe.split(" at ")[1]);var je="Error in function "+fe.split(`
`)[0].split("<")[0]+": "+Ve.message;if(!bn.console)throw new Error(je);bn.console.error(je,Ve),bn.alert&&alert(je)}},q.foo.bar=q,q.foo},Mr=function(q,fe){var je,Ve,it,It,Zt,Er,jr,an,hn;if(it=(fe=fe||{}).sourceEncoding||"Unicode",Zt=fe.outputEncoding,(fe.autoencode||Zt)&&mr[Kt].metadata&&mr[Kt].metadata[it]&&mr[Kt].metadata[it].encoding&&(It=mr[Kt].metadata[it].encoding,!Zt&&mr[Kt].encoding&&(Zt=mr[Kt].encoding),!Zt&&It.codePages&&(Zt=It.codePages[0]),typeof Zt=="string"&&(Zt=It[Zt]),Zt)){for(jr=!1,Er=[],je=0,Ve=q.length;je<Ve;je++)(an=Zt[q.charCodeAt(je)])?Er.push(String.fromCharCode(an)):Er.push(q[je]),Er[je].charCodeAt(0)>>8&&(jr=!0);q=Er.join("")}for(je=q.length;jr===void 0&&je!==0;)q.charCodeAt(je-1)>>8&&(jr=!0),je--;if(!jr)return q;for(Er=fe.noBOM?[]:[254,255],je=0,Ve=q.length;je<Ve;je++){if((hn=(an=q.charCodeAt(je))>>8)>>8)throw new Error("Character at position "+je+" of string '"+q+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Er.push(hn),Er.push(an-(hn<<8))}return String.fromCharCode.apply(void 0,Er)},on=h.__private__.pdfEscape=h.pdfEscape=function(q,fe){return Mr(q,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pn=h.__private__.beginPage=function(q){pe[++Nt]=[],St[Nt]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(q[0]),topRightY:Number(q[1])}},Tn(Nt),Re(pe[U])},la=function(q,fe){var je,Ve,it;switch(r=fe||r,typeof q=="string"&&(je=x(q.toLowerCase()),Array.isArray(je)&&(Ve=je[0],it=je[1])),Array.isArray(q)&&(Ve=q[0]*bt,it=q[1]*bt),isNaN(Ve)&&(Ve=a[0],it=a[1]),(Ve>14400||it>14400)&&(qa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Ve=Math.min(14400,Ve),it=Math.min(14400,it)),a=[Ve,it],r.substr(0,1)){case"l":it>Ve&&(a=[it,Ve]);break;case"p":Ve>it&&(a=[it,Ve])}Pn(a),Ds(vs),be(Po),ac!==0&&be(ac+" J"),al!==0&&be(al+" j"),Ot.publish("addPage",{pageNumber:Nt})},ra=function(q){q>0&&q<=Nt&&(pe.splice(q,1),St.splice(q,1),Nt--,U>Nt&&(U=Nt),this.setPage(U))},Tn=function(q){q>0&&q<=Nt&&(U=q)},sn=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return pe.length-1},Sa=function(q,fe,je){var Ve,it=void 0;return je=je||{},q=q!==void 0?q:mr[Kt].fontName,fe=fe!==void 0?fe:mr[Kt].fontStyle,Ve=q.toLowerCase(),wr[Ve]!==void 0&&wr[Ve][fe]!==void 0?it=wr[Ve][fe]:wr[q]!==void 0&&wr[q][fe]!==void 0?it=wr[q][fe]:je.disableWarning===!1&&qa.warn("Unable to look up font label for font '"+q+"', '"+fe+"'. Refer to getFontList() for available fonts."),it||je.noFallback||(it=wr.times[fe])==null&&(it=wr.times.normal),it},cn=h.__private__.putInfo=function(){var q=en(),fe=function(Ve){return Ve};for(var je in f!==null&&(fe=Dn.encryptor(q,0)),be("<<"),be("/Producer ("+on(fe("jsPDF "+gn.version))+")"),ht)ht.hasOwnProperty(je)&&ht[je]&&be("/"+je.substr(0,1).toUpperCase()+je.substr(1)+" ("+on(fe(ht[je]))+")");be("/CreationDate ("+on(fe(V))+")"),be(">>"),be("endobj")},oo=h.__private__.putCatalog=function(q){var fe=(q=q||{}).rootDictionaryObjId||rn;switch(en(),be("<<"),be("/Type /Catalog"),be("/Pages "+fe+" 0 R"),Xe||(Xe="fullwidth"),Xe){case"fullwidth":be("/OpenAction [3 0 R /FitH null]");break;case"fullheight":be("/OpenAction [3 0 R /FitV null]");break;case"fullpage":be("/OpenAction [3 0 R /Fit]");break;case"original":be("/OpenAction [3 0 R /XYZ null null 1]");break;default:var je=""+Xe;je.substr(je.length-1)==="%"&&(Xe=parseInt(Xe)/100),typeof Xe=="number"&&be("/OpenAction [3 0 R /XYZ null null "+T(Xe)+"]")}switch(Gt||(Gt="continuous"),Gt){case"continuous":be("/PageLayout /OneColumn");break;case"single":be("/PageLayout /SinglePage");break;case"two":case"twoleft":be("/PageLayout /TwoColumnLeft");break;case"tworight":be("/PageLayout /TwoColumnRight")}ut&&be("/PageMode /"+ut),Ot.publish("putCatalog"),be(">>"),be("endobj")},Co=h.__private__.putTrailer=function(){be("trailer"),be("<<"),be("/Size "+(me+1)),be("/Root "+me+" 0 R"),be("/Info "+(me-1)+" 0 R"),f!==null&&be("/Encrypt "+Dn.oid+" 0 R"),be("/ID [ <"+J+"> <"+J+"> ]"),be(">>")},Xt=h.__private__.putHeader=function(){be("%PDF-"+E),be("%")},Le=h.__private__.putXRef=function(){var q="0000000000";be("xref"),be("0 "+(me+1)),be("0000000000 65535 f ");for(var fe=1;fe<=me;fe++)typeof de[fe]=="function"?be((q+de[fe]()).slice(-10)+" 00000 n "):de[fe]!==void 0?be((q+de[fe]).slice(-10)+" 00000 n "):be("0000000000 00000 n ")},Dt=h.__private__.buildDocument=function(){He(),Re(oe),Ot.publish("buildDocument"),Xt(),ot(),qr(),Cr(),f!==null&&Se(),cn(),oo();var q=ee;return Le(),Co(),be("startxref"),be(""+q),be("%%EOF"),Re(pe[U]),oe.join(`
`)},yr=h.__private__.getBlob=function(q){return new Blob([Ae(q)],{type:"application/pdf"})},In=h.output=h.__private__.output=Vr(function(q,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",q){case void 0:return Dt();case"save":h.save(fe.filename);break;case"arraybuffer":return Ae(Dt());case"blob":return yr(Dt());case"bloburi":case"bloburl":if(bn.URL!==void 0&&typeof bn.URL.createObjectURL=="function")return bn.URL&&bn.URL.createObjectURL(yr(Dt()))||void 0;qa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var je="",Ve=Dt();try{je=SS(Ve)}catch{je=SS(unescape(encodeURIComponent(Ve)))}return"data:application/pdf;filename="+fe.filename+";base64,"+je;case"pdfobjectnewwindow":if(Object.prototype.toString.call(bn)==="[object Window]"){var it="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",It=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(it=fe.pdfObjectUrl,It="");var Zt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+it+'"'+It+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",Er=bn.open();return Er!==null&&Er.document.write(Zt),Er}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(bn)==="[object Window]"){var jr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',an=bn.open();if(an!==null){an.document.write(jr);var hn=this;an.document.documentElement.querySelector("#pdfViewer").onload=function(){an.document.title=fe.filename,an.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(hn.output("bloburl"))}}return an}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(bn)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var _n='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',Ia=bn.open();if(Ia!==null&&(Ia.document.write(_n),Ia.document.title=fe.filename),Ia||typeof safari>"u")return Ia;break;case"datauri":case"dataurl":return bn.document.location.href=this.output("datauristring",fe);default:return null}}),En=function(q){return Array.isArray(gr)===!0&&gr.indexOf(q)>-1};switch(n){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=En("px_scaling")==1?.75:96/72;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);bt=n}var Dn=null;B(),G();var go=function(q){return f!==null?Dn.encryptor(q,0):function(fe){return fe}},$a=h.__private__.getPageInfo=h.getPageInfo=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:St[q].objId,pageNumber:q,pageContext:St[q]}},Pt=h.__private__.getPageInfoByObjId=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in St)if(St[fe].objId===q)break;return $a(fe)},De=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:St[U].objId,pageNumber:U,pageContext:St[U]}};h.addPage=function(){return la.apply(this,arguments),this},h.setPage=function(){return Tn.apply(this,arguments),Re.call(this,pe[U]),this},h.insertPage=function(q){return this.addPage(),this.movePage(U,q),this},h.movePage=function(q,fe){var je,Ve;if(q>fe){je=pe[q],Ve=St[q];for(var it=q;it>fe;it--)pe[it]=pe[it-1],St[it]=St[it-1];pe[fe]=je,St[fe]=Ve,this.setPage(fe)}else if(q<fe){je=pe[q],Ve=St[q];for(var It=q;It<fe;It++)pe[It]=pe[It+1],St[It]=St[It+1];pe[fe]=je,St[fe]=Ve,this.setPage(fe)}return this},h.deletePage=function(){return ra.apply(this,arguments),this},h.__private__.text=h.text=function(q,fe,je,Ve,it){var It,Zt,Er,jr,an,hn,_n,Ia,Da,Mt=(Ve=Ve||{}).scope||this;if(typeof q=="number"&&typeof fe=="number"&&(typeof je=="string"||Array.isArray(je))){var Me=je;je=fe,fe=q,q=Me}if(arguments[3]instanceof Ct?(O("The transform parameter of text() with a Matrix value"),Da=it):(Er=arguments[4],jr=arguments[5],Ra(_n=arguments[3])==="object"&&_n!==null||(typeof Er=="string"&&(jr=Er,Er=null),typeof _n=="string"&&(jr=_n,_n=null),typeof _n=="number"&&(Er=_n,_n=null),Ve={flags:_n,angle:Er,align:jr})),isNaN(fe)||isNaN(je)||q==null)throw new Error("Invalid arguments passed to jsPDF.text");if(q.length===0)return Mt;var Je="",yt=!1,Lt=typeof Ve.lineHeightFactor=="number"?Ve.lineHeightFactor:hs,Wt=Mt.internal.scaleFactor;function Tt(fa){return fa=fa.split("	").join(Array(Ve.TabLen||9).join(" ")),on(fa,_n)}function tr(fa){for(var na,Ka=fa.concat(),lo=[],Us=Ka.length;Us--;)typeof(na=Ka.shift())=="string"?lo.push(na):Array.isArray(fa)&&(na.length===1||na[1]===void 0&&na[2]===void 0)?lo.push(na[0]):lo.push([na[0],na[1],na[2]]);return lo}function ur(fa,na){var Ka;if(typeof fa=="string")Ka=na(fa)[0];else if(Array.isArray(fa)){for(var lo,Us,Kc=fa.concat(),lc=[],ji=Kc.length;ji--;)typeof(lo=Kc.shift())=="string"?lc.push(na(lo)[0]):Array.isArray(lo)&&typeof lo[0]=="string"&&(Us=na(lo[0],lo[1],lo[2]),lc.push([Us[0],Us[1],Us[2]]));Ka=lc}return Ka}var Nr=!1,Xr=!0;if(typeof q=="string")Nr=!0;else if(Array.isArray(q)){var Nn=q.concat();Zt=[];for(var jn,tn=Nn.length;tn--;)(typeof(jn=Nn.shift())!="string"||Array.isArray(jn)&&typeof jn[0]!="string")&&(Xr=!1);Nr=Xr}if(Nr===!1)throw new Error('Type of text must be string or Array. "'+q+'" is not recognized.');typeof q=="string"&&(q=q.match(/[\r?\n]/)?q.split(/\r\n|\r|\n/g):[q]);var Wa=Be/Mt.internal.scaleFactor,$o=Wa*(Lt-1);switch(Ve.baseline){case"bottom":je-=$o;break;case"top":je+=Wa-$o;break;case"hanging":je+=Wa-2*$o;break;case"middle":je+=Wa/2-$o}if((hn=Ve.maxWidth||0)>0&&(typeof q=="string"?q=Mt.splitTextToSize(q,hn):Object.prototype.toString.call(q)==="[object Array]"&&(q=q.reduce(function(fa,na){return fa.concat(Mt.splitTextToSize(na,hn))},[]))),It={text:q,x:fe,y:je,options:Ve,mutex:{pdfEscape:on,activeFontKey:Kt,fonts:mr,activeFontSize:Be}},Ot.publish("preProcessText",It),q=It.text,Er=(Ve=It.options).angle,!(Da instanceof Ct)&&Er&&typeof Er=="number"){Er*=Math.PI/180,Ve.rotationDirection===0&&(Er=-Er),N===w.ADVANCED&&(Er=-Er);var zo=Math.cos(Er),Ga=Math.sin(Er);Da=new Ct(zo,Ga,-Ga,zo,0,0)}else Er&&Er instanceof Ct&&(Da=Er);N!==w.ADVANCED||Da||(Da=Kr),(an=Ve.charSpace||vo)!==void 0&&(Je+=R(_(an))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ia=Ve.horizontalScale)!==void 0&&(Je+=R(100*Ia)+` Tz
`),Ve.lang;var da=-1,vi=Ve.renderingMode!==void 0?Ve.renderingMode:Ve.stroke,Xi=Mt.internal.getCurrentPageInfo().pageContext;switch(vi){case 0:case!1:case"fill":da=0;break;case 1:case!0:case"stroke":da=1;break;case 2:case"fillThenStroke":da=2;break;case 3:case"invisible":da=3;break;case 4:case"fillAndAddForClipping":da=4;break;case 5:case"strokeAndAddPathForClipping":da=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":da=6;break;case 7:case"addToPathForClipping":da=7}var ll=Xi.usedRenderingMode!==void 0?Xi.usedRenderingMode:-1;da!==-1?Je+=da+` Tr
`:ll!==-1&&(Je+=`0 Tr
`),da!==-1&&(Xi.usedRenderingMode=da),jr=Ve.align||"left";var Ba,oc=Be*Lt,ic=Mt.internal.pageSize.getWidth(),ko=mr[Kt];an=Ve.charSpace||vo,hn=Ve.maxWidth||0,_n=Object.assign({autoencode:!0,noBOM:!0},Ve.flags);var js=[],Ml=function(fa){return Mt.getStringUnitWidth(fa,{font:ko,charSpace:an,fontSize:Be,doKerning:!1})*Be/Wt};if(Object.prototype.toString.call(q)==="[object Array]"){var Bo;Zt=tr(q),jr!=="left"&&(Ba=Zt.map(Ml));var Ao,Dl=0;if(jr==="right"){fe-=Ba[0],q=[],tn=Zt.length;for(var cl=0;cl<tn;cl++)cl===0?(Ao=ei(fe),Bo=uo(je)):(Ao=_(Dl-Ba[cl]),Bo=-oc),q.push([Zt[cl],Ao,Bo]),Dl=Ba[cl]}else if(jr==="center"){fe-=Ba[0]/2,q=[],tn=Zt.length;for(var ul=0;ul<tn;ul++)ul===0?(Ao=ei(fe),Bo=uo(je)):(Ao=_((Dl-Ba[ul])/2),Bo=-oc),q.push([Zt[ul],Ao,Bo]),Dl=Ba[ul]}else if(jr==="left"){q=[],tn=Zt.length;for(var Gc=0;Gc<tn;Gc++)q.push(Zt[Gc])}else if(jr==="justify"&&ko.encoding==="Identity-H"){q=[],tn=Zt.length,hn=hn!==0?hn:ic;for(var dl=0,Qn=0;Qn<tn;Qn++)if(Bo=Qn===0?uo(je):-oc,Ao=Qn===0?ei(fe):dl,Qn<tn-1){var Fs=_((hn-Ba[Qn])/(Zt[Qn].split(" ").length-1)),Oo=Zt[Qn].split(" ");q.push([Oo[0]+" ",Ao,Bo]),dl=0;for(var ri=1;ri<Oo.length;ri++){var sc=(Ml(Oo[ri-1]+" "+Oo[ri])-Ml(Oo[ri]))*Wt+Fs;ri==Oo.length-1?q.push([Oo[ri],sc,0]):q.push([Oo[ri]+" ",sc,0]),dl-=sc}}else q.push([Zt[Qn],Ao,Bo]);q.push(["",dl,0])}else{if(jr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(q=[],tn=Zt.length,hn=hn!==0?hn:ic,Qn=0;Qn<tn;Qn++)Bo=Qn===0?uo(je):-oc,Ao=Qn===0?ei(fe):0,Qn<tn-1?js.push(R(_((hn-Ba[Qn])/(Zt[Qn].split(" ").length-1)))):js.push(0),q.push([Zt[Qn],Ao,Bo])}}var xu=typeof Ve.R2L=="boolean"?Ve.R2L:Et;xu===!0&&(q=ur(q,function(fa,na,Ka){return[fa.split("").reverse().join(""),na,Ka]})),It={text:q,x:fe,y:je,options:Ve,mutex:{pdfEscape:on,activeFontKey:Kt,fonts:mr,activeFontSize:Be}},Ot.publish("postProcessText",It),q=It.text,yt=It.mutex.isHex||!1;var Mi=mr[Kt].encoding;Mi!=="WinAnsiEncoding"&&Mi!=="StandardEncoding"||(q=ur(q,function(fa,na,Ka){return[Tt(fa),na,Ka]})),Zt=tr(q),q=[];for(var ni,jl,Di,$s=0,bs=1,zs=Array.isArray(Zt[0])?bs:$s,Bs="",Fl=function(fa,na,Ka){var lo="";return Ka instanceof Ct?(Ka=typeof Ve.angle=="number"?_t(Ka,new Ct(1,0,0,1,fa,na)):_t(new Ct(1,0,0,1,fa,na),Ka),N===w.ADVANCED&&(Ka=_t(new Ct(1,0,0,-1,0,0),Ka)),lo=Ka.join(" ")+` Tm
`):lo=R(fa)+" "+R(na)+` Td
`,lo},Io=0;Io<Zt.length;Io++){switch(Bs="",zs){case bs:Di=(yt?"<":"(")+Zt[Io][0]+(yt?">":")"),ni=parseFloat(Zt[Io][1]),jl=parseFloat(Zt[Io][2]);break;case $s:Di=(yt?"<":"(")+Zt[Io]+(yt?">":")"),ni=ei(fe),jl=uo(je)}js!==void 0&&js[Io]!==void 0&&(Bs=js[Io]+` Tw
`),Io===0?q.push(Bs+Fl(ni,jl,Da)+Di):zs===$s?q.push(Bs+Di):zs===bs&&q.push(Bs+Fl(ni,jl,Da)+Di)}q=zs===$s?q.join(` Tj
T* `):q.join(` Tj
`),q+=` Tj
`;var bi=`BT
/`;return bi+=Kt+" "+Be+` Tf
`,bi+=R(Be*Lt)+` TL
`,bi+=Ha+`
`,bi+=Je,bi+=q,be(bi+="ET"),v[Kt]=!0,Mt};var lt=h.__private__.clip=h.clip=function(q){return be(q==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return lt("evenodd")},h.__private__.discardPath=h.discardPath=function(){return be("n"),this};var Vt=h.__private__.isValidStyle=function(q){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(q)!==-1&&(fe=!0),fe};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(q){return Vt(q)&&(u=q),this};var Dr=h.__private__.getStyle=h.getStyle=function(q){var fe=u;switch(q){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=q}return fe},nn=h.close=function(){return be("h"),this};h.stroke=function(){return be("S"),this},h.fill=function(q){return Vn("f",q),this},h.fillEvenOdd=function(q){return Vn("f*",q),this},h.fillStroke=function(q){return Vn("B",q),this},h.fillStrokeEvenOdd=function(q){return Vn("B*",q),this};var Vn=function(q,fe){Ra(fe)==="object"?hi(fe,q):be(q)},za=function(q){q===null||N===w.ADVANCED&&q===void 0||(q=Dr(q),be(q))};function io(q,fe,je,Ve,it){var It=new Hm(fe||this.boundingBox,je||this.xStep,Ve||this.yStep,this.gState,it||this.matrix);It.stream=this.stream;var Zt=q+"$$"+this.cloneIndex+++"$$";return yn(Zt,It),It}var hi=function(q,fe){var je=kt[q.key],Ve=Sr[je];if(Ve instanceof Af)be("q"),be(rl(fe)),Ve.gState&&h.setGState(Ve.gState),be(q.matrix.toString()+" cm"),be("/"+je+" sh"),be("Q");else if(Ve instanceof Hm){var it=new Ct(1,0,0,-1,0,Ji());q.matrix&&(it=it.multiply(q.matrix||Kr),je=io.call(Ve,q.key,q.boundingBox,q.xStep,q.yStep,it).id),be("q"),be("/Pattern cs"),be("/"+je+" scn"),Ve.gState&&h.setGState(Ve.gState),be(fe),be("Q")}},rl=function(q){switch(q){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Ii=h.moveTo=function(q,fe){return be(R(_(q))+" "+R(z(fe))+" m"),this},ho=h.lineTo=function(q,fe){return be(R(_(q))+" "+R(z(fe))+" l"),this},so=h.curveTo=function(q,fe,je,Ve,it,It){return be([R(_(q)),R(z(fe)),R(_(je)),R(z(Ve)),R(_(it)),R(z(It)),"c"].join(" ")),this};h.__private__.line=h.line=function(q,fe,je,Ve,it){if(isNaN(q)||isNaN(fe)||isNaN(je)||isNaN(Ve)||!Vt(it))throw new Error("Invalid arguments passed to jsPDF.line");return N===w.COMPAT?this.lines([[je-q,Ve-fe]],q,fe,[1,1],it||"S"):this.lines([[je-q,Ve-fe]],q,fe,[1,1]).stroke()},h.__private__.lines=h.lines=function(q,fe,je,Ve,it,It){var Zt,Er,jr,an,hn,_n,Ia,Da,Mt,Me,Je,yt;if(typeof q=="number"&&(yt=je,je=fe,fe=q,q=yt),Ve=Ve||[1,1],It=It||!1,isNaN(fe)||isNaN(je)||!Array.isArray(q)||!Array.isArray(Ve)||!Vt(it)||typeof It!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Ii(fe,je),Zt=Ve[0],Er=Ve[1],an=q.length,Me=fe,Je=je,jr=0;jr<an;jr++)(hn=q[jr]).length===2?(Me=hn[0]*Zt+Me,Je=hn[1]*Er+Je,ho(Me,Je)):(_n=hn[0]*Zt+Me,Ia=hn[1]*Er+Je,Da=hn[2]*Zt+Me,Mt=hn[3]*Er+Je,Me=hn[4]*Zt+Me,Je=hn[5]*Er+Je,so(_n,Ia,Da,Mt,Me,Je));return It&&nn(),za(it),this},h.path=function(q){for(var fe=0;fe<q.length;fe++){var je=q[fe],Ve=je.c;switch(je.op){case"m":Ii(Ve[0],Ve[1]);break;case"l":ho(Ve[0],Ve[1]);break;case"c":so.apply(this,Ve);break;case"h":nn()}}return this},h.__private__.rect=h.rect=function(q,fe,je,Ve,it){if(isNaN(q)||isNaN(fe)||isNaN(je)||isNaN(Ve)||!Vt(it))throw new Error("Invalid arguments passed to jsPDF.rect");return N===w.COMPAT&&(Ve=-Ve),be([R(_(q)),R(z(fe)),R(_(je)),R(_(Ve)),"re"].join(" ")),za(it),this},h.__private__.triangle=h.triangle=function(q,fe,je,Ve,it,It,Zt){if(isNaN(q)||isNaN(fe)||isNaN(je)||isNaN(Ve)||isNaN(it)||isNaN(It)||!Vt(Zt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[je-q,Ve-fe],[it-je,It-Ve],[q-it,fe-It]],q,fe,[1,1],Zt,!0),this},h.__private__.roundedRect=h.roundedRect=function(q,fe,je,Ve,it,It,Zt){if(isNaN(q)||isNaN(fe)||isNaN(je)||isNaN(Ve)||isNaN(it)||isNaN(It)||!Vt(Zt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Er=4/3*(Math.SQRT2-1);return it=Math.min(it,.5*je),It=Math.min(It,.5*Ve),this.lines([[je-2*it,0],[it*Er,0,it,It-It*Er,it,It],[0,Ve-2*It],[0,It*Er,-it*Er,It,-it,It],[2*it-je,0],[-it*Er,0,-it,-It*Er,-it,-It],[0,2*It-Ve],[0,-It*Er,it*Er,-It,it,-It]],q+it,fe,[1,1],Zt,!0),this},h.__private__.ellipse=h.ellipse=function(q,fe,je,Ve,it){if(isNaN(q)||isNaN(fe)||isNaN(je)||isNaN(Ve)||!Vt(it))throw new Error("Invalid arguments passed to jsPDF.ellipse");var It=4/3*(Math.SQRT2-1)*je,Zt=4/3*(Math.SQRT2-1)*Ve;return Ii(q+je,fe),so(q+je,fe-Zt,q+It,fe-Ve,q,fe-Ve),so(q-It,fe-Ve,q-je,fe-Zt,q-je,fe),so(q-je,fe+Zt,q-It,fe+Ve,q,fe+Ve),so(q+It,fe+Ve,q+je,fe+Zt,q+je,fe),za(it),this},h.__private__.circle=h.circle=function(q,fe,je,Ve){if(isNaN(q)||isNaN(fe)||isNaN(je)||!Vt(Ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(q,fe,je,je,Ve)},h.setFont=function(q,fe,je){return je&&(fe=L(fe,je)),Kt=Sa(q,fe,{disableWarning:!1}),this};var Ms=h.__private__.getFont=h.getFont=function(){return mr[Sa.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var q,fe,je={};for(q in wr)if(wr.hasOwnProperty(q))for(fe in je[q]=[],wr[q])wr[q].hasOwnProperty(fe)&&je[q].push(fe);return je},h.addFont=function(q,fe,je,Ve,it){var It=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&It.indexOf(arguments[3])!==-1?it=arguments[3]:arguments[3]&&It.indexOf(arguments[3])==-1&&(je=L(je,Ve)),it=it||"Identity-H",Mn.call(this,q,fe,je,it)};var hs,vs=t.lineWidth||.200025,Gi=h.__private__.getLineWidth=h.getLineWidth=function(){return vs},Ds=h.__private__.setLineWidth=h.setLineWidth=function(q){return vs=q,be(R(_(q))+" w"),this};h.__private__.setLineDash=gn.API.setLineDash=gn.API.setLineDashPattern=function(q,fe){if(q=q||[],fe=fe||0,isNaN(fe)||!Array.isArray(q))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return q=q.map(function(je){return R(_(je))}).join(" "),fe=R(_(fe)),be("["+q+"] "+fe+" d"),this};var _i=h.__private__.getLineHeight=h.getLineHeight=function(){return Be*hs};h.__private__.getLineHeight=h.getLineHeight=function(){return Be*hs};var Zo=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(q){return typeof(q=q||1.15)=="number"&&(hs=q),this},Qo=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return hs};Zo(t.lineHeight);var ei=h.__private__.getHorizontalCoordinate=function(q){return _(q)},uo=h.__private__.getVerticalCoordinate=function(q){return N===w.ADVANCED?q:St[U].mediaBox.topRightY-St[U].mediaBox.bottomLeftY-_(q)},Hc=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(q){return R(ei(q))},ti=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(q){return R(uo(q))},Po=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return ct(Po)},h.__private__.setStrokeColor=h.setDrawColor=function(q,fe,je,Ve){return Po=At({ch1:q,ch2:fe,ch3:je,ch4:Ve,pdfColorType:"draw",precision:2}),be(Po),this};var nl=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return ct(nl)},h.__private__.setFillColor=h.setFillColor=function(q,fe,je,Ve){return nl=At({ch1:q,ch2:fe,ch3:je,ch4:Ve,pdfColorType:"fill",precision:2}),be(nl),this};var Ha=t.textColor||"0 g",No=h.__private__.getTextColor=h.getTextColor=function(){return ct(Ha)};h.__private__.setTextColor=h.setTextColor=function(q,fe,je,Ve){return Ha=At({ch1:q,ch2:fe,ch3:je,ch4:Ve,pdfColorType:"text",precision:3}),this};var vo=t.charSpace,Ki=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(vo||0)};h.__private__.setCharSpace=h.setCharSpace=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return vo=q,this};var ac=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(q){var fe=h.CapJoinStyles[q];if(fe===void 0)throw new Error("Line cap style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ac=fe,be(fe+" J"),this};var al=0;h.__private__.setLineJoin=h.setLineJoin=function(q){var fe=h.CapJoinStyles[q];if(fe===void 0)throw new Error("Line join style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return al=fe,be(fe+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(q){if(q=q||0,isNaN(q))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return be(R(_(q))+" M"),this},h.GState=Vb,h.setGState=function(q){(q=typeof q=="string"?Ee[Ne[q]]:ol(null,q)).equals(qe)||(be("/"+q.id+" gs"),qe=q)};var ol=function(q,fe){if(!q||!Ne[q]){var je=!1;for(var Ve in Ee)if(Ee.hasOwnProperty(Ve)&&Ee[Ve].equals(fe)){je=!0;break}if(je)fe=Ee[Ve];else{var it="GS"+(Object.keys(Ee).length+1).toString(10);Ee[it]=fe,fe.id=it}return q&&(Ne[q]=fe.id),Ot.publish("addGState",fe),fe}};h.addGState=function(q,fe){return ol(q,fe),this},h.saveGraphicsState=function(){return be("q"),Ur.push({key:Kt,size:Be,color:Ha}),this},h.restoreGraphicsState=function(){be("Q");var q=Ur.pop();return Kt=q.key,Be=q.size,Ha=q.color,qe=null,this},h.setCurrentTransformationMatrix=function(q){return be(q.toString()+" cm"),this},h.comment=function(q){return be("#"+q),this};var Li=function(q,fe){var je=q||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return je},set:function(It){isNaN(It)||(je=parseFloat(It))}});var Ve=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Ve},set:function(It){isNaN(It)||(Ve=parseFloat(It))}});var it="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return it},set:function(It){it=It.toString()}}),this},Ti=function(q,fe,je,Ve){Li.call(this,q,fe),this.type="rect";var it=je||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return it},set:function(Zt){isNaN(Zt)||(it=parseFloat(Zt))}});var It=Ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return It},set:function(Zt){isNaN(Zt)||(It=parseFloat(Zt))}}),this},Tl=function(){this.page=Nt,this.currentPage=U,this.pages=pe.slice(0),this.pagesContext=St.slice(0),this.x=Ar,this.y=Jt,this.matrix=Lr,this.width=Yi(U),this.height=Ji(U),this.outputDestination=_e,this.id="",this.objectNumber=-1};Tl.prototype.restore=function(){Nt=this.page,U=this.currentPage,St=this.pagesContext,pe=this.pages,Ar=this.x,Jt=this.y,Lr=this.matrix,Ri(U,this.width),sl(U,this.height),_e=this.outputDestination};var Wc=function(q,fe,je,Ve,it){st.push(new Tl),Nt=U=0,pe=[],Ar=q,Jt=fe,Lr=it,Pn([je,Ve])},Rl=function(q){if(zr[q])st.pop().restore();else{var fe=new Tl,je="Xo"+(Object.keys(lr).length+1).toString(10);fe.id=je,zr[q]=je,lr[je]=fe,Ot.publish("addFormObject",fe),st.pop().restore()}};for(var il in h.beginFormObject=function(q,fe,je,Ve,it){return Wc(q,fe,je,Ve,it),this},h.endFormObject=function(q){return Rl(q),this},h.doFormObject=function(q,fe){var je=lr[zr[q]];return be("q"),be(fe.toString()+" cm"),be("/"+je.id+" Do"),be("Q"),this},h.getFormObject=function(q){var fe=lr[zr[q]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},h.save=function(q,fe){return q=q||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(Cf(yr(Dt()),q),typeof Cf.unload=="function"&&bn.setTimeout&&setTimeout(Cf.unload,911),this):new Promise(function(je,Ve){try{var it=Cf(yr(Dt()),q);typeof Cf.unload=="function"&&bn.setTimeout&&setTimeout(Cf.unload,911),je(it)}catch(It){Ve(It.message)}})},gn.API)gn.API.hasOwnProperty(il)&&(il==="events"&&gn.API.events.length?function(q,fe){var je,Ve,it;for(it=fe.length-1;it!==-1;it--)je=fe[it][0],Ve=fe[it][1],q.subscribe.apply(q,[je].concat(typeof Ve=="function"?[Ve]:Ve))}(Ot,gn.API.events):h[il]=gn.API[il]);var Yi=h.getPageWidth=function(q){return(St[q=q||U].mediaBox.topRightX-St[q].mediaBox.bottomLeftX)/bt},Ri=h.setPageWidth=function(q,fe){St[q].mediaBox.topRightX=fe*bt+St[q].mediaBox.bottomLeftX},Ji=h.getPageHeight=function(q){return(St[q=q||U].mediaBox.topRightY-St[q].mediaBox.bottomLeftY)/bt},sl=h.setPageHeight=function(q,fe){St[q].mediaBox.topRightY=fe*bt+St[q].mediaBox.bottomLeftY};return h.internal={pdfEscape:on,getStyle:Dr,getFont:Ms,getFontSize:Ke,getCharSpace:Ki,getTextColor:No,getLineHeight:_i,getLineHeightFactor:Qo,getLineWidth:Gi,write:gt,getHorizontalCoordinate:ei,getVerticalCoordinate:uo,getCoordinateString:Hc,getVerticalCoordinateString:ti,collections:{},newObject:en,newAdditionalObject:mn,newObjectDeferred:pr,newObjectDeferredBegin:Tr,getFilters:Yt,putStream:Ye,events:Ot,scaleFactor:bt,pageSize:{getWidth:function(){return Yi(U)},setWidth:function(q){Ri(U,q)},getHeight:function(){return Ji(U)},setHeight:function(q){sl(U,q)}},encryptionOptions:f,encryption:Dn,getEncryptor:go,output:In,getNumberOfPages:sn,pages:pe,out:be,f2:T,f3:C,getPageInfo:$a,getPageInfoByObjId:Pt,getCurrentPageInfo:De,getPDFVersion:y,Point:Li,Rectangle:Ti,Matrix:Ct,hasHotfix:En},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Yi(U)},set:function(q){Ri(U,q)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Ji(U)},set:function(q){sl(U,q)},enumerable:!0,configurable:!0}),kr.call(h,ke),Kt="F1",la(a,r),Ot.publish("initialized"),h}Fm.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},Fm.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Fm.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},Fm.prototype.processOwnerPassword=function(t,e){return PS(CS(e).substr(0,5),t)},Fm.prototype.encryptor=function(t,e){var r=CS(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return PS(r,n)}},Vb.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Ra(t)!==Ra(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},gn.API={events:[]},gn.version="3.0.1";var xo=gn.API,E3=1,em=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Am=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ln=function(t){return t.toFixed(2)},Pd=function(t){return t.toFixed(5)};xo.__acroform__={};var el=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Ok=function(t){return t*E3},su=function(t){var e=new l9,r=Wr.internal.getHeight(t)||0,n=Wr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Ln(n)),Number(Ln(r))],e},pW=xo.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},gW=xo.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},hW=xo.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(t&1<<e)==0?0:1},Mo=xo.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return hW(t,e-1)},Do=xo.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return pW(t,e-1)},jo=xo.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return gW(t,e-1)},vW=xo.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],i=t[1],s=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(a+s)||0,c.upperRight_Y=n(i)||0,[Number(Ln(c.lowerLeft_X)),Number(Ln(c.lowerLeft_Y)),Number(Ln(c.upperRight_X)),Number(Ln(c.upperRight_Y))]},bW=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=NS(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+Ln(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=su(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},NS=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(C){return C.split(`
`)}):a.map(function(C){return[C]});var i=r,s=Wr.internal.getHeight(t)||0;s=s<0?-s:s;var l=Wr.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(C,_,D){if(C+1<a.length){var z=_+" "+a[C+1][0];return nb(z,t,D).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var u,f,m=nb("3",t,i).height,v=t.multiline?s-i:(s-m)/2,h=v+=2,E=0,y=0,b=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+nb(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var x="",w=0,N=0;N<a.length;N++)if(a.hasOwnProperty(N)){var I=!1;if(a[N].length!==1&&b!==a[N].length-1){if((m+2)*(w+2)+2>s)continue e;x+=a[N][b],I=!0,y=N,N--}else{x=(x+=a[N][b]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var P=parseInt(N),L=c(P,x,i),R=N>=a.length-1;if(L&&!R){x+=" ",b=0;continue}if(L||R){if(R)y=P;else if(t.multiline&&(m+2)*(w+2)+2>s)continue e}else{if(!t.multiline||(m+2)*(w+2)+2>s)continue e;y=P}}for(var O="",A=E;A<=y;A++){var T=a[A];if(t.multiline){if(A===y){O+=T[b]+" ",b=(b+1)%T.length;continue}if(A===E){O+=T[T.length-1]+" ";continue}}O+=T[0]+" "}switch(O=O.substr(O.length-1)==" "?O.substr(0,O.length-1):O,f=nb(O,t,i).width,t.textAlign){case"right":u=l-f-2;break;case"center":u=(l-f)/2;break;case"left":default:u=2}e+=Ln(u)+" "+Ln(h)+` Td
`,e+="("+em(O)+`) Tj
`,e+=-Ln(u)+` 0 Td
`,h=-(i+2),f=0,E=I?y:y+1,w++,x=""}break}return n.text=e,n.fontSize=i,n},nb=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},yW={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},EW=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},xW=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,a=t[r];e.internal.newObjectDeferredBegin(a.objId,!0),Ra(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete t[n]}},wW=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Uc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(yW)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");E3=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new c9,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var i=n[a];i.objId=void 0,i.hasAnnotation&&EW(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var i=!n;for(var s in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(s)){var l=n[s],c=[],u=l.Rect;if(l.Rect&&(l.Rect=vW(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=Wr.createDefaultAppearanceStream(l),Ra(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=bW(l);c.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var m="";for(var v in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(v)){var h=l.appearanceStreamContent[v];if(m+="/"+v+" ",m+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var s in h)if(h.hasOwnProperty(s)){var E=h[s];typeof E=="function"&&(E=E.call(a,l)),m+="/"+s+" "+E+" ",a.internal.acroformPlugin.xForms.indexOf(E)>=0||a.internal.acroformPlugin.xForms.push(E)}}else typeof(E=h)=="function"&&(E=E.call(a,l)),m+="/"+s+" "+E,a.internal.acroformPlugin.xForms.indexOf(E)>=0||a.internal.acroformPlugin.xForms.push(E);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}i&&xW(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},s9=xo.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(s){return s};if(Array.isArray(t)){for(var a="[",i=0;i<t.length;i++)switch(i!==0&&(a+=" "),Ra(t[i])){case"boolean":case"number":case"object":a+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+em(n(t[i].toString()))+")"):a+=t[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},oE=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+em(n(t))+")"},fu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};fu.prototype.toString=function(){return this.objId+" 0 R"},fu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},fu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:s9(a,this.objId,this.scope)}):a instanceof fu?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var l9=function(){fu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};el(l9,fu);var c9=function(){fu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+em(r(t))+")"}},set:function(r){t=r}})};el(c9,fu);var Uc=function t(){fu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');e=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Mo(e,3)},set:function(x){x?this.F=Do(e,3):this.F=jo(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');r=x}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(x){n=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(x){n[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(x){n[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(x){n[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(x){n[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof Hb)return;i="FieldObject"+t.FieldNum++}var x=function(w){return w};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+em(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(x){l=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/E3:u},set:function(x){u=x}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(x){f=x}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof Hb||this instanceof zf))return oE(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=x}});var v=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(v)return this instanceof Pi?v:oE(v,this.objId,this.scope)},set:function(x){x=x.toString(),v=this instanceof Pi?x:x.substr(0,1)==="("?Am(x.substr(1,x.length-2)):Am(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pi?Am(v.substr(1,v.length-1)):v},set:function(x){x=x.toString(),v=this instanceof Pi?"/"+x:x}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof Pi?h:oE(h,this.objId,this.scope)},set:function(x){x=x.toString(),h=this instanceof Pi?x:x.substr(0,1)==="("?Am(x.substr(1,x.length-2)):Am(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Pi?Am(h.substr(1,h.length-1)):h},set:function(x){x=x.toString(),h=this instanceof Pi?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var E,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(x){x=!!x,y=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(E)return E},set:function(x){E=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,1)},set:function(x){x?this.Ff=Do(this.Ff,1):this.Ff=jo(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,2)},set:function(x){x?this.Ff=Do(this.Ff,2):this.Ff=jo(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,3)},set:function(x){x?this.Ff=Do(this.Ff,3):this.Ff=jo(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');b=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(b){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:b=2;break;case"center":case 1:b=1;break;case"left":case 0:default:b=0}}})};el(Uc,fu);var Zm=function(){Uc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return s9(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=function(i,s,l){l||(l=1);for(var c,u=[];c=s.exec(i);)u.push(c[l]);return u}(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,18)},set:function(r){r?this.Ff=Do(this.Ff,18):this.Ff=jo(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Do(this.Ff,19):this.Ff=jo(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,20)},set:function(r){r?(this.Ff=Do(this.Ff,20),e.sort()):this.Ff=jo(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,22)},set:function(r){r?this.Ff=Do(this.Ff,22):this.Ff=jo(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,23)},set:function(r){r?this.Ff=Do(this.Ff,23):this.Ff=jo(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,27)},set:function(r){r?this.Ff=Do(this.Ff,27):this.Ff=jo(this.Ff,27)}}),this.hasAppearanceStream=!1};el(Zm,Uc);var Qm=function(){Zm.call(this),this.fontName="helvetica",this.combo=!1};el(Qm,Zm);var ep=function(){Qm.call(this),this.combo=!0};el(ep,Qm);var Ib=function(){ep.call(this),this.edit=!0};el(Ib,ep);var Pi=function(){Uc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,15)},set:function(r){r?this.Ff=Do(this.Ff,15):this.Ff=jo(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,16)},set:function(r){r?this.Ff=Do(this.Ff,16):this.Ff=jo(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,17)},set:function(r){r?this.Ff=Do(this.Ff,17):this.Ff=jo(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,26)},set:function(r){r?this.Ff=Do(this.Ff,26):this.Ff=jo(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+em(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Ra(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};el(Pi,Uc);var _b=function(){Pi.call(this),this.pushButton=!0};el(_b,Pi);var tp=function(){Pi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};el(tp,Pi);var Hb=function(){var t,e;Uc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),n)s.push("/"+i+" ("+em(a(n[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){Ra(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Wr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};el(Hb,Uc),tp.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},tp.prototype.createOption=function(t){var e=new Hb;return e.Parent=this,e.optionName=t,this.Kids.push(e),SW.call(this.scope,e),e};var Lb=function(){Pi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Wr.CheckBox.createAppearanceStream()};el(Lb,Pi);var zf=function(){Uc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,13)},set:function(e){e?this.Ff=Do(this.Ff,13):this.Ff=jo(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,21)},set:function(e){e?this.Ff=Do(this.Ff,21):this.Ff=jo(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,23)},set:function(e){e?this.Ff=Do(this.Ff,23):this.Ff=jo(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,24)},set:function(e){e?this.Ff=Do(this.Ff,24):this.Ff=jo(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,25)},set:function(e){e?this.Ff=Do(this.Ff,25):this.Ff=jo(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,26)},set:function(e){e?this.Ff=Do(this.Ff,26):this.Ff=jo(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};el(zf,Uc);var Tb=function(){zf.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Mo(this.Ff,14)},set:function(t){t?this.Ff=Do(this.Ff,14):this.Ff=jo(this.Ff,14)}}),this.password=!0};el(Tb,zf);var Wr={CheckBox:{createAppearanceStream:function(){return{N:{On:Wr.CheckBox.YesNormal},D:{On:Wr.CheckBox.YesPushDown,Off:Wr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=su(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),i=NS(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+Ln(Wr.internal.getWidth(t))+" "+Ln(Wr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+Ln(i.fontSize)+" Tf "+a),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=su(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],i=Wr.internal.getHeight(t),s=Wr.internal.getWidth(t),l=NS(t,t.caption);return a.push("1 g"),a.push("0 0 "+Ln(s)+" "+Ln(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+Ln(s-1)+" "+Ln(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+Ln(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=su(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ln(Wr.internal.getWidth(t))+" "+Ln(Wr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Wr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Wr.RadioButton.Circle.YesNormal,e.D[t]=Wr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=su(t);e.scope=t.scope;var r=[],n=Wr.internal.getWidth(t)<=Wr.internal.getHeight(t)?Wr.internal.getWidth(t)/4:Wr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Wr.internal.Bezier_C,i=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Pd(Wr.internal.getWidth(t)/2)+" "+Pd(Wr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=su(t);e.scope=t.scope;var r=[],n=Wr.internal.getWidth(t)<=Wr.internal.getHeight(t)?Wr.internal.getWidth(t)/4:Wr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Wr.internal.Bezier_C).toFixed(5)),s=Number((n*Wr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Pd(Wr.internal.getWidth(t)/2)+" "+Pd(Wr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Pd(Wr.internal.getWidth(t)/2)+" "+Pd(Wr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=su(t);e.scope=t.scope;var r=[],n=Wr.internal.getWidth(t)<=Wr.internal.getHeight(t)?Wr.internal.getWidth(t)/4:Wr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),i=Number((a*Wr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Pd(Wr.internal.getWidth(t)/2)+" "+Pd(Wr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),r.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),r.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),r.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Wr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Wr.RadioButton.Cross.YesNormal,e.D[t]=Wr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=su(t);e.scope=t.scope;var r=[],n=Wr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+Ln(Wr.internal.getWidth(t)-2)+" "+Ln(Wr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Ln(n.x1.x)+" "+Ln(n.x1.y)+" m"),r.push(Ln(n.x2.x)+" "+Ln(n.x2.y)+" l"),r.push(Ln(n.x4.x)+" "+Ln(n.x4.y)+" m"),r.push(Ln(n.x3.x)+" "+Ln(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=su(t);e.scope=t.scope;var r=Wr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+Ln(Wr.internal.getWidth(t))+" "+Ln(Wr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+Ln(Wr.internal.getWidth(t)-2)+" "+Ln(Wr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Ln(r.x1.x)+" "+Ln(r.x1.y)+" m"),n.push(Ln(r.x2.x)+" "+Ln(r.x2.y)+" l"),n.push(Ln(r.x4.x)+" "+Ln(r.x4.y)+" m"),n.push(Ln(r.x3.x)+" "+Ln(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=su(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+Ln(Wr.internal.getWidth(t))+" "+Ln(Wr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};Wr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Wr.internal.getWidth(t),r=Wr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},Wr.internal.getWidth=function(t){var e=0;return Ra(t)==="object"&&(e=Ok(t.Rect[2])),e},Wr.internal.getHeight=function(t){var e=0;return Ra(t)==="object"&&(e=Ok(t.Rect[3])),e};var SW=xo.addField=function(t){if(wW(this,t),!(t instanceof Uc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};xo.AcroFormChoiceField=Zm,xo.AcroFormListBox=Qm,xo.AcroFormComboBox=ep,xo.AcroFormEditBox=Ib,xo.AcroFormButton=Pi,xo.AcroFormPushButton=_b,xo.AcroFormRadioButton=tp,xo.AcroFormCheckBox=Lb,xo.AcroFormTextField=zf,xo.AcroFormPasswordField=Tb,xo.AcroFormAppearance=Wr,xo.AcroForm={ChoiceField:Zm,ListBox:Qm,ComboBox:ep,EditBox:Ib,Button:Pi,PushButton:_b,RadioButton:tp,CheckBox:Lb,TextField:zf,PasswordField:Tb,Appearance:Wr},gn.AcroForm={ChoiceField:Zm,ListBox:Qm,ComboBox:ep,EditBox:Ib,Button:Pi,PushButton:_b,RadioButton:tp,CheckBox:Lb,TextField:zf,PasswordField:Tb,Appearance:Wr};gn.AcroForm;function u9(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(C,_){var D,z,V,J,ie,G=e;if((_=_||e)==="RGBA"||C.data!==void 0&&C.data instanceof Uint8ClampedArray&&"height"in C&&"width"in C)return"RGBA";if(L(C))for(ie in r)for(V=r[ie],D=0;D<V.length;D+=1){for(J=!0,z=0;z<V[D].length;z+=1)if(V[D][z]!==void 0&&V[D][z]!==C[z]){J=!1;break}if(J===!0){G=ie;break}}else for(ie in r)for(V=r[ie],D=0;D<V.length;D+=1){for(J=!0,z=0;z<V[D].length;z+=1)if(V[D][z]!==void 0&&V[D][z]!==C.charCodeAt(z)){J=!1;break}if(J===!0){G=ie;break}}return G===e&&_!==e&&(G=_),G},a=function C(_){for(var D=this.internal.write,z=this.internal.putStream,V=(0,this.internal.getFilters)();V.indexOf("FlateEncode")!==-1;)V.splice(V.indexOf("FlateEncode"),1);_.objectId=this.internal.newObject();var J=[];if(J.push({key:"Type",value:"/XObject"}),J.push({key:"Subtype",value:"/Image"}),J.push({key:"Width",value:_.width}),J.push({key:"Height",value:_.height}),_.colorSpace===b.INDEXED?J.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(_.palette.length/3-1)+" "+("sMask"in _&&_.sMask!==void 0?_.objectId+2:_.objectId+1)+" 0 R]"}):(J.push({key:"ColorSpace",value:"/"+_.colorSpace}),_.colorSpace===b.DEVICE_CMYK&&J.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),J.push({key:"BitsPerComponent",value:_.bitsPerComponent}),"decodeParameters"in _&&_.decodeParameters!==void 0&&J.push({key:"DecodeParms",value:"<<"+_.decodeParameters+">>"}),"transparency"in _&&Array.isArray(_.transparency)){for(var ie="",G=0,te=_.transparency.length;G<te;G++)ie+=_.transparency[G]+" "+_.transparency[G]+" ";J.push({key:"Mask",value:"["+ie+"]"})}_.sMask!==void 0&&J.push({key:"SMask",value:_.objectId+1+" 0 R"});var W=_.filter!==void 0?["/"+_.filter]:void 0;if(z({data:_.data,additionalKeyValues:J,alreadyAppliedFilters:W,objectId:_.objectId}),D("endobj"),"sMask"in _&&_.sMask!==void 0){var B="/Predictor "+_.predictor+" /Colors 1 /BitsPerComponent "+_.bitsPerComponent+" /Columns "+_.width,j={width:_.width,height:_.height,colorSpace:"DeviceGray",bitsPerComponent:_.bitsPerComponent,decodeParameters:B,data:_.sMask};"filter"in _&&(j.filter=_.filter),C.call(this,j)}if(_.colorSpace===b.INDEXED){var U=this.internal.newObject();z({data:O(new Uint8Array(_.palette)),objectId:U}),D("endobj")}},i=function(){var C=this.internal.collections.addImage_images;for(var _ in C)a.call(this,C[_])},s=function(){var C,_=this.internal.collections.addImage_images,D=this.internal.write;for(var z in _)D("/I"+(C=_[z]).index,C.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var C=this.internal.collections.addImage_images;return l.call(this),C},u=function(){return Object.keys(this.internal.collections.addImage_images).length},f=function(C){return typeof t["process"+C.toUpperCase()]=="function"},m=function(C){return Ra(C)==="object"&&C.nodeType===1},v=function(C,_){if(C.nodeName==="IMG"&&C.hasAttribute("src")){var D=""+C.getAttribute("src");if(D.indexOf("data:image/")===0)return qg(unescape(D).split("base64,").pop());var z=t.loadFile(D,!0);if(z!==void 0)return z}if(C.nodeName==="CANVAS"){if(C.width===0||C.height===0)throw new Error("Given canvas must have data. Canvas width: "+C.width+", height: "+C.height);var V;switch(_){case"PNG":V="image/png";break;case"WEBP":V="image/webp";break;case"JPEG":case"JPG":default:V="image/jpeg"}return qg(C.toDataURL(V,1).split("base64,").pop())}},h=function(C){var _=this.internal.collections.addImage_images;if(_){for(var D in _)if(C===_[D].alias)return _[D]}},E=function(C,_,D){return C||_||(C=-96,_=-96),C<0&&(C=-1*D.width*72/C/this.internal.scaleFactor),_<0&&(_=-1*D.height*72/_/this.internal.scaleFactor),C===0&&(C=_*D.width/D.height),_===0&&(_=C*D.height/D.width),[C,_]},y=function(C,_,D,z,V,J){var ie=E.call(this,D,z,V),G=this.internal.getCoordinateString,te=this.internal.getVerticalCoordinateString,W=c.call(this);if(D=ie[0],z=ie[1],W[V.index]=V,J){J*=Math.PI/180;var B=Math.cos(J),j=Math.sin(J),U=function(Z){return Z.toFixed(4)},X=[U(B),U(j),U(-1*j),U(B),0,0,"cm"]}this.internal.write("q"),J?(this.internal.write([1,"0","0",1,G(C),te(_+z),"cm"].join(" ")),this.internal.write(X.join(" ")),this.internal.write([G(D),"0","0",G(z),"0","0","cm"].join(" "))):this.internal.write([G(D),"0","0",G(z),G(C),te(_+z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+V.index+" Do"),this.internal.write("Q")},b=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(C){var _,D,z=0;if(typeof C=="string")for(D=C.length,_=0;_<D;_++)z=(z<<5)-z+C.charCodeAt(_),z|=0;else if(L(C))for(D=C.byteLength/2,_=0;_<D;_++)z=(z<<5)-z+C[_],z|=0;return z},N=t.__addimage__.validateStringAsBase64=function(C){(C=C||"").toString().trim();var _=!0;return C.length===0&&(_=!1),C.length%4!=0&&(_=!1),/^[A-Za-z0-9+/]+$/.test(C.substr(0,C.length-2))===!1&&(_=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(C.substr(-2))===!1&&(_=!1),_},I=t.__addimage__.extractImageFromDataUrl=function(C){if(C==null||!(C=C.trim()).startsWith("data:"))return null;var _=C.indexOf(",");return _<0?null:C.substring(0,_).trim().endsWith("base64")?C.substring(_+1):null},P=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(C){return P()&&C instanceof ArrayBuffer};var L=t.__addimage__.isArrayBufferView=function(C){return P()&&typeof Uint32Array<"u"&&(C instanceof Int8Array||C instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&C instanceof Uint8ClampedArray||C instanceof Int16Array||C instanceof Uint16Array||C instanceof Int32Array||C instanceof Uint32Array||C instanceof Float32Array||C instanceof Float64Array)},R=t.__addimage__.binaryStringToUint8Array=function(C){for(var _=C.length,D=new Uint8Array(_),z=0;z<_;z++)D[z]=C.charCodeAt(z);return D},O=t.__addimage__.arrayBufferToBinaryString=function(C){for(var _="",D=L(C)?C:new Uint8Array(C),z=0;z<D.length;z+=8192)_+=String.fromCharCode.apply(null,D.subarray(z,z+8192));return _};t.addImage=function(){var C,_,D,z,V,J,ie,G,te;if(typeof arguments[1]=="number"?(_=e,D=arguments[1],z=arguments[2],V=arguments[3],J=arguments[4],ie=arguments[5],G=arguments[6],te=arguments[7]):(_=arguments[1],D=arguments[2],z=arguments[3],V=arguments[4],J=arguments[5],ie=arguments[6],G=arguments[7],te=arguments[8]),Ra(C=arguments[0])==="object"&&!m(C)&&"imageData"in C){var W=C;C=W.imageData,_=W.format||_||e,D=W.x||D||0,z=W.y||z||0,V=W.w||W.width||V,J=W.h||W.height||J,ie=W.alias||ie,G=W.compression||G,te=W.rotation||W.angle||te}var B=this.internal.getFilters();if(G===void 0&&B.indexOf("FlateEncode")!==-1&&(G="SLOW"),isNaN(D)||isNaN(z))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var j=A.call(this,C,_,ie,G);return y.call(this,D,z,V,J,j,te),this};var A=function(C,_,D,z){var V,J,ie;if(typeof C=="string"&&n(C)===e){C=unescape(C);var G=T(C,!1);(G!==""||(G=t.loadFile(C,!0))!==void 0)&&(C=G)}if(m(C)&&(C=v(C,_)),_=n(C,_),!f(_))throw new Error("addImage does not support files of type '"+_+"', please ensure that a plugin for '"+_+"' support is added.");if(((ie=D)==null||ie.length===0)&&(D=function(te){return typeof te=="string"||L(te)?w(te):L(te.data)?w(te.data):null}(C)),(V=h.call(this,D))||(P()&&(C instanceof Uint8Array||_==="RGBA"||(J=C,C=R(C))),V=this["process"+_.toUpperCase()](C,u.call(this),D,function(te){return te&&typeof te=="string"&&(te=te.toUpperCase()),te in t.image_compression?te:x.NONE}(z),J)),!V)throw new Error("An unknown error occurred whilst processing the image.");return V},T=t.__addimage__.convertBase64ToBinaryString=function(C,_){_=typeof _!="boolean"||_;var D,z="";if(typeof C=="string"){var V;D=(V=I(C))!==null&&V!==void 0?V:C;try{z=qg(D)}catch(J){if(_)throw N(D)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+J.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return z};t.getImageProperties=function(C){var _,D,z="";if(m(C)&&(C=v(C)),typeof C=="string"&&n(C)===e&&((z=T(C,!1))===""&&(z=t.loadFile(C)||""),C=z),D=n(C),!f(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!P()||C instanceof Uint8Array||(C=R(C)),!(_=this["process"+D.toUpperCase()](C)))throw new Error("An unknown error occurred whilst processing the image");return _.fileType=D,_}})(gn.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};gn.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,i,s=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,m=0;m<u.length&&!f;m++)switch((n=u[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var v=0;v<u.length;v++){n=u[v];var h=this.internal.pdfEscape,E=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(y.objId),w=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+h(x(n.contents))+")",i+=" /Popup "+b.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+h(x(w))+") >>",y.content=i;var N=y.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+s(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+N,n.open&&(i+=" /Open true"),i+=" >>",b.content=i,this.internal.write(y.objId,"0 R",b.objId,"0 R");break;case"freetext":a="/Rect ["+s(n.bounds.x)+" "+l(n.bounds.y)+" "+s(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var I=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+h(E(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+I+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var P=this.annotations._nameMap[n.options.name];n.options.pageNumber=P.page,n.options.top=P.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+h(E(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var L=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+L+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,i,s){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+i)},options:s,type:"link"})},t.textWithLink=function(r,n,a,i){var s,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(r,l).length;s=Math.ceil(u*f)}else l=c,s=u;return this.text(r,n,a,i),a+=.2*u,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,a-u,l,s,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(gn.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},s=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},l=t.__arabicParser__.isArabicEndLetter=function(y){return s(y)&&i(y)&&e[y.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(y){return s(y)&&a.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return s(y)&&i(y)&&e[y.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return s(y)&&i(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return s(y)&&i(y)&&e[y.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return s(y)&&i(y)&&e[y.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(y){var b=0,x=r,w="",N=0;for(b=0;b<y.length;b+=1)x[y.charCodeAt(b)]!==void 0?(N++,typeof(x=x[y.charCodeAt(b)])=="number"&&(w+=String.fromCharCode(x),x=r,N=0),b===y.length-1&&(x=r,w+=y.charAt(b-(N-1)),b-=N-1,N=0)):(x=r,w+=y.charAt(b-N),b-=N,N=0);return w};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&n[y.charCodeAt(0)]!==void 0};var v=t.__arabicParser__.getCorrectForm=function(y,b,x){return s(y)?i(y)===!1?-1:!u(y)||!s(b)&&!s(x)||!s(x)&&l(b)||l(y)&&!s(b)||l(y)&&c(b)||l(y)&&l(b)?0:f(y)&&s(b)&&!l(b)&&s(x)&&u(x)?3:l(y)||!s(x)?1:2:-1},h=function(y){var b=0,x=0,w=0,N="",I="",P="",L=(y=y||"").split("\\s+"),R=[];for(b=0;b<L.length;b+=1){for(R.push(""),x=0;x<L[b].length;x+=1)N=L[b][x],I=L[b][x-1],P=L[b][x+1],s(N)?(w=v(N,I,P),R[b]+=w!==-1?String.fromCharCode(e[N.charCodeAt(0)][w]):N):R[b]+=N;R[b]=m(R[b])}return R.join(" ")},E=t.__arabicParser__.processArabic=t.processArabic=function(){var y,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(b)){var w=0;for(x=[],w=0;w<b.length;w+=1)Array.isArray(b[w])?x.push([h(b[w][0]),b[w][1],b[w][2]]):x.push([h(b[w])]);y=x}else y=h(b);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",E])}(gn.API),gn.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(l){s=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(gn.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(y){m=y}});var v=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return v},set:function(y){v=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var E=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return E},set:function(y){E=y}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),v=u.scaleFactor||this.internal.scaleFactor,h=0,E=0,y=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=u.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(N,I){return N.concat(b.splitTextToSize(I,x))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)h<(y=this.getStringUnitWidth(c[w],{font:m})*f)&&(h=y);return h!==0&&(E=c.length),{w:h/=v,h:Math.max((E*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/v,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,v=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,h&&v&&(this.printHeaderRow(c.lineNumber,!0),c.y+=v[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,f,m,v){if(n.call(this),!f)throw new Error("No data for PDF table.");var h,E,y,b,x=[],w=[],N=[],I={},P={},L=[],R=[],O=(v=v||{}).autoSize||!1,A=v.printHeaders!==!1,T=v.css&&v.css["font-size"]!==void 0?16*v.css["font-size"]:v.fontSize||12,C=v.margins||Object.assign({width:this.getPageWidth()},e),_=typeof v.padding=="number"?v.padding:3,D=v.headerBackgroundColor||"#c8c8c8",z=v.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=A,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=T,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=z,this.setFontSize(T),m==null)w=x=Object.keys(f[0]),N=x.map(function(){return"left"});else if(Array.isArray(m)&&Ra(m[0])==="object")for(x=m.map(function(W){return W.name}),w=m.map(function(W){return W.prompt||W.name||""}),N=m.map(function(W){return W.align||"left"}),h=0;h<m.length;h+=1)P[m[h].name]=m[h].width*(19.049976/25.4);else Array.isArray(m)&&typeof m[0]=="string"&&(w=x=m,N=x.map(function(){return"left"}));if(O||Array.isArray(m)&&typeof m[0]=="string")for(h=0;h<x.length;h+=1){for(I[b=x[h]]=f.map(function(W){return W[b]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),E=I[b],this.setFont(void 0,"normal"),y=0;y<E.length;y+=1)L.push(this.getTextDimensions(E[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);P[b]=Math.max.apply(null,L)+_+_,L=[]}if(A){var V={};for(h=0;h<x.length;h+=1)V[x[h]]={},V[x[h]].text=w[h],V[x[h]].align=N[h];var J=l.call(this,V,P);R=x.map(function(W){return new i(c,u,P[W],J,V[W].text,void 0,V[W].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var ie=m.reduce(function(W,B){return W[B.name]=B.align,W},{});for(h=0;h<f.length;h+=1){"rowStart"in v&&v.rowStart instanceof Function&&v.rowStart({row:h,data:f[h]},this);var G=l.call(this,f[h],P);for(y=0;y<x.length;y+=1){var te=f[h][x[y]];"cellStart"in v&&v.cellStart instanceof Function&&v.cellStart({row:h,col:y,data:te},this),s.call(this,new i(c,u,P[x[y]],G,te,h+2,ie[x[y]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,v=this.internal.scaleFactor;return Object.keys(c).map(function(h){var E=c[h];return this.splitTextToSize(E.hasOwnProperty("text")?E.text:E,u[h]-f-f)},this).map(function(h){return this.getLineHeightFactor()*h.length*m/v+f+f},this).reduce(function(h,E){return Math.max(h,E)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var v=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){f=this.internal.__cell__.tableHeaderRow[h].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,v.push(f)),f.lineNumber=c;var E=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,f),this.setTextColor(E)}v.length>0&&this.setTableHeaderRow(v),this.setFont(void 0,"normal"),r=!1}}(gn.API);var d9={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},f9=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],kS=u9(f9),m9=[100,200,300,400,500,600,700,800,900],CW=u9(m9);function AS(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(i){return d9[i=i||"normal"]?i:"normal"}(t.style),n=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(t.weight),a=function(i){return typeof kS[i=i||"normal"]=="number"?i:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function Ik(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var PW={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},_k={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Lk(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function NW(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",a=Object.assign({},PW,r.genericFontFamilies||{}),i=null,s=null,l=0;l<e.length;++l)if(a[(i=AS(e[l])).family]&&(i.family=a[i.family]),t.hasOwnProperty(i.family)){s=t[i.family];break}if(!(s=s||t[n]))throw new Error("Could not find a font-family for the rule '"+Lk(i)+"' and default family '"+n+"'.");if(s=function(c,u){if(u[c])return u[c];var f=kS[c],m=f<=kS.normal?-1:1,v=Ik(u,f9,f,m);if(!v)throw new Error("Could not find a matching font-stretch value for "+c);return v}(i.stretch,s),s=function(c,u){if(u[c])return u[c];for(var f=d9[c],m=0;m<f.length;++m)if(u[f[m]])return u[f[m]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,u){if(u[c])return u[c];if(c===400&&u[500])return u[500];if(c===500&&u[400])return u[400];var f=CW[c],m=Ik(u,m9,f,c<400?-1:1);if(!m)throw new Error("Could not find a matching font-weight for value "+c);return m}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+Lk(i)+"'.");return s}function Tk(t){return t.trimLeft()}function kW(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function AW(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var ab,Rk,Mk,iE=["times"];(function(t){var e,r,n,a,i,s,l,c,u,f=function(j){return j=j||{},this.isStrokeTransparent=j.isStrokeTransparent||!1,this.strokeOpacity=j.strokeOpacity||1,this.strokeStyle=j.strokeStyle||"#000000",this.fillStyle=j.fillStyle||"#000000",this.isFillTransparent=j.isFillTransparent||!1,this.fillOpacity=j.fillOpacity||1,this.font=j.font||"10px sans-serif",this.textBaseline=j.textBaseline||"alphabetic",this.textAlign=j.textAlign||"left",this.lineWidth=j.lineWidth||1,this.lineJoin=j.lineJoin||"miter",this.lineCap=j.lineCap||"butt",this.path=j.path||[],this.transform=j.transform!==void 0?j.transform.clone():new c,this.globalCompositeOperation=j.globalCompositeOperation||"normal",this.globalAlpha=j.globalAlpha||1,this.clip_path=j.clip_path||[],this.currentPoint=j.currentPoint||new s,this.miterLimit=j.miterLimit||10,this.lastPoint=j.lastPoint||new s,this.lineDashOffset=j.lineDashOffset||0,this.lineDash=j.lineDash||[],this.margin=j.margin||[0,0,0,0],this.prevPageLastElemOffset=j.prevPageLastElemOffset||0,this.ignoreClearRect=typeof j.ignoreClearRect!="boolean"||j.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var m=function(j){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var U=j;Object.defineProperty(this,"pdf",{get:function(){return U}});var X=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return X},set:function(Re){X=!!Re}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(Re){Z=!!Re}});var me=0;Object.defineProperty(this,"posX",{get:function(){return me},set:function(Re){isNaN(Re)||(me=Re)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Re){isNaN(Re)||(de=Re)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Re){var be;typeof Re=="number"?be=[Re,Re,Re,Re]:((be=new Array(4))[0]=Re[0],be[1]=Re.length>=2?Re[1]:be[0],be[2]=Re.length>=3?Re[2]:be[0],be[3]=Re.length>=4?Re[3]:be[1]),u.margin=be}});var oe=!1;Object.defineProperty(this,"autoPaging",{get:function(){return oe},set:function(Re){oe=Re}});var ee=0;Object.defineProperty(this,"lastBreak",{get:function(){return ee},set:function(Re){ee=Re}});var le=[];Object.defineProperty(this,"pageBreaks",{get:function(){return le},set:function(Re){le=Re}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Re){Re instanceof f&&(u=Re)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Re){u.path=Re}});var pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return pe},set:function(Re){pe=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var be;be=v(Re),this.ctx.fillStyle=be.style,this.ctx.isFillTransparent=be.a===0,this.ctx.fillOpacity=be.a,this.pdf.setFillColor(be.r,be.g,be.b,{a:be.a}),this.pdf.setTextColor(be.r,be.g,be.b,{a:be.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var be=v(Re);this.ctx.strokeStyle=be.style,this.ctx.isStrokeTransparent=be.a===0,this.ctx.strokeOpacity=be.a,be.a===0?this.pdf.setDrawColor(255,255,255):(be.a,this.pdf.setDrawColor(be.r,be.g,be.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var ce=null;function _e(Re,be){if(ce===null){var gt=function(Ae){var ke=[];return Object.keys(Ae).forEach(function(Be){Ae[Be].forEach(function(Xe){var Ke=null;switch(Xe){case"bold":Ke={family:Be,weight:"bold"};break;case"italic":Ke={family:Be,style:"italic"};break;case"bolditalic":Ke={family:Be,weight:"bold",style:"italic"};break;case"":case"normal":Ke={family:Be}}Ke!==null&&(Ke.ref={name:Be,style:Xe},ke.push(Ke))})}),ke}(Re.getFontList());ce=function(Ae){for(var ke={},Be=0;Be<Ae.length;++Be){var Xe=AS(Ae[Be]),Ke=Xe.family,Et=Xe.stretch,ut=Xe.style,zt=Xe.weight;ke[Ke]=ke[Ke]||{},ke[Ke][Et]=ke[Ke][Et]||{},ke[Ke][Et][ut]=ke[Ke][Et][ut]||{},ke[Ke][Et][ut][zt]=Xe}return ke}(gt.concat(be))}return ce}var He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(Re){ce=null,He=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var be;if(this.ctx.font=Re,(be=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var gt=be[1];be[2];var Ae=be[3],ke=be[4];be[5];var Be=be[6],Xe=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ke)[2];ke=Math.floor(Xe==="px"?parseFloat(ke)*this.pdf.internal.scaleFactor:Xe==="em"?parseFloat(ke)*this.pdf.getFontSize():parseFloat(ke)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ke);var Ke=function(ht){var Kt,bt,Ar=[],Jt=ht.trim();if(Jt==="")return iE;if(Jt in _k)return[_k[Jt]];for(;Jt!=="";){switch(bt=null,Kt=(Jt=Tk(Jt)).charAt(0)){case'"':case"'":bt=kW(Jt.substring(1),Kt);break;default:bt=AW(Jt)}if(bt===null||(Ar.push(bt[0]),(Jt=Tk(bt[1]))!==""&&Jt.charAt(0)!==","))return iE;Jt=Jt.replace(/^,/,"")}return Ar}(Be);if(this.fontFaces){var Et=NW(_e(this.pdf,this.fontFaces),Ke.map(function(ht){return{family:ht,stretch:"normal",weight:Ae,style:gt}}));this.pdf.setFont(Et.ref.name,Et.ref.style)}else{var ut="";(Ae==="bold"||parseInt(Ae,10)>=700||gt==="bold")&&(ut="bold"),gt==="italic"&&(ut+="italic"),ut.length===0&&(ut="normal");for(var zt="",Gt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<Ke.length;mt++){if(this.pdf.internal.getFont(Ke[mt],ut,{noFallback:!0,disableWarning:!0})!==void 0){zt=Ke[mt];break}if(ut==="bolditalic"&&this.pdf.internal.getFont(Ke[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)zt=Ke[mt],ut="bold";else if(this.pdf.internal.getFont(Ke[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){zt=Ke[mt],ut="normal";break}}if(zt===""){for(var nt=0;nt<Ke.length;nt++)if(Gt[Ke[nt]]){zt=Gt[Ke[nt]];break}}zt=zt===""?"Times":zt,this.pdf.setFont(zt,ut)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,B.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,B.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};m.prototype.setLineDash=function(j){this.lineDash=j},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){I.call(this,"fill",!1)},m.prototype.stroke=function(){I.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(j,U){if(isNaN(j)||isNaN(U))throw qa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var X=this.ctx.transform.applyToPoint(new s(j,U));this.path.push({type:"mt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(j,U)},m.prototype.closePath=function(){var j=new s(0,0),U=0;for(U=this.path.length-1;U!==-1;U--)if(this.path[U].type==="begin"&&Ra(this.path[U+1])==="object"&&typeof this.path[U+1].x=="number"){j=new s(this.path[U+1].x,this.path[U+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(j.x,j.y)},m.prototype.lineTo=function(j,U){if(isNaN(j)||isNaN(U))throw qa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var X=this.ctx.transform.applyToPoint(new s(j,U));this.path.push({type:"lt",x:X.x,y:X.y}),this.ctx.lastPoint=new s(X.x,X.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),I.call(this,null,!0)},m.prototype.quadraticCurveTo=function(j,U,X,Z){if(isNaN(X)||isNaN(Z)||isNaN(j)||isNaN(U))throw qa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var me=this.ctx.transform.applyToPoint(new s(X,Z)),de=this.ctx.transform.applyToPoint(new s(j,U));this.path.push({type:"qct",x1:de.x,y1:de.y,x:me.x,y:me.y}),this.ctx.lastPoint=new s(me.x,me.y)},m.prototype.bezierCurveTo=function(j,U,X,Z,me,de){if(isNaN(me)||isNaN(de)||isNaN(j)||isNaN(U)||isNaN(X)||isNaN(Z))throw qa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var oe=this.ctx.transform.applyToPoint(new s(me,de)),ee=this.ctx.transform.applyToPoint(new s(j,U)),le=this.ctx.transform.applyToPoint(new s(X,Z));this.path.push({type:"bct",x1:ee.x,y1:ee.y,x2:le.x,y2:le.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new s(oe.x,oe.y)},m.prototype.arc=function(j,U,X,Z,me,de){if(isNaN(j)||isNaN(U)||isNaN(X)||isNaN(Z)||isNaN(me))throw qa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var oe=this.ctx.transform.applyToPoint(new s(j,U));j=oe.x,U=oe.y;var ee=this.ctx.transform.applyToPoint(new s(0,X)),le=this.ctx.transform.applyToPoint(new s(0,0));X=Math.sqrt(Math.pow(ee.x-le.x,2)+Math.pow(ee.y-le.y,2))}Math.abs(me-Z)>=2*Math.PI&&(Z=0,me=2*Math.PI),this.path.push({type:"arc",x:j,y:U,radius:X,startAngle:Z,endAngle:me,counterclockwise:de})},m.prototype.arcTo=function(j,U,X,Z,me){throw new Error("arcTo not implemented.")},m.prototype.rect=function(j,U,X,Z){if(isNaN(j)||isNaN(U)||isNaN(X)||isNaN(Z))throw qa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(j,U),this.lineTo(j+X,U),this.lineTo(j+X,U+Z),this.lineTo(j,U+Z),this.lineTo(j,U),this.lineTo(j+X,U),this.lineTo(j,U)},m.prototype.fillRect=function(j,U,X,Z){if(isNaN(j)||isNaN(U)||isNaN(X)||isNaN(Z))throw qa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var me={};this.lineCap!=="butt"&&(me.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(me.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(j,U,X,Z),this.fill(),me.hasOwnProperty("lineCap")&&(this.lineCap=me.lineCap),me.hasOwnProperty("lineJoin")&&(this.lineJoin=me.lineJoin)}},m.prototype.strokeRect=function(j,U,X,Z){if(isNaN(j)||isNaN(U)||isNaN(X)||isNaN(Z))throw qa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");E.call(this)||(this.beginPath(),this.rect(j,U,X,Z),this.stroke())},m.prototype.clearRect=function(j,U,X,Z){if(isNaN(j)||isNaN(U)||isNaN(X)||isNaN(Z))throw qa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(j,U,X,Z))},m.prototype.save=function(j){j=typeof j!="boolean"||j;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("q");if(this.pdf.setPage(U),j){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},m.prototype.restore=function(j){j=typeof j!="boolean"||j;for(var U=this.pdf.internal.getCurrentPageInfo().pageNumber,X=0;X<this.pdf.internal.getNumberOfPages();X++)this.pdf.setPage(X+1),this.pdf.internal.out("Q");this.pdf.setPage(U),j&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var v=function(j){var U,X,Z,me;if(j.isCanvasGradient===!0&&(j=j.getColor()),!j)return{r:0,g:0,b:0,a:0,style:j};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(j))U=0,X=0,Z=0,me=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(j);if(de!==null)U=parseInt(de[1]),X=parseInt(de[2]),Z=parseInt(de[3]),me=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(j))!==null)U=parseInt(de[1]),X=parseInt(de[2]),Z=parseInt(de[3]),me=parseFloat(de[4]);else{if(me=1,typeof j=="string"&&j.charAt(0)!=="#"){var oe=new a9(j);j=oe.ok?oe.toHex():"#000000"}j.length===4?(U=j.substring(1,2),U+=U,X=j.substring(2,3),X+=X,Z=j.substring(3,4),Z+=Z):(U=j.substring(1,3),X=j.substring(3,5),Z=j.substring(5,7)),U=parseInt(U,16),X=parseInt(X,16),Z=parseInt(Z,16)}}return{r:U,g:X,b:Z,a:me,style:j}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},E=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(j,U,X,Z){if(isNaN(U)||isNaN(X)||typeof j!="string")throw qa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!h.call(this)){var me=G(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;_.call(this,{text:j,x:U,y:X,scale:de,angle:me,align:this.textAlign,maxWidth:Z})}},m.prototype.strokeText=function(j,U,X,Z){if(isNaN(U)||isNaN(X)||typeof j!="string")throw qa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!E.call(this)){Z=isNaN(Z)?void 0:Z;var me=G(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;_.call(this,{text:j,x:U,y:X,scale:de,renderingMode:"stroke",angle:me,align:this.textAlign,maxWidth:Z})}},m.prototype.measureText=function(j){if(typeof j!="string")throw qa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var U=this.pdf,X=this.pdf.internal.scaleFactor,Z=U.internal.getFontSize(),me=U.getStringUnitWidth(j)*Z/U.internal.scaleFactor,de=function(oe){var ee=(oe=oe||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ee}}),this};return new de({width:me*=Math.round(96*X/72*1e4)/1e4})},m.prototype.scale=function(j,U){if(isNaN(j)||isNaN(U))throw qa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var X=new c(j,0,0,U,0,0);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.rotate=function(j){if(isNaN(j))throw qa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var U=new c(Math.cos(j),Math.sin(j),-Math.sin(j),Math.cos(j),0,0);this.ctx.transform=this.ctx.transform.multiply(U)},m.prototype.translate=function(j,U){if(isNaN(j)||isNaN(U))throw qa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var X=new c(1,0,0,1,j,U);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.transform=function(j,U,X,Z,me,de){if(isNaN(j)||isNaN(U)||isNaN(X)||isNaN(Z)||isNaN(me)||isNaN(de))throw qa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var oe=new c(j,U,X,Z,me,de);this.ctx.transform=this.ctx.transform.multiply(oe)},m.prototype.setTransform=function(j,U,X,Z,me,de){j=isNaN(j)?1:j,U=isNaN(U)?0:U,X=isNaN(X)?0:X,Z=isNaN(Z)?1:Z,me=isNaN(me)?0:me,de=isNaN(de)?0:de,this.ctx.transform=new c(j,U,X,Z,me,de)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(j,U,X,Z,me,de,oe,ee,le){var pe=this.pdf.getImageProperties(j),ce=1,_e=1,He=1,Re=1;Z!==void 0&&ee!==void 0&&(He=ee/Z,Re=le/me,ce=pe.width/Z*ee/Z,_e=pe.height/me*le/me),de===void 0&&(de=U,oe=X,U=0,X=0),Z!==void 0&&ee===void 0&&(ee=Z,le=me),Z===void 0&&ee===void 0&&(ee=pe.width,le=pe.height);for(var be,gt=this.ctx.transform.decompose(),Ae=G(gt.rotate.shx),ke=new c,Be=(ke=(ke=(ke=ke.multiply(gt.translate)).multiply(gt.skew)).multiply(gt.scale)).applyToRectangle(new l(de-U*He,oe-X*Re,Z*ce,me*_e)),Xe=b.call(this,Be),Ke=[],Et=0;Et<Xe.length;Et+=1)Ke.indexOf(Xe[Et])===-1&&Ke.push(Xe[Et]);if(N(Ke),this.autoPaging)for(var ut=Ke[0],zt=Ke[Ke.length-1],Gt=ut;Gt<zt+1;Gt++){this.pdf.setPage(Gt);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],nt=Gt===1?this.posY+this.margin[0]:this.margin[0],ht=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Kt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],bt=Gt===1?0:ht+(Gt-2)*Kt;if(this.ctx.clip_path.length!==0){var Ar=this.path;be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(be,this.posX+this.margin[3],-bt+nt+this.ctx.prevPageLastElemOffset),P.call(this,"fill",!0),this.path=Ar}var Jt=JSON.parse(JSON.stringify(Be));Jt=w([Jt],this.posX+this.margin[3],-bt+nt+this.ctx.prevPageLastElemOffset)[0];var Lr=(Gt>ut||Gt<zt)&&y.call(this);Lr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,Kt,null).clip().discardPath()),this.pdf.addImage(j,"JPEG",Jt.x,Jt.y,Jt.w,Jt.h,null,null,Ae),Lr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(j,"JPEG",Be.x,Be.y,Be.w,Be.h,null,null,Ae)};var b=function(j,U,X){var Z=[];U=U||this.pdf.internal.pageSize.width,X=X||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var me=this.posY+this.ctx.prevPageLastElemOffset;switch(j.type){default:case"mt":case"lt":Z.push(Math.floor((j.y+me)/X)+1);break;case"arc":Z.push(Math.floor((j.y+me-j.radius)/X)+1),Z.push(Math.floor((j.y+me+j.radius)/X)+1);break;case"qct":var de=te(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x,j.y);Z.push(Math.floor((de.y+me)/X)+1),Z.push(Math.floor((de.y+de.h+me)/X)+1);break;case"bct":var oe=W(this.ctx.lastPoint.x,this.ctx.lastPoint.y,j.x1,j.y1,j.x2,j.y2,j.x,j.y);Z.push(Math.floor((oe.y+me)/X)+1),Z.push(Math.floor((oe.y+oe.h+me)/X)+1);break;case"rect":Z.push(Math.floor((j.y+me)/X)+1),Z.push(Math.floor((j.y+j.h+me)/X)+1)}for(var ee=0;ee<Z.length;ee+=1)for(;this.pdf.internal.getNumberOfPages()<Z[ee];)x.call(this);return Z},x=function(){var j=this.fillStyle,U=this.strokeStyle,X=this.font,Z=this.lineCap,me=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=j,this.strokeStyle=U,this.font=X,this.lineCap=Z,this.lineWidth=me,this.lineJoin=de},w=function(j,U,X){for(var Z=0;Z<j.length;Z++)switch(j[Z].type){case"bct":j[Z].x2+=U,j[Z].y2+=X;case"qct":j[Z].x1+=U,j[Z].y1+=X;case"mt":case"lt":case"arc":default:j[Z].x+=U,j[Z].y+=X}return j},N=function(j){return j.sort(function(U,X){return U-X})},I=function(j,U){for(var X,Z,me=this.fillStyle,de=this.strokeStyle,oe=this.lineCap,ee=this.lineWidth,le=Math.abs(ee*this.ctx.transform.scaleX),pe=this.lineJoin,ce=JSON.parse(JSON.stringify(this.path)),_e=JSON.parse(JSON.stringify(this.path)),He=[],Re=0;Re<_e.length;Re++)if(_e[Re].x!==void 0)for(var be=b.call(this,_e[Re]),gt=0;gt<be.length;gt+=1)He.indexOf(be[gt])===-1&&He.push(be[gt]);for(var Ae=0;Ae<He.length;Ae++)for(;this.pdf.internal.getNumberOfPages()<He[Ae];)x.call(this);if(N(He),this.autoPaging)for(var ke=He[0],Be=He[He.length-1],Xe=ke;Xe<Be+1;Xe++){this.pdf.setPage(Xe),this.fillStyle=me,this.strokeStyle=de,this.lineCap=oe,this.lineWidth=le,this.lineJoin=pe;var Ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Et=Xe===1?this.posY+this.margin[0]:this.margin[0],ut=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],zt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Gt=Xe===1?0:ut+(Xe-2)*zt;if(this.ctx.clip_path.length!==0){var mt=this.path;X=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(X,this.posX+this.margin[3],-Gt+Et+this.ctx.prevPageLastElemOffset),P.call(this,j,!0),this.path=mt}if(Z=JSON.parse(JSON.stringify(ce)),this.path=w(Z,this.posX+this.margin[3],-Gt+Et+this.ctx.prevPageLastElemOffset),U===!1||Xe===0){var nt=(Xe>ke||Xe<Be)&&y.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ke,zt,null).clip().discardPath()),P.call(this,j,U),nt&&this.pdf.restoreGraphicsState()}this.lineWidth=ee}else this.lineWidth=le,P.call(this,j,U),this.lineWidth=ee;this.path=ce},P=function(j,U){if((j!=="stroke"||U||!E.call(this))&&(j==="stroke"||U||!h.call(this))){for(var X,Z,me=[],de=this.path,oe=0;oe<de.length;oe++){var ee=de[oe];switch(ee.type){case"begin":me.push({begin:!0});break;case"close":me.push({close:!0});break;case"mt":me.push({start:ee,deltas:[],abs:[]});break;case"lt":var le=me.length;if(de[oe-1]&&!isNaN(de[oe-1].x)&&(X=[ee.x-de[oe-1].x,ee.y-de[oe-1].y],le>0)){for(;le>=0;le--)if(me[le-1].close!==!0&&me[le-1].begin!==!0){me[le-1].deltas.push(X),me[le-1].abs.push(ee);break}}break;case"bct":X=[ee.x1-de[oe-1].x,ee.y1-de[oe-1].y,ee.x2-de[oe-1].x,ee.y2-de[oe-1].y,ee.x-de[oe-1].x,ee.y-de[oe-1].y],me[me.length-1].deltas.push(X);break;case"qct":var pe=de[oe-1].x+2/3*(ee.x1-de[oe-1].x),ce=de[oe-1].y+2/3*(ee.y1-de[oe-1].y),_e=ee.x+2/3*(ee.x1-ee.x),He=ee.y+2/3*(ee.y1-ee.y),Re=ee.x,be=ee.y;X=[pe-de[oe-1].x,ce-de[oe-1].y,_e-de[oe-1].x,He-de[oe-1].y,Re-de[oe-1].x,be-de[oe-1].y],me[me.length-1].deltas.push(X);break;case"arc":me.push({deltas:[],abs:[],arc:!0}),Array.isArray(me[me.length-1].abs)&&me[me.length-1].abs.push(ee)}}Z=U?null:j==="stroke"?"stroke":"fill";for(var gt=!1,Ae=0;Ae<me.length;Ae++)if(me[Ae].arc)for(var ke=me[Ae].abs,Be=0;Be<ke.length;Be++){var Xe=ke[Be];Xe.type==="arc"?O.call(this,Xe.x,Xe.y,Xe.radius,Xe.startAngle,Xe.endAngle,Xe.counterclockwise,void 0,U,!gt):D.call(this,Xe.x,Xe.y),gt=!0}else if(me[Ae].close===!0)this.pdf.internal.out("h"),gt=!1;else if(me[Ae].begin!==!0){var Ke=me[Ae].start.x,Et=me[Ae].start.y;z.call(this,me[Ae].deltas,Ke,Et),gt=!0}Z&&A.call(this,Z),U&&T.call(this)}},L=function(j){var U=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,X=U*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return j-X;case"top":return j+U-X;case"hanging":return j+U-2*X;case"middle":return j+U/2-X;case"ideographic":return j;case"alphabetic":default:return j}},R=function(j){return j+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var j=function(){};return j.colorStops=[],j.addColorStop=function(U,X){this.colorStops.push([U,X])},j.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},j.isCanvasGradient=!0,j},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var O=function(j,U,X,Z,me,de,oe,ee,le){for(var pe=J.call(this,X,Z,me,de),ce=0;ce<pe.length;ce++){var _e=pe[ce];ce===0&&(le?C.call(this,_e.x1+j,_e.y1+U):D.call(this,_e.x1+j,_e.y1+U)),V.call(this,j,U,_e.x2,_e.y2,_e.x3,_e.y3,_e.x4,_e.y4)}ee?T.call(this):A.call(this,oe)},A=function(j){switch(j){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},T=function(){this.pdf.clip(),this.pdf.discardPath()},C=function(j,U){this.pdf.internal.out(r(j)+" "+n(U)+" m")},_=function(j){var U;switch(j.align){case"right":case"end":U="right";break;case"center":U="center";break;case"left":case"start":default:U="left"}var X=this.pdf.getTextDimensions(j.text),Z=L.call(this,j.y),me=R.call(this,Z)-X.h,de=this.ctx.transform.applyToPoint(new s(j.x,Z)),oe=this.ctx.transform.decompose(),ee=new c;ee=(ee=(ee=ee.multiply(oe.translate)).multiply(oe.skew)).multiply(oe.scale);for(var le,pe,ce,_e=this.ctx.transform.applyToRectangle(new l(j.x,Z,X.w,X.h)),He=ee.applyToRectangle(new l(j.x,me,X.w,X.h)),Re=b.call(this,He),be=[],gt=0;gt<Re.length;gt+=1)be.indexOf(Re[gt])===-1&&be.push(Re[gt]);if(N(be),this.autoPaging)for(var Ae=be[0],ke=be[be.length-1],Be=Ae;Be<ke+1;Be++){this.pdf.setPage(Be);var Xe=Be===1?this.posY+this.margin[0]:this.margin[0],Ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Et=this.pdf.internal.pageSize.height-this.margin[2],ut=Et-this.margin[0],zt=this.pdf.internal.pageSize.width-this.margin[1],Gt=zt-this.margin[3],mt=Be===1?0:Ke+(Be-2)*ut;if(this.ctx.clip_path.length!==0){var nt=this.path;le=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(le,this.posX+this.margin[3],-1*mt+Xe),P.call(this,"fill",!0),this.path=nt}var ht=w([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-mt+Xe+this.ctx.prevPageLastElemOffset)[0];j.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*j.scale),ce=this.lineWidth,this.lineWidth=ce*j.scale);var Kt=this.autoPaging!=="text";if(Kt||ht.y+ht.h<=Et){if(Kt||ht.y>=Xe&&ht.x<=zt){var bt=Kt?j.text:this.pdf.splitTextToSize(j.text,j.maxWidth||zt-ht.x)[0],Ar=w([JSON.parse(JSON.stringify(_e))],this.posX+this.margin[3],-mt+Xe+this.ctx.prevPageLastElemOffset)[0],Jt=Kt&&(Be>Ae||Be<ke)&&y.call(this);Jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Gt,ut,null).clip().discardPath()),this.pdf.text(bt,Ar.x,Ar.y,{angle:j.angle,align:U,renderingMode:j.renderingMode}),Jt&&this.pdf.restoreGraphicsState()}}else ht.y<Et&&(this.ctx.prevPageLastElemOffset+=Et-ht.y);j.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=ce)}else j.scale>=.01&&(pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(pe*j.scale),ce=this.lineWidth,this.lineWidth=ce*j.scale),this.pdf.text(j.text,de.x+this.posX,de.y+this.posY,{angle:j.angle,align:U,renderingMode:j.renderingMode,maxWidth:j.maxWidth}),j.scale>=.01&&(this.pdf.setFontSize(pe),this.lineWidth=ce)},D=function(j,U,X,Z){X=X||0,Z=Z||0,this.pdf.internal.out(r(j+X)+" "+n(U+Z)+" l")},z=function(j,U,X){return this.pdf.lines(j,U,X,null,null)},V=function(j,U,X,Z,me,de,oe,ee){this.pdf.internal.out([e(a(X+j)),e(i(Z+U)),e(a(me+j)),e(i(de+U)),e(a(oe+j)),e(i(ee+U)),"c"].join(" "))},J=function(j,U,X,Z){for(var me=2*Math.PI,de=Math.PI/2;U>X;)U-=me;var oe=Math.abs(X-U);oe<me&&Z&&(oe=me-oe);for(var ee=[],le=Z?-1:1,pe=U;oe>1e-5;){var ce=pe+le*Math.min(oe,de);ee.push(ie.call(this,j,pe,ce)),oe-=Math.abs(ce-pe),pe=ce}return ee},ie=function(j,U,X){var Z=(X-U)/2,me=j*Math.cos(Z),de=j*Math.sin(Z),oe=me,ee=-de,le=oe*oe+ee*ee,pe=le+oe*me+ee*de,ce=4/3*(Math.sqrt(2*le*pe)-pe)/(oe*de-ee*me),_e=oe-ce*ee,He=ee+ce*oe,Re=_e,be=-He,gt=Z+U,Ae=Math.cos(gt),ke=Math.sin(gt);return{x1:j*Math.cos(U),y1:j*Math.sin(U),x2:_e*Ae-He*ke,y2:_e*ke+He*Ae,x3:Re*Ae-be*ke,y3:Re*ke+be*Ae,x4:j*Math.cos(X),y4:j*Math.sin(X)}},G=function(j){return 180*j/Math.PI},te=function(j,U,X,Z,me,de){var oe=j+.5*(X-j),ee=U+.5*(Z-U),le=me+.5*(X-me),pe=de+.5*(Z-de),ce=Math.min(j,me,oe,le),_e=Math.max(j,me,oe,le),He=Math.min(U,de,ee,pe),Re=Math.max(U,de,ee,pe);return new l(ce,He,_e-ce,Re-He)},W=function(j,U,X,Z,me,de,oe,ee){var le,pe,ce,_e,He,Re,be,gt,Ae,ke,Be,Xe,Ke,Et,ut=X-j,zt=Z-U,Gt=me-X,mt=de-Z,nt=oe-me,ht=ee-de;for(pe=0;pe<41;pe++)Ae=(be=(ce=j+(le=pe/40)*ut)+le*((He=X+le*Gt)-ce))+le*(He+le*(me+le*nt-He)-be),ke=(gt=(_e=U+le*zt)+le*((Re=Z+le*mt)-_e))+le*(Re+le*(de+le*ht-Re)-gt),pe==0?(Be=Ae,Xe=ke,Ke=Ae,Et=ke):(Be=Math.min(Be,Ae),Xe=Math.min(Xe,ke),Ke=Math.max(Ke,Ae),Et=Math.max(Et,ke));return new l(Math.round(Be),Math.round(Xe),Math.round(Ke-Be),Math.round(Et-Xe))},B=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var j,U,X=(j=this.ctx.lineDash,U=this.ctx.lineDashOffset,JSON.stringify({lineDash:j,lineDashOffset:U}));this.prevLineDash!==X&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=X)}}})(gn.API),function(t){var e=function(i){var s,l,c,u,f,m,v,h,E,y;for(l=[],c=0,u=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;u>c;c+=4)(f=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(m=(f=((f=((f=((f=(f-(y=f%85))/85)-(E=f%85))/85)-(h=f%85))/85)-(v=f%85))/85)%85,l.push(m+33,v+33,h+33,E+33,y+33)):l.push(122);return function(b,x){for(var w=x;w>0;w--)b.pop()}(l,s.length),String.fromCharCode.apply(String,l)+"~>"},r=function(i){var s,l,c,u,f,m=String,v="length",h=255,E="charCodeAt",y="slice",b="replace";for(i[y](-2),i=i[y](0,-2)[b](/\s/g,"")[b]("z","!!!!!"),c=[],u=0,f=(i+=s="uuuuu"[y](i[v]%5||5))[v];f>u;u+=5)l=52200625*(i[E](u)-33)+614125*(i[E](u+1)-33)+7225*(i[E](u+2)-33)+85*(i[E](u+3)-33)+(i[E](u+4)-33),c.push(h&l>>24,h&l>>16,h&l>>8,h&l);return function(x,w){for(var N=w;N>0;N--)x.pop()}(c,s[v]),m.fromCharCode.apply(m,c)},n=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var l="",c=0;c<i.length;c+=2)l+=String.fromCharCode("0x"+(i[c]+i[c+1]));return l},a=function(i){for(var s=new Uint8Array(i.length),l=i.length;l--;)s[l]=i.charCodeAt(l);return i=(s=wS(s)).reduce(function(c,u){return c+String.fromCharCode(u)},"")};t.processDataByFilters=function(i,s){var l=0,c=i||"",u=[];for(typeof(s=s||[])=="string"&&(s=[s]),l=0;l<s.length;l+=1)switch(s[l]){case"ASCII85Decode":case"/ASCII85Decode":c=r(c),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=n(c),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(f){return("0"+f.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[l]+'" is not implemented')}return{data:c,reverseChain:u.reverse().join(" ")}}}(gn.API),function(t){t.loadFile=function(e,r,n){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var l=void 0;try{l=function(c,u,f){var m=new XMLHttpRequest,v=0,h=function(E){var y=E.length,b=[],x=String.fromCharCode;for(v=0;v<y;v+=1)b.push(x(255&E.charCodeAt(v)));return b.join("")};if(m.open("GET",c,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?f(h(this.responseText)):f(void 0)}),m.send(null),u&&m.status===200)return h(m.responseText)}(a,i,s)}catch{}return l}(e,r,n)},t.loadImageFile=t.loadFile}(gn.API),function(t){function e(){return(bn.html2canvas?Promise.resolve(bn.html2canvas):vS(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function r(){return(bn.DOMPurify?Promise.resolve(bn.DOMPurify):vS(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var n=function(s){var l=Ra(s);return l==="undefined"?"undefined":l==="string"||s instanceof String?"string":l==="number"||s instanceof Number?"number":l==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":l==="object"?"object":"unknown"},a=function(s,l){var c=document.createElement(s);for(var u in l.className&&(c.className=l.className),l.innerHTML&&l.dompurify&&(c.innerHTML=l.dompurify.sanitize(l.innerHTML)),l.style)c.style[u]=l.style[u];return c},i=function s(l){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),u=s.convert(Promise.resolve(),c);return u=(u=u.setProgress(1,s,1,[s])).set(l)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,l){return s.__proto__=l||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,l){return this.then(function(){switch(l=l||function(c){switch(n(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(r).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},l=function c(u,f){for(var m=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),v=u.firstChild;v;v=v.nextSibling)f!==!0&&v.nodeType===1&&v.nodeName==="SCRIPT"||m.appendChild(c(v,f));return u.nodeType===1&&(u.nodeName==="CANVAS"?(m.width=u.width,m.height=u.height,m.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(m.value=u.value),m.addEventListener("load",function(){m.scrollTop=u.scrollTop,m.scrollLeft=u.scrollLeft},!0)),m}(this.prop.src,this.opt.html2canvas.javascriptEnabled);l.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(l),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,l(this.prop.container,c)}).then(function(l){(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(e).then(function(l){var c=this.opt.jsPDF,u=this.opt.fontFaces,f=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,m=Object.assign({async:!0,allowTaint:!0,scale:f,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete m.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=u,u)for(var v=0;v<u.length;++v){var h=u[v],E=h.src.find(function(y){return y.format==="truetype"});E&&c.addFont(E.url,h.ref.name,h.ref.style)}return m.windowHeight=m.windowHeight||0,m.windowHeight=m.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):m.windowHeight,c.context2d.save(!0),l(this.prop.container,m)}).then(function(l){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(l),this.prop.canvas=l,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,l,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,l):this.outputPdf(s,l)},i.prototype.outputPdf=function(s,l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,l)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(n(s)!=="object")return this;var l=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(l)})},i.prototype.get=function(s,l){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return l?l(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(n(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function l(c,u){return Math.floor(c*u/72*96)}return this.then(function(){(s=s||gn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:l(s.inner.width,s.k),height:l(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,l,c,u){return s!=null&&(this.progress.val=s),l!=null&&(this.progress.state=l),c!=null&&(this.progress.n=c),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,l,c,u){return this.setProgress(s?this.progress.val+s:null,l||null,c?this.progress.n+c:null,u?this.progress.stack.concat(u):null)},i.prototype.then=function(s,l){var c=this;return this.thenCore(s,l,function(u,f){return c.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(m){return c.updateProgress(null,u),m}).then(u,f).then(function(m){return c.updateProgress(1),m})})},i.prototype.thenCore=function(s,l,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),l&&(l=l.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),f=c.call(u,s,l);return i.convert(f,this.__proto__)},i.prototype.thenExternal=function(s,l){return Promise.prototype.then.call(this,s,l)},i.prototype.thenList=function(s){var l=this;return s.forEach(function(c){l=l.thenCore(c)}),l},i.prototype.catch=function(s){s&&(s=s.bind(this));var l=Promise.prototype.catch.call(this,s);return i.convert(l,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,gn.getPageSize=function(s,l,c){if(Ra(s)==="object"){var u=s;s=u.orientation,l=u.unit||l,c=u.format||c}l=l||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var f,m=(""+c).toLowerCase(),v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(l){case"pt":f=1;break;case"mm":f=72/25.4;break;case"cm":f=72/2.54;break;case"in":f=72;break;case"px":f=.75;break;case"pc":case"em":f=12;break;case"ex":f=6;break;default:throw"Invalid unit: "+l}var h,E=0,y=0;if(v.hasOwnProperty(m))E=v[m][1]/f,y=v[m][0]/f;else try{E=c[1],y=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",y>E&&(h=y,y=E,E=h);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",E>y&&(h=y,y=E,E=h)}return{width:y,height:E,unit:l,k:f,orientation:s}},t.html=function(s,l){(l=l||{}).callback=l.callback||function(){},l.html2canvas=l.html2canvas||{},l.html2canvas.canvas=l.html2canvas.canvas||this.canvas,l.jsPDF=l.jsPDF||this,l.fontFaces=l.fontFaces?l.fontFaces.map(AS):null;var c=new i(l);return l.worker?c:c.from(s).doCallback()}}(gn.API),gn.API.addJS=function(t){return Mk=t,this.internal.events.subscribe("postPutResources",function(){ab=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ab+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Rk=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Mk+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ab!==void 0&&Rk!==void 0&&this.internal.out("/Names <</JavaScript "+ab+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],l=n.exec(s);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(s)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(i=0;i<u;i++){var m=r.internal.newObject();f.push(m);var v=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+v.objId+" 0 R /XYZ null null null]>> endobj")}var h=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+h+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,i){var s={title:a,options:i,children:[]};return n==null&&(n=this.root),n.children.push(s),s},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var s=n.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var l=this.count=this.count_r({count:0},s);if(l>0&&this.line("/Count "+l),s.options&&s.options.pageNumber){var c=r.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var i=0;i<a.children.length;i++)n.count++,this.count_r(n,a.children[i]);return n.count}}])}(gn.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,i,s,l){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=s||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(c=function(m){for(var v,h=256*m.charCodeAt(4)+m.charCodeAt(5),E=m.length,y={width:0,height:0,numcomponents:1},b=4;b<E;b+=2){if(b+=h,e.indexOf(m.charCodeAt(b+1))!==-1){v=256*m.charCodeAt(b+5)+m.charCodeAt(b+6),y={width:256*m.charCodeAt(b+7)+m.charCodeAt(b+8),height:v,numcomponents:m.charCodeAt(b+9)};break}h=256*m.charCodeAt(b+2)+m.charCodeAt(b+3)}return y}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return f}}(gn.API);var Om,ob,Dk,jk,Fk,OW=function(){var t,e,r;function n(i){var s,l,c,u,f,m,v,h,E,y,b,x,w,N;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},m=null;;){switch(s=this.readUInt32(),E=(function(){var I,P;for(P=[],I=0;I<4;++I)P.push(String.fromCharCode(this.data[this.pos++]));return P}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":m&&this.animation.frames.push(m),this.pos+=4,m={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},f=this.readUInt16(),u=this.readUInt16()||100,m.delay=1e3*f/u,m.disposeOp=this.data[this.pos++],m.blendOp=this.data[this.pos++],m.data=[];break;case"IDAT":case"fdAT":for(E==="fdAT"&&(this.pos+=4,s-=4),i=(m!=null?m.data:void 0)||this.imgData,x=0;0<=s?x<s:x>s;0<=s?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((y=c-this.transparency.indexed.length)>0)for(w=0;0<=y?w<y:w>y;0<=y?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":v=(b=this.read(s)).indexOf(0),h=String.fromCharCode.apply(String,b.slice(0,v)),this.text[h]=String.fromCharCode.apply(String,b.slice(v+1));break;case"IEND":return m&&this.animation.frames.push(m),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(N=this.colorType)===4||N===6,l=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*l,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(i){var s,l;for(l=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)l.push(this.data[this.pos++]);return l},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,l=new Uint8Array(this.width*this.height*s),c=0,u=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function f(m,v,h,E){var y,b,x,w,N,I,P,L,R,O,A,T,C,_,D,z,V,J,ie,G,te,W=Math.ceil((u.width-m)/h),B=Math.ceil((u.height-v)/E),j=u.width==W&&u.height==B;for(_=s*W,T=j?l:new Uint8Array(_*B),I=i.length,C=0,b=0;C<B&&c<I;){switch(i[c++]){case 0:for(w=V=0;V<_;w=V+=1)T[b++]=i[c++];break;case 1:for(w=J=0;J<_;w=J+=1)y=i[c++],N=w<s?0:T[b-s],T[b++]=(y+N)%256;break;case 2:for(w=ie=0;ie<_;w=ie+=1)y=i[c++],x=(w-w%s)/s,D=C&&T[(C-1)*_+x*s+w%s],T[b++]=(D+y)%256;break;case 3:for(w=G=0;G<_;w=G+=1)y=i[c++],x=(w-w%s)/s,N=w<s?0:T[b-s],D=C&&T[(C-1)*_+x*s+w%s],T[b++]=(y+Math.floor((N+D)/2))%256;break;case 4:for(w=te=0;te<_;w=te+=1)y=i[c++],x=(w-w%s)/s,N=w<s?0:T[b-s],C===0?D=z=0:(D=T[(C-1)*_+x*s+w%s],z=x&&T[(C-1)*_+(x-1)*s+w%s]),P=N+D-z,L=Math.abs(P-N),O=Math.abs(P-D),A=Math.abs(P-z),R=L<=O&&L<=A?N:O<=A?D:z,T[b++]=(y+R)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!j){var U=((v+C*E)*u.width+m)*s,X=C*_;for(w=0;w<W;w+=1){for(var Z=0;Z<s;Z+=1)l[U++]=T[X++];U+=(h-1)*s}}C++}}return i=sW(i),u.interlaceMethod==1?(f(0,0,8,8),f(4,0,8,8),f(0,4,4,8),f(2,0,4,4),f(0,2,2,4),f(1,0,2,2),f(0,1,1,2)):f(0,0,1,1),l},n.prototype.decodePalette=function(){var i,s,l,c,u,f,m,v,h;for(l=this.palette,f=this.transparency.indexed||[],u=new Uint8Array((f.length||0)+l.length),c=0,i=0,s=m=0,v=l.length;m<v;s=m+=3)u[c++]=l[s],u[c++]=l[s+1],u[c++]=l[s+2],u[c++]=(h=f[i++])!=null?h:255;return u},n.prototype.copyToImageData=function(i,s){var l,c,u,f,m,v,h,E,y,b,x;if(c=this.colors,y=null,l=this.hasAlphaChannel,this.palette.length&&(y=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,l=!0),E=(u=i.data||i).length,m=y||s,f=v=0,c===1)for(;f<E;)h=y?4*s[f/4]:v,b=m[h++],u[f++]=b,u[f++]=b,u[f++]=b,u[f++]=l?m[h++]:255,v=h;else for(;f<E;)h=y?4*s[f/4]:v,u[f++]=m[h++],u[f++]=m[h++],u[f++]=m[h++],u[f++]=l?m[h++]:255,v=h},n.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(bn)==="[object Window]"){try{e=bn.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return a(),t=function(i){var s;if(a()===!0)return r.width=i.width,r.height=i.height,r.clearRect(0,0,i.width,i.height),r.putImageData(i,0,0),(s=new Image).src=e.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(i){var s,l,c,u,f,m,v,h;if(this.animation){for(h=[],l=f=0,m=(v=this.animation.frames).length;f<m;l=++f)s=v[l],c=i.createImageData(s.width,s.height),u=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,u),s.imageData=c,h.push(s.image=t(c));return h}},n.prototype.renderFrame=function(i,s){var l,c,u;return l=(c=this.animation.frames)[s],u=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?i.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&i.putImageData(u.imageData,u.xOffset,u.yOffset),l.blendOp===0&&i.clearRect(l.xOffset,l.yOffset,l.width,l.height),i.drawImage(l.image,l.xOffset,l.yOffset)},n.prototype.animate=function(i){var s,l,c,u,f,m,v=this;return l=0,m=this.animation,u=m.numFrames,c=m.frames,f=m.numPlays,(s=function(){var h,E;if(h=l++%u,E=c[h],v.renderFrame(i,h),u>1&&l/u<f)return v.animation._timeout=setTimeout(s,E.delay)})()},n.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},n.prototype.render=function(i){var s,l;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(l=s.createImageData(this.width,this.height),this.copyToImageData(l,this.decodePixels()),s.putImageData(l,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function IW(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],i=a>>7,s=1<<(7&a)+1;t[e++],t[e++];var l=null,c=null;i&&(l=e,c=s,e+=3*s);var u=!0,f=[],m=0,v=null,h=0,E=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,E=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];m=t[e++]|t[e++]<<8,v=t[e++],(1&y)==0&&(v=null),h=y>>2&7,e++;break;case 254:for(;;){if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,I=t[e++],P=I>>6&1,L=1<<(7&I)+1,R=l,O=c,A=!1;I>>7&&(A=!0,R=e,O=L,e+=3*L);var T=e;for(e++;;){var C;if(!((C=t[e++])>=0))throw Error("Invalid block size");if(C===0)break;e+=C}f.push({x:b,y:x,width:w,height:N,has_local_palette:A,palette_offset:R,palette_size:O,data_offset:T,data_length:e-T,transparent_index:v,interlaced:!!P,delay:m,disposal:h});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return E},this.frameInfo=function(_){if(_<0||_>=f.length)throw new Error("Frame index out of range.");return f[_]},this.decodeAndBlitFrameBGRA=function(_,D){var z=this.frameInfo(_),V=z.width*z.height,J=new Uint8Array(V);$k(t,z.data_offset,J,V);var ie=z.palette_offset,G=z.transparent_index;G===null&&(G=256);var te=z.width,W=r-te,B=te,j=4*(z.y*r+z.x),U=4*((z.y+z.height)*r+z.x),X=j,Z=4*W;z.interlaced===!0&&(Z+=4*r*7);for(var me=8,de=0,oe=J.length;de<oe;++de){var ee=J[de];if(B===0&&(B=te,(X+=Z)>=U&&(Z=4*W+4*r*(me-1),X=j+(te+W)*(me<<1),me>>=1)),ee===G)X+=4;else{var le=t[ie+3*ee],pe=t[ie+3*ee+1],ce=t[ie+3*ee+2];D[X++]=ce,D[X++]=pe,D[X++]=le,D[X++]=255}--B}},this.decodeAndBlitFrameRGBA=function(_,D){var z=this.frameInfo(_),V=z.width*z.height,J=new Uint8Array(V);$k(t,z.data_offset,J,V);var ie=z.palette_offset,G=z.transparent_index;G===null&&(G=256);var te=z.width,W=r-te,B=te,j=4*(z.y*r+z.x),U=4*((z.y+z.height)*r+z.x),X=j,Z=4*W;z.interlaced===!0&&(Z+=4*r*7);for(var me=8,de=0,oe=J.length;de<oe;++de){var ee=J[de];if(B===0&&(B=te,(X+=Z)>=U&&(Z=4*W+4*r*(me-1),X=j+(te+W)*(me<<1),me>>=1)),ee===G)X+=4;else{var le=t[ie+3*ee],pe=t[ie+3*ee+1],ce=t[ie+3*ee+2];D[X++]=le,D[X++]=pe,D[X++]=ce,D[X++]=255}--B}}}function $k(t,e,r,n){for(var a=t[e++],i=1<<a,s=i+1,l=s+1,c=a+1,u=(1<<c)-1,f=0,m=0,v=0,h=t[e++],E=new Int32Array(4096),y=null;;){for(;f<16&&h!==0;)m|=t[e++]<<f,f+=8,h===1?h=t[e++]:--h;if(f<c)break;var b=m&u;if(m>>=c,f-=c,b!==i){if(b===s)break;for(var x=b<l?b:y,w=0,N=x;N>i;)N=E[N]>>8,++w;var I=N;if(v+w+(x!==b?1:0)>n)return void qa.log("Warning, gif stream longer than expected.");r[v++]=I;var P=v+=w;for(x!==b&&(r[v++]=I),N=x;w--;)N=E[N],r[--P]=255&N,N>>=8;y!==null&&l<4096&&(E[l++]=y<<8|I,l>=u+1&&c<12&&(++c,u=u<<1|1)),y=b}else l=s+1,u=(1<<(c=a+1))-1,y=null}return v!==n&&qa.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function sE(t){var e,r,n,a,i,s=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),m=new Array(65535),v=new Array(65535),h=new Array(64),E=new Array(64),y=[],b=0,x=7,w=new Array(64),N=new Array(64),I=new Array(64),P=new Array(256),L=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],O=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],A=[0,1,2,3,4,5,6,7,8,9,10,11],T=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],C=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],V=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function J(j,U){for(var X=0,Z=0,me=new Array,de=1;de<=16;de++){for(var oe=1;oe<=j[de];oe++)me[U[Z]]=[],me[U[Z]][0]=X,me[U[Z]][1]=de,Z++,X++;X*=2}return me}function ie(j){for(var U=j[0],X=j[1]-1;X>=0;)U&1<<X&&(b|=1<<x),X--,--x<0&&(b==255?(G(255),G(0)):G(b),x=7,b=0)}function G(j){y.push(j)}function te(j){G(j>>8&255),G(255&j)}function W(j,U,X,Z,me){for(var de,oe=me[0],ee=me[240],le=function(ke,Be){var Xe,Ke,Et,ut,zt,Gt,mt,nt,ht,Kt,bt=0;for(ht=0;ht<8;++ht){Xe=ke[bt],Ke=ke[bt+1],Et=ke[bt+2],ut=ke[bt+3],zt=ke[bt+4],Gt=ke[bt+5],mt=ke[bt+6];var Ar=Xe+(nt=ke[bt+7]),Jt=Xe-nt,Lr=Ke+mt,mr=Ke-mt,wr=Et+Gt,Ur=Et-Gt,Sr=ut+zt,kt=ut-zt,Ee=Ar+Sr,Ne=Ar-Sr,qe=Lr+wr,Nt=Lr-wr;ke[bt]=Ee+qe,ke[bt+4]=Ee-qe;var St=.707106781*(Nt+Ne);ke[bt+2]=Ne+St,ke[bt+6]=Ne-St;var Ot=.382683433*((Ee=kt+Ur)-(Nt=mr+Jt)),gr=.5411961*Ee+Ot,lr=1.306562965*Nt+Ot,zr=.707106781*(qe=Ur+mr),st=Jt+zr,Ct=Jt-zr;ke[bt+5]=Ct+gr,ke[bt+3]=Ct-gr,ke[bt+1]=st+lr,ke[bt+7]=st-lr,bt+=8}for(bt=0,ht=0;ht<8;++ht){Xe=ke[bt],Ke=ke[bt+8],Et=ke[bt+16],ut=ke[bt+24],zt=ke[bt+32],Gt=ke[bt+40],mt=ke[bt+48];var _t=Xe+(nt=ke[bt+56]),Kr=Xe-nt,yn=Ke+mt,en=Ke-mt,pr=Et+Gt,Tr=Et-Gt,mn=ut+zt,rn=ut-zt,er=_t+mn,ct=_t-mn,At=yn+pr,Yt=yn-pr;ke[bt]=er+At,ke[bt+32]=er-At;var Ye=.707106781*(Yt+ct);ke[bt+16]=ct+Ye,ke[bt+48]=ct-Ye;var ft=.382683433*((er=rn+Tr)-(Yt=en+Kr)),ot=.5411961*er+ft,$e=1.306562965*Yt+ft,at=.707106781*(At=Tr+en),Rt=Kr+at,Ht=Kr-at;ke[bt+40]=Ht+ot,ke[bt+24]=Ht-ot,ke[bt+8]=Rt+$e,ke[bt+56]=Rt-$e,bt++}for(ht=0;ht<64;++ht)Kt=ke[ht]*Be[ht],h[ht]=Kt>0?Kt+.5|0:Kt-.5|0;return h}(j,U),pe=0;pe<64;++pe)E[R[pe]]=le[pe];var ce=E[0]-X;X=E[0],ce==0?ie(Z[0]):(ie(Z[v[de=32767+ce]]),ie(m[de]));for(var _e=63;_e>0&&E[_e]==0;)_e--;if(_e==0)return ie(oe),X;for(var He,Re=1;Re<=_e;){for(var be=Re;E[Re]==0&&Re<=_e;)++Re;var gt=Re-be;if(gt>=16){He=gt>>4;for(var Ae=1;Ae<=He;++Ae)ie(ee);gt&=15}de=32767+E[Re],ie(me[(gt<<4)+v[de]]),ie(m[de]),Re++}return _e!=63&&ie(oe),X}function B(j){j=Math.min(Math.max(j,1),100),i!=j&&(function(U){for(var X=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var me=s((X[Z]*U+50)/100);me=Math.min(Math.max(me,1),255),l[R[Z]]=me}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],oe=0;oe<64;oe++){var ee=s((de[oe]*U+50)/100);ee=Math.min(Math.max(ee,1),255),c[R[oe]]=ee}for(var le=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],pe=0,ce=0;ce<8;ce++)for(var _e=0;_e<8;_e++)u[pe]=1/(l[R[pe]]*le[ce]*le[_e]*8),f[pe]=1/(c[R[pe]]*le[ce]*le[_e]*8),pe++}(j<50?Math.floor(5e3/j):Math.floor(200-2*j)),i=j)}this.encode=function(j,U){U&&B(U),y=new Array,b=0,x=7,te(65496),te(65504),te(16),G(74),G(70),G(73),G(70),G(0),G(1),G(1),G(0),te(1),te(1),G(0),G(0),function(){te(65499),te(132),G(0);for(var Ke=0;Ke<64;Ke++)G(l[Ke]);G(1);for(var Et=0;Et<64;Et++)G(c[Et])}(),function(Ke,Et){te(65472),te(17),G(8),te(Et),te(Ke),G(3),G(1),G(17),G(0),G(2),G(17),G(1),G(3),G(17),G(1)}(j.width,j.height),function(){te(65476),te(418),G(0);for(var Ke=0;Ke<16;Ke++)G(O[Ke+1]);for(var Et=0;Et<=11;Et++)G(A[Et]);G(16);for(var ut=0;ut<16;ut++)G(T[ut+1]);for(var zt=0;zt<=161;zt++)G(C[zt]);G(1);for(var Gt=0;Gt<16;Gt++)G(_[Gt+1]);for(var mt=0;mt<=11;mt++)G(D[mt]);G(17);for(var nt=0;nt<16;nt++)G(z[nt+1]);for(var ht=0;ht<=161;ht++)G(V[ht])}(),te(65498),te(12),G(3),G(1),G(0),G(2),G(17),G(3),G(17),G(0),G(63),G(0);var X=0,Z=0,me=0;b=0,x=7,this.encode.displayName="_encode_";for(var de,oe,ee,le,pe,ce,_e,He,Re,be=j.data,gt=j.width,Ae=j.height,ke=4*gt,Be=0;Be<Ae;){for(de=0;de<ke;){for(pe=ke*Be+de,_e=-1,He=0,Re=0;Re<64;Re++)ce=pe+(He=Re>>3)*ke+(_e=4*(7&Re)),Be+He>=Ae&&(ce-=ke*(Be+1+He-Ae)),de+_e>=ke&&(ce-=de+_e-ke+4),oe=be[ce++],ee=be[ce++],le=be[ce++],w[Re]=(L[oe]+L[ee+256>>0]+L[le+512>>0]>>16)-128,N[Re]=(L[oe+768>>0]+L[ee+1024>>0]+L[le+1280>>0]>>16)-128,I[Re]=(L[oe+1280>>0]+L[ee+1536>>0]+L[le+1792>>0]>>16)-128;X=W(w,u,X,e,n),Z=W(N,f,Z,r,a),me=W(I,f,me,r,a),de+=32}Be+=8}if(x>=0){var Xe=[];Xe[1]=x+1,Xe[0]=(1<<x+1)-1,ie(Xe)}return te(65497),new Uint8Array(y)},t=t||50,function(){for(var j=String.fromCharCode,U=0;U<256;U++)P[U]=j(U)}(),e=J(O,A),r=J(_,D),n=J(T,C),a=J(z,V),function(){for(var j=1,U=2,X=1;X<=15;X++){for(var Z=j;Z<U;Z++)v[32767+Z]=X,m[32767+Z]=[],m[32767+Z][1]=X,m[32767+Z][0]=Z;for(var me=-(U-1);me<=-j;me++)v[32767+me]=X,m[32767+me]=[],m[32767+me][1]=X,m[32767+me][0]=U-1+me;j<<=1,U<<=1}}(),function(){for(var j=0;j<256;j++)L[j]=19595*j,L[j+256>>0]=38470*j,L[j+512>>0]=7471*j+32768,L[j+768>>0]=-11059*j,L[j+1024>>0]=-21709*j,L[j+1280>>0]=32768*j+8421375,L[j+1536>>0]=-27439*j,L[j+1792>>0]=-5329*j}(),B(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Tc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function zk(t){function e(O){if(!O)throw Error("assert :P")}function r(O,A,T){for(var C=0;4>C;C++)if(O[A+C]!=T.charCodeAt(C))return!0;return!1}function n(O,A,T,C,_){for(var D=0;D<_;D++)O[A+D]=T[C+D]}function a(O,A,T,C){for(var _=0;_<C;_++)O[A+_]=T}function i(O){return new Int32Array(O)}function s(O,A){for(var T=[],C=0;C<O;C++)T.push(new A);return T}function l(O,A){var T=[];return function C(_,D,z){for(var V=z[D],J=0;J<V&&(_.push(z.length>D+1?[]:new A),!(z.length<D+1));J++)C(_[J],D+1,z)}(T,0,O),T}var c=function(){var O=this;function A(k,$){for(var K=1<<$-1>>>0;k&K;)K>>>=1;return K?(k&K-1)+K:k}function T(k,$,K,ne,ue){e(!(ne%K));do k[$+(ne-=K)]=ue;while(0<ne)}function C(k,$,K,ne,ue){if(e(2328>=ue),512>=ue)var ge=i(512);else if((ge=i(ue))==null)return 0;return function(ve,ye,xe,Oe,Q,M){var Y,se,Ie=ye,Ce=1<<xe,we=i(16),Pe=i(16);for(e(Q!=0),e(Oe!=null),e(ve!=null),e(0<xe),se=0;se<Q;++se){if(15<Oe[se])return 0;++we[Oe[se]]}if(we[0]==Q)return 0;for(Pe[1]=0,Y=1;15>Y;++Y){if(we[Y]>1<<Y)return 0;Pe[Y+1]=Pe[Y]+we[Y]}for(se=0;se<Q;++se)Y=Oe[se],0<Oe[se]&&(M[Pe[Y]++]=se);if(Pe[15]==1)return(Oe=new _).g=0,Oe.value=M[0],T(ve,Ie,1,Ce,Oe),Ce;var We,Qe=-1,rt=Ce-1,xt=0,$t=1,Qt=1,jt=1<<xe;for(se=0,Y=1,Q=2;Y<=xe;++Y,Q<<=1){if($t+=Qt<<=1,0>(Qt-=we[Y]))return 0;for(;0<we[Y];--we[Y])(Oe=new _).g=Y,Oe.value=M[se++],T(ve,Ie+xt,Q,jt,Oe),xt=A(xt,Y)}for(Y=xe+1,Q=2;15>=Y;++Y,Q<<=1){if($t+=Qt<<=1,0>(Qt-=we[Y]))return 0;for(;0<we[Y];--we[Y]){if(Oe=new _,(xt&rt)!=Qe){for(Ie+=jt,We=1<<(Qe=Y)-xe;15>Qe&&!(0>=(We-=we[Qe]));)++Qe,We<<=1;Ce+=jt=1<<(We=Qe-xe),ve[ye+(Qe=xt&rt)].g=We+xe,ve[ye+Qe].value=Ie-ye-Qe}Oe.g=Y-xe,Oe.value=M[se++],T(ve,Ie+(xt>>xe),Q,jt,Oe),xt=A(xt,Y)}}return $t!=2*Pe[15]-1?0:Ce}(k,$,K,ne,ue,ge)}function _(){this.value=this.g=0}function D(){this.value=this.g=0}function z(){this.G=s(5,_),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(tn,D)}function V(k,$,K,ne){e(k!=null),e($!=null),e(2147483648>ne),k.Ca=254,k.I=0,k.b=-8,k.Ka=0,k.oa=$,k.pa=K,k.Jd=$,k.Yc=K+ne,k.Zc=4<=ne?K+ne-4+1:K,de(k)}function J(k,$){for(var K=0;0<$--;)K|=ee(k,128)<<$;return K}function ie(k,$){var K=J(k,$);return oe(k)?-K:K}function G(k,$,K,ne){var ue,ge=0;for(e(k!=null),e($!=null),e(4294967288>ne),k.Sb=ne,k.Ra=0,k.u=0,k.h=0,4<ne&&(ne=4),ue=0;ue<ne;++ue)ge+=$[K+ue]<<8*ue;k.Ra=ge,k.bb=ne,k.oa=$,k.pa=K}function te(k){for(;8<=k.u&&k.bb<k.Sb;)k.Ra>>>=8,k.Ra+=k.oa[k.pa+k.bb]<<zo-8>>>0,++k.bb,k.u-=8;X(k)&&(k.h=1,k.u=0)}function W(k,$){if(e(0<=$),!k.h&&$<=$o){var K=U(k)&Wa[$];return k.u+=$,te(k),K}return k.h=1,k.u=0}function B(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function j(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function U(k){return k.Ra>>>(k.u&zo-1)>>>0}function X(k){return e(k.bb<=k.Sb),k.h||k.bb==k.Sb&&k.u>zo}function Z(k,$){k.u=$,k.h=X(k)}function me(k){k.u>=Ga&&(e(k.u>=Ga),te(k))}function de(k){e(k!=null&&k.oa!=null),k.pa<k.Zc?(k.I=(k.oa[k.pa++]|k.I<<8)>>>0,k.b+=8):(e(k!=null&&k.oa!=null),k.pa<k.Yc?(k.b+=8,k.I=k.oa[k.pa++]|k.I<<8):k.Ka?k.b=0:(k.I<<=8,k.b+=8,k.Ka=1))}function oe(k){return J(k,1)}function ee(k,$){var K=k.Ca;0>k.b&&de(k);var ne=k.b,ue=K*$>>>8,ge=(k.I>>>ne>ue)+0;for(ge?(K-=ue,k.I-=ue+1<<ne>>>0):K=ue+1,ne=K,ue=0;256<=ne;)ue+=8,ne>>=8;return ne=7^ue+da[ne],k.b-=ne,k.Ca=(K<<ne)-1,ge}function le(k,$,K){k[$+0]=K>>24&255,k[$+1]=K>>16&255,k[$+2]=K>>8&255,k[$+3]=K>>0&255}function pe(k,$){return k[$+0]<<0|k[$+1]<<8}function ce(k,$){return pe(k,$)|k[$+2]<<16}function _e(k,$){return pe(k,$)|pe(k,$+2)<<16}function He(k,$){var K=1<<$;return e(k!=null),e(0<$),k.X=i(K),k.X==null?0:(k.Mb=32-$,k.Xa=$,1)}function Re(k,$){e(k!=null),e($!=null),e(k.Xa==$.Xa),n($.X,0,k.X,0,1<<$.Xa)}function be(){this.X=[],this.Xa=this.Mb=0}function gt(k,$,K,ne){e(K!=null),e(ne!=null);var ue=K[0],ge=ne[0];return ue==0&&(ue=(k*ge+$/2)/$),ge==0&&(ge=($*ue+k/2)/k),0>=ue||0>=ge?0:(K[0]=ue,ne[0]=ge,1)}function Ae(k,$){return k+(1<<$)-1>>>$}function ke(k,$){return((4278255360&k)+(4278255360&$)>>>0&4278255360)+((16711935&k)+(16711935&$)>>>0&16711935)>>>0}function Be(k,$){O[$]=function(K,ne,ue,ge,ve,ye,xe){var Oe;for(Oe=0;Oe<ve;++Oe){var Q=O[k](ye[xe+Oe-1],ue,ge+Oe);ye[xe+Oe]=ke(K[ne+Oe],Q)}}}function Xe(){this.ud=this.hd=this.jd=0}function Ke(k,$){return((4278124286&(k^$))>>>1)+(k&$)>>>0}function Et(k){return 0<=k&&256>k?k:0>k?0:255<k?255:void 0}function ut(k,$){return Et(k+(k-$+.5>>1))}function zt(k,$,K){return Math.abs($-K)-Math.abs(k-K)}function Gt(k,$,K,ne,ue,ge,ve){for(ne=ge[ve-1],K=0;K<ue;++K)ge[ve+K]=ne=ke(k[$+K],ne)}function mt(k,$,K,ne,ue){var ge;for(ge=0;ge<K;++ge){var ve=k[$+ge],ye=ve>>8&255,xe=16711935&(xe=(xe=16711935&ve)+((ye<<16)+ye));ne[ue+ge]=(4278255360&ve)+xe>>>0}}function nt(k,$){$.jd=k>>0&255,$.hd=k>>8&255,$.ud=k>>16&255}function ht(k,$,K,ne,ue,ge){var ve;for(ve=0;ve<ne;++ve){var ye=$[K+ve],xe=ye>>>8,Oe=ye,Q=255&(Q=(Q=ye>>>16)+((k.jd<<24>>24)*(xe<<24>>24)>>>5));Oe=255&(Oe=(Oe=Oe+((k.hd<<24>>24)*(xe<<24>>24)>>>5))+((k.ud<<24>>24)*(Q<<24>>24)>>>5)),ue[ge+ve]=(4278255360&ye)+(Q<<16)+Oe}}function Kt(k,$,K,ne,ue){O[$]=function(ge,ve,ye,xe,Oe,Q,M,Y,se){for(xe=M;xe<Y;++xe)for(M=0;M<se;++M)Oe[Q++]=ue(ye[ne(ge[ve++])])},O[k]=function(ge,ve,ye,xe,Oe,Q,M){var Y=8>>ge.b,se=ge.Ea,Ie=ge.K[0],Ce=ge.w;if(8>Y)for(ge=(1<<ge.b)-1,Ce=(1<<Y)-1;ve<ye;++ve){var we,Pe=0;for(we=0;we<se;++we)we&ge||(Pe=ne(xe[Oe++])),Q[M++]=ue(Ie[Pe&Ce]),Pe>>=Y}else O["VP8LMapColor"+K](xe,Oe,Ie,Ce,Q,M,ve,ye,se)}}function bt(k,$,K,ne,ue){for(K=$+K;$<K;){var ge=k[$++];ne[ue++]=ge>>16&255,ne[ue++]=ge>>8&255,ne[ue++]=ge>>0&255}}function Ar(k,$,K,ne,ue){for(K=$+K;$<K;){var ge=k[$++];ne[ue++]=ge>>16&255,ne[ue++]=ge>>8&255,ne[ue++]=ge>>0&255,ne[ue++]=ge>>24&255}}function Jt(k,$,K,ne,ue){for(K=$+K;$<K;){var ge=(ve=k[$++])>>16&240|ve>>12&15,ve=ve>>0&240|ve>>28&15;ne[ue++]=ge,ne[ue++]=ve}}function Lr(k,$,K,ne,ue){for(K=$+K;$<K;){var ge=(ve=k[$++])>>16&248|ve>>13&7,ve=ve>>5&224|ve>>3&31;ne[ue++]=ge,ne[ue++]=ve}}function mr(k,$,K,ne,ue){for(K=$+K;$<K;){var ge=k[$++];ne[ue++]=ge>>0&255,ne[ue++]=ge>>8&255,ne[ue++]=ge>>16&255}}function wr(k,$,K,ne,ue,ge){if(ge==0)for(K=$+K;$<K;)le(ne,((ge=k[$++])[0]>>24|ge[1]>>8&65280|ge[2]<<8&16711680|ge[3]<<24)>>>0),ue+=32;else n(ne,ue,k,$,K)}function Ur(k,$){O[$][0]=O[k+"0"],O[$][1]=O[k+"1"],O[$][2]=O[k+"2"],O[$][3]=O[k+"3"],O[$][4]=O[k+"4"],O[$][5]=O[k+"5"],O[$][6]=O[k+"6"],O[$][7]=O[k+"7"],O[$][8]=O[k+"8"],O[$][9]=O[k+"9"],O[$][10]=O[k+"10"],O[$][11]=O[k+"11"],O[$][12]=O[k+"12"],O[$][13]=O[k+"13"],O[$][14]=O[k+"0"],O[$][15]=O[k+"0"]}function Sr(k){return k==Jc||k==zl||k==Xc||k==fl}function kt(){this.eb=[],this.size=this.A=this.fb=0}function Ee(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ne(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kt,this.f.kb=new Ee,this.sd=null}function qe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Nt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function St(k){return alert("todo:WebPSamplerProcessPlane"),k.T}function Ot(k,$){var K=k.T,ne=$.ba.f.RGBA,ue=ne.eb,ge=ne.fb+k.ka*ne.A,ve=yi[$.ba.S],ye=k.y,xe=k.O,Oe=k.f,Q=k.N,M=k.ea,Y=k.W,se=$.cc,Ie=$.dc,Ce=$.Mc,we=$.Nc,Pe=k.ka,We=k.ka+k.T,Qe=k.U,rt=Qe+1>>1;for(Pe==0?ve(ye,xe,null,null,Oe,Q,M,Y,Oe,Q,M,Y,ue,ge,null,null,Qe):(ve($.ec,$.fc,ye,xe,se,Ie,Ce,we,Oe,Q,M,Y,ue,ge-ne.A,ue,ge,Qe),++K);Pe+2<We;Pe+=2)se=Oe,Ie=Q,Ce=M,we=Y,Q+=k.Rc,Y+=k.Rc,ge+=2*ne.A,ve(ye,(xe+=2*k.fa)-k.fa,ye,xe,se,Ie,Ce,we,Oe,Q,M,Y,ue,ge-ne.A,ue,ge,Qe);return xe+=k.fa,k.j+We<k.o?(n($.ec,$.fc,ye,xe,Qe),n($.cc,$.dc,Oe,Q,rt),n($.Mc,$.Nc,M,Y,rt),K--):1&We||ve(ye,xe,null,null,Oe,Q,M,Y,Oe,Q,M,Y,ue,ge+ne.A,null,null,Qe),K}function gr(k,$,K){var ne=k.F,ue=[k.J];if(ne!=null){var ge=k.U,ve=$.ba.S,ye=ve==Su||ve==Xc;$=$.ba.f.RGBA;var xe=[0],Oe=k.ka;xe[0]=k.T,k.Kb&&(Oe==0?--xe[0]:(--Oe,ue[0]-=k.width),k.j+k.ka+k.T==k.o&&(xe[0]=k.o-k.j-Oe));var Q=$.eb;Oe=$.fb+Oe*$.A,k=na(ne,ue[0],k.width,ge,xe,Q,Oe+(ye?0:3),$.A),e(K==xe),k&&Sr(ve)&&bi(Q,Oe,ye,ge,xe,$.A)}return 0}function lr(k){var $=k.ma,K=$.ba.S,ne=11>K,ue=K==$l||K==wu||K==Su||K==ca||K==12||Sr(K);if($.memory=null,$.Ib=null,$.Jb=null,$.Nd=null,!Xr($.Oa,k,ue?11:12))return 0;if(ue&&Sr(K)&&Zt(),k.da)alert("todo:use_scaling");else{if(ne){if($.Ib=St,k.Kb){if(K=k.U+1>>1,$.memory=i(k.U+2*K),$.memory==null)return 0;$.ec=$.memory,$.fc=0,$.cc=$.ec,$.dc=$.fc+k.U,$.Mc=$.cc,$.Nc=$.dc+K,$.Ib=Ot,Zt()}}else alert("todo:EmitYUV");ue&&($.Jb=gr,ne&&it())}if(ne&&!fo){for(k=0;256>k;++k)ii[k]=89858*(k-128)+Fi>>qs,Vo[k]=-22014*(k-128)+Fi,gc[k]=-45773*(k-128),gl[k]=113618*(k-128)+Fi>>qs;for(k=aa;k<Hn;++k)$=76283*(k-16)+Fi>>qs,sd[k-aa]=Lt($,255),ql[k-aa]=Lt($+8>>4,15);fo=1}return 1}function zr(k){var $=k.ma,K=k.U,ne=k.T;return e(!(1&k.ka)),0>=K||0>=ne?0:(K=$.Ib(k,$),$.Jb!=null&&$.Jb(k,$,K),$.Dc+=K,1)}function st(k){k.ma.memory=null}function Ct(k,$,K,ne){return W(k,8)!=47?0:($[0]=W(k,14)+1,K[0]=W(k,14)+1,ne[0]=W(k,1),W(k,3)!=0?0:!k.h)}function _t(k,$){if(4>k)return k+1;var K=k-2>>1;return(2+(1&k)<<K)+W($,K)+1}function Kr(k,$){return 120<$?$-120:1<=(K=((K=Gp[$-1])>>4)*k+(8-(15&K)))?K:1;var K}function yn(k,$,K){var ne=U(K),ue=k[$+=255&ne].g-8;return 0<ue&&(Z(K,K.u+8),ne=U(K),$+=k[$].value,$+=ne&(1<<ue)-1),Z(K,K.u+k[$].g),k[$].value}function en(k,$,K){return K.g+=k.g,K.value+=k.value<<$>>>0,e(8>=K.g),k.g}function pr(k,$,K){var ne=k.xc;return e(($=ne==0?0:k.vc[k.md*(K>>ne)+($>>ne)])<k.Wb),k.Ya[$]}function Tr(k,$,K,ne){var ue=k.ab,ge=k.c*$,ve=k.C;$=ve+$;var ye=K,xe=ne;for(ne=k.Ta,K=k.Ua;0<ue--;){var Oe=k.gc[ue],Q=ve,M=$,Y=ye,se=xe,Ie=(xe=ne,ye=K,Oe.Ea);switch(e(Q<M),e(M<=Oe.nc),Oe.hc){case 2:ll(Y,se,(M-Q)*Ie,xe,ye);break;case 0:var Ce=Q,we=M,Pe=xe,We=ye,Qe=(jt=Oe).Ea;Ce==0&&(vi(Y,se,null,null,1,Pe,We),Gt(Y,se+1,0,0,Qe-1,Pe,We+1),se+=Qe,We+=Qe,++Ce);for(var rt=1<<jt.b,xt=rt-1,$t=Ae(Qe,jt.b),Qt=jt.K,jt=jt.w+(Ce>>jt.b)*$t;Ce<we;){var vr=Qt,xr=jt,Br=1;for(Xi(Y,se,Pe,We-Qe,1,Pe,We);Br<Qe;){var Or=(Br&~xt)+rt;Or>Qe&&(Or=Qe),(0,js[vr[xr++]>>8&15])(Y,se+ +Br,Pe,We+Br-Qe,Or-Br,Pe,We+Br),Br=Or}se+=Qe,We+=Qe,++Ce&xt||(jt+=$t)}M!=Oe.nc&&n(xe,ye-Ie,xe,ye+(M-Q-1)*Ie,Ie);break;case 1:for(Ie=Y,we=se,Qe=(Y=Oe.Ea)-(We=Y&~(Pe=(se=1<<Oe.b)-1)),Ce=Ae(Y,Oe.b),rt=Oe.K,Oe=Oe.w+(Q>>Oe.b)*Ce;Q<M;){for(xt=rt,$t=Oe,Qt=new Xe,jt=we+We,vr=we+Y;we<jt;)nt(xt[$t++],Qt),Ml(Qt,Ie,we,se,xe,ye),we+=se,ye+=se;we<vr&&(nt(xt[$t++],Qt),Ml(Qt,Ie,we,Qe,xe,ye),we+=Qe,ye+=Qe),++Q&Pe||(Oe+=Ce)}break;case 3:if(Y==xe&&se==ye&&0<Oe.b){for(we=xe,Y=Ie=ye+(M-Q)*Ie-(We=(M-Q)*Ae(Oe.Ea,Oe.b)),se=xe,Pe=ye,Ce=[],We=(Qe=We)-1;0<=We;--We)Ce[We]=se[Pe+We];for(We=Qe-1;0<=We;--We)we[Y+We]=Ce[We];Ba(Oe,Q,M,xe,Ie,xe,ye)}else Ba(Oe,Q,M,Y,se,xe,ye)}ye=ne,xe=K}xe!=K&&n(ne,K,ye,xe,ge)}function mn(k,$){var K=k.V,ne=k.Ba+k.c*k.C,ue=$-k.C;if(e($<=k.l.o),e(16>=ue),0<ue){var ge=k.l,ve=k.Ta,ye=k.Ua,xe=ge.width;if(Tr(k,ue,K,ne),ue=ye=[ye],e((K=k.C)<(ne=$)),e(ge.v<ge.va),ne>ge.o&&(ne=ge.o),K<ge.j){var Oe=ge.j-K;K=ge.j,ue[0]+=Oe*xe}if(K>=ne?K=0:(ue[0]+=4*ge.v,ge.ka=K-ge.j,ge.U=ge.va-ge.v,ge.T=ne-K,K=1),K){if(ye=ye[0],11>(K=k.ca).S){var Q=K.f.RGBA,M=(ne=K.S,ue=ge.U,ge=ge.T,Oe=Q.eb,Q.A),Y=ge;for(Q=Q.fb+k.Ma*Q.A;0<Y--;){var se=ve,Ie=ye,Ce=ue,we=Oe,Pe=Q;switch(ne){case nd:Bo(se,Ie,Ce,we,Pe);break;case $l:Ao(se,Ie,Ce,we,Pe);break;case Jc:Ao(se,Ie,Ce,we,Pe),bi(we,Pe,0,Ce,1,0);break;case om:ul(se,Ie,Ce,we,Pe);break;case wu:wr(se,Ie,Ce,we,Pe,1);break;case zl:wr(se,Ie,Ce,we,Pe,1),bi(we,Pe,0,Ce,1,0);break;case Su:wr(se,Ie,Ce,we,Pe,0);break;case Xc:wr(se,Ie,Ce,we,Pe,0),bi(we,Pe,1,Ce,1,0);break;case ca:Dl(se,Ie,Ce,we,Pe);break;case fl:Dl(se,Ie,Ce,we,Pe),fa(we,Pe,Ce,1,0);break;case cc:cl(se,Ie,Ce,we,Pe);break;default:e(0)}ye+=xe,Q+=M}k.Ma+=ge}else alert("todo:EmitRescaledRowsYUVA");e(k.Ma<=K.height)}}k.C=$,e(k.C<=k.i)}function rn(k){var $;if(0<k.ua)return 0;for($=0;$<k.Wb;++$){var K=k.Ya[$].G,ne=k.Ya[$].H;if(0<K[1][ne[1]+0].g||0<K[2][ne[2]+0].g||0<K[3][ne[3]+0].g)return 0}return 1}function er(k,$,K,ne,ue,ge){if(k.Z!=0){var ve=k.qd,ye=k.rd;for(e(qo[k.Z]!=null);$<K;++$)qo[k.Z](ve,ye,ne,ue,ne,ue,ge),ve=ne,ye=ue,ue+=ge;k.qd=ve,k.rd=ye}}function ct(k,$){var K=k.l.ma,ne=K.Z==0||K.Z==1?k.l.j:k.C;if(ne=k.C<ne?ne:k.C,e($<=k.l.o),$>ne){var ue=k.l.width,ge=K.ca,ve=K.tb+ue*ne,ye=k.V,xe=k.Ba+k.c*ne,Oe=k.gc;e(k.ab==1),e(Oe[0].hc==3),ic(Oe[0],ne,$,ye,xe,ge,ve),er(K,ne,$,ge,ve,ue)}k.C=k.Ma=$}function At(k,$,K,ne,ue,ge,ve){var ye=k.$/ne,xe=k.$%ne,Oe=k.m,Q=k.s,M=K+k.$,Y=M;ue=K+ne*ue;var se=K+ne*ge,Ie=280+Q.ua,Ce=k.Pb?ye:16777216,we=0<Q.ua?Q.Wa:null,Pe=Q.wc,We=M<se?pr(Q,xe,ye):null;e(k.C<ge),e(se<=ue);var Qe=!1;e:for(;;){for(;Qe||M<se;){var rt=0;if(ye>=Ce){var xt=M-K;e((Ce=k).Pb),Ce.wd=Ce.m,Ce.xd=xt,0<Ce.s.ua&&Re(Ce.s.Wa,Ce.s.vb),Ce=ye+od}if(xe&Pe||(We=pr(Q,xe,ye)),e(We!=null),We.Qb&&($[M]=We.qb,Qe=!0),!Qe)if(me(Oe),We.jc){rt=Oe,xt=$;var $t=M,Qt=We.pd[U(rt)&tn-1];e(We.jc),256>Qt.g?(Z(rt,rt.u+Qt.g),xt[$t]=Qt.value,rt=0):(Z(rt,rt.u+Qt.g-256),e(256<=Qt.value),rt=Qt.value),rt==0&&(Qe=!0)}else rt=yn(We.G[0],We.H[0],Oe);if(Oe.h)break;if(Qe||256>rt){if(!Qe)if(We.nd)$[M]=(We.qb|rt<<8)>>>0;else{if(me(Oe),Qe=yn(We.G[1],We.H[1],Oe),me(Oe),xt=yn(We.G[2],We.H[2],Oe),$t=yn(We.G[3],We.H[3],Oe),Oe.h)break;$[M]=($t<<24|Qe<<16|rt<<8|xt)>>>0}if(Qe=!1,++M,++xe>=ne&&(xe=0,++ye,ve!=null&&ye<=ge&&!(ye%16)&&ve(k,ye),we!=null))for(;Y<M;)rt=$[Y++],we.X[(506832829*rt&4294967295)>>>we.Mb]=rt}else if(280>rt){if(rt=_t(rt-256,Oe),xt=yn(We.G[4],We.H[4],Oe),me(Oe),xt=Kr(ne,xt=_t(xt,Oe)),Oe.h)break;if(M-K<xt||ue-M<rt)break e;for($t=0;$t<rt;++$t)$[M+$t]=$[M+$t-xt];for(M+=rt,xe+=rt;xe>=ne;)xe-=ne,++ye,ve!=null&&ye<=ge&&!(ye%16)&&ve(k,ye);if(e(M<=ue),xe&Pe&&(We=pr(Q,xe,ye)),we!=null)for(;Y<M;)rt=$[Y++],we.X[(506832829*rt&4294967295)>>>we.Mb]=rt}else{if(!(rt<Ie))break e;for(Qe=rt-280,e(we!=null);Y<M;)rt=$[Y++],we.X[(506832829*rt&4294967295)>>>we.Mb]=rt;rt=M,e(!(Qe>>>(xt=we).Xa)),$[rt]=xt.X[Qe],Qe=!0}Qe||e(Oe.h==X(Oe))}if(k.Pb&&Oe.h&&M<ue)e(k.m.h),k.a=5,k.m=k.wd,k.$=k.xd,0<k.s.ua&&Re(k.s.vb,k.s.Wa);else{if(Oe.h)break e;ve!=null&&ve(k,ye>ge?ge:ye),k.a=0,k.$=M-K}return 1}return k.a=3,0}function Yt(k){e(k!=null),k.vc=null,k.yc=null,k.Ya=null;var $=k.Wa;$!=null&&($.X=null),k.vb=null,e(k!=null)}function Ye(){var k=new Rl;return k==null?null:(k.a=0,k.xb=Qc,Ur("Predictor","VP8LPredictors"),Ur("Predictor","VP8LPredictors_C"),Ur("PredictorAdd","VP8LPredictorsAdd"),Ur("PredictorAdd","VP8LPredictorsAdd_C"),ll=mt,Ml=ht,Bo=bt,Ao=Ar,Dl=Jt,cl=Lr,ul=mr,O.VP8LMapColor32b=oc,O.VP8LMapColor8b=ko,k)}function ft(k,$,K,ne,ue){var ge=1,ve=[k],ye=[$],xe=ne.m,Oe=ne.s,Q=null,M=0;e:for(;;){if(K)for(;ge&&W(xe,1);){var Y=ve,se=ye,Ie=ne,Ce=1,we=Ie.m,Pe=Ie.gc[Ie.ab],We=W(we,2);if(Ie.Oc&1<<We)ge=0;else{switch(Ie.Oc|=1<<We,Pe.hc=We,Pe.Ea=Y[0],Pe.nc=se[0],Pe.K=[null],++Ie.ab,e(4>=Ie.ab),We){case 0:case 1:Pe.b=W(we,3)+2,Ce=ft(Ae(Pe.Ea,Pe.b),Ae(Pe.nc,Pe.b),0,Ie,Pe.K),Pe.K=Pe.K[0];break;case 3:var Qe,rt=W(we,8)+1,xt=16<rt?0:4<rt?1:2<rt?2:3;if(Y[0]=Ae(Pe.Ea,xt),Pe.b=xt,Qe=Ce=ft(rt,1,0,Ie,Pe.K)){var $t,Qt=rt,jt=Pe,vr=1<<(8>>jt.b),xr=i(vr);if(xr==null)Qe=0;else{var Br=jt.K[0],Or=jt.w;for(xr[0]=jt.K[0][0],$t=1;$t<1*Qt;++$t)xr[$t]=ke(Br[Or+$t],xr[$t-1]);for(;$t<4*vr;++$t)xr[$t]=0;jt.K[0]=null,jt.K[0]=xr,Qe=1}}Ce=Qe;break;case 2:break;default:e(0)}ge=Ce}}if(ve=ve[0],ye=ye[0],ge&&W(xe,1)&&!(ge=1<=(M=W(xe,4))&&11>=M)){ne.a=3;break e}var Ir;if(Ir=ge)t:{var Yr,dr,Zr,Sn=ne,un=ve,pn=ye,ln=M,ma=K,Ca=Sn.m,Fn=Sn.s,oa=[null],pa=1,Un=0,ro=sm[ln];r:for(;;){if(ma&&W(Ca,1)){var Xn=W(Ca,3)+2,_a=Ae(un,Xn),ia=Ae(pn,Xn),Wn=_a*ia;if(!ft(_a,ia,0,Sn,oa))break r;for(oa=oa[0],Fn.xc=Xn,Yr=0;Yr<Wn;++Yr){var Ua=oa[Yr]>>8&65535;oa[Yr]=Ua,Ua>=pa&&(pa=Ua+1)}}if(Ca.h)break r;for(dr=0;5>dr;++dr){var On=dc[dr];!dr&&0<ln&&(On+=1<<ln),Un<On&&(Un=On)}var _o=s(pa*ro,_),vc=pa,ld=s(vc,z);if(ld==null)var $i=null;else e(65536>=vc),$i=ld;var si=i(Un);if($i==null||si==null||_o==null){Sn.a=1;break r}var bc=_o;for(Yr=Zr=0;Yr<pa;++Yr){var es=$i[Yr],Es=es.G,yc=es.H,Ec=0,zi=1,xc=0;for(dr=0;5>dr;++dr){On=dc[dr],Es[dr]=bc,yc[dr]=Zr,!dr&&0<ln&&(On+=1<<ln);a:{var vl,bl=On,ru=Sn,Ho=si,Pu=bc,cd=Zr,Pa=0,Bi=ru.m,ud=W(Bi,1);if(a(Ho,0,0,bl),ud){var dd=W(Bi,1)+1,Nu=W(Bi,1),ku=W(Bi,Nu==0?1:8);Ho[ku]=1,dd==2&&(Ho[ku=W(Bi,8)]=1);var Hs=1}else{var ja=i(19),Ya=W(Bi,4)+4;if(19<Ya){ru.a=3;var Ja=0;break a}for(vl=0;vl<Ya;++vl)ja[fc[vl]]=W(Bi,3);var fd=void 0,wc=void 0,md=ru,e1=ja,Lo=bl,dm=Ho,tf=0,Vl=md.m,yl=8,xs=s(128,_);n:for(;C(xs,0,7,e1,19);){if(W(Vl,1)){var rf=2+2*W(Vl,3);if((fd=2+W(Vl,rf))>Lo)break n}else fd=Lo;for(wc=0;wc<Lo&&fd--;){me(Vl);var fm=xs[0+(127&U(Vl))];Z(Vl,Vl.u+fm.g);var nu=fm.value;if(16>nu)dm[wc++]=nu,nu!=0&&(yl=nu);else{var gv=nu==16,Jp=nu-16,hv=ad[Jp],Xp=W(Vl,uc[Jp])+hv;if(wc+Xp>Lo)break n;for(var vv=gv?yl:0;0<Xp--;)dm[wc++]=vv}}tf=1;break n}tf||(md.a=3),Hs=tf}(Hs=Hs&&!Bi.h)&&(Pa=C(Pu,cd,8,Ho,bl)),Hs&&Pa!=0?Ja=Pa:(ru.a=3,Ja=0)}if(Ja==0)break r;if(zi&&im[dr]==1&&(zi=bc[Zr].g==0),Ec+=bc[Zr].g,Zr+=Ja,3>=dr){var pd,mm=si[0];for(pd=1;pd<On;++pd)si[pd]>mm&&(mm=si[pd]);xc+=mm}}if(es.nd=zi,es.Qb=0,zi&&(es.qb=(Es[3][yc[3]+0].value<<24|Es[1][yc[1]+0].value<<16|Es[2][yc[2]+0].value)>>>0,Ec==0&&256>Es[0][yc[0]+0].value&&(es.Qb=1,es.qb+=Es[0][yc[0]+0].value<<8)),es.jc=!es.Qb&&6>xc,es.jc){var nf,ws=es;for(nf=0;nf<tn;++nf){var Sc=nf,El=ws.pd[Sc],Au=ws.G[0][ws.H[0]+Sc];256<=Au.value?(El.g=Au.g+256,El.value=Au.value):(El.g=0,El.value=0,Sc>>=en(Au,8,El),Sc>>=en(ws.G[1][ws.H[1]+Sc],16,El),Sc>>=en(ws.G[2][ws.H[2]+Sc],0,El),en(ws.G[3][ws.H[3]+Sc],24,El))}}}Fn.vc=oa,Fn.Wb=pa,Fn.Ya=$i,Fn.yc=_o,Ir=1;break t}Ir=0}if(!(ge=Ir)){ne.a=3;break e}if(0<M){if(Oe.ua=1<<M,!He(Oe.Wa,M)){ne.a=1,ge=0;break e}}else Oe.ua=0;var pm=ne,gm=ve,bv=ye,hm=pm.s,vm=hm.xc;if(pm.c=gm,pm.i=bv,hm.md=Ae(gm,vm),hm.wc=vm==0?-1:(1<<vm)-1,K){ne.xb=Uo;break e}if((Q=i(ve*ye))==null){ne.a=1,ge=0;break e}ge=(ge=At(ne,Q,0,ve,ye,ye,null))&&!xe.h;break e}return ge?(ue!=null?ue[0]=Q:(e(Q==null),e(K)),ne.$=0,K||Yt(Oe)):Yt(Oe),ge}function ot(k,$){var K=k.c*k.i,ne=K+$+16*$;return e(k.c<=$),k.V=i(ne),k.V==null?(k.Ta=null,k.Ua=0,k.a=1,0):(k.Ta=k.V,k.Ua=k.Ba+K+$,1)}function $e(k,$){var K=k.C,ne=$-K,ue=k.V,ge=k.Ba+k.c*K;for(e($<=k.l.o);0<ne;){var ve=16<ne?16:ne,ye=k.l.ma,xe=k.l.width,Oe=xe*ve,Q=ye.ca,M=ye.tb+xe*K,Y=k.Ta,se=k.Ua;Tr(k,ve,ue,ge),Ka(Y,se,Q,M,Oe),er(ye,K,K+ve,Q,M,xe),ne-=ve,ue+=ve*k.c,K+=ve}e(K==$),k.C=k.Ma=$}function at(){this.ub=this.yd=this.td=this.Rb=0}function Rt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ht(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function or(){this.Yb=function(){var k=[];return function $(K,ne,ue){for(var ge=ue[ne],ve=0;ve<ge&&(K.push(ue.length>ne+1?[]:0),!(ue.length<ne+1));ve++)$(K[ve],ne+1,ue)}(k,0,[3,11]),k}()}function qt(){this.jb=i(3),this.Wc=l([4,8],or),this.Xc=l([4,17],or)}function br(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Pr(){this.ld=this.La=this.dd=this.tc=0}function Rr(){this.Na=this.la=0}function Ze(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ae(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Se(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pr),this.Y=0,this.ya=Array(new ae),this.aa=0,this.l=new pt}function Ue(){this.y=i(16),this.f=i(8),this.ea=i(8)}function tt(){this.cb=this.a=0,this.sc="",this.m=new B,this.Od=new at,this.Kc=new Rt,this.ed=new br,this.Qa=new Ht,this.Ic=this.$c=this.Aa=0,this.D=new Se,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,B),this.ia=0,this.pb=s(4,Ze),this.Pa=new qt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Ue),this.Hd=0,this.rb=Array(new Rr),this.sb=0,this.wa=Array(new Pr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ae),this.L=this.aa=0,this.gd=l([4,2],Pr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function pt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Bt(){var k=new tt;return k!=null&&(k.a=0,k.sc="OK",k.cb=0,k.Xb=0,ml||(ml=Rn)),k}function ar(k,$,K){return k.a==0&&(k.a=$,k.sc=K,k.cb=0),0}function Cr(k,$,K){return 3<=K&&k[$+0]==157&&k[$+1]==1&&k[$+2]==42}function qr(k,$){if(k==null)return 0;if(k.a=0,k.sc="OK",$==null)return ar(k,2,"null VP8Io passed to VP8GetHeaders()");var K=$.data,ne=$.w,ue=$.ha;if(4>ue)return ar(k,7,"Truncated header.");var ge=K[ne+0]|K[ne+1]<<8|K[ne+2]<<16,ve=k.Od;if(ve.Rb=!(1&ge),ve.td=ge>>1&7,ve.yd=ge>>4&1,ve.ub=ge>>5,3<ve.td)return ar(k,3,"Incorrect keyframe parameters.");if(!ve.yd)return ar(k,4,"Frame not displayable.");ne+=3,ue-=3;var ye=k.Kc;if(ve.Rb){if(7>ue)return ar(k,7,"cannot parse picture header");if(!Cr(K,ne,ue))return ar(k,3,"Bad code word");ye.c=16383&(K[ne+4]<<8|K[ne+3]),ye.Td=K[ne+4]>>6,ye.i=16383&(K[ne+6]<<8|K[ne+5]),ye.Ud=K[ne+6]>>6,ne+=7,ue-=7,k.za=ye.c+15>>4,k.Ub=ye.i+15>>4,$.width=ye.c,$.height=ye.i,$.Da=0,$.j=0,$.v=0,$.va=$.width,$.o=$.height,$.da=0,$.ib=$.width,$.hb=$.height,$.U=$.width,$.T=$.height,a((ge=k.Pa).jb,0,255,ge.jb.length),e((ge=k.Qa)!=null),ge.Cb=0,ge.Bb=0,ge.Fb=1,a(ge.Zb,0,0,ge.Zb.length),a(ge.Lb,0,0,ge.Lb)}if(ve.ub>ue)return ar(k,7,"bad partition length");V(ge=k.m,K,ne,ve.ub),ne+=ve.ub,ue-=ve.ub,ve.Rb&&(ye.Ld=oe(ge),ye.Kd=oe(ge)),ye=k.Qa;var xe,Oe=k.Pa;if(e(ge!=null),e(ye!=null),ye.Cb=oe(ge),ye.Cb){if(ye.Bb=oe(ge),oe(ge)){for(ye.Fb=oe(ge),xe=0;4>xe;++xe)ye.Zb[xe]=oe(ge)?ie(ge,7):0;for(xe=0;4>xe;++xe)ye.Lb[xe]=oe(ge)?ie(ge,6):0}if(ye.Bb)for(xe=0;3>xe;++xe)Oe.jb[xe]=oe(ge)?J(ge,8):255}else ye.Bb=0;if(ge.Ka)return ar(k,3,"cannot parse segment header");if((ye=k.ed).zd=oe(ge),ye.Tb=J(ge,6),ye.wb=J(ge,3),ye.Pc=oe(ge),ye.Pc&&oe(ge)){for(Oe=0;4>Oe;++Oe)oe(ge)&&(ye.vd[Oe]=ie(ge,6));for(Oe=0;4>Oe;++Oe)oe(ge)&&(ye.od[Oe]=ie(ge,6))}if(k.L=ye.Tb==0?0:ye.zd?1:2,ge.Ka)return ar(k,3,"cannot parse filter header");var Q=ue;if(ue=xe=ne,ne=xe+Q,ye=Q,k.Xb=(1<<J(k.m,2))-1,Q<3*(Oe=k.Xb))K=7;else{for(xe+=3*Oe,ye-=3*Oe,Q=0;Q<Oe;++Q){var M=K[ue+0]|K[ue+1]<<8|K[ue+2]<<16;M>ye&&(M=ye),V(k.Jc[+Q],K,xe,M),xe+=M,ye-=M,ue+=3}V(k.Jc[+Oe],K,xe,ye),K=xe<ne?0:5}if(K!=0)return ar(k,K,"cannot parse partitions");for(K=J(xe=k.m,7),ue=oe(xe)?ie(xe,4):0,ne=oe(xe)?ie(xe,4):0,ye=oe(xe)?ie(xe,4):0,Oe=oe(xe)?ie(xe,4):0,xe=oe(xe)?ie(xe,4):0,Q=k.Qa,M=0;4>M;++M){if(Q.Cb){var Y=Q.Zb[M];Q.Fb||(Y+=K)}else{if(0<M){k.pb[M]=k.pb[0];continue}Y=K}var se=k.pb[M];se.Sc[0]=Zc[Lt(Y+ue,127)],se.Sc[1]=Bl[Lt(Y+0,127)],se.Eb[0]=2*Zc[Lt(Y+ne,127)],se.Eb[1]=101581*Bl[Lt(Y+ye,127)]>>16,8>se.Eb[1]&&(se.Eb[1]=8),se.Qc[0]=Zc[Lt(Y+Oe,117)],se.Qc[1]=Bl[Lt(Y+xe,127)],se.lc=Y+xe}if(!ve.Rb)return ar(k,4,"Not a key frame.");for(oe(ge),ve=k.Pa,K=0;4>K;++K){for(ue=0;8>ue;++ue)for(ne=0;3>ne;++ne)for(ye=0;11>ye;++ye)Oe=ee(ge,cm[K][ue][ne][ye])?J(ge,8):mc[K][ue][ne][ye],ve.Wc[K][ue].Yb[ne][ye]=Oe;for(ue=0;17>ue;++ue)ve.Xc[K][ue]=ve.Wc[K][Qd[ue]]}return k.kc=oe(ge),k.kc&&(k.Bd=J(ge,8)),k.cb=1}function Rn(k,$,K,ne,ue,ge,ve){var ye=$[ue].Yb[K];for(K=0;16>ue;++ue){if(!ee(k,ye[K+0]))return ue;for(;!ee(k,ye[K+1]);)if(ye=$[++ue].Yb[0],K=0,ue==16)return 16;var xe=$[ue+1].Yb;if(ee(k,ye[K+2])){var Oe=k,Q=0;if(ee(Oe,(Y=ye)[(M=K)+3]))if(ee(Oe,Y[M+6])){for(ye=0,M=2*(Q=ee(Oe,Y[M+8]))+(Y=ee(Oe,Y[M+9+Q])),Q=0,Y=Xd[M];Y[ye];++ye)Q+=Q+ee(Oe,Y[ye]);Q+=3+(8<<M)}else ee(Oe,Y[M+7])?(Q=7+2*ee(Oe,165),Q+=ee(Oe,145)):Q=5+ee(Oe,159);else Q=ee(Oe,Y[M+4])?3+ee(Oe,Y[M+5]):2;ye=xe[2]}else Q=1,ye=xe[1];xe=ve+id[ue],0>(Oe=k).b&&de(Oe);var M,Y=Oe.b,se=(M=Oe.Ca>>1)-(Oe.I>>Y)>>31;--Oe.b,Oe.Ca+=se,Oe.Ca|=1,Oe.I-=(M+1&se)<<Y,ge[xe]=((Q^se)-se)*ne[(0<ue)+0]}return 16}function Mn(k){var $=k.rb[k.sb-1];$.la=0,$.Na=0,a(k.zc,0,0,k.zc.length),k.ja=0}function kr(k,$){if(k==null)return 0;if($==null)return ar(k,2,"NULL VP8Io parameter in VP8Decode().");if(!k.cb&&!qr(k,$))return 0;if(e(k.cb),$.ac==null||$.ac($)){$.ob&&(k.L=0);var K=hc[k.L];if(k.L==2?(k.yb=0,k.zb=0):(k.yb=$.v-K>>4,k.zb=$.j-K>>4,0>k.yb&&(k.yb=0),0>k.zb&&(k.zb=0)),k.Va=$.o+15+K>>4,k.Hb=$.va+15+K>>4,k.Hb>k.za&&(k.Hb=k.za),k.Va>k.Ub&&(k.Va=k.Ub),0<k.L){var ne=k.ed;for(K=0;4>K;++K){var ue;if(k.Qa.Cb){var ge=k.Qa.Lb[K];k.Qa.Fb||(ge+=ne.Tb)}else ge=ne.Tb;for(ue=0;1>=ue;++ue){var ve=k.gd[K][ue],ye=ge;if(ne.Pc&&(ye+=ne.vd[0],ue&&(ye+=ne.od[0])),0<(ye=0>ye?0:63<ye?63:ye)){var xe=ye;0<ne.wb&&(xe=4<ne.wb?xe>>2:xe>>1)>9-ne.wb&&(xe=9-ne.wb),1>xe&&(xe=1),ve.dd=xe,ve.tc=2*ye+xe,ve.ld=40<=ye?2:15<=ye?1:0}else ve.tc=0;ve.La=ue}}}K=0}else ar(k,6,"Frame setup failed"),K=k.a;if(K=K==0){if(K){k.$c=0,0<k.Aa||(k.Ic=hl);e:{K=k.Ic,ne=4*(xe=k.za);var Oe=32*xe,Q=xe+1,M=0<k.L?xe*(0<k.Aa?2:1):0,Y=(k.Aa==2?2:1)*xe;if((ve=ne+832+(ue=3*(16*K+hc[k.L])/2*Oe)+(ge=k.Fa!=null&&0<k.Fa.length?k.Kc.c*k.Kc.i:0))!=ve)K=0;else{if(ve>k.Vb){if(k.Vb=0,k.Ec=i(ve),k.Fc=0,k.Ec==null){K=ar(k,1,"no memory during frame initialization.");break e}k.Vb=ve}ve=k.Ec,ye=k.Fc,k.Ac=ve,k.Bc=ye,ye+=ne,k.Gd=s(Oe,Ue),k.Hd=0,k.rb=s(Q+1,Rr),k.sb=1,k.wa=M?s(M,Pr):null,k.Y=0,k.D.Nb=0,k.D.wa=k.wa,k.D.Y=k.Y,0<k.Aa&&(k.D.Y+=xe),e(!0),k.oc=ve,k.pc=ye,ye+=832,k.ya=s(Y,ae),k.aa=0,k.D.ya=k.ya,k.D.aa=k.aa,k.Aa==2&&(k.D.aa+=xe),k.R=16*xe,k.B=8*xe,xe=(Oe=hc[k.L])*k.R,Oe=Oe/2*k.B,k.sa=ve,k.ta=ye+xe,k.qa=k.sa,k.ra=k.ta+16*K*k.R+Oe,k.Ha=k.qa,k.Ia=k.ra+8*K*k.B+Oe,k.$c=0,ye+=ue,k.mb=ge?ve:null,k.nb=ge?ye:null,e(ye+ge<=k.Fc+k.Vb),Mn(k),a(k.Ac,k.Bc,0,ne),K=1}}if(K){if($.ka=0,$.y=k.sa,$.O=k.ta,$.f=k.qa,$.N=k.ra,$.ea=k.Ha,$.Vd=k.Ia,$.fa=k.R,$.Rc=k.B,$.F=null,$.J=0,!ji){for(K=-255;255>=K;++K)lo[255+K]=0>K?-K:K;for(K=-1020;1020>=K;++K)Us[1020+K]=-128>K?-128:127<K?127:K;for(K=-112;112>=K;++K)Kc[112+K]=-16>K?-16:15<K?15:K;for(K=-255;510>=K;++K)lc[255+K]=0>K?0:255<K?255:K;ji=1}Gc=cn,dl=ra,Fs=Tn,Oo=sn,ri=Sa,Qn=la,sc=nl,xu=Ha,Mi=Ki,ni=ac,jl=No,Di=vo,$s=al,bs=ol,zs=Qo,Bs=ei,Fl=uo,Io=Hc,Qi[0]=Vt,Qi[1]=Co,Qi[2]=De,Qi[3]=lt,Qi[4]=Dr,Qi[5]=Vn,Qi[6]=nn,Qi[7]=za,Qi[8]=hi,Qi[9]=io,oi[0]=En,oi[1]=Le,oi[2]=Dt,oi[3]=yr,oi[4]=Dn,oi[5]=go,oi[6]=$a,bo[0]=so,bo[1]=Xt,bo[2]=rl,bo[3]=Ii,bo[4]=hs,bo[5]=Ms,bo[6]=vs,K=1}else K=0}K&&(K=function(se,Ie){for(se.M=0;se.M<se.Va;++se.M){var Ce,we=se.Jc[se.M&se.Xb],Pe=se.m,We=se;for(Ce=0;Ce<We.za;++Ce){var Qe=Pe,rt=We,xt=rt.Ac,$t=rt.Bc+4*Ce,Qt=rt.zc,jt=rt.ya[rt.aa+Ce];if(rt.Qa.Bb?jt.$b=ee(Qe,rt.Pa.jb[0])?2+ee(Qe,rt.Pa.jb[2]):ee(Qe,rt.Pa.jb[1]):jt.$b=0,rt.kc&&(jt.Ad=ee(Qe,rt.Bd)),jt.Za=!ee(Qe,145)+0,jt.Za){var vr=jt.Ob,xr=0;for(rt=0;4>rt;++rt){var Br,Or=Qt[0+rt];for(Br=0;4>Br;++Br){Or=Zd[xt[$t+Br]][Or];for(var Ir=lm[ee(Qe,Or[0])];0<Ir;)Ir=lm[2*Ir+ee(Qe,Or[Ir])];Or=-Ir,xt[$t+Br]=Or}n(vr,xr,xt,$t,4),xr+=4,Qt[0+rt]=Or}}else Or=ee(Qe,156)?ee(Qe,128)?1:3:ee(Qe,163)?2:0,jt.Ob[0]=Or,a(xt,$t,Or,4),a(Qt,0,Or,4);jt.Dd=ee(Qe,142)?ee(Qe,114)?ee(Qe,183)?1:3:2:0}if(We.m.Ka)return ar(se,7,"Premature end-of-partition0 encountered.");for(;se.ja<se.za;++se.ja){if(We=we,Qe=(Pe=se).rb[Pe.sb-1],xt=Pe.rb[Pe.sb+Pe.ja],Ce=Pe.ya[Pe.aa+Pe.ja],$t=Pe.kc?Ce.Ad:0)Qe.la=xt.la=0,Ce.Za||(Qe.Na=xt.Na=0),Ce.Hc=0,Ce.Gc=0,Ce.ia=0;else{var Yr,dr;if(Qe=xt,xt=We,$t=Pe.Pa.Xc,Qt=Pe.ya[Pe.aa+Pe.ja],jt=Pe.pb[Qt.$b],rt=Qt.ad,vr=0,xr=Pe.rb[Pe.sb-1],Or=Br=0,a(rt,vr,0,384),Qt.Za)var Zr=0,Sn=$t[3];else{Ir=i(16);var un=Qe.Na+xr.Na;if(un=ml(xt,$t[1],un,jt.Eb,0,Ir,0),Qe.Na=xr.Na=(0<un)+0,1<un)Gc(Ir,0,rt,vr);else{var pn=Ir[0]+3>>3;for(Ir=0;256>Ir;Ir+=16)rt[vr+Ir]=pn}Zr=1,Sn=$t[0]}var ln=15&Qe.la,ma=15&xr.la;for(Ir=0;4>Ir;++Ir){var Ca=1&ma;for(pn=dr=0;4>pn;++pn)ln=ln>>1|(Ca=(un=ml(xt,Sn,un=Ca+(1&ln),jt.Sc,Zr,rt,vr))>Zr)<<7,dr=dr<<2|(3<un?3:1<un?2:rt[vr+0]!=0),vr+=16;ln>>=4,ma=ma>>1|Ca<<7,Br=(Br<<8|dr)>>>0}for(Sn=ln,Zr=ma>>4,Yr=0;4>Yr;Yr+=2){for(dr=0,ln=Qe.la>>4+Yr,ma=xr.la>>4+Yr,Ir=0;2>Ir;++Ir){for(Ca=1&ma,pn=0;2>pn;++pn)un=Ca+(1&ln),ln=ln>>1|(Ca=0<(un=ml(xt,$t[2],un,jt.Qc,0,rt,vr)))<<3,dr=dr<<2|(3<un?3:1<un?2:rt[vr+0]!=0),vr+=16;ln>>=2,ma=ma>>1|Ca<<5}Or|=dr<<4*Yr,Sn|=ln<<4<<Yr,Zr|=(240&ma)<<Yr}Qe.la=Sn,xr.la=Zr,Qt.Hc=Br,Qt.Gc=Or,Qt.ia=43690&Or?0:jt.ia,$t=!(Br|Or)}if(0<Pe.L&&(Pe.wa[Pe.Y+Pe.ja]=Pe.gd[Ce.$b][Ce.Za],Pe.wa[Pe.Y+Pe.ja].La|=!$t),We.Ka)return ar(se,7,"Premature end-of-file encountered.")}if(Mn(se),Pe=Ie,We=1,Ce=(we=se).D,Qe=0<we.L&&we.M>=we.zb&&we.M<=we.Va,we.Aa==0)e:{if(Ce.M=we.M,Ce.uc=Qe,ur(we,Ce),We=1,Ce=(dr=we.D).Nb,Qe=(Or=hc[we.L])*we.R,xt=Or/2*we.B,Ir=16*Ce*we.R,pn=8*Ce*we.B,$t=we.sa,Qt=we.ta-Qe+Ir,jt=we.qa,rt=we.ra-xt+pn,vr=we.Ha,xr=we.Ia-xt+pn,ma=(ln=dr.M)==0,Br=ln>=we.Va-1,we.Aa==2&&ur(we,dr),dr.uc)for(Ca=(un=we).D.M,e(un.D.uc),dr=un.yb;dr<un.Hb;++dr){Zr=dr,Sn=Ca;var Fn=(oa=(On=un).D).Nb;Yr=On.R;var oa=oa.wa[oa.Y+Zr],pa=On.sa,Un=On.ta+16*Fn*Yr+16*Zr,ro=oa.dd,Xn=oa.tc;if(Xn!=0)if(e(3<=Xn),On.L==1)0<Zr&&Bs(pa,Un,Yr,Xn+4),oa.La&&Io(pa,Un,Yr,Xn),0<Sn&&zs(pa,Un,Yr,Xn+4),oa.La&&Fl(pa,Un,Yr,Xn);else{var _a=On.B,ia=On.qa,Wn=On.ra+8*Fn*_a+8*Zr,Ua=On.Ha,On=On.Ia+8*Fn*_a+8*Zr;Fn=oa.ld,0<Zr&&(xu(pa,Un,Yr,Xn+4,ro,Fn),ni(ia,Wn,Ua,On,_a,Xn+4,ro,Fn)),oa.La&&(Di(pa,Un,Yr,Xn,ro,Fn),bs(ia,Wn,Ua,On,_a,Xn,ro,Fn)),0<Sn&&(sc(pa,Un,Yr,Xn+4,ro,Fn),Mi(ia,Wn,Ua,On,_a,Xn+4,ro,Fn)),oa.La&&(jl(pa,Un,Yr,Xn,ro,Fn),$s(ia,Wn,Ua,On,_a,Xn,ro,Fn))}}if(we.ia&&alert("todo:DitherRow"),Pe.put!=null){if(dr=16*ln,ln=16*(ln+1),ma?(Pe.y=we.sa,Pe.O=we.ta+Ir,Pe.f=we.qa,Pe.N=we.ra+pn,Pe.ea=we.Ha,Pe.W=we.Ia+pn):(dr-=Or,Pe.y=$t,Pe.O=Qt,Pe.f=jt,Pe.N=rt,Pe.ea=vr,Pe.W=xr),Br||(ln-=Or),ln>Pe.o&&(ln=Pe.o),Pe.F=null,Pe.J=null,we.Fa!=null&&0<we.Fa.length&&dr<ln&&(Pe.J=sl(we,Pe,dr,ln-dr),Pe.F=we.mb,Pe.F==null&&Pe.F.length==0)){We=ar(we,3,"Could not decode alpha data.");break e}dr<Pe.j&&(Or=Pe.j-dr,dr=Pe.j,e(!(1&Or)),Pe.O+=we.R*Or,Pe.N+=we.B*(Or>>1),Pe.W+=we.B*(Or>>1),Pe.F!=null&&(Pe.J+=Pe.width*Or)),dr<ln&&(Pe.O+=Pe.v,Pe.N+=Pe.v>>1,Pe.W+=Pe.v>>1,Pe.F!=null&&(Pe.J+=Pe.v),Pe.ka=dr-Pe.j,Pe.U=Pe.va-Pe.v,Pe.T=ln-dr,We=Pe.put(Pe))}Ce+1!=we.Ic||Br||(n(we.sa,we.ta-Qe,$t,Qt+16*we.R,Qe),n(we.qa,we.ra-xt,jt,rt+8*we.B,xt),n(we.Ha,we.Ia-xt,vr,xr+8*we.B,xt))}if(!We)return ar(se,6,"Output aborted.")}return 1}(k,$)),$.bc!=null&&$.bc($),K&=1}return K?(k.cb=0,K):0}function Vr(k,$,K,ne,ue){ue=k[$+K+32*ne]+(ue>>3),k[$+K+32*ne]=-256&ue?0>ue?0:255:ue}function Mr(k,$,K,ne,ue,ge){Vr(k,$,0,K,ne+ue),Vr(k,$,1,K,ne+ge),Vr(k,$,2,K,ne-ge),Vr(k,$,3,K,ne-ue)}function on(k){return(20091*k>>16)+k}function Pn(k,$,K,ne){var ue,ge=0,ve=i(16);for(ue=0;4>ue;++ue){var ye=k[$+0]+k[$+8],xe=k[$+0]-k[$+8],Oe=(35468*k[$+4]>>16)-on(k[$+12]),Q=on(k[$+4])+(35468*k[$+12]>>16);ve[ge+0]=ye+Q,ve[ge+1]=xe+Oe,ve[ge+2]=xe-Oe,ve[ge+3]=ye-Q,ge+=4,$++}for(ue=ge=0;4>ue;++ue)ye=(k=ve[ge+0]+4)+ve[ge+8],xe=k-ve[ge+8],Oe=(35468*ve[ge+4]>>16)-on(ve[ge+12]),Vr(K,ne,0,0,ye+(Q=on(ve[ge+4])+(35468*ve[ge+12]>>16))),Vr(K,ne,1,0,xe+Oe),Vr(K,ne,2,0,xe-Oe),Vr(K,ne,3,0,ye-Q),ge++,ne+=32}function la(k,$,K,ne){var ue=k[$+0]+4,ge=35468*k[$+4]>>16,ve=on(k[$+4]),ye=35468*k[$+1]>>16;Mr(K,ne,0,ue+ve,k=on(k[$+1]),ye),Mr(K,ne,1,ue+ge,k,ye),Mr(K,ne,2,ue-ge,k,ye),Mr(K,ne,3,ue-ve,k,ye)}function ra(k,$,K,ne,ue){Pn(k,$,K,ne),ue&&Pn(k,$+16,K,ne+4)}function Tn(k,$,K,ne){dl(k,$+0,K,ne,1),dl(k,$+32,K,ne+128,1)}function sn(k,$,K,ne){var ue;for(k=k[$+0]+4,ue=0;4>ue;++ue)for($=0;4>$;++$)Vr(K,ne,$,ue,k)}function Sa(k,$,K,ne){k[$+0]&&Oo(k,$+0,K,ne),k[$+16]&&Oo(k,$+16,K,ne+4),k[$+32]&&Oo(k,$+32,K,ne+128),k[$+48]&&Oo(k,$+48,K,ne+128+4)}function cn(k,$,K,ne){var ue,ge=i(16);for(ue=0;4>ue;++ue){var ve=k[$+0+ue]+k[$+12+ue],ye=k[$+4+ue]+k[$+8+ue],xe=k[$+4+ue]-k[$+8+ue],Oe=k[$+0+ue]-k[$+12+ue];ge[0+ue]=ve+ye,ge[8+ue]=ve-ye,ge[4+ue]=Oe+xe,ge[12+ue]=Oe-xe}for(ue=0;4>ue;++ue)ve=(k=ge[0+4*ue]+3)+ge[3+4*ue],ye=ge[1+4*ue]+ge[2+4*ue],xe=ge[1+4*ue]-ge[2+4*ue],Oe=k-ge[3+4*ue],K[ne+0]=ve+ye>>3,K[ne+16]=Oe+xe>>3,K[ne+32]=ve-ye>>3,K[ne+48]=Oe-xe>>3,ne+=64}function oo(k,$,K){var ne,ue=$-32,ge=ai,ve=255-k[ue-1];for(ne=0;ne<K;++ne){var ye,xe=ge,Oe=ve+k[$-1];for(ye=0;ye<K;++ye)k[$+ye]=xe[Oe+k[ue+ye]];$+=32}}function Co(k,$){oo(k,$,4)}function Xt(k,$){oo(k,$,8)}function Le(k,$){oo(k,$,16)}function Dt(k,$){var K;for(K=0;16>K;++K)n(k,$+32*K,k,$-32,16)}function yr(k,$){var K;for(K=16;0<K;--K)a(k,$,k[$-1],16),$+=32}function In(k,$,K){var ne;for(ne=0;16>ne;++ne)a($,K+32*ne,k,16)}function En(k,$){var K,ne=16;for(K=0;16>K;++K)ne+=k[$-1+32*K]+k[$+K-32];In(ne>>5,k,$)}function Dn(k,$){var K,ne=8;for(K=0;16>K;++K)ne+=k[$-1+32*K];In(ne>>4,k,$)}function go(k,$){var K,ne=8;for(K=0;16>K;++K)ne+=k[$+K-32];In(ne>>4,k,$)}function $a(k,$){In(128,k,$)}function Pt(k,$,K){return k+2*$+K+2>>2}function De(k,$){var K,ne=$-32;for(ne=new Uint8Array([Pt(k[ne-1],k[ne+0],k[ne+1]),Pt(k[ne+0],k[ne+1],k[ne+2]),Pt(k[ne+1],k[ne+2],k[ne+3]),Pt(k[ne+2],k[ne+3],k[ne+4])]),K=0;4>K;++K)n(k,$+32*K,ne,0,ne.length)}function lt(k,$){var K=k[$-1],ne=k[$-1+32],ue=k[$-1+64],ge=k[$-1+96];le(k,$+0,16843009*Pt(k[$-1-32],K,ne)),le(k,$+32,16843009*Pt(K,ne,ue)),le(k,$+64,16843009*Pt(ne,ue,ge)),le(k,$+96,16843009*Pt(ue,ge,ge))}function Vt(k,$){var K,ne=4;for(K=0;4>K;++K)ne+=k[$+K-32]+k[$-1+32*K];for(ne>>=3,K=0;4>K;++K)a(k,$+32*K,ne,4)}function Dr(k,$){var K=k[$-1+0],ne=k[$-1+32],ue=k[$-1+64],ge=k[$-1-32],ve=k[$+0-32],ye=k[$+1-32],xe=k[$+2-32],Oe=k[$+3-32];k[$+0+96]=Pt(ne,ue,k[$-1+96]),k[$+1+96]=k[$+0+64]=Pt(K,ne,ue),k[$+2+96]=k[$+1+64]=k[$+0+32]=Pt(ge,K,ne),k[$+3+96]=k[$+2+64]=k[$+1+32]=k[$+0+0]=Pt(ve,ge,K),k[$+3+64]=k[$+2+32]=k[$+1+0]=Pt(ye,ve,ge),k[$+3+32]=k[$+2+0]=Pt(xe,ye,ve),k[$+3+0]=Pt(Oe,xe,ye)}function nn(k,$){var K=k[$+1-32],ne=k[$+2-32],ue=k[$+3-32],ge=k[$+4-32],ve=k[$+5-32],ye=k[$+6-32],xe=k[$+7-32];k[$+0+0]=Pt(k[$+0-32],K,ne),k[$+1+0]=k[$+0+32]=Pt(K,ne,ue),k[$+2+0]=k[$+1+32]=k[$+0+64]=Pt(ne,ue,ge),k[$+3+0]=k[$+2+32]=k[$+1+64]=k[$+0+96]=Pt(ue,ge,ve),k[$+3+32]=k[$+2+64]=k[$+1+96]=Pt(ge,ve,ye),k[$+3+64]=k[$+2+96]=Pt(ve,ye,xe),k[$+3+96]=Pt(ye,xe,xe)}function Vn(k,$){var K=k[$-1+0],ne=k[$-1+32],ue=k[$-1+64],ge=k[$-1-32],ve=k[$+0-32],ye=k[$+1-32],xe=k[$+2-32],Oe=k[$+3-32];k[$+0+0]=k[$+1+64]=ge+ve+1>>1,k[$+1+0]=k[$+2+64]=ve+ye+1>>1,k[$+2+0]=k[$+3+64]=ye+xe+1>>1,k[$+3+0]=xe+Oe+1>>1,k[$+0+96]=Pt(ue,ne,K),k[$+0+64]=Pt(ne,K,ge),k[$+0+32]=k[$+1+96]=Pt(K,ge,ve),k[$+1+32]=k[$+2+96]=Pt(ge,ve,ye),k[$+2+32]=k[$+3+96]=Pt(ve,ye,xe),k[$+3+32]=Pt(ye,xe,Oe)}function za(k,$){var K=k[$+0-32],ne=k[$+1-32],ue=k[$+2-32],ge=k[$+3-32],ve=k[$+4-32],ye=k[$+5-32],xe=k[$+6-32],Oe=k[$+7-32];k[$+0+0]=K+ne+1>>1,k[$+1+0]=k[$+0+64]=ne+ue+1>>1,k[$+2+0]=k[$+1+64]=ue+ge+1>>1,k[$+3+0]=k[$+2+64]=ge+ve+1>>1,k[$+0+32]=Pt(K,ne,ue),k[$+1+32]=k[$+0+96]=Pt(ne,ue,ge),k[$+2+32]=k[$+1+96]=Pt(ue,ge,ve),k[$+3+32]=k[$+2+96]=Pt(ge,ve,ye),k[$+3+64]=Pt(ve,ye,xe),k[$+3+96]=Pt(ye,xe,Oe)}function io(k,$){var K=k[$-1+0],ne=k[$-1+32],ue=k[$-1+64],ge=k[$-1+96];k[$+0+0]=K+ne+1>>1,k[$+2+0]=k[$+0+32]=ne+ue+1>>1,k[$+2+32]=k[$+0+64]=ue+ge+1>>1,k[$+1+0]=Pt(K,ne,ue),k[$+3+0]=k[$+1+32]=Pt(ne,ue,ge),k[$+3+32]=k[$+1+64]=Pt(ue,ge,ge),k[$+3+64]=k[$+2+64]=k[$+0+96]=k[$+1+96]=k[$+2+96]=k[$+3+96]=ge}function hi(k,$){var K=k[$-1+0],ne=k[$-1+32],ue=k[$-1+64],ge=k[$-1+96],ve=k[$-1-32],ye=k[$+0-32],xe=k[$+1-32],Oe=k[$+2-32];k[$+0+0]=k[$+2+32]=K+ve+1>>1,k[$+0+32]=k[$+2+64]=ne+K+1>>1,k[$+0+64]=k[$+2+96]=ue+ne+1>>1,k[$+0+96]=ge+ue+1>>1,k[$+3+0]=Pt(ye,xe,Oe),k[$+2+0]=Pt(ve,ye,xe),k[$+1+0]=k[$+3+32]=Pt(K,ve,ye),k[$+1+32]=k[$+3+64]=Pt(ne,K,ve),k[$+1+64]=k[$+3+96]=Pt(ue,ne,K),k[$+1+96]=Pt(ge,ue,ne)}function rl(k,$){var K;for(K=0;8>K;++K)n(k,$+32*K,k,$-32,8)}function Ii(k,$){var K;for(K=0;8>K;++K)a(k,$,k[$-1],8),$+=32}function ho(k,$,K){var ne;for(ne=0;8>ne;++ne)a($,K+32*ne,k,8)}function so(k,$){var K,ne=8;for(K=0;8>K;++K)ne+=k[$+K-32]+k[$-1+32*K];ho(ne>>4,k,$)}function Ms(k,$){var K,ne=4;for(K=0;8>K;++K)ne+=k[$+K-32];ho(ne>>3,k,$)}function hs(k,$){var K,ne=4;for(K=0;8>K;++K)ne+=k[$-1+32*K];ho(ne>>3,k,$)}function vs(k,$){ho(128,k,$)}function Gi(k,$,K){var ne=k[$-K],ue=k[$+0],ge=3*(ue-ne)+ys[1020+k[$-2*K]-k[$+K]],ve=Yc[112+(ge+4>>3)];k[$-K]=ai[255+ne+Yc[112+(ge+3>>3)]],k[$+0]=ai[255+ue-ve]}function Ds(k,$,K,ne){var ue=k[$+0],ge=k[$+K];return Zi[255+k[$-2*K]-k[$-K]]>ne||Zi[255+ge-ue]>ne}function _i(k,$,K,ne){return 4*Zi[255+k[$-K]-k[$+0]]+Zi[255+k[$-2*K]-k[$+K]]<=ne}function Zo(k,$,K,ne,ue){var ge=k[$-3*K],ve=k[$-2*K],ye=k[$-K],xe=k[$+0],Oe=k[$+K],Q=k[$+2*K],M=k[$+3*K];return 4*Zi[255+ye-xe]+Zi[255+ve-Oe]>ne?0:Zi[255+k[$-4*K]-ge]<=ue&&Zi[255+ge-ve]<=ue&&Zi[255+ve-ye]<=ue&&Zi[255+M-Q]<=ue&&Zi[255+Q-Oe]<=ue&&Zi[255+Oe-xe]<=ue}function Qo(k,$,K,ne){var ue=2*ne+1;for(ne=0;16>ne;++ne)_i(k,$+ne,K,ue)&&Gi(k,$+ne,K)}function ei(k,$,K,ne){var ue=2*ne+1;for(ne=0;16>ne;++ne)_i(k,$+ne*K,1,ue)&&Gi(k,$+ne*K,1)}function uo(k,$,K,ne){var ue;for(ue=3;0<ue;--ue)Qo(k,$+=4*K,K,ne)}function Hc(k,$,K,ne){var ue;for(ue=3;0<ue;--ue)ei(k,$+=4,K,ne)}function ti(k,$,K,ne,ue,ge,ve,ye){for(ge=2*ge+1;0<ue--;){if(Zo(k,$,K,ge,ve))if(Ds(k,$,K,ye))Gi(k,$,K);else{var xe=k,Oe=$,Q=K,M=xe[Oe-2*Q],Y=xe[Oe-Q],se=xe[Oe+0],Ie=xe[Oe+Q],Ce=xe[Oe+2*Q],we=27*(We=ys[1020+3*(se-Y)+ys[1020+M-Ie]])+63>>7,Pe=18*We+63>>7,We=9*We+63>>7;xe[Oe-3*Q]=ai[255+xe[Oe-3*Q]+We],xe[Oe-2*Q]=ai[255+M+Pe],xe[Oe-Q]=ai[255+Y+we],xe[Oe+0]=ai[255+se-we],xe[Oe+Q]=ai[255+Ie-Pe],xe[Oe+2*Q]=ai[255+Ce-We]}$+=ne}}function Po(k,$,K,ne,ue,ge,ve,ye){for(ge=2*ge+1;0<ue--;){if(Zo(k,$,K,ge,ve))if(Ds(k,$,K,ye))Gi(k,$,K);else{var xe=k,Oe=$,Q=K,M=xe[Oe-Q],Y=xe[Oe+0],se=xe[Oe+Q],Ie=Yc[112+((Ce=3*(Y-M))+4>>3)],Ce=Yc[112+(Ce+3>>3)],we=Ie+1>>1;xe[Oe-2*Q]=ai[255+xe[Oe-2*Q]+we],xe[Oe-Q]=ai[255+M+Ce],xe[Oe+0]=ai[255+Y-Ie],xe[Oe+Q]=ai[255+se-we]}$+=ne}}function nl(k,$,K,ne,ue,ge){ti(k,$,K,1,16,ne,ue,ge)}function Ha(k,$,K,ne,ue,ge){ti(k,$,1,K,16,ne,ue,ge)}function No(k,$,K,ne,ue,ge){var ve;for(ve=3;0<ve;--ve)Po(k,$+=4*K,K,1,16,ne,ue,ge)}function vo(k,$,K,ne,ue,ge){var ve;for(ve=3;0<ve;--ve)Po(k,$+=4,1,K,16,ne,ue,ge)}function Ki(k,$,K,ne,ue,ge,ve,ye){ti(k,$,ue,1,8,ge,ve,ye),ti(K,ne,ue,1,8,ge,ve,ye)}function ac(k,$,K,ne,ue,ge,ve,ye){ti(k,$,1,ue,8,ge,ve,ye),ti(K,ne,1,ue,8,ge,ve,ye)}function al(k,$,K,ne,ue,ge,ve,ye){Po(k,$+4*ue,ue,1,8,ge,ve,ye),Po(K,ne+4*ue,ue,1,8,ge,ve,ye)}function ol(k,$,K,ne,ue,ge,ve,ye){Po(k,$+4,1,ue,8,ge,ve,ye),Po(K,ne+4,1,ue,8,ge,ve,ye)}function Li(){this.ba=new Ne,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Nt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ti(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Tl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Wc(){this.ua=0,this.Wa=new be,this.vb=new be,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new z,this.yc=new _}function Rl(){this.xb=this.a=0,this.l=new pt,this.ca=new Ne,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new j,this.Pb=0,this.wd=new j,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Wc,this.ab=0,this.gc=s(4,Tl),this.Oc=0}function il(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new pt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Yi(k,$,K,ne,ue,ge,ve){for(k=k==null?0:k[$+0],$=0;$<ve;++$)ue[ge+$]=k+K[ne+$]&255,k=ue[ge+$]}function Ri(k,$,K,ne,ue,ge,ve){var ye;if(k==null)Yi(null,null,K,ne,ue,ge,ve);else for(ye=0;ye<ve;++ye)ue[ge+ye]=k[$+ye]+K[ne+ye]&255}function Ji(k,$,K,ne,ue,ge,ve){if(k==null)Yi(null,null,K,ne,ue,ge,ve);else{var ye,xe=k[$+0],Oe=xe,Q=xe;for(ye=0;ye<ve;++ye)Oe=Q+(xe=k[$+ye])-Oe,Q=K[ne+ye]+(-256&Oe?0>Oe?0:255:Oe)&255,Oe=xe,ue[ge+ye]=Q}}function sl(k,$,K,ne){var ue=$.width,ge=$.o;if(e(k!=null&&$!=null),0>K||0>=ne||K+ne>ge)return null;if(!k.Cc){if(k.ga==null){var ve;if(k.ga=new il,(ve=k.ga==null)||(ve=$.width*$.o,e(k.Gb.length==0),k.Gb=i(ve),k.Uc=0,k.Gb==null?ve=0:(k.mb=k.Gb,k.nb=k.Uc,k.rc=null,ve=1),ve=!ve),!ve){ve=k.ga;var ye=k.Fa,xe=k.P,Oe=k.qc,Q=k.mb,M=k.nb,Y=xe+1,se=Oe-1,Ie=ve.l;if(e(ye!=null&&Q!=null&&$!=null),qo[0]=null,qo[1]=Yi,qo[2]=Ri,qo[3]=Ji,ve.ca=Q,ve.tb=M,ve.c=$.width,ve.i=$.height,e(0<ve.c&&0<ve.i),1>=Oe)$=0;else if(ve.$a=ye[xe+0]>>0&3,ve.Z=ye[xe+0]>>2&3,ve.Lc=ye[xe+0]>>4&3,xe=ye[xe+0]>>6&3,0>ve.$a||1<ve.$a||4<=ve.Z||1<ve.Lc||xe)$=0;else if(Ie.put=zr,Ie.ac=lr,Ie.bc=st,Ie.ma=ve,Ie.width=$.width,Ie.height=$.height,Ie.Da=$.Da,Ie.v=$.v,Ie.va=$.va,Ie.j=$.j,Ie.o=$.o,ve.$a)e:{e(ve.$a==1),$=Ye();t:for(;;){if($==null){$=0;break e}if(e(ve!=null),ve.mc=$,$.c=ve.c,$.i=ve.i,$.l=ve.l,$.l.ma=ve,$.l.width=ve.c,$.l.height=ve.i,$.a=0,G($.m,ye,Y,se),!ft(ve.c,ve.i,1,$,null)||($.ab==1&&$.gc[0].hc==3&&rn($.s)?(ve.ic=1,ye=$.c*$.i,$.Ta=null,$.Ua=0,$.V=i(ye),$.Ba=0,$.V==null?($.a=1,$=0):$=1):(ve.ic=0,$=ot($,ve.c)),!$))break t;$=1;break e}ve.mc=null,$=0}else $=se>=ve.c*ve.i;ve=!$}if(ve)return null;k.ga.Lc!=1?k.Ga=0:ne=ge-K}e(k.ga!=null),e(K+ne<=ge);e:{if($=(ye=k.ga).c,ge=ye.l.o,ye.$a==0){if(Y=k.rc,se=k.Vc,Ie=k.Fa,xe=k.P+1+K*$,Oe=k.mb,Q=k.nb+K*$,e(xe<=k.P+k.qc),ye.Z!=0)for(e(qo[ye.Z]!=null),ve=0;ve<ne;++ve)qo[ye.Z](Y,se,Ie,xe,Oe,Q,$),Y=Oe,se=Q,Q+=$,xe+=$;else for(ve=0;ve<ne;++ve)n(Oe,Q,Ie,xe,$),Y=Oe,se=Q,Q+=$,xe+=$;k.rc=Y,k.Vc=se}else{if(e(ye.mc!=null),$=K+ne,e((ve=ye.mc)!=null),e($<=ve.i),ve.C>=$)$=1;else if(ye.ic||it(),ye.ic){ye=ve.V,Y=ve.Ba,se=ve.c;var Ce=ve.i,we=(Ie=1,xe=ve.$/se,Oe=ve.$%se,Q=ve.m,M=ve.s,ve.$),Pe=se*Ce,We=se*$,Qe=M.wc,rt=we<We?pr(M,Oe,xe):null;e(we<=Pe),e($<=Ce),e(rn(M));t:for(;;){for(;!Q.h&&we<We;){if(Oe&Qe||(rt=pr(M,Oe,xe)),e(rt!=null),me(Q),256>(Ce=yn(rt.G[0],rt.H[0],Q)))ye[Y+we]=Ce,++we,++Oe>=se&&(Oe=0,++xe<=$&&!(xe%16)&&ct(ve,xe));else{if(!(280>Ce)){Ie=0;break t}Ce=_t(Ce-256,Q);var xt,$t=yn(rt.G[4],rt.H[4],Q);if(me(Q),!(we>=($t=Kr(se,$t=_t($t,Q)))&&Pe-we>=Ce)){Ie=0;break t}for(xt=0;xt<Ce;++xt)ye[Y+we+xt]=ye[Y+we+xt-$t];for(we+=Ce,Oe+=Ce;Oe>=se;)Oe-=se,++xe<=$&&!(xe%16)&&ct(ve,xe);we<We&&Oe&Qe&&(rt=pr(M,Oe,xe))}e(Q.h==X(Q))}ct(ve,xe>$?$:xe);break t}!Ie||Q.h&&we<Pe?(Ie=0,ve.a=Q.h?5:3):ve.$=we,$=Ie}else $=At(ve,ve.V,ve.Ba,ve.c,ve.i,$,$e);if(!$){ne=0;break e}}K+ne>=ge&&(k.Cc=1),ne=1}if(!ne)return null;if(k.Cc&&((ne=k.ga)!=null&&(ne.mc=null),k.ga=null,0<k.Ga))return alert("todo:WebPDequantizeLevels"),null}return k.nb+K*ue}function q(k,$,K,ne,ue,ge){for(;0<ue--;){var ve,ye=k,xe=$+(K?1:0),Oe=k,Q=$+(K?0:3);for(ve=0;ve<ne;++ve){var M=Oe[Q+4*ve];M!=255&&(M*=32897,ye[xe+4*ve+0]=ye[xe+4*ve+0]*M>>23,ye[xe+4*ve+1]=ye[xe+4*ve+1]*M>>23,ye[xe+4*ve+2]=ye[xe+4*ve+2]*M>>23)}$+=ge}}function fe(k,$,K,ne,ue){for(;0<ne--;){var ge;for(ge=0;ge<K;++ge){var ve=k[$+2*ge+0],ye=15&(Oe=k[$+2*ge+1]),xe=4369*ye,Oe=(240&Oe|Oe>>4)*xe>>16;k[$+2*ge+0]=(240&ve|ve>>4)*xe>>16&240|(15&ve|ve<<4)*xe>>16>>4&15,k[$+2*ge+1]=240&Oe|ye}$+=ue}}function je(k,$,K,ne,ue,ge,ve,ye){var xe,Oe,Q=255;for(Oe=0;Oe<ue;++Oe){for(xe=0;xe<ne;++xe){var M=k[$+xe];ge[ve+4*xe]=M,Q&=M}$+=K,ve+=ye}return Q!=255}function Ve(k,$,K,ne,ue){var ge;for(ge=0;ge<ue;++ge)K[ne+ge]=k[$+ge]>>8}function it(){bi=q,fa=fe,na=je,Ka=Ve}function It(k,$,K){O[k]=function(ne,ue,ge,ve,ye,xe,Oe,Q,M,Y,se,Ie,Ce,we,Pe,We,Qe){var rt,xt=Qe-1>>1,$t=ye[xe+0]|Oe[Q+0]<<16,Qt=M[Y+0]|se[Ie+0]<<16;e(ne!=null);var jt=3*$t+Qt+131074>>2;for($(ne[ue+0],255&jt,jt>>16,Ce,we),ge!=null&&(jt=3*Qt+$t+131074>>2,$(ge[ve+0],255&jt,jt>>16,Pe,We)),rt=1;rt<=xt;++rt){var vr=ye[xe+rt]|Oe[Q+rt]<<16,xr=M[Y+rt]|se[Ie+rt]<<16,Br=$t+vr+Qt+xr+524296,Or=Br+2*(vr+Qt)>>3;jt=Or+$t>>1,$t=(Br=Br+2*($t+xr)>>3)+vr>>1,$(ne[ue+2*rt-1],255&jt,jt>>16,Ce,we+(2*rt-1)*K),$(ne[ue+2*rt-0],255&$t,$t>>16,Ce,we+(2*rt-0)*K),ge!=null&&(jt=Br+Qt>>1,$t=Or+xr>>1,$(ge[ve+2*rt-1],255&jt,jt>>16,Pe,We+(2*rt-1)*K),$(ge[ve+2*rt+0],255&$t,$t>>16,Pe,We+(2*rt+0)*K)),$t=vr,Qt=xr}1&Qe||(jt=3*$t+Qt+131074>>2,$(ne[ue+Qe-1],255&jt,jt>>16,Ce,we+(Qe-1)*K),ge!=null&&(jt=3*Qt+$t+131074>>2,$(ge[ve+Qe-1],255&jt,jt>>16,Pe,We+(Qe-1)*K)))}}function Zt(){yi[nd]=Kp,yi[$l]=Ul,yi[om]=Yp,yi[wu]=eu,yi[Su]=pc,yi[ca]=tu,yi[cc]=ef,yi[Jc]=Ul,yi[zl]=eu,yi[Xc]=pc,yi[fl]=tu}function Er(k){return k&-16384?0>k?0:255:k>>pl}function jr(k,$){return Er((19077*k>>8)+(26149*$>>8)-14234)}function an(k,$,K){return Er((19077*k>>8)-(6419*$>>8)-(13320*K>>8)+8708)}function hn(k,$){return Er((19077*k>>8)+(33050*$>>8)-17685)}function _n(k,$,K,ne,ue){ne[ue+0]=jr(k,K),ne[ue+1]=an(k,$,K),ne[ue+2]=hn(k,$)}function Ia(k,$,K,ne,ue){ne[ue+0]=hn(k,$),ne[ue+1]=an(k,$,K),ne[ue+2]=jr(k,K)}function Da(k,$,K,ne,ue){var ge=an(k,$,K);$=ge<<3&224|hn(k,$)>>3,ne[ue+0]=248&jr(k,K)|ge>>5,ne[ue+1]=$}function Mt(k,$,K,ne,ue){var ge=240&hn(k,$)|15;ne[ue+0]=240&jr(k,K)|an(k,$,K)>>4,ne[ue+1]=ge}function Me(k,$,K,ne,ue){ne[ue+0]=255,_n(k,$,K,ne,ue+1)}function Je(k,$,K,ne,ue){Ia(k,$,K,ne,ue),ne[ue+3]=255}function yt(k,$,K,ne,ue){_n(k,$,K,ne,ue),ne[ue+3]=255}function Lt(k,$){return 0>k?0:k>$?$:k}function Wt(k,$,K){O[k]=function(ne,ue,ge,ve,ye,xe,Oe,Q,M){for(var Y=Q+(-2&M)*K;Q!=Y;)$(ne[ue+0],ge[ve+0],ye[xe+0],Oe,Q),$(ne[ue+1],ge[ve+0],ye[xe+0],Oe,Q+K),ue+=2,++ve,++xe,Q+=2*K;1&M&&$(ne[ue+0],ge[ve+0],ye[xe+0],Oe,Q)}}function Tt(k,$,K){return K==0?k==0?$==0?6:5:$==0?4:0:K}function tr(k,$,K,ne,ue){switch(k>>>30){case 3:dl($,K,ne,ue,0);break;case 2:Qn($,K,ne,ue);break;case 1:Oo($,K,ne,ue)}}function ur(k,$){var K,ne,ue=$.M,ge=$.Nb,ve=k.oc,ye=k.pc+40,xe=k.oc,Oe=k.pc+584,Q=k.oc,M=k.pc+600;for(K=0;16>K;++K)ve[ye+32*K-1]=129;for(K=0;8>K;++K)xe[Oe+32*K-1]=129,Q[M+32*K-1]=129;for(0<ue?ve[ye-1-32]=xe[Oe-1-32]=Q[M-1-32]=129:(a(ve,ye-32-1,127,21),a(xe,Oe-32-1,127,9),a(Q,M-32-1,127,9)),ne=0;ne<k.za;++ne){var Y=$.ya[$.aa+ne];if(0<ne){for(K=-1;16>K;++K)n(ve,ye+32*K-4,ve,ye+32*K+12,4);for(K=-1;8>K;++K)n(xe,Oe+32*K-4,xe,Oe+32*K+4,4),n(Q,M+32*K-4,Q,M+32*K+4,4)}var se=k.Gd,Ie=k.Hd+ne,Ce=Y.ad,we=Y.Hc;if(0<ue&&(n(ve,ye-32,se[Ie].y,0,16),n(xe,Oe-32,se[Ie].f,0,8),n(Q,M-32,se[Ie].ea,0,8)),Y.Za){var Pe=ve,We=ye-32+16;for(0<ue&&(ne>=k.za-1?a(Pe,We,se[Ie].y[15],4):n(Pe,We,se[Ie+1].y,0,4)),K=0;4>K;K++)Pe[We+128+K]=Pe[We+256+K]=Pe[We+384+K]=Pe[We+0+K];for(K=0;16>K;++K,we<<=2)Pe=ve,We=ye+Vs[K],Qi[Y.Ob[K]](Pe,We),tr(we,Ce,16*+K,Pe,We)}else if(Pe=Tt(ne,ue,Y.Ob[0]),oi[Pe](ve,ye),we!=0)for(K=0;16>K;++K,we<<=2)tr(we,Ce,16*+K,ve,ye+Vs[K]);for(K=Y.Gc,Pe=Tt(ne,ue,Y.Dd),bo[Pe](xe,Oe),bo[Pe](Q,M),we=Ce,Pe=xe,We=Oe,255&(Y=K>>0)&&(170&Y?Fs(we,256,Pe,We):ri(we,256,Pe,We)),Y=Q,we=M,255&(K>>=8)&&(170&K?Fs(Ce,320,Y,we):ri(Ce,320,Y,we)),ue<k.Ub-1&&(n(se[Ie].y,0,ve,ye+480,16),n(se[Ie].f,0,xe,Oe+224,8),n(se[Ie].ea,0,Q,M+224,8)),K=8*ge*k.B,se=k.sa,Ie=k.ta+16*ne+16*ge*k.R,Ce=k.qa,Y=k.ra+8*ne+K,we=k.Ha,Pe=k.Ia+8*ne+K,K=0;16>K;++K)n(se,Ie+K*k.R,ve,ye+32*K,16);for(K=0;8>K;++K)n(Ce,Y+K*k.B,xe,Oe+32*K,8),n(we,Pe+K*k.B,Q,M+32*K,8)}}function Nr(k,$,K,ne,ue,ge,ve,ye,xe){var Oe=[0],Q=[0],M=0,Y=xe!=null?xe.kd:0,se=xe??new Ti;if(k==null||12>K)return 7;se.data=k,se.w=$,se.ha=K,$=[$],K=[K],se.gb=[se.gb];e:{var Ie=$,Ce=K,we=se.gb;if(e(k!=null),e(Ce!=null),e(we!=null),we[0]=0,12<=Ce[0]&&!r(k,Ie[0],"RIFF")){if(r(k,Ie[0]+8,"WEBP")){we=3;break e}var Pe=_e(k,Ie[0]+4);if(12>Pe||4294967286<Pe){we=3;break e}if(Y&&Pe>Ce[0]-8){we=7;break e}we[0]=Pe,Ie[0]+=12,Ce[0]-=12}we=0}if(we!=0)return we;for(Pe=0<se.gb[0],K=K[0];;){e:{var We=k;Ce=$,we=K;var Qe=Oe,rt=Q,xt=Ie=[0];if((jt=M=[M])[0]=0,8>we[0])we=7;else{if(!r(We,Ce[0],"VP8X")){if(_e(We,Ce[0]+4)!=10){we=3;break e}if(18>we[0]){we=7;break e}var $t=_e(We,Ce[0]+8),Qt=1+ce(We,Ce[0]+12);if(2147483648<=Qt*(We=1+ce(We,Ce[0]+15))){we=3;break e}xt!=null&&(xt[0]=$t),Qe!=null&&(Qe[0]=Qt),rt!=null&&(rt[0]=We),Ce[0]+=18,we[0]-=18,jt[0]=1}we=0}}if(M=M[0],Ie=Ie[0],we!=0)return we;if(Ce=!!(2&Ie),!Pe&&M)return 3;if(ge!=null&&(ge[0]=!!(16&Ie)),ve!=null&&(ve[0]=Ce),ye!=null&&(ye[0]=0),ve=Oe[0],Ie=Q[0],M&&Ce&&xe==null){we=0;break}if(4>K){we=7;break}if(Pe&&M||!Pe&&!M&&!r(k,$[0],"ALPH")){K=[K],se.na=[se.na],se.P=[se.P],se.Sa=[se.Sa];e:{$t=k,we=$,Pe=K;var jt=se.gb;Qe=se.na,rt=se.P,xt=se.Sa,Qt=22,e($t!=null),e(Pe!=null),We=we[0];var vr=Pe[0];for(e(Qe!=null),e(xt!=null),Qe[0]=null,rt[0]=null,xt[0]=0;;){if(we[0]=We,Pe[0]=vr,8>vr){we=7;break e}var xr=_e($t,We+4);if(4294967286<xr){we=3;break e}var Br=8+xr+1&-2;if(Qt+=Br,0<jt&&Qt>jt){we=3;break e}if(!r($t,We,"VP8 ")||!r($t,We,"VP8L")){we=0;break e}if(vr[0]<Br){we=7;break e}r($t,We,"ALPH")||(Qe[0]=$t,rt[0]=We+8,xt[0]=xr),We+=Br,vr-=Br}}if(K=K[0],se.na=se.na[0],se.P=se.P[0],se.Sa=se.Sa[0],we!=0)break}K=[K],se.Ja=[se.Ja],se.xa=[se.xa];e:if(jt=k,we=$,Pe=K,Qe=se.gb[0],rt=se.Ja,xt=se.xa,$t=we[0],We=!r(jt,$t,"VP8 "),Qt=!r(jt,$t,"VP8L"),e(jt!=null),e(Pe!=null),e(rt!=null),e(xt!=null),8>Pe[0])we=7;else{if(We||Qt){if(jt=_e(jt,$t+4),12<=Qe&&jt>Qe-12){we=3;break e}if(Y&&jt>Pe[0]-8){we=7;break e}rt[0]=jt,we[0]+=8,Pe[0]-=8,xt[0]=Qt}else xt[0]=5<=Pe[0]&&jt[$t+0]==47&&!(jt[$t+4]>>5),rt[0]=Pe[0];we=0}if(K=K[0],se.Ja=se.Ja[0],se.xa=se.xa[0],$=$[0],we!=0)break;if(4294967286<se.Ja)return 3;if(ye==null||Ce||(ye[0]=se.xa?2:1),ve=[ve],Ie=[Ie],se.xa){if(5>K){we=7;break}ye=ve,Y=Ie,Ce=ge,k==null||5>K?k=0:5<=K&&k[$+0]==47&&!(k[$+4]>>5)?(Pe=[0],jt=[0],Qe=[0],G(rt=new j,k,$,K),Ct(rt,Pe,jt,Qe)?(ye!=null&&(ye[0]=Pe[0]),Y!=null&&(Y[0]=jt[0]),Ce!=null&&(Ce[0]=Qe[0]),k=1):k=0):k=0}else{if(10>K){we=7;break}ye=Ie,k==null||10>K||!Cr(k,$+3,K-3)?k=0:(Y=k[$+0]|k[$+1]<<8|k[$+2]<<16,Ce=16383&(k[$+7]<<8|k[$+6]),k=16383&(k[$+9]<<8|k[$+8]),1&Y||3<(Y>>1&7)||!(Y>>4&1)||Y>>5>=se.Ja||!Ce||!k?k=0:(ve&&(ve[0]=Ce),ye&&(ye[0]=k),k=1))}if(!k||(ve=ve[0],Ie=Ie[0],M&&(Oe[0]!=ve||Q[0]!=Ie)))return 3;xe!=null&&(xe[0]=se,xe.offset=$-xe.w,e(4294967286>$-xe.w),e(xe.offset==xe.ha-K));break}return we==0||we==7&&M&&xe==null?(ge!=null&&(ge[0]|=se.na!=null&&0<se.na.length),ne!=null&&(ne[0]=ve),ue!=null&&(ue[0]=Ie),0):we}function Xr(k,$,K){var ne=$.width,ue=$.height,ge=0,ve=0,ye=ne,xe=ue;if($.Da=k!=null&&0<k.Da,$.Da&&(ye=k.cd,xe=k.bd,ge=k.v,ve=k.j,11>K||(ge&=-2,ve&=-2),0>ge||0>ve||0>=ye||0>=xe||ge+ye>ne||ve+xe>ue))return 0;if($.v=ge,$.j=ve,$.va=ge+ye,$.o=ve+xe,$.U=ye,$.T=xe,$.da=k!=null&&0<k.da,$.da){if(!gt(ye,xe,K=[k.ib],ge=[k.hb]))return 0;$.ib=K[0],$.hb=ge[0]}return $.ob=k!=null&&k.ob,$.Kb=k==null||!k.Sd,$.da&&($.ob=$.ib<3*ne/4&&$.hb<3*ue/4,$.Kb=0),1}function Nn(k){if(k==null)return 2;if(11>k.S){var $=k.f.RGBA;$.fb+=(k.height-1)*$.A,$.A=-$.A}else $=k.f.kb,k=k.height,$.O+=(k-1)*$.fa,$.fa=-$.fa,$.N+=(k-1>>1)*$.Ab,$.Ab=-$.Ab,$.W+=(k-1>>1)*$.Db,$.Db=-$.Db,$.F!=null&&($.J+=(k-1)*$.lb,$.lb=-$.lb);return 0}function jn(k,$,K,ne){if(ne==null||0>=k||0>=$)return 2;if(K!=null){if(K.Da){var ue=K.cd,ge=K.bd,ve=-2&K.v,ye=-2&K.j;if(0>ve||0>ye||0>=ue||0>=ge||ve+ue>k||ye+ge>$)return 2;k=ue,$=ge}if(K.da){if(!gt(k,$,ue=[K.ib],ge=[K.hb]))return 2;k=ue[0],$=ge[0]}}ne.width=k,ne.height=$;e:{var xe=ne.width,Oe=ne.height;if(k=ne.S,0>=xe||0>=Oe||!(k>=nd&&13>k))k=2;else{if(0>=ne.Rd&&ne.sd==null){ve=ge=ue=$=0;var Q=(ye=xe*Cu[k])*Oe;if(11>k||(ge=(Oe+1)/2*($=(xe+1)/2),k==12&&(ve=(ue=xe)*Oe)),(Oe=i(Q+2*ge+ve))==null){k=1;break e}ne.sd=Oe,11>k?((xe=ne.f.RGBA).eb=Oe,xe.fb=0,xe.A=ye,xe.size=Q):((xe=ne.f.kb).y=Oe,xe.O=0,xe.fa=ye,xe.Fd=Q,xe.f=Oe,xe.N=0+Q,xe.Ab=$,xe.Cd=ge,xe.ea=Oe,xe.W=0+Q+ge,xe.Db=$,xe.Ed=ge,k==12&&(xe.F=Oe,xe.J=0+Q+2*ge),xe.Tc=ve,xe.lb=ue)}if($=1,ue=ne.S,ge=ne.width,ve=ne.height,ue>=nd&&13>ue)if(11>ue)k=ne.f.RGBA,$&=(ye=Math.abs(k.A))*(ve-1)+ge<=k.size,$&=ye>=ge*Cu[ue],$&=k.eb!=null;else{k=ne.f.kb,ye=(ge+1)/2,Q=(ve+1)/2,xe=Math.abs(k.fa),Oe=Math.abs(k.Ab);var M=Math.abs(k.Db),Y=Math.abs(k.lb),se=Y*(ve-1)+ge;$&=xe*(ve-1)+ge<=k.Fd,$&=Oe*(Q-1)+ye<=k.Cd,$=($&=M*(Q-1)+ye<=k.Ed)&xe>=ge&Oe>=ye&M>=ye,$&=k.y!=null,$&=k.f!=null,$&=k.ea!=null,ue==12&&($&=Y>=ge,$&=se<=k.Tc,$&=k.F!=null)}else $=0;k=$?0:2}}return k!=0||K!=null&&K.fd&&(k=Nn(ne)),k}var tn=64,Wa=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$o=24,zo=32,Ga=8,da=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Be("Predictor0","PredictorAdd0"),O.Predictor0=function(){return 4278190080},O.Predictor1=function(k){return k},O.Predictor2=function(k,$,K){return $[K+0]},O.Predictor3=function(k,$,K){return $[K+1]},O.Predictor4=function(k,$,K){return $[K-1]},O.Predictor5=function(k,$,K){return Ke(Ke(k,$[K+1]),$[K+0])},O.Predictor6=function(k,$,K){return Ke(k,$[K-1])},O.Predictor7=function(k,$,K){return Ke(k,$[K+0])},O.Predictor8=function(k,$,K){return Ke($[K-1],$[K+0])},O.Predictor9=function(k,$,K){return Ke($[K+0],$[K+1])},O.Predictor10=function(k,$,K){return Ke(Ke(k,$[K-1]),Ke($[K+0],$[K+1]))},O.Predictor11=function(k,$,K){var ne=$[K+0];return 0>=zt(ne>>24&255,k>>24&255,($=$[K-1])>>24&255)+zt(ne>>16&255,k>>16&255,$>>16&255)+zt(ne>>8&255,k>>8&255,$>>8&255)+zt(255&ne,255&k,255&$)?ne:k},O.Predictor12=function(k,$,K){var ne=$[K+0];return(Et((k>>24&255)+(ne>>24&255)-(($=$[K-1])>>24&255))<<24|Et((k>>16&255)+(ne>>16&255)-($>>16&255))<<16|Et((k>>8&255)+(ne>>8&255)-($>>8&255))<<8|Et((255&k)+(255&ne)-(255&$)))>>>0},O.Predictor13=function(k,$,K){var ne=$[K-1];return(ut((k=Ke(k,$[K+0]))>>24&255,ne>>24&255)<<24|ut(k>>16&255,ne>>16&255)<<16|ut(k>>8&255,ne>>8&255)<<8|ut(k>>0&255,ne>>0&255))>>>0};var vi=O.PredictorAdd0;O.PredictorAdd1=Gt,Be("Predictor2","PredictorAdd2"),Be("Predictor3","PredictorAdd3"),Be("Predictor4","PredictorAdd4"),Be("Predictor5","PredictorAdd5"),Be("Predictor6","PredictorAdd6"),Be("Predictor7","PredictorAdd7"),Be("Predictor8","PredictorAdd8"),Be("Predictor9","PredictorAdd9"),Be("Predictor10","PredictorAdd10"),Be("Predictor11","PredictorAdd11"),Be("Predictor12","PredictorAdd12"),Be("Predictor13","PredictorAdd13");var Xi=O.PredictorAdd2;Kt("ColorIndexInverseTransform","MapARGB","32b",function(k){return k>>8&255},function(k){return k}),Kt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(k){return k},function(k){return k>>8&255});var ll,Ba=O.ColorIndexInverseTransform,oc=O.MapARGB,ic=O.VP8LColorIndexInverseTransformAlpha,ko=O.MapAlpha,js=O.VP8LPredictorsAdd=[];js.length=16,(O.VP8LPredictors=[]).length=16,(O.VP8LPredictorsAdd_C=[]).length=16,(O.VP8LPredictors_C=[]).length=16;var Ml,Bo,Ao,Dl,cl,ul,Gc,dl,Qn,Fs,Oo,ri,sc,xu,Mi,ni,jl,Di,$s,bs,zs,Bs,Fl,Io,bi,fa,na,Ka,lo=i(511),Us=i(2041),Kc=i(225),lc=i(767),ji=0,ys=Us,Yc=Kc,ai=lc,Zi=lo,nd=0,$l=1,om=2,wu=3,Su=4,ca=5,cc=6,Jc=7,zl=8,Xc=9,fl=10,uc=[2,3,7],ad=[3,3,11],dc=[280,256,256,256,40],im=[0,1,1,1,0],fc=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Gp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],sm=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],od=8,Zc=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Bl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ml=null,Xd=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],id=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],lm=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],mc=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Zd=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cm=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Qd=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oi=[],Qi=[],bo=[],Uo=1,Qc=2,qo=[],yi=[];It("UpsampleRgbLinePair",_n,3),It("UpsampleBgrLinePair",Ia,3),It("UpsampleRgbaLinePair",yt,4),It("UpsampleBgraLinePair",Je,4),It("UpsampleArgbLinePair",Me,4),It("UpsampleRgba4444LinePair",Mt,2),It("UpsampleRgb565LinePair",Da,2);var Kp=O.UpsampleRgbLinePair,Yp=O.UpsampleBgrLinePair,Ul=O.UpsampleRgbaLinePair,eu=O.UpsampleBgraLinePair,pc=O.UpsampleArgbLinePair,tu=O.UpsampleRgba4444LinePair,ef=O.UpsampleRgb565LinePair,qs=16,Fi=1<<qs-1,aa=-227,Hn=482,pl=6,fo=0,ii=i(256),gl=i(256),gc=i(256),Vo=i(256),sd=i(Hn-aa),ql=i(Hn-aa);Wt("YuvToRgbRow",_n,3),Wt("YuvToBgrRow",Ia,3),Wt("YuvToRgbaRow",yt,4),Wt("YuvToBgraRow",Je,4),Wt("YuvToArgbRow",Me,4),Wt("YuvToRgba4444Row",Mt,2),Wt("YuvToRgb565Row",Da,2);var Vs=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],hc=[0,2,8],um=[8,7,6,4,4,2,2,2,1,1,1,1],hl=1;this.WebPDecodeRGBA=function(k,$,K,ne,ue){var ge=$l,ve=new Li,ye=new Ne;ve.ba=ye,ye.S=ge,ye.width=[ye.width],ye.height=[ye.height];var xe=ye.width,Oe=ye.height,Q=new qe;if(Q==null||k==null)var M=2;else e(Q!=null),M=Nr(k,$,K,Q.width,Q.height,Q.Pd,Q.Qd,Q.format,null);if(M!=0?xe=0:(xe!=null&&(xe[0]=Q.width[0]),Oe!=null&&(Oe[0]=Q.height[0]),xe=1),xe){ye.width=ye.width[0],ye.height=ye.height[0],ne!=null&&(ne[0]=ye.width),ue!=null&&(ue[0]=ye.height);e:{if(ne=new pt,(ue=new Ti).data=k,ue.w=$,ue.ha=K,ue.kd=1,$=[0],e(ue!=null),((k=Nr(ue.data,ue.w,ue.ha,null,null,null,$,null,ue))==0||k==7)&&$[0]&&(k=4),($=k)==0){if(e(ve!=null),ne.data=ue.data,ne.w=ue.w+ue.offset,ne.ha=ue.ha-ue.offset,ne.put=zr,ne.ac=lr,ne.bc=st,ne.ma=ve,ue.xa){if((k=Ye())==null){ve=1;break e}if(function(Y,se){var Ie=[0],Ce=[0],we=[0];t:for(;;){if(Y==null)return 0;if(se==null)return Y.a=2,0;if(Y.l=se,Y.a=0,G(Y.m,se.data,se.w,se.ha),!Ct(Y.m,Ie,Ce,we)){Y.a=3;break t}if(Y.xb=Qc,se.width=Ie[0],se.height=Ce[0],!ft(Ie[0],Ce[0],1,Y,null))break t;return 1}return e(Y.a!=0),0}(k,ne)){if(ne=($=jn(ne.width,ne.height,ve.Oa,ve.ba))==0){t:{ne=k;r:for(;;){if(ne==null){ne=0;break t}if(e(ne.s.yc!=null),e(ne.s.Ya!=null),e(0<ne.s.Wb),e((K=ne.l)!=null),e((ue=K.ma)!=null),ne.xb!=0){if(ne.ca=ue.ba,ne.tb=ue.tb,e(ne.ca!=null),!Xr(ue.Oa,K,wu)){ne.a=2;break r}if(!ot(ne,K.width)||K.da)break r;if((K.da||Sr(ne.ca.S))&&it(),11>ne.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),ne.ca.f.kb.F!=null&&it()),ne.Pb&&0<ne.s.ua&&ne.s.vb.X==null&&!He(ne.s.vb,ne.s.Wa.Xa)){ne.a=1;break r}ne.xb=0}if(!At(ne,ne.V,ne.Ba,ne.c,ne.i,K.o,mn))break r;ue.Dc=ne.Ma,ne=1;break t}e(ne.a!=0),ne=0}ne=!ne}ne&&($=k.a)}else $=k.a}else{if((k=new Bt)==null){ve=1;break e}if(k.Fa=ue.na,k.P=ue.P,k.qc=ue.Sa,qr(k,ne)){if(($=jn(ne.width,ne.height,ve.Oa,ve.ba))==0){if(k.Aa=0,K=ve.Oa,e((ue=k)!=null),K!=null){if(0<(xe=0>(xe=K.Md)?0:100<xe?255:255*xe/100)){for(Oe=Q=0;4>Oe;++Oe)12>(M=ue.pb[Oe]).lc&&(M.ia=xe*um[0>M.lc?0:M.lc]>>3),Q|=M.ia;Q&&(alert("todo:VP8InitRandom"),ue.ia=1)}ue.Ga=K.Id,100<ue.Ga?ue.Ga=100:0>ue.Ga&&(ue.Ga=0)}kr(k,ne)||($=k.a)}}else $=k.a}$==0&&ve.Oa!=null&&ve.Oa.fd&&($=Nn(ve.ba))}ve=$}ge=ve!=0?null:11>ge?ye.f.RGBA.eb:ye.f.kb.y}else ge=null;return ge};var Cu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(O,A){for(var T="",C=0;C<4;C++)T+=String.fromCharCode(O[A++]);return T}function f(O,A){return(O[A+0]<<0|O[A+1]<<8|O[A+2]<<16)>>>0}function m(O,A){return(O[A+0]<<0|O[A+1]<<8|O[A+2]<<16|O[A+3]<<24)>>>0}new c;var v=[0],h=[0],E=[],y=new c,b=t,x=function(O,A){var T={},C=0,_=!1,D=0,z=0;if(T.frames=[],!function(U,X,Z,me){for(var de=0;de<me;de++)if(U[X+de]!=Z.charCodeAt(de))return!0;return!1}(O,A,"RIFF",4)){for(m(O,A+=4),A+=8;A<O.length;){var V=u(O,A),J=m(O,A+=4);A+=4;var ie=J+(1&J);switch(V){case"VP8 ":case"VP8L":T.frames[C]===void 0&&(T.frames[C]={}),(W=T.frames[C]).src_off=_?z:A-8,W.src_size=D+J+8,C++,_&&(_=!1,D=0,z=0);break;case"VP8X":(W=T.header={}).feature_flags=O[A];var G=A+4;W.canvas_width=1+f(O,G),G+=3,W.canvas_height=1+f(O,G),G+=3;break;case"ALPH":_=!0,D=ie+8,z=A-8;break;case"ANIM":(W=T.header).bgcolor=m(O,A),G=A+4,W.loop_count=(B=O)[(j=G)+0]<<0|B[j+1]<<8,G+=2;break;case"ANMF":var te,W;(W=T.frames[C]={}).offset_x=2*f(O,A),A+=3,W.offset_y=2*f(O,A),A+=3,W.width=1+f(O,A),A+=3,W.height=1+f(O,A),A+=3,W.duration=f(O,A),A+=3,te=O[A++],W.dispose=1&te,W.blend=te>>1&1}V!="ANMF"&&(A+=ie)}var B,j;return T}}(b,0);x.response=b,x.rgbaoutput=!0,x.dataurl=!1;var w=x.header?x.header:null,N=x.frames?x.frames:null;if(w){w.loop_counter=w.loop_count,v=[w.canvas_height],h=[w.canvas_width];for(var I=0;I<N.length&&N[I].blend!=0;I++);}var P=N[0],L=y.WebPDecodeRGBA(b,P.src_off,P.src_size,h,v);P.rgba=L,P.imgwidth=h[0],P.imgheight=v[0];for(var R=0;R<h[0]*v[0]*4;R++)E[R]=L[R];return this.width=h,this.height=v,this.data=E,this}(function(t){var e=function(){return typeof wS=="function"},r=function(v,h,E,y){var b=4,x=s;switch(y){case t.image_compression.FAST:b=1,x=i;break;case t.image_compression.MEDIUM:b=6,x=l;break;case t.image_compression.SLOW:b=9,x=c}v=n(v,h,E,x);var w=wS(v,{level:b});return t.__addimage__.arrayBufferToBinaryString(w)},n=function(v,h,E,y){for(var b,x,w,N=v.length/h,I=new Uint8Array(v.length+N),P=f(),L=0;L<N;L+=1){if(w=L*h,b=v.subarray(w,w+h),y)I.set(y(b,E,x),w+L);else{for(var R,O=P.length,A=[];R<O;R+=1)A[R]=P[R](b,E,x);var T=m(A.concat());I.set(A[T],w+L)}x=b}return I},a=function(v){var h=Array.apply([],v);return h.unshift(0),h},i=function(v,h){var E,y=[],b=v.length;y[0]=1;for(var x=0;x<b;x+=1)E=v[x-h]||0,y[x+1]=v[x]-E+256&255;return y},s=function(v,h,E){var y,b=[],x=v.length;b[0]=2;for(var w=0;w<x;w+=1)y=E&&E[w]||0,b[w+1]=v[w]-y+256&255;return b},l=function(v,h,E){var y,b,x=[],w=v.length;x[0]=3;for(var N=0;N<w;N+=1)y=v[N-h]||0,b=E&&E[N]||0,x[N+1]=v[N]+256-(y+b>>>1)&255;return x},c=function(v,h,E){var y,b,x,w,N=[],I=v.length;N[0]=4;for(var P=0;P<I;P+=1)y=v[P-h]||0,b=E&&E[P]||0,x=E&&E[P-h]||0,w=u(y,b,x),N[P+1]=v[P]-w+256&255;return N},u=function(v,h,E){if(v===h&&h===E)return v;var y=Math.abs(h-E),b=Math.abs(v-E),x=Math.abs(v+h-E-E);return y<=b&&y<=x?v:b<=x?h:E},f=function(){return[a,i,s,l,c]},m=function(v){var h=v.map(function(E){return E.reduce(function(y,b){return y+Math.abs(b)},0)});return h.indexOf(Math.min.apply(null,h))};t.processPNG=function(v,h,E,y){var b,x,w,N,I,P,L,R,O,A,T,C,_,D,z,V=this.decode.FLATE_DECODE,J="";if(this.__addimage__.isArrayBuffer(v)&&(v=new Uint8Array(v)),this.__addimage__.isArrayBufferView(v)){if(v=(w=new OW(v)).imgData,x=w.bits,b=w.colorSpace,I=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){O=(R=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,T=new Uint8Array(O*w.colors),A=new Uint8Array(O);var ie,G=w.pixelBitlength-w.bits;for(D=0,z=0;D<O;D++){for(_=R[D],ie=0;ie<G;)T[z++]=_>>>ie&255,ie+=w.bits;A[D]=_>>>ie&255}}if(w.bits===16){O=(R=new Uint32Array(w.decodePixels().buffer)).length,T=new Uint8Array(O*(32/w.pixelBitlength)*w.colors),A=new Uint8Array(O*(32/w.pixelBitlength)),C=w.colors>1,D=0,z=0;for(var te=0;D<O;)_=R[D++],T[z++]=_>>>0&255,C&&(T[z++]=_>>>16&255,_=R[D++],T[z++]=_>>>0&255),A[te++]=_>>>16&255;x=8}y!==t.image_compression.NONE&&e()?(v=r(T,w.width*w.colors,w.colors,y),L=r(A,w.width,1,y)):(v=T,L=A,V=void 0)}if(w.colorType===3&&(b=this.color_spaces.INDEXED,P=w.palette,w.transparency.indexed)){var W=w.transparency.indexed,B=0;for(D=0,O=W.length;D<O;++D)B+=W[D];if((B/=255)===O-1&&W.indexOf(0)!==-1)N=[W.indexOf(0)];else if(B!==O){for(R=w.decodePixels(),A=new Uint8Array(R.length),D=0,O=R.length;D<O;D++)A[D]=W[R[D]];L=r(A,w.width,1)}}var j=function(U){var X;switch(U){case t.image_compression.FAST:X=11;break;case t.image_compression.MEDIUM:X=13;break;case t.image_compression.SLOW:X=14;break;default:X=12}return X}(y);return V===this.decode.FLATE_DECODE&&(J="/Predictor "+j+" "),J+="/Colors "+I+" /BitsPerComponent "+x+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v))&&(v=this.__addimage__.arrayBufferToBinaryString(v)),(L&&this.__addimage__.isArrayBuffer(L)||this.__addimage__.isArrayBufferView(L))&&(L=this.__addimage__.arrayBufferToBinaryString(L)),{alias:E,data:v,index:h,filter:V,decodeParameters:J,transparency:N,palette:P,sMask:L,predictor:j,width:w.width,height:w.height,bitsPerComponent:x,colorSpace:b}}}})(gn.API),function(t){t.processGIF89A=function(e,r,n,a){var i=new IW(e),s=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:s,height:l},f=new sE(100).encode(u,100);return t.processJPEG.call(this,f,r,n,a)},t.processGIF87A=t.processGIF89A}(gn.API),Tc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Tc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){qa.log("bit decode error:"+r)}},Tc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[s+4*l]=c.blue,this.data[s+4*l+1]=c.green,this.data[s+4*l+2]=c.red,this.data[s+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Tc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+2*a*4,l=i>>4,c=15&i,u=this.palette[l];if(this.data[s]=u.blue,this.data[s+1]=u.green,this.data[s+2]=u.red,this.data[s+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[s+4]=u.blue,this.data[s+4+1]=u.green,this.data[s+4+2]=u.red,this.data[s+4+3]=255}e!==0&&(this.pos+=4-e)}},Tc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Tc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,u=i>>15?255:0,f=n*this.width*4+4*a;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=s,this.data[f+3]=u}this.pos+=t}},Tc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(s&e)/e*255|0,c=(s>>5&r)/r*255|0,u=(s>>11)/e*255|0,f=a*this.width*4+4*i;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},Tc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=e*this.width*4+4*r;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=n,this.data[s+3]=255}this.pos+=this.width%4}},Tc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=s}},Tc.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,a){var i=new Tc(e,!1),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new sE(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}}(gn.API),zk.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,a){var i=new zk(e),s=i.width,l=i.height,c={data:i.getData(),width:s,height:l},u=new sE(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}}(gn.API),gn.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var f=n[u],m=n[u+1],v=n[u+2],h=n[u+3];i[l++]=f,i[l++]=m,i[l++]=v,s[c++]=h}var E=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:E,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},gn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Om=gn.API,ob=Om.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),s=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,f=u.fof?u.fof:1,m=e.doKerning!==!1,v=0,h=t.length,E=0,y=l[0]||c,b=[];for(r=0;r<h;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?b.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+s*(1e3/i)||0)/1e3):(v=m&&Ra(u[n])==="object"&&!isNaN(parseInt(u[n][E],10))?u[n][E]/f:0,b.push((l[n]||y)/c+v)),E=n;return b},Dk=Om.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Om.processArabic&&(t=Om.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:ob.apply(this,arguments).reduce(function(i,s){return i+s},0)},jk=function(t,e,r,n){for(var a=[],i=0,s=t.length,l=0;i!==s&&l+e[i]<r;)l+=e[i],i++;a.push(t.slice(0,i));var c=i;for(l=0;i!==s;)l+e[i]>n&&(a.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&a.push(t.slice(c,i)),a},Fk=function(t,e,r){r||(r={});var n,a,i,s,l,c,u,f=[],m=[f],v=r.textIndent||0,h=0,E=0,y=t.split(" "),b=ob.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?y[0].length+2:r.lineIndent||0){var x=Array(c).join(" "),w=[];y.map(function(I){(I=I.split(/\s*\n/)).length>1?w=w.concat(I.map(function(P,L){return(L&&P.length?`
`:"")+P})):w.push(I[0])}),y=w,c=Dk.apply(this,[x,r])}for(i=0,s=y.length;i<s;i++){var N=0;if(n=y[i],c&&n[0]==`
`&&(n=n.substr(1),N=1),v+h+(E=(a=ob.apply(this,[n,r])).reduce(function(I,P){return I+P},0))>e||N){if(E>e){for(l=jk.apply(this,[n,a,e-(v+h),e]),f.push(l.shift()),f=[l.pop()];l.length;)m.push([l.shift()]);E=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(I,P){return I+P},0)}else f=[n];m.push(f),v=E+c,h=b}else f.push(n),v+=h+E,h=b}return u=c?function(I,P){return(P?x:"")+I.join(" ")}:function(I){return I.join(" ")},m.map(u)},Om.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle);return m.metadata.Unicode?{widths:m.metadata.Unicode.widths||{0:1},kerning:m.metadata.Unicode.kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var s=1*this.internal.scaleFactor*e/a;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(Fk.apply(this,[n[l],s,i]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},a=0;a<e.length;a++)r[e[a]]="0123456789abcdef"[a],n["0123456789abcdef"[a]]=e[a];var i=function(m){return"0x"+parseInt(m,10).toString(16)},s=t.__fontmetrics__.compress=function(m){var v,h,E,y,b=["{"];for(var x in m){if(v=m[x],isNaN(parseInt(x,10))?h="'"+x+"'":(x=parseInt(x,10),h=(h=i(x).slice(2)).slice(0,-1)+n[h.slice(-1)]),typeof v=="number")v<0?(E=i(v).slice(3),y="-"):(E=i(v).slice(2),y=""),E=y+E.slice(0,-1)+n[E.slice(-1)];else{if(Ra(v)!=="object")throw new Error("Don't know what to do with value type "+Ra(v)+".");E=s(v)}b.push(h+E)}return b.push("}"),b.join("")},l=t.__fontmetrics__.uncompress=function(m){if(typeof m!="string")throw new Error("Invalid argument passed to uncompress.");for(var v,h,E,y,b={},x=1,w=b,N=[],I="",P="",L=m.length-1,R=1;R<L;R+=1)(y=m[R])=="'"?v?(E=v.join(""),v=void 0):v=[]:v?v.push(y):y=="{"?(N.push([w,E]),w={},E=void 0):y=="}"?((h=N.pop())[0][h[1]]=w,E=void 0,w=h[0]):y=="-"?x=-1:E===void 0?r.hasOwnProperty(y)?(I+=r[y],E=parseInt(I,16)*x,x=1,I=""):I+=y:r.hasOwnProperty(y)?(P+=r[y],w[E]=parseInt(P,16)*x,x=1,E=void 0,P=""):P+=y;return b},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},f={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(m){var v=m.font,h=f.Unicode[v.postScriptName];h&&(v.metadata.Unicode={},v.metadata.Unicode.widths=h.widths,v.metadata.Unicode.kerning=h.kerning);var E=u.Unicode[v.postScriptName];E&&(v.metadata.Unicode.encoding=E,v.encoding=E.codePages[0])}])}(gn.API),function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),i=0;i<n;i++)a[i]=r.charCodeAt(i);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,i=r.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(qg(l)),s.metadata=t.API.TTFFont.open(l),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,n)}}])}(gn),function(t){function e(){return(bn.canvg?Promise.resolve(bn.canvg):vS(()=>import("./index.es-D4HI7BcH.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}gn.API.addSvgAsImage=function(r,n,a,i,s,l,c,u){if(isNaN(n)||isNaN(a))throw qa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw qa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var f=document.createElement("canvas");f.width=i,f.height=s;var m=f.getContext("2d");m.fillStyle="#fff",m.fillRect(0,0,f.width,f.height);var v={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(E){return E.fromString(m,r,v)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(E){return E.render(v)}).then(function(){h.addImage(f.toDataURL("image/jpeg",1),n,a,i,s,c,u)})}}(),gn.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},gn.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(s),c=[],u=0,f=0,m=0;function v(E,y){var b,x=!1;for(b=0;b<E.length;b+=1)E[b]===y&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=l.length;for(m=0;m<h;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Ra(t)==="object"){for(a in t)if(i=t[a],v(l,a)&&i!==void 0){if(r[a].type==="boolean"&&typeof i=="boolean")r[a].value=i;else if(r[a].type==="name"&&v(r[a].valueSet,i))r[a].value=i;else if(r[a].type==="integer"&&Number.isInteger(i))r[a].value=i;else if(r[a].type==="array"){for(u=0;u<i.length;u+=1)if(n=!0,i[u].length===1&&typeof i[u][0]=="number")c.push(String(i[u]-1));else if(i[u].length>1){for(f=0;f<i[u].length;f+=1)typeof i[u][f]!="number"&&(n=!1);n===!0&&c.push([i[u][0]-1,i[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var E,y=[];for(E in r)r[E].explicitSet===!0&&(r[E].type==="name"?y.push("/"+E+" /"+r[E].value):y.push("/"+E+" "+r[E].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=i.length+s.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(gn.API),function(t){var e=t.API,r=e.pdfEscape16=function(i,s){for(var l,c=s.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],m=0,v=i.length;m<v;++m){if(l=s.metadata.characterToGlyph(i.charCodeAt(m)),s.metadata.glyIdsUsed.push(l),s.metadata.toUnicode[l]=i.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(s.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(u[4-l.length],l)}return f.join("")},n=function(i){var s,l,c,u,f,m,v;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,v=(l=Object.keys(i).sort(function(h,E){return h-E})).length;m<v;m++)s=l[m],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(u=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,f=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,v=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),h="",E=0;E<v.length;E++)h+=String.fromCharCode(v[E]);var y=u();f({data:h,addLength1:!0,objectId:y}),c("endobj");var b=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var x=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+$m(l.fontName)),c("/FontFile2 "+y+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var w=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+$m(l.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+$m(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(s){var l=s.font,c=s.out,u=s.newObject,f=s.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,v="",h=0;h<m.length;h++)v+=String.fromCharCode(m[h]);var E=u();f({data:v,addLength1:!0,objectId:E}),c("endobj");var y=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var b=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+E+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+$m(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var x=0;x<l.metadata.hmtx.widths.length;x++)l.metadata.hmtx.widths[x]=parseInt(l.metadata.hmtx.widths[x]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+$m(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,l=i.text||"",c=i.x,u=i.y,f=i.options||{},m=i.mutex||{},v=m.pdfEscape,h=m.activeFontKey,E=m.fonts,y=h,b="",x=0,w="",N=E[y].encoding;if(E[y].encoding!=="Identity-H")return{text:l,x:c,y:u,options:f,mutex:m};for(w=l,y=h,Array.isArray(l)&&(w=l[0]),x=0;x<w.length;x+=1)E[y].metadata.hasOwnProperty("cmap")&&(s=E[y].metadata.cmap.unicode.codeMap[w[x].charCodeAt(0)]),s||w[x].charCodeAt(0)<256&&E[y].metadata.hasOwnProperty("Unicode")?b+=w[x]:b+="";var I="";return parseInt(y.slice(1))<14||N==="WinAnsiEncoding"?I=v(b,y).split("").map(function(P){return P.charCodeAt(0).toString(16)}).join(""):N==="Identity-H"&&(I=r(b,E[y])),m.isHex=!0,{text:I,x:c,y:u,options:f,mutex:m}};e.events.push(["postProcessText",function(i){var s=i.text||"",l=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var u=0;for(u=0;u<s.length;u+=1)Array.isArray(s[u])&&s[u].length===3?l.push([a(Object.assign({},c,{text:s[u][0]})).text,s[u][1],s[u][2]]):l.push(a(Object.assign({},c,{text:s[u]})).text);i.text=l}else i.text=a(Object.assign({},c,{text:s})).text}])}(gn),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(gn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,i,s,l,c,u,f,m=e,v=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],E={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,N=0;this.__bidiEngine__={};var I=function(C){var _=C.charCodeAt(),D=_>>8,z=y[D];return z!==void 0?m[256*z+(255&_)]:D===252||D===253?"AL":x.test(D)?"L":D===8?"R":"N"},P=function(C){for(var _,D=0;D<C.length;D++){if((_=I(C.charAt(D)))==="L")return!1;if(_==="R")return!0}return!1},L=function(C,_,D,z){var V,J,ie,G,te=_[z];switch(te){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(te="AN");break;case"AL":w=!0,te="R";break;case"WS":te="N";break;case"CS":z<1||z+1>=_.length||(V=D[z-1])!=="EN"&&V!=="AN"||(J=_[z+1])!=="EN"&&J!=="AN"?te="N":w&&(J="AN"),te=J===V?J:"N";break;case"ES":te=(V=z>0?D[z-1]:"B")==="EN"&&z+1<_.length&&_[z+1]==="EN"?"EN":"N";break;case"ET":if(z>0&&D[z-1]==="EN"){te="EN";break}if(w){te="N";break}for(ie=z+1,G=_.length;ie<G&&_[ie]==="ET";)ie++;te=ie<G&&_[ie]==="EN"?"EN":"N";break;case"NSM":if(s&&!l){for(G=_.length,ie=z+1;ie<G&&_[ie]==="NSM";)ie++;if(ie<G){var W=C[z],B=W>=1425&&W<=2303||W===64286;if(V=_[ie],B&&(V==="R"||V==="AL")){te="R";break}}}te=z<1||(V=_[z-1])==="B"?"N":D[z-1];break;case"B":w=!1,a=!0,te=N;break;case"S":i=!0,te="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":te="N"}return te},R=function(C,_,D){var z=C.split("");return D&&O(z,D,{hiLevel:N}),z.reverse(),_&&_.reverse(),z.join("")},O=function(C,_,D){var z,V,J,ie,G,te=-1,W=C.length,B=0,j=[],U=N?h:v,X=[];for(w=!1,a=!1,i=!1,V=0;V<W;V++)X[V]=I(C[V]);for(J=0;J<W;J++){if(G=B,j[J]=L(C,X,j,J),z=240&(B=U[G][E[j[J]]]),B&=15,_[J]=ie=U[B][5],z>0)if(z===16){for(V=te;V<J;V++)_[V]=1;te=-1}else te=-1;if(U[B][6])te===-1&&(te=J);else if(te>-1){for(V=te;V<J;V++)_[V]=ie;te=-1}X[J]==="B"&&(_[J]=0),D.hiLevel|=ie}i&&function(Z,me,de){for(var oe=0;oe<de;oe++)if(Z[oe]==="S"){me[oe]=N;for(var ee=oe-1;ee>=0&&Z[ee]==="WS";ee--)me[ee]=N}}(X,_,W)},A=function(C,_,D,z,V){if(!(V.hiLevel<C)){if(C===1&&N===1&&!a)return _.reverse(),void(D&&D.reverse());for(var J,ie,G,te,W=_.length,B=0;B<W;){if(z[B]>=C){for(G=B+1;G<W&&z[G]>=C;)G++;for(te=B,ie=G-1;te<ie;te++,ie--)J=_[te],_[te]=_[ie],_[ie]=J,D&&(J=D[te],D[te]=D[ie],D[ie]=J);B=G}B++}}},T=function(C,_,D){var z=C.split(""),V={hiLevel:N};return D||(D=[]),O(z,D,V),function(J,ie,G){if(G.hiLevel!==0&&f)for(var te,W=0;W<J.length;W++)ie[W]===1&&(te=b.indexOf(J[W]))>=0&&(J[W]=b[te+1])}(z,D,V),A(2,z,_,D,V),A(1,z,_,D,V),z.join("")};return this.__bidiEngine__.doBidiReorder=function(C,_,D){if(function(V,J){if(J)for(var ie=0;ie<V.length;ie++)J[ie]=ie;l===void 0&&(l=P(V)),u===void 0&&(u=P(V))}(C,_),s||!c||u)if(s&&c&&l^u)N=l?1:0,C=R(C,_,D);else if(!s&&c&&u)N=l?1:0,C=T(C,_,D),C=R(C,_);else if(!s||l||c||u){if(s&&!c&&l^u)C=R(C,_),l?(N=0,C=T(C,_,D)):(N=1,C=T(C,_,D),C=R(C,_));else if(s&&l&&!c&&u)N=1,C=T(C,_,D),C=R(C,_);else if(!s&&!c&&l^u){var z=f;l?(N=1,C=T(C,_,D),N=0,f=!1,C=T(C,_,D),f=z):(N=0,C=T(C,_,D),C=R(C,_),N=1,f=!1,C=T(C,_,D),f=z,C=R(C,_))}}else N=0,C=T(C,_,D);else N=l?1:0,C=T(C,_,D);return C},this.__bidiEngine__.setOptions=function(C){C&&(s=C.isInputVisual,c=C.isOutputVisual,l=C.isInputRtl,u=C.isOutputRtl,f=C.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(s=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?s.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):s.push([r.doBidiReorder(a[l])]);n.text=s}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])}(gn),gn.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new qd(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new HW(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new _W(this.contents),this.head=new TW(this),this.name=new FW(this),this.cmap=new p9(this),this.toUnicode={},this.hhea=new RW(this),this.maxp=new $W(this),this.hmtx=new zW(this),this.post=new DW(this),this.os2=new MW(this),this.loca=new VW(this),this.glyf=new BW(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,l,c,u;for(u=[],s=0,l=(c=this.bbox).length;s<l;s++)e=c[s],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),(32768&(r=a>>16))!=0&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,i,s,l;for(s=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)a=e.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return s*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var qc,qd=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,i,s,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*i+65536*s+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,i;for(i=[],n=0,a=e.length;n<a;n++)r=e[n],i.push(this.writeByte(r));return i},t}(),_W=function(){var t;function e(r){var n,a,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,i,s,l,c,u,f,m,v,h,E,y;for(y in h=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(h)/c),s=Math.floor(m/c),f=16*h-m,(a=new qd).writeInt(this.scalarType),a.writeShort(h),a.writeShort(m),a.writeShort(s),a.writeShort(f),i=16*h,u=a.pos+i,l=null,E=[],r)for(v=r[y],a.writeString(y),a.writeInt(t(v)),a.writeInt(u),a.writeInt(v.length),E=E.concat(v),y==="head"&&(l=u),u+=v.length;u%4;)E.push(0),u++;return a.write(E),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,i,s;for(r=g9.call(r);r.length%4;)r.push(0);for(i=new qd(r),a=0,n=0,s=r.length;n<s;n=n+=4)a+=i.readUInt32();return 4294967295&a},e}(),LW={}.hasOwnProperty,bu=function(t,e){for(var r in e)LW.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};qc=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var TW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bu(e,qc),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new qd).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),Bk=function(){function t(e,r){var n,a,i,s,l,c,u,f,m,v,h,E,y,b,x,w,N;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(h=e.readUInt16(),v=h/2,e.pos+=6,i=function(){var I,P;for(P=[],c=I=0;0<=v?I<v:I>v;c=0<=v?++I:--I)P.push(e.readUInt16());return P}(),e.pos+=2,y=function(){var I,P;for(P=[],c=I=0;0<=v?I<v:I>v;c=0<=v?++I:--I)P.push(e.readUInt16());return P}(),u=function(){var I,P;for(P=[],c=I=0;0<=v?I<v:I>v;c=0<=v?++I:--I)P.push(e.readUInt16());return P}(),f=function(){var I,P;for(P=[],c=I=0;0<=v?I<v:I>v;c=0<=v?++I:--I)P.push(e.readUInt16());return P}(),a=(this.length-e.pos+this.offset)/2,l=function(){var I,P;for(P=[],c=I=0;0<=a?I<a:I>a;c=0<=a?++I:--I)P.push(e.readUInt16());return P}(),c=x=0,N=i.length;x<N;c=++x)for(b=i[c],n=w=E=y[c];E<=b?w<=b:w>=b;n=E<=b?++w:--w)f[c]===0?s=n+u[c]:(s=l[f[c]/2+(n-E)-(v-c)]||0)!==0&&(s+=u[c]),this.codeMap[n]=65535&s}e.pos=m}return t.encode=function(e,r){var n,a,i,s,l,c,u,f,m,v,h,E,y,b,x,w,N,I,P,L,R,O,A,T,C,_,D,z,V,J,ie,G,te,W,B,j,U,X,Z,me,de,oe,ee,le,pe,ce;switch(z=new qd,s=Object.keys(e).sort(function(_e,He){return _e-He}),r){case"macroman":for(y=0,b=function(){var _e=[];for(E=0;E<256;++E)_e.push(0);return _e}(),w={0:0},i={},V=0,te=s.length;V<te;V++)w[ee=e[a=s[V]]]==null&&(w[ee]=++y),i[a]={old:e[a],new:w[e[a]]},b[a]=w[e[a]];return z.writeUInt16(1),z.writeUInt16(0),z.writeUInt32(12),z.writeUInt16(0),z.writeUInt16(262),z.writeUInt16(0),z.write(b),{charMap:i,subtable:z.data,maxGlyphID:y+1};case"unicode":for(_=[],m=[],N=0,w={},n={},x=u=null,J=0,W=s.length;J<W;J++)w[P=e[a=s[J]]]==null&&(w[P]=++N),n[a]={old:P,new:w[P]},l=w[P]-a,x!=null&&l===u||(x&&m.push(x),_.push(a),u=l),x=a;for(x&&m.push(x),m.push(65535),_.push(65535),T=2*(A=_.length),O=2*Math.pow(Math.log(A)/Math.LN2,2),v=Math.log(O/2)/Math.LN2,R=2*A-O,c=[],L=[],h=[],E=ie=0,B=_.length;ie<B;E=++ie){if(C=_[E],f=m[E],C===65535){c.push(0),L.push(0);break}if(C-(D=n[C].new)>=32768)for(c.push(0),L.push(2*(h.length+A-E)),a=G=C;C<=f?G<=f:G>=f;a=C<=f?++G:--G)h.push(n[a].new);else c.push(D-C),L.push(0)}for(z.writeUInt16(3),z.writeUInt16(1),z.writeUInt32(12),z.writeUInt16(4),z.writeUInt16(16+8*A+2*h.length),z.writeUInt16(0),z.writeUInt16(T),z.writeUInt16(O),z.writeUInt16(v),z.writeUInt16(R),de=0,j=m.length;de<j;de++)a=m[de],z.writeUInt16(a);for(z.writeUInt16(0),oe=0,U=_.length;oe<U;oe++)a=_[oe],z.writeUInt16(a);for(le=0,X=c.length;le<X;le++)l=c[le],z.writeUInt16(l);for(pe=0,Z=L.length;pe<Z;pe++)I=L[pe],z.writeUInt16(I);for(ce=0,me=h.length;ce<me;ce++)y=h[ce],z.writeUInt16(y);return{charMap:n,subtable:z.data,maxGlyphID:N+1}}},t}(),p9=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bu(e,qc),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,a,i;for(r.pos=this.offset,this.version=r.readUInt16(),i=r.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)n=new Bk(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var a,i;return n==null&&(n="macroman"),a=Bk.encode(r,n),(i=new qd).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},e}(),RW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bu(e,qc),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),MW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bu(e,qc),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,a;for(a=[],n=0;n<10;++n)a.push(r.readByte());return a}(),this.charRange=function(){var n,a;for(a=[],n=0;n<4;++n)a.push(r.readInt());return a}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,a;for(a=[],n=0;n<2;n=++n)a.push(r.readInt());return a}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),DW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bu(e,qc),e.prototype.tag="post",e.prototype.parse=function(r){var n,a,i;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var s;for(a=r.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],i=[];r.pos<this.offset+this.length;)n=r.readByte(),i.push(this.names.push(r.readString(n)));return i;case 151552:return a=r.readUInt16(),this.offsets=r.read(a);case 196608:break;case 262144:return this.map=(function(){var l,c,u;for(u=[],s=l=0,c=this.file.maxp.numGlyphs;0<=c?l<c:l>c;s=0<=c?++l:--l)u.push(r.readUInt32());return u}).call(this)}},e}(),jW=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},FW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bu(e,qc),e.prototype.tag="name",e.prototype.parse=function(r){var n,a,i,s,l,c,u,f,m,v,h;for(r.pos=this.offset,r.readShort(),n=r.readShort(),c=r.readShort(),a=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)a.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+c+r.readShort()});for(u={},s=m=0,v=a.length;m<v;s=++m)i=a[s],r.pos=i.offset,f=r.readString(i.length),l=new jW(f,i),u[h=i.nameID]==null&&(u[h]=[]),u[i.nameID].push(l);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),$W=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bu(e,qc),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),zW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bu(e,qc),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,a,i,s,l,c,u;for(r.pos=this.offset,this.metrics=[],n=0,c=this.file.hhea.numberOfMetrics;0<=c?n<c:n>c;n=0<=c?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var f,m;for(m=[],n=f=0;0<=i?f<i:f>i;n=0<=i?++f:--f)m.push(r.readInt16());return m}(),this.widths=(function(){var f,m,v,h;for(h=[],f=0,m=(v=this.metrics).length;f<m;f++)s=v[f],h.push(s.advance);return h}).call(this),a=this.widths[this.widths.length-1],u=[],n=l=0;0<=i?l<i:l>i;n=0<=i?++l:--l)u.push(this.widths.push(a));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),g9=[].slice,BW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bu(e,qc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,a,i,s,l,c,u,f,m,v;return r in this.cache?this.cache[r]:(s=this.file.loca,n=this.file.contents,a=s.indexOf(r),(i=s.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+a,l=(c=new qd(n.read(i))).readShort(),f=c.readShort(),v=c.readShort(),u=c.readShort(),m=c.readShort(),this.cache[r]=l===-1?new qW(c,f,v,u,m):new UW(c,l,f,v,u,m),this.cache[r]))},e.prototype.encode=function(r,n,a){var i,s,l,c,u;for(l=[],s=[],c=0,u=n.length;c<u;c++)i=r[n[c]],s.push(l.length),i&&(l=l.concat(i.encode(a)));return s.push(l.length),{table:l,offsets:s}},e}(),UW=function(){function t(e,r,n,a,i,s){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),qW=function(){function t(e,r,n,a,i){var s,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;l=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&l;)s.pos+=1&l?4:2,128&l?s.pos+=8:64&l?s.pos+=4:8&l&&(s.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new qd(g9.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),VW=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return bu(e,qc),e.prototype.tag="loca",e.prototype.parse=function(r){var n,a;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*r.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(r.readUInt32());return s}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,l=0;l<a.length;++l)if(a[l]=i,s<n.length&&n[s]==l){++s,a[l]=i;var c=this.offsets[l],u=this.offsets[l+1]-c;u>0&&(i+=u)}for(var f=new Array(4*a.length),m=0;m<a.length;++m)f[4*m+3]=255&a[m],f[4*m+2]=(65280&a[m])>>8,f[4*m+1]=(16711680&a[m])>>16,f[4*m]=(4278190080&a[m])>>24;return f},e}(),HW=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,i;for(r in a=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,i,s,l,c;for(a={},s=0,l=e.length;s<l;s++)a[i=e[s]]=this.font.glyf.glyphFor(i);for(i in r=[],a)(n=a[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],a[i]=n;return a},t.prototype.encode=function(e,r){var n,a,i,s,l,c,u,f,m,v,h,E,y,b,x;for(a in n=p9.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(e),h={0:0},x=n.charMap)h[(c=x[a]).old]=c.new;for(E in v=n.maxGlyphID,s)E in h||(h[E]=v++);return f=function(w){var N,I;for(N in I={},w)I[w[N]]=N;return I}(h),m=Object.keys(f).sort(function(w,N){return w-N}),y=function(){var w,N,I;for(I=[],w=0,N=m.length;w<N;w++)l=m[w],I.push(f[l]);return I}(),i=this.font.glyf.encode(s,y,h),u=this.font.loca.encode(i.offsets,y),b={cmap:this.font.cmap.raw(),glyf:i.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t}();gn.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,i,s;if(Array.isArray(r))return"["+function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in i=["<<"],r)s=r[a],i.push("/"+a+" "+e.convert(s));return i.push(">>"),i.join(`
`)}return""+r},e}();function h9(t,e,r,n,a){n=n||{};var i=1.15,s=a.internal.scaleFactor,l=a.internal.getFontSize()/s,c=a.getLineHeightFactor?a.getLineHeightFactor():i,u=l*c,f=/\r\n|\r|\n/g,m="",v=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof t=="string"?t.split(f):t,v=m.length||1),r+=l*(2-i),n.valign==="middle"?r-=v/2*u:n.valign==="bottom"&&(r-=v*u),n.halign==="center"||n.halign==="right"){var h=l;if(n.halign==="center"&&(h*=.5),m&&v>=1){for(var E=0;E<m.length;E++)a.text(m[E],e-a.getStringUnitWidth(m[E])*h,r),r+=u;return a}e-=a.getStringUnitWidth(t)*h}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var Uk={},rp=function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:Uk=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var s=this.jsPDFDocument.internal.getFont(),l=s.fontStyle,c=s.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var f=t.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=t.unifyColor(e.textColor),f&&(a=this.jsPDFDocument).setTextColor.apply(a,f),f=t.unifyColor(e.lineColor),f&&(i=this.jsPDFDocument).setDrawColor.apply(i,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,i){return this.jsPDFDocument.rect(e,r,n,a,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return Uk||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t}(),OS=function(t,e){return OS=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},OS(t,e)};function v9(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");OS(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var b9=function(t){v9(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e}(Array);function WW(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function GW(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function Wb(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,s){return Math.max(i,s)},0);return a}function y9(t,e,r,n){var a=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:i});var s=E9(a,!1);s&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,s)}function E9(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function uy(t,e){var r,n,a,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function x9(t,e){var r=uy(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function KW(t,e,r,n,a){var i={},s=1.3333333333333333,l=lE(e,function(N){return a.getComputedStyle(N).backgroundColor});l!=null&&(i.fillColor=l);var c=lE(e,function(N){return a.getComputedStyle(N).color});c!=null&&(i.textColor=c);var u=JW(n,r);u&&(i.cellPadding=u);var f="borderTopColor",m=s*r,v=n.borderTopWidth;if(n.borderBottomWidth===v&&n.borderRightWidth===v&&n.borderLeftWidth===v){var h=(parseFloat(v)||0)/m;h&&(i.lineWidth=h)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?f="borderRightColor":i.lineWidth.bottom?f="borderBottomColor":i.lineWidth.left&&(f="borderLeftColor"));var E=lE(e,function(N){return a.getComputedStyle(N)[f]});E!=null&&(i.lineColor=E);var y=["left","right","center","justify"];y.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),y=["middle","bottom","top"],y.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var b=parseInt(n.fontSize||"");isNaN(b)||(i.fontSize=b/s);var x=YW(n);x&&(i.fontStyle=x);var w=(n.fontFamily||"").toLowerCase();return t.indexOf(w)!==-1&&(i.font=w),i}function YW(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function lE(t,e){var r=w9(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function w9(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:w9(t.parentElement,e):r}function JW(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(l){return parseInt(l||"0")/n}),s=uy(i,0);return a>s.top&&(s.top=a),a>s.bottom&&(s.bottom=a),s}function S9(t,e,r,n,a){var i,s;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),f=[],m=[],v=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:m,foot:v};for(var h=0;h<l.rows.length;h++){var E=l.rows[h],y=(s=(i=E==null?void 0:E.parentElement)===null||i===void 0?void 0:i.tagName)===null||s===void 0?void 0:s.toLowerCase(),b=XW(c,u,r,E,n,a);b&&(y==="thead"?f.push(b):y==="tfoot"?v.push(b):m.push(b))}return{head:f,body:m,foot:v}}function XW(t,e,r,n,a,i){for(var s=new b9(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(a||u.display!=="none"){var f=void 0;i&&(f=KW(t,c,e,u,r)),s.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:ZW(c)})}}var m=r.getComputedStyle(n);if(s.length>0&&(a||m.display!=="none"))return s}function ZW(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function QW(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var i=a[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function zu(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),s=1;s<arguments.length;s++){var l=arguments[s];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function C9(t,e){var r=new rp(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();QW(a,n,e);var i=zu({},a,n,e),s;typeof window<"u"&&(s=window);var l=eG(a,n,e),c=tG(a,n,e),u=rG(r,i),f=aG(r,i,s);return{id:e.tableId,content:f,hooks:c,styles:l,settings:u}}function eG(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=t[c],f=e[c],m=r[c];n.columnStyles=zu({},u,f,m)}else{var v=[t,e,r],h=v.map(function(E){return E[c]||{}});n[c]=zu({},h[0],h[1],h[2])}},i=0,s=Object.keys(n);i<s.length;i++){var l=s[i];a(l)}return n}function tG(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,s=n;i<s.length;i++){var l=s[i];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function rG(t,e){var r,n,a,i,s,l,c,u,f,m,v,h,E=uy(e.margin,40/t.scaleFactor()),y=(r=nG(t,e.startY))!==null&&r!==void 0?r:E.top,b;e.showFoot===!0?b="everyPage":e.showFoot===!1?b="never":b=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var x;e.showHead===!0?x="everyPage":e.showHead===!1?x="never":x=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var w=(i=e.useCss)!==null&&i!==void 0?i:!1,N=e.theme||(w?"plain":"striped"),I=!!e.horizontalPageBreak,P=(s=e.horizontalPageBreakRepeat)!==null&&s!==void 0?s:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:w,theme:N,startY:y,margin:E,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:x,showFoot:b,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(v=e.tableLineColor)!==null&&v!==void 0?v:200,horizontalPageBreak:I,horizontalPageBreakRepeat:P,horizontalPageBreakBehaviour:(h=e.horizontalPageBreakBehaviour)!==null&&h!==void 0?h:"afterAllRows"}}function nG(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var s=r.startPageNumber+r.pageNumber-1;i=s===a}return typeof e=="number"?e:(e==null||e===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function aG(t,e,r){var n=e.head||[],a=e.body||[],i=e.foot||[];if(e.html){var s=e.includeHiddenHtml;if(r){var l=S9(t,e.html,r,s,e.useCss)||{};n=l.head||n,a=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||oG(n,a,i);return{columns:c,head:n,body:a,foot:i}}function oG(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var s=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(s=(l==null?void 0:l.colSpan)||1);for(var c=0;c<s;c++){var u=void 0;Array.isArray(n)?u=a.length:u=i+(c>0?"_".concat(c):"");var f={dataKey:u};a.push(f)}}),a}var IS=function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t}(),iG=function(t){v9(e,t);function e(r,n,a,i,s,l){var c=t.call(this,r,n,l)||this;return c.cell=a,c.row=i,c.column=s,c.section=i.section,c}return e}(IS),sG=function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,i,s){for(var l=0,c=r;l<c.length;l++){var u=c[l],f=new iG(e,this,n,a,i,s),m=u(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var i=a[n];i(new IS(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var i=a[n];i(new IS(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,i){return a+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t}(),P9=function(){function t(e,r,n,a,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof b9&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var i;return Math.max(n,((i=r.cells[a.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,i){var s=n.cells[i.index];if(!s)return 0;var l=r.getLineHeight(s.styles.fontSize),c=s.padding("vertical"),u=c+l;return u>a?u:a},0)},t}(),N9=function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var s=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=s.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,i=n*a+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=uy(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t}(),lG=function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var i=a[n],s=i.cells[this.index];s&&typeof s.styles.cellWidth=="number"&&(r=Math.max(r,s.styles.cellWidth))}return r},t}();function cG(t,e){uG(t,e);var r=[],n=0;e.columns.forEach(function(i){var s=i.getMaxCustomCellWidth(e);s?i.width=s:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=_S(r,a,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),a&&(a=_S(r,a,function(i){return i.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),fG(e),mG(e,t),dG(e)}function uG(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=x9(t,e);e.allRows().forEach(function(i){for(var s=0,l=e.columns;s<l.length;s++){var c=l[s],u=i.cells[c.index];if(u){var f=e.hooks.didParseCell;e.callCellHooks(t,f,u,i,c,null);var m=u.padding("horizontal");u.contentWidth=Wb(u.text,u.styles,t)+m;var v=Wb(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=v+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var h=10/r;u.minWidth=u.styles.minCellWidth||h,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(i){for(var s=0,l=e.columns;s<l.length;s++){var c=l[s],u=i.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var f=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},m=f.cellWidth||f.minCellWidth;m&&typeof m=="number"&&(c.minWidth=m,c.wrappedWidth=m)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function _S(t,e,r){for(var n=e,a=t.reduce(function(h,E){return h+E.wrappedWidth},0),i=0;i<t.length;i++){var s=t[i],l=s.wrappedWidth/a,c=n*l,u=s.width+c,f=r(s),m=u<f?f:u;e-=m-s.width,s.width=m}if(e=Math.round(e*1e10)/1e10,e){var v=t.filter(function(h){return e<0?h.width>r(h):!0});v.length&&(e=_S(v,e,r))}return e}function dG(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var i=n[a],s=0,l=t.columns;s<l.length;s++){var c=l[s],u=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(u)u.cell.height+=i.height,r=u.cell.colSpan,delete i.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var f=i.cells[c.index];if(!f)continue;if(f.height=i.height,f.rowSpan>1){var m=n.length-a,v=f.rowSpan>m?m:f.rowSpan;e[c.index]={cell:f,left:v,row:i}}}}}function fG(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,i=0,s=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(s-=1,s>1&&t.columns[l+1])i+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+i}else{var u=n.cells[c.index];if(!u)continue;if(s=u.colSpan,i=0,u.colSpan>1){a=u,i+=c.width;continue}u.width=c.width+i}}}function mG(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var i=a[n],s=0,l=t.columns;s<l.length;s++){var c=l[s],u=i.cells[c.index];if(u){e.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,f+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=qk(u.text,f,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=qk(u.text,f,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var m=u.styles.overflow(u.text,f);typeof m=="string"?u.text=[m]:u.text=m}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var v=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<v*u.rowSpan?r={height:v,count:u.rowSpan}:r&&r.count>0&&r.height>v&&(v=r.height),v>i.height&&(i.height=v)}}r.count--}}function qk(t,e,r,n,a){return t.map(function(i){return pG(i,e,r,n,a)})}function pG(t,e,r,n,a){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=Wb(t,r,n))return t;for(;e<Wb(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function k9(t,e){var r=new rp(t),n=gG(e,r.scaleFactor()),a=new sG(e,n);return cG(r,a),r.applyStyles(r.userStyles),a}function gG(t,e){var r=t.content,n=vG(r.columns);if(r.head.length===0){var a=Vk(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=Vk(n,"foot");a&&r.foot.push(a)}var i=t.settings.theme,s=t.styles;return{columns:n,head:cE("head",r.head,n,s,i,e),body:cE("body",r.body,n,s,i,e),foot:cE("foot",r.foot,n,s,i,e)}}function cE(t,e,r,n,a,i){var s={},l=e.map(function(c,u){for(var f=0,m={},v=0,h=0,E=0,y=r;E<y.length;E++){var b=y[E];if(s[b.index]==null||s[b.index].left===0)if(h===0){var x=void 0;Array.isArray(c)?x=c[b.index-v-f]:x=c[b.dataKey];var w={};typeof x=="object"&&!Array.isArray(x)&&(w=(x==null?void 0:x.styles)||{});var N=bG(t,b,u,a,n,i,w),I=new N9(x,N,t);m[b.dataKey]=I,m[b.index]=I,h=I.colSpan-1,s[b.index]={left:I.rowSpan-1,times:h}}else h--,v++;else s[b.index].left--,h=s[b.index].times,f++}return new P9(c,u,t,m)});return l}function Vk(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=hG(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function hG(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function vG(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new lG(a,e,r)})}function bG(t,e,r,n,a,i,s){var l=GW(n),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var u=zu({},l.table,l[t],a.styles,c),f=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},m=t==="body"?f:{},v=t==="body"&&r%2===0?zu({},l.alternateRow,a.alternateRowStyles):{},h=WW(i),E=zu({},h,u,v,m);return zu(E,s)}function yG(t,e,r){var n;r===void 0&&(r={});var a=x9(t,e),i=new Map,s=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(v){var h=e.columns.find(function(E){return E.dataKey===v||E.index===v});h&&!i.has(h.index)&&(i.set(h.index,!0),s.push(h.index),l.push(e.columns[h.index]),a-=h.wrappedWidth)});for(var u=!0,f=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(i.has(f)){f++;continue}var m=e.columns[f].wrappedWidth;if(u||a>=m)u=!1,s.push(f),l.push(e.columns[f]),a-=m;else break;f++}return{colIndexes:s,columns:l,lastIndex:f-1}}function EG(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=yG(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function A9(t,e){var r=e.settings,n=r.startY,a=r.margin,i={x:a.left,y:n},s=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+a.bottom+s;if(r.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(v,h){return v+h.height},0);l+=u}var f=new rp(t);(r.pageBreak==="always"||r.startY!=null&&l>f.pageSize().height)&&(I9(f),i.y=a.top),e.callWillDrawPageHooks(f,i);var m=zu({},i);e.startPageNumber=f.pageNumber(),r.horizontalPageBreak?xG(f,e,m,i):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(v){return Wu(f,e,v,i,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(v,h){var E=h===e.body.length-1;Gb(f,e,v,E,m,i,e.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(v){return Wu(f,e,v,i,e.columns)})),y9(f,e,m,i),e.callEndPageHooks(f,i),e.finalY=i.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function xG(t,e,r,n){var a=EG(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,f){t.applyStyles(t.userStyles),f>0?Vg(t,e,r,n,u.columns,!0):Hk(t,e,n,u.columns),wG(t,e,r,n,u.columns),uE(t,e,n,u.columns)});else for(var s=-1,l=a[0],c=function(){var u=s;if(l){t.applyStyles(t.userStyles);var f=l.columns;s>=0?Vg(t,e,r,n,f,!0):Hk(t,e,n,f),u=Wk(t,e,s+1,n,f),uE(t,e,n,f)}var m=u-s;a.slice(1).forEach(function(v){t.applyStyles(t.userStyles),Vg(t,e,r,n,v.columns,!0),Wk(t,e,s+1,n,v.columns,m),uE(t,e,n,v.columns)}),s=u};s<e.body.length-1;)c()}function Hk(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(i){return Wu(t,e,i,r,n)})}function wG(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(i,s){var l=s===e.body.length-1;Gb(t,e,i,l,r,n,a)})}function Wk(t,e,r,n,a,i){t.applyStyles(t.userStyles),i=i??e.body.length;var s=Math.min(r+i,e.body.length),l=-1;return e.body.slice(r,s).forEach(function(c,u){var f=r+u===e.body.length-1,m=O9(t,e,f,n);c.canEntireRowFit(m,a)&&(Wu(t,e,c,n,a),l=r+u)}),l}function uE(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(i){return Wu(t,e,i,r,n)})}function SG(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),i=Math.floor((e-a)/n);return Math.max(0,i)}function CG(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var i=0,s=0,l=r.columns;s<l.length;s++){var c=l[s],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new N9(u.raw,u.styles,u.section);f=zu(f,u),f.text=[];var m=SG(u,e,n);u.text.length>m&&(f.text=u.text.splice(m,u.text.length));var v=n.scaleFactor(),h=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(v,h),u.contentHeight>=e&&(u.contentHeight=e,f.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),f.contentHeight=f.getContentHeight(v,h),f.contentHeight>i&&(i=f.contentHeight),a[c.index]=f}}var E=new P9(t.raw,-1,t.section,a,!0);E.height=i;for(var y=0,b=r.columns;y<b.length;y++){var c=b[y],f=E.cells[c.index];f&&(f.height=E.height);var u=t.cells[c.index];u&&(u.height=t.height)}return E}function PG(t,e,r,n){var a=t.pageSize().height,i=n.settings.margin,s=i.top+i.bottom,l=a-s;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=e.hasRowSpan(n.columns),m=e.getMaxCellHeight(n.columns)>l;return m?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function Gb(t,e,r,n,a,i,s){var l=O9(t,e,n,i);if(r.canEntireRowFit(l,s))Wu(t,e,r,i,s);else if(PG(t,r,l,e)){var c=CG(r,l,e,t);Wu(t,e,r,i,s),Vg(t,e,a,i,s),Gb(t,e,c,n,a,i,s)}else Vg(t,e,a,i,s),Gb(t,e,r,n,a,i,s)}function Wu(t,e,r,n,a){n.x=e.settings.margin.left;for(var i=0,s=a;i<s.length;i++){var l=s[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}NG(t,c,n);var f=c.getTextPos();h9(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function NG(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=E9(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),kG(t,e,r,n.lineWidth))}function kG(t,e,r,n){var a,i,s,l;n.top&&(a=r.x,i=r.y,s=r.x+e.width,l=r.y,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,i,s,l)),n.bottom&&(a=r.x,i=r.y+e.height,s=r.x+e.width,l=r.y+e.height,n.right&&(s+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,i,s,l)),n.left&&(a=r.x,i=r.y,s=r.x,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,i,s,l)),n.right&&(a=r.x+e.width,i=r.y,s=r.x+e.width,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,i,s,l));function c(u,f,m,v,h){t.getDocument().setLineWidth(u),t.getDocument().line(f,m,v,h,"S")}}function O9(t,e,r,n){var a=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function Vg(t,e,r,n,a,i){a===void 0&&(a=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return Wu(t,e,l,n,a)}),e.callEndPageHooks(t,n);var s=e.settings.margin;y9(t,e,r,n),I9(t),e.pageNumber++,n.x=s.left,n.y=s.top,r.y=s.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Wu(t,e,l,n,a)}),t.applyStyles(t.userStyles))}function I9(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function AG(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=C9(this,n),i=k9(this,a);return A9(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){h9(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return rp.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){rp.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new rp(this),i=S9(a,e,window,r,!1),s=i.head,l=i.body,c=((n=s[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var dE;function LS(t,e){var r=C9(t,e),n=k9(t,r);A9(t,n)}try{if(typeof window<"u"&&window){var Gk=window,Kk=Gk.jsPDF||((dE=Gk.jspdf)===null||dE===void 0?void 0:dE.jsPDF);Kk&&AG(Kk)}}catch(t){console.error("Could not apply autoTable plugin",t)}const Go={rosaPrincipal:[255,20,147],rosaClaro:[255,182,193],amarillo:[255,215,0],amarilloClaro:[255,255,224],grisTexto:[64,64,64],blanco:[255,255,255],grisElegante:[108,117,125],grisFondo:[248,249,250]},lg={nombre:"Delicias Darsy",subtitulo:"Gestin de Compras",usarLogoPersonalizado:!0,logoURL:"/imagenes/logo-delicias-darsy.png",logoFormato:"PNG",logoAncho:35,logoAlto:25,logoFooterSize:15},OG=({visible:t,onClose:e,compraData:r,onDownload:n})=>{const[a,i]=p.useState(null),[s,l]=p.useState(!1),[c,u]=p.useState(null),f=()=>{const O=new Date,A=O.toLocaleDateString("es-CO",{timeZone:"America/Bogota",year:"numeric",month:"2-digit",day:"2-digit"}),T=O.toLocaleTimeString("es-CO",{timeZone:"America/Bogota",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return{fecha:A,hora:T}},m=O=>new Intl.NumberFormat("es-CO",{minimumFractionDigits:0,maximumFractionDigits:0}).format(O),v=O=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(O),h=(O,A,T,C=20)=>{try{O.setFillColor(...Go.blanco);const _=C/2+3;O.circle(A,T,_,"F"),O.setDrawColor(200,200,200),O.setLineWidth(.5),O.circle(A,T,_,"S"),O.addImage(lg.logoURL,lg.logoFormato,A-C/2,T-C/2,C,C)}catch(_){console.error("Error al cargar logo personalizado:",_),E(O,A,T,C)}},E=(O,A,T,C)=>{O.setFillColor(...Go.blanco);const _=C/2+3;O.circle(A,T,_,"F"),O.setFillColor(...Go.rosaPrincipal),O.circle(A,T,C,"F"),O.setFillColor(...Go.amarillo),O.circle(A,T,C*.6,"F"),O.setFontSize(C*.8),O.setTextColor(...Go.blanco),O.setFont("helvetica","bold"),O.text("DD",A-4,T+3)},y=O=>{O.setFillColor(...Go.rosaPrincipal),O.rect(0,0,210,40,"F"),h(O,160,20,lg.logoAncho),O.setFontSize(18),O.setTextColor(...Go.blanco),O.setFont("helvetica","bold"),O.text("DETALLE DE COMPRA",20,18),O.setFontSize(14),O.text("Delicias Darsy",20,26),O.setFontSize(11),O.setFont("helvetica","normal"),O.text(lg.subtitulo,20,33),O.setFillColor(...Go.rosaClaro),O.rect(0,40,210,10,"F"),O.setDrawColor(...Go.amarillo),O.setLineWidth(2),O.line(20,55,190,55)},b=(O,A)=>{O.setTextColor(...Go.grisTexto),O.setFontSize(10),O.setFont("helvetica","normal"),O.setFillColor(...Go.grisFondo),O.rect(20,60,170,32,"F"),O.setDrawColor(...Go.grisElegante),O.setLineWidth(.5),O.rect(20,60,170,32),O.setFont("helvetica","bold"),O.text("PROVEEDOR:",25,68),O.setFont("helvetica","normal");const T=A.proveedor||"N/A";O.text(T,60,68),O.setFont("helvetica","bold"),O.text("DOCUMENTO:",25,75),O.setFont("helvetica","normal");const C=A.documento_proveedor||A.documentoProveedor||"N/A";O.text(C,60,75),O.setFont("helvetica","bold"),O.text("FECHA COMPRA:",25,82),O.setFont("helvetica","normal");let _=A.fecha_compra||A.fecha||"";if(_&&(_.includes("T")&&(_=_.split("T")[0]),_.match(/^\d{4}-\d{2}-\d{2}$/))){const[z,V,J]=_.split("-");_=`${J}/${V}/${z}`}O.text(_||"N/A",60,82),O.setFont("helvetica","bold"),O.text("COMPRA N:",120,68),O.setFont("helvetica","normal"),O.text(A.id?A.id.toString():"N/A",148,68),O.setFont("helvetica","bold"),O.text("FECHA REGISTRO:",120,75),O.setFont("helvetica","normal");const{fecha:D}=f();O.text(D,160,75)},x=(O,A)=>{LS(O,{head:[["Nombre Producto","Cantidad","Unidad Medida","Precio unitario","Subtotal"]],body:A.map(T=>[T.nombre||"N/A",m(T.cantidad||0),T.unidad_medida||T.unidad||"Unidad",v(T.precio||0),v((T.cantidad||0)*(T.precio||0))]),startY:110,styles:{fillColor:Go.blanco,textColor:Go.grisTexto,fontSize:10,cellPadding:5,lineWidth:.1,lineColor:[220,220,220],halign:"center"},headStyles:{fillColor:[240,240,240],textColor:[80,80,80],fontSize:10,fontStyle:"bold",halign:"center",valign:"middle",cellPadding:5},alternateRowStyles:{fillColor:[252,252,252]},columnStyles:{0:{halign:"left",cellWidth:45},1:{halign:"center",cellWidth:25},2:{halign:"center",cellWidth:35},3:{halign:"right",cellWidth:35},4:{halign:"right",cellWidth:40,fontStyle:"bold"}},margin:{top:15},showHead:"everyPage",tableWidth:"auto"})},w=(O,A,T)=>{const C=T+10,_=O.internal.pageSize.height;if(C+40>_-30)return O.addPage(),20;O.setFillColor(...Go.grisElegante),O.rect(130,C,60,15,"F"),O.setDrawColor(...Go.amarillo),O.setLineWidth(1),O.rect(130,C,60,15),O.setFontSize(14),O.setTextColor(...Go.blanco),O.setFont("helvetica","bold"),O.text("TOTAL:",135,C+10);const z=v(A);return O.text(z,185,C+10,{align:"right"}),C},N=(O,A,T)=>{if(A&&A.trim()!==""){const C=O.internal.pageSize.height;T+40>C-30&&(O.addPage(),T=20),O.setFontSize(11),O.setTextColor(...Go.grisTexto),O.setFont("helvetica","bold"),O.text("OBSERVACIONES:",20,T+25),O.setFont("helvetica","normal");const _=O.splitTextToSize(A,170);O.text(_,20,T+32)}},I=O=>{const A=O.internal.pageSize.height,T=O.internal.getNumberOfPages();for(let C=1;C<=T;C++){O.setPage(C),O.setFillColor(...Go.rosaClaro),O.rect(0,A-20,210,20,"F"),O.setFontSize(8),O.setTextColor(...Go.grisTexto),O.setFont("helvetica","normal"),O.text("Documento generado automticamente - Delicias Darsy",20,A-10);const{fecha:_,hora:D}=f();O.text(`Generado: ${_} - ${D}`,20,A-5),h(O,180,A-10,lg.logoFooterSize),O.setFontSize(8),O.text(`Pgina ${C} de ${T}`,105,A-5,{align:"center"})}},P=O=>O.reduce((A,T)=>{const C=T.cantidad||0,_=T.precio||0;return A+C*_},0),L=async O=>{try{if(l(!0),u(null),!O.insumos||O.insumos.length===0)throw new Error("No hay insumos para generar el PDF");const A=new gn,T={...O,id:O.id||Date.now().toString()};y(A),b(A,T),x(A,T.insumos);const C=P(T.insumos),_=A.lastAutoTable?A.lastAutoTable.finalY:150,D=w(A,C,_);N(A,T.observaciones,D),I(A);const z=A.output("datauristring");return i(z),A}catch(A){throw console.error("Error al generar PDF preview:",A),u("Error al generar la previsualizacin del PDF"),A}finally{l(!1)}},R=async()=>{try{if(l(!0),u(null),!r||!r.insumos||r.insumos.length===0)throw new Error("No hay insumos para generar el PDF");const O=await L(r),{fecha:A}=f(),T=`compra-${r.id||Date.now()}-${A.replace(/\//g,"-")}.pdf`;O.save(T),n&&n()}catch(O){console.error("Error al descargar PDF:",O),u("Error al descargar el PDF")}finally{l(!1)}};return p.useEffect(()=>{t&&r&&L(r)},[t,r]),t?o.createElement(o.Fragment,null,o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:e},o.createElement("div",{style:{width:"95vw",height:"90vh",maxWidth:"1400px",maxHeight:"850px",backgroundColor:"white",borderRadius:"8px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},onClick:O=>O.stopPropagation()},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"2px solid #e0e0e0",backgroundColor:"#f8f9fa",borderRadius:"8px 8px 0 0"}},o.createElement("h2",{style:{margin:0,color:"#333",fontSize:"1.5rem",fontWeight:"600"}},"Previsualizacin de Compra"),o.createElement("div",{style:{display:"flex",gap:"10px"}},o.createElement("button",{onClick:R,disabled:s||c,style:{padding:"10px 20px",backgroundColor:"#ee52a5",color:"white",border:"none",borderRadius:"5px",fontSize:"16px",fontWeight:"500",cursor:s||c?"not-allowed":"pointer",opacity:s||c?.6:1,display:"flex",alignItems:"center",gap:"8px"}}," Descargar"),o.createElement("button",{onClick:e,style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"5px",fontSize:"16px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}}," Cerrar"))),o.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",minHeight:"700px",position:"relative"}},s&&o.createElement("div",{style:{textAlign:"center",color:"#666"}},o.createElement("div",{style:{width:"50px",height:"50px",border:"4px solid #f3f3f3",borderTop:"4px solid #ff1493",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),o.createElement("p",{style:{fontSize:"18px"}},"Generando previsualizacin...")),c&&o.createElement("div",{style:{textAlign:"center",color:"#dc3545",fontSize:"18px"}},o.createElement("p",null," ",c),o.createElement("button",{onClick:()=>L(r),style:{marginTop:"15px",padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px"}},"Reintentar")),a&&!s&&!c&&o.createElement("iframe",{src:a,style:{width:"100%",height:"100%",border:"none",minHeight:"700px"},title:"Previsualizacin PDF"})))),o.createElement("style",{jsx:!0},`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `)):null},IG=({onClose:t,onAgregar:e})=>{const[r,n]=p.useState([]),[a,i]=p.useState(""),[s,l]=p.useState("Todos"),[c,u]=p.useState(!1),[f,m]=p.useState([]),[v,h]=p.useState(["Todos"]),[E,y]=p.useState(!0),[b,x]=p.useState(null),[w,N]=p.useState(!1),[I,P]=p.useState(null),[L,R]=p.useState(""),[O,A]=p.useState(1),T=4,C=async(B,j)=>{try{const U=await fetch(`https://deliciasoft-backend-i6g9.onrender.com/api/insumos/${B}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({precio:j})});if(!U.ok)throw new Error(`Error ${U.status}: ${U.statusText}`);return await U.json()}catch(U){throw console.error("Error actualizando precio:",U),U}};p.useEffect(()=>{(async()=>{try{y(!0),x(null);const j=await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/insumos",{method:"GET",headers:{"Content-Type":"application/json"}});if(!j.ok)throw new Error(`Error ${j.status}: ${j.statusText}`);const Z=(await j.json()).filter(de=>{const oe=de.estado||de.activo||de.active||de.isActive;return typeof oe=="boolean"?oe===!0:typeof oe=="string"?oe.toLowerCase()==="true"||oe.toLowerCase()==="activo":typeof oe=="number"?oe===1:!0}).map(de=>{var le,pe;let oe=0;const ee=de.precio||de.preciounitario||de.precioUnitario||de.precio_unitario;if(ee!=null){const ce=parseFloat(ee);!isNaN(ce)&&ce>0&&(oe=ce)}return{id:de.idinsumo||de.id,nombre:de.nombreinsumo||de.nombre||"Sin nombre",unidad:((le=de.unidadmedida)==null?void 0:le.unidadmedida)||"Unidad",precio:oe,precioUnitario:oe,cantidad:parseInt(de.cantidad)||0,category:((pe=de.categoriainsumos)==null?void 0:pe.nombrecategoria)||"Sin categora",estado:de.estado||!0,datosOriginales:de}});m(Z);const me=["Todos",...new Set(Z.map(de=>de.category))];h(me)}catch(j){console.error("Error al cargar insumos:",j),x(j.message)}finally{y(!1)}})()},[]);const _=f.filter(B=>B.nombre.toLowerCase().includes(a.toLowerCase())&&(s==="Todos"||B.category===s)),D=Math.ceil(_.length/T),z=(O-1)*T,V=z+T,J=_.slice(z,V);p.useEffect(()=>{A(1)},[a,s]);const ie=B=>{if(B.precio<=0){alert(` El insumo "${B.nombre}" no tiene precio configurado. Por favor, edita el precio primero haciendo clic en el botn `);return}n(j=>j.some(U=>U.id===B.id)?j.filter(U=>U.id!==B.id):[...j,{...B,cantidad:1,precio:B.precio,precioUnitario:B.precio}])},G=(B,j)=>{j.stopPropagation(),P(B),R(B.precio>0?B.precio.toString():""),N(!0)},te=async()=>{try{const B=parseFloat(L);if(isNaN(B)||B<=0){alert("Por favor ingresa un precio vlido mayor a 0");return}await C(I.id,B),m(j=>j.map(U=>U.id===I.id?{...U,precio:B,precioUnitario:B}:U)),n(j=>j.map(U=>U.id===I.id?{...U,precio:B,precioUnitario:B}:U)),N(!1),P(null),R("")}catch(B){alert("Error al actualizar el precio: "+B.message)}},W=()=>{const B=r.filter(j=>j.precio<=0);if(B.length>0){alert(` Los siguientes insumos no tienen precio configurado: ${B.map(j=>j.nombre).join(", ")}. Por favor, configura los precios antes de continuar.`);return}e(r),t()};return E?o.createElement("div",{className:"modal-agregar-overlay"},o.createElement("div",{className:"modal-agregar-container"},o.createElement("div",{style:{textAlign:"center",padding:"40px"}},o.createElement("div",{style:{width:"48px",height:"48px",border:"4px solid #f3f3f3",borderTop:"4px solid #e91e63",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),o.createElement("p",null,"Cargando insumos activos...")))):b?o.createElement("div",{className:"modal-agregar-overlay"},o.createElement("div",{className:"modal-agregar-container"},o.createElement("div",{style:{textAlign:"center",padding:"40px"}},o.createElement("h3",{style:{color:"#e74c3c",marginBottom:"20px"}},"Error al cargar insumos"),o.createElement("p",{style:{marginBottom:"20px"}},b),o.createElement("button",{className:"cancel-btn",onClick:t},"Cerrar")))):o.createElement("div",{className:"modal-agregar-overlay"},o.createElement("div",{className:"modal-agregar-container"},o.createElement("button",{onClick:t,className:"modal-agregar-close"},""),o.createElement("h2",{className:"modal-agregar-title"},"Seleccionar Insumos"),o.createElement("div",{className:"modal-agregar-controles"},o.createElement("input",{type:"text",className:"modal-agregar-input",placeholder:"Buscar insumos...",value:a,onChange:B=>i(B.target.value)}),o.createElement("div",{className:"custom-select-container"},o.createElement("button",{className:"custom-select-button",onClick:()=>u(!c),type:"button"},s==="Todos"?"Todas las categoras":s,o.createElement("span",{className:"custom-select-arrow"},c?"":"")),c&&o.createElement("div",{className:"custom-select-dropdown"},v.map(B=>o.createElement("div",{key:B,className:`custom-select-option ${s===B?"selected":""}`,onClick:()=>{l(B),u(!1)},onMouseEnter:j=>{j.currentTarget.style.background="#e91e63",j.currentTarget.style.color="white"},onMouseLeave:j=>{s!==B?(j.currentTarget.style.background="white",j.currentTarget.style.color="#333"):(j.currentTarget.style.background="#e91e63",j.currentTarget.style.color="white")}},B==="Todos"?"Todas las categoras":B))))),o.createElement("div",{className:"modal-agregar-info"},"Mostrando ",J.length," de ",_.length," insumos"),_.length===0?o.createElement("div",{className:"modal-agregar-grid"},o.createElement("div",{className:"modal-agregar-empty"}," No se encontraron insumos",o.createElement("br",null),"Intenta con otros trminos de bsqueda")):o.createElement(o.Fragment,null,o.createElement("div",{className:"modal-agregar-grid"},J.map(B=>{const j=r.some(X=>X.id===B.id),U=B.precio<=0;return o.createElement("div",{key:B.id,className:`modal-agregar-card ${j?"seleccionado":""}`,onClick:()=>ie(B)},j&&o.createElement("div",{className:"check-icon"},""),o.createElement("div",{style:{flex:1,display:"flex",flexDirection:"column",gap:"8px",justifyContent:"center",width:"100%",paddingTop:"8px"}},o.createElement("span",{style:{fontWeight:"600",fontSize:"13px",color:"#333"}},B.nombre),o.createElement("span",{style:{fontSize:"10px",color:"#666"}},"Stock: ",B.cantidad," ",B.unidad),o.createElement("span",{style:{fontSize:"12px",fontWeight:"700",color:B.precio>0?"#27ae60":"#ff9800"}},B.precio>0?new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(B.precio):"Sin precio")),o.createElement("button",{className:"btn-ver-verabajo",onClick:X=>G(B,X),title:U?" Configurar precio":"Editar precio"}," ",U?"Configurar":"Editar"))})),D>1&&o.createElement("div",{className:"modal-agregar-paginacion"},o.createElement("button",{className:"paginacion-btn",onClick:()=>A(B=>Math.max(1,B-1)),disabled:O===1},""),o.createElement("span",{className:"paginacion-info"},"Pgina ",O," de ",D),o.createElement("button",{className:"paginacion-btn",onClick:()=>A(B=>Math.min(D,B+1)),disabled:O===D},""))),o.createElement("div",{className:"modal-agregar-footer"},o.createElement("button",{className:"cancel-btn",onClick:t},"Cancelar"),o.createElement("button",{className:"save-btn",onClick:W,disabled:r.length===0},"Guardar (",r.length,")")),w&&o.createElement("div",{className:"modal-precio",onClick:()=>{N(!1),P(null),R("")}},o.createElement("div",{className:"modal-precio-contenido",onClick:B=>B.stopPropagation()},o.createElement("h3",{style:{color:"#e91e63",marginBottom:"12px",fontSize:"20px"}},(I==null?void 0:I.precio)>0?" Actualizar precio":" Configurar precio"),o.createElement("p",{style:{fontWeight:"600",fontSize:"16px",color:"#2c3e50"}},I==null?void 0:I.nombre),o.createElement("p",{style:{color:"#7f8c8d",marginBottom:"8px"}},(I==null?void 0:I.precio)>0?`Precio actual: ${new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(I.precio)}`:"Este insumo no tiene precio configurado"),o.createElement("input",{type:"number",value:L,onChange:B=>R(B.target.value),placeholder:"Ingrese el precio en COP",min:"0",step:"100",autoFocus:!0,style:{width:"100%",padding:"12px",margin:"16px 0",border:"2px solid #e91e63",borderRadius:"8px",fontSize:"16px",boxSizing:"border-box"}}),o.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"center",marginTop:"20px"}},o.createElement("button",{className:"cancel-btn",onClick:()=>{N(!1),P(null),R("")}},"Cancelar"),o.createElement("button",{className:"save-btn",onClick:te,disabled:!L||parseFloat(L)<=0},(I==null?void 0:I.precio)>0?"Actualizar":"Guardar"))))))},_G=({proveedores:t=[],value:e="",onChange:r,onSelect:n,disabled:a=!1,error:i=!1,placeholder:s="Buscar por nombre o documento..."})=>{const[l,c]=p.useState(!1),[u,f]=p.useState(e),m=p.useRef(null);p.useEffect(()=>{const b=x=>{m.current&&!m.current.contains(x.target)&&c(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]),p.useEffect(()=>{f(e)},[e]);const v=t.filter(b=>{if(!(b.estado===!0||b.estado===1||b.estado==="1"))return!1;const w=(b.nombre||b.nombreProveedor||b.nombreproveedor||b.nombreempresa||"").toLowerCase(),N=(b.documento||b.nit||"").toString(),I=u.toLowerCase();return w.includes(I)||N.includes(I)}),h=b=>{const x=b.target.value;f(x),c(!0),r&&r(x)},E=b=>{const x=b.nombre||b.nombreProveedor||b.nombreproveedor||b.nombreempresa;f(x),c(!1),n&&n(b)},y=()=>{a||c(!0)};return o.createElement("div",{ref:m,className:"proveedor-autocomplete"},o.createElement("input",{type:"text",value:u,onChange:h,onFocus:y,placeholder:s,disabled:a,className:`autocomplete-input ${i?"error":""} ${a?"disabled":""}`}),l&&!a&&v.length>0&&o.createElement("div",{className:"autocomplete-dropdown"},v.map(b=>{const x=b.nombre||b.nombreProveedor||b.nombreproveedor||b.nombreempresa,w=b.documento||b.nit||"";return o.createElement("div",{key:b.idProveedor||b.idproveedor,onClick:()=>E(b),className:"autocomplete-item"},o.createElement("span",{className:"item-nombre"},x),o.createElement("span",{className:"item-documento"},w))})),l&&!a&&u&&v.length===0&&o.createElement("div",{className:"autocomplete-dropdown"},o.createElement("div",{className:"autocomplete-empty"},"No se encontraron proveedores activos")))},Bf=(t=!0)=>{try{const e=new Date().toLocaleString("en-US",{timeZone:"America/Bogota",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),[r,n]=e.split(", "),[a,i,s]=r.split("/");return t?`${s}-${a}-${i}`:`${s}-${a}-${i}T${n}`}catch(e){return console.error("Error al obtener fecha de Colombia:",e),new Date().toISOString().split("T")[0]}},LG=t=>{const e=new Date(t+"T00:00:00"),r=new Date(Bf(!1));return r.setHours(23,59,59,999),e<=r};function TG({compraData:t,setCompraData:e,insumosSeleccionados:r,setInsumosSeleccionados:n,proveedores:a,errores:i,setErrores:s,modalTipo:l,cargando:c,onGuardar:u,onCancelar:f,onAbrirModalProveedor:m,buscarProveedor:v,setBuscarProveedor:h,mostrarModalInsumos:E,setMostrarModalInsumos:y}){const[b,x]=p.useState({idProveedor:"",proveedor:"",documentoProveedor:"",fechaCompra:"",fechaRegistro:Bf()}),[w,N]=p.useState([]);p.useEffect(()=>{var B,j,U,X,Z,me;if(console.log("=== CARGANDO DATOS EN COMPRAFORM ==="),console.log("modalTipo:",l),console.log("compraData COMPLETO:",JSON.stringify(t,null,2)),t&&l==="ver"){const de=((B=t.proveedor)==null?void 0:B.nombreproveedor)||((j=t.proveedor)==null?void 0:j.nombreempresa)||((U=t.proveedor)==null?void 0:U.nombre)||t.nombreProveedor||"",oe=((X=t.proveedor)==null?void 0:X.documento)||((Z=t.proveedor)==null?void 0:Z.nit)||((me=t.proveedor)==null?void 0:me.documentoProveedor)||t.documentoProveedor||t.documento_proveedor||"",ee=t.fechacompra||t.fechaCompra,le=t.fecharegistro||t.fechaRegistro;console.log("Proveedor encontrado:",de),console.log("Documento encontrado:",oe),console.log("Estructura proveedor completa:",t.proveedor),x({idProveedor:t.idproveedor||t.idProveedor,proveedor:de,documentoProveedor:oe,fechaCompra:ee?new Date(ee).toISOString().split("T")[0]:"",fechaRegistro:le?new Date(le).toISOString().split("T")[0]:""});let pe=[];if(t.detallecompra&&Array.isArray(t.detallecompra)?pe=t.detallecompra:t.detalles&&Array.isArray(t.detalles)&&(pe=t.detalles),pe.length>0){const ce=pe.map(_e=>{var He,Re,be,gt,Ae;return{id:_e.idinsumos||_e.idInsumo||_e.id,nombre:_e.nombreInsumo||((He=_e.insumos)==null?void 0:He.nombreinsumo)||((Re=_e.insumo)==null?void 0:Re.nombre)||`Insumo ${_e.idinsumos||_e.idInsumo}`,cantidad:parseInt(_e.cantidad)||0,precio:parseFloat(_e.preciounitario||_e.precioUnitario)||0,precioUnitario:parseFloat(_e.preciounitario||_e.precioUnitario)||0,unidad:_e.unidadMedida||((gt=(be=_e.insumos)==null?void 0:be.unidadmedida)==null?void 0:gt.unidadmedida)||((Ae=_e.insumo)==null?void 0:Ae.unidad)||"Unidad"}});N(ce)}}},[t,l]);const I=l==="ver"&&t?b:t||{idProveedor:"",proveedor:"",documentoProveedor:"",fechaCompra:"",fechaRegistro:new Date().toISOString().split("T")[0]},P=l==="ver"&&t?w:r||[],L=B=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(B),R=()=>Bf(),O=B=>B?LG(B)?"":"La fecha de compra no puede ser mayor al da presente":"La fecha de compra es obligatoria",A=B=>B?"":"Debe seleccionar un proveedor",T=B=>B.length===0?"Debe agregar al menos un insumo":"",C=B=>{const{name:j,value:U}=B.target;if(j==="idProveedor"){const X=a.find(Z=>Z.idProveedor===Number(U));e(Z=>({...Z,idProveedor:U?Number(U):null,proveedor:(X==null?void 0:X.nombre)||(X==null?void 0:X.nombreProveedor)||(X==null?void 0:X.nombreempresa)||"",documentoProveedor:(X==null?void 0:X.documento)||(X==null?void 0:X.nit)||""})),s(Z=>({...Z,proveedor:X?"":"Debe seleccionar un proveedor"}))}else e(X=>({...X,[j]:U})),j==="fechaCompra"&&s(X=>({...X,fecha_compra:O(U)}))},_=B=>{const j=B.map(X=>({...X,cantidad:parseInt(X.cantidad)||1,precio:parseFloat(X.precio||X.precioUnitario)||0,precioUnitario:parseFloat(X.precio||X.precioUnitario)||0})),U=[...r,...j.filter(X=>!r.some(Z=>Z.id===X.id))];n(U),s(X=>({...X,insumos:T(U)}))},D=(B,j)=>{const U=Math.max(1,parseInt(j)||1);n(X=>X.map(Z=>Z.id===B?{...Z,cantidad:U}:Z))},z=B=>{const j=r.filter(U=>U.id!==B);n(j),s(U=>({...U,insumos:T(j)}))},V=()=>{const B=A(I.idProveedor),j=O(I.fechaCompra),U=T(P);return s({proveedor:B,fecha_compra:j,insumos:U}),!B&&!j&&!U},J=()=>{V()&&u(I,P)},ie=P.reduce((B,j)=>B+(j.precio||j.precioUnitario||0)*(j.cantidad||0),0),G=ie*.19,te=ie+G,W=()=>l==="ver"?`Compra ${(t==null?void 0:t.estado)!==!1?"Activa":"Anulada"} - #${(t==null?void 0:t.idcompra)||(t==null?void 0:t.id)||""}`:l==="crear"?"Nueva Compra":"Editar Compra";return o.createElement("div",{className:"compra-form-container"},l==="ver"&&t&&o.createElement("div",{className:`compra-status-header ${t.estado===!1?"anulada":"activa"}`},o.createElement("h1",{className:"compra-title"},W()),o.createElement("div",{className:"status-indicator"},o.createElement("span",{className:`status-badge ${t.estado===!1?"anulada":"activa"}`},t.estado===!1?" ANULADA":" ACTIVA"))),o.createElement("div",{className:"header-info"},o.createElement("div",{className:"info-badge"},o.createElement("span",{className:"badge-icon"},""),o.createElement("span",null,"Proveedores cargados: ",(a==null?void 0:a.length)||0))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Informacin de la Compra"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Proveedor *"),o.createElement("div",{className:"provider-input-group"},o.createElement(_G,{proveedores:a,value:l==="ver"?I.proveedor:v||"",onChange:B=>{l!=="ver"&&h&&h(B)},onSelect:B=>{l!=="ver"&&(e(j=>({...j,idProveedor:B.idProveedor,proveedor:B.nombre||B.nombreProveedor||B.nombreempresa,documentoProveedor:B.documento||B.nit||""})),s(j=>({...j,proveedor:""})),h&&h(B.nombre||B.nombreProveedor||B.nombreempresa))},disabled:l==="ver"||c,error:!!(i!=null&&i.proveedor),placeholder:"Buscar por nombre o documento..."}),l!=="ver"&&o.createElement("button",{type:"button",onClick:m,className:"add-provider-btn",title:"Agregar nuevo proveedor",disabled:c},"+")),(i==null?void 0:i.proveedor)&&o.createElement("span",{className:"error-message"},i.proveedor),l!=="ver"&&(a==null?void 0:a.length)===0&&o.createElement("small",{style:{color:"#f59e0b",fontSize:"12px"}},"No hay proveedores disponibles"),(I==null?void 0:I.idProveedor)&&o.createElement("small",{style:{color:"#ec4899",fontSize:"12px",marginTop:"4px",display:"block"}}," Seleccionado: ",I.proveedor)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Documento del Proveedor"),o.createElement("input",{type:"text",name:"documentoProveedor",value:(I==null?void 0:I.documentoProveedor)||"",onChange:C,disabled:!0,className:"form-input",placeholder:"Se llena automticamente"})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de compra *"),o.createElement("input",{type:"date",name:"fechaCompra",value:(I==null?void 0:I.fechaCompra)||"",onChange:C,disabled:l==="ver"||c,max:R(),className:`form-input ${i!=null&&i.fecha_compra?"error":""}`}),(i==null?void 0:i.fecha_compra)&&o.createElement("span",{className:"error-message"},i.fecha_compra)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de registro"),o.createElement("input",{type:"date",name:"fechaRegistro",value:(I==null?void 0:I.fechaRegistro)||"",onChange:C,className:"form-input",disabled:!0})))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Detalle de Productos"),(i==null?void 0:i.insumos)&&o.createElement("div",{className:"error-banner"},o.createElement("span",{className:"error-icon"},""),i.insumos),o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Nombre Producto"),o.createElement("th",null,"Cantidad"),o.createElement("th",null,"Unidad Medida"),o.createElement("th",null,"Precio unitario"),o.createElement("th",null,"Subtotal"),l!=="ver"&&o.createElement("th",null,"Accin"))),o.createElement("tbody",null,P.length===0?o.createElement("tr",null,o.createElement("td",{colSpan:l==="ver"?5:6,style:{textAlign:"center",padding:"20px"}},"No hay productos en esta compra")):P.map(B=>o.createElement("tr",{key:B.id,className:"product-row"},o.createElement("td",{className:"product-name"},B.nombre),o.createElement("td",{className:"quantity-cell"},l==="ver"?o.createElement("span",{className:"quantity-display"},B.cantidad):o.createElement("input",{type:"number",min:"1",value:B.cantidad,onChange:j=>D(B.id,parseInt(j.target.value)),disabled:c,className:"quantity-input"})),o.createElement("td",{className:"unit-cell"},B.unidad),o.createElement("td",{className:"price-cell"},L(B.precio||B.precioUnitario||0)),o.createElement("td",{className:"subtotal-cell"},L((B.cantidad||0)*(B.precio||B.precioUnitario||0))),l!=="ver"&&o.createElement("td",{className:"action-cell"},o.createElement("button",{className:"delete-btn",onClick:()=>z(B.id),disabled:c,title:"Eliminar producto"},""))))))),l!=="ver"&&y&&o.createElement("button",{className:"add-products-btn",onClick:()=>y(!0),disabled:c},o.createElement("span",{className:"btn-icon"},"+"),"Agregar Insumos")),o.createElement("div",{className:"totals-section"},o.createElement("div",{className:"totals-grid"},o.createElement("div",{className:"total-card subtotal-card"},o.createElement("div",{className:"card-icon",style:{color:"#f10079ff",fontSize:"2rem"}},""),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Subtotal"),o.createElement("div",{className:"card-value"},L(ie)))),o.createElement("div",{className:"total-card iva-card"},o.createElement("div",{className:"card-icon",style:{color:"#ff0080ff",fontSize:"2rem"}},""),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"IVA (19%)"),o.createElement("div",{className:"card-value"},L(G)))),o.createElement("div",{className:"total-card total-card-main"},o.createElement("div",{className:"card-icon",style:{color:"#f7007cff",fontSize:"2rem"}},""),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Total"),o.createElement("div",{className:"card-value total-value"},L(te)))))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{className:"btn btn-cancel",onClick:f,disabled:c},l==="ver"?"Cerrar":" Cancelar"),l!=="ver"&&u&&o.createElement("button",{className:"btn btn-save",onClick:J,disabled:c},o.createElement("span",{className:"btn-icon"},""),"Guardar")),E&&l!=="ver"&&y&&o.createElement(IG,{onClose:()=>y(!1),onAgregar:_}))}function RG({visible:t,onClose:e,onGuardar:r,proveedores:n,loading:a}){const[i,s]=p.useState("Natural"),[l,c]=p.useState(""),[u,f]=p.useState(""),[m,v]=p.useState(""),[h,E]=p.useState(""),[y,b]=p.useState(""),[x,w]=p.useState("CC"),[N,I]=p.useState(""),[P,L]=p.useState(""),[R,O]=p.useState(!0),[A,T]=p.useState({}),[C,_]=p.useState({}),D=(W,B)=>{let j="";switch(W){case"nombre":i==="Natural"&&(B.trim()?B.trim().length<3?j="El nombre debe tener al menos 3 caracteres":B.trim().length>50?j="El nombre no puede tener ms de 50 caracteres":/^[A-Za-z s.]+$/.test(B)||(j="El nombre solo puede contener letras, espacios y puntos"):j="El nombre es obligatorio");break;case"nombreEmpresa":i==="Jurdico"&&(B.trim()?B.trim().length<3?j="El nombre de empresa debe tener al menos 3 caracteres":B.trim().length>50&&(j="El nombre de empresa no puede tener ms de 50 caracteres"):j="El nombre de empresa es obligatorio");break;case"nombreContacto":i==="Jurdico"&&(B.trim()?B.trim().length<3?j="El nombre del contacto debe tener al menos 3 caracteres":B.trim().length>50?j="El nombre del contacto no puede tener ms de 50 caracteres":/^[A-Za-z s.]+$/.test(B)||(j="El nombre del contacto solo puede contener letras, espacios y puntos"):j="El nombre del contacto es obligatorio");break;case"contacto":B.trim()?/^\d+$/.test(B)?B.length<3?j="El contacto debe tener al menos 3 dgitos":B.length>10&&(j="El contacto no puede tener ms de 10 dgitos"):j="El contacto debe contener solo nmeros":j="El contacto es obligatorio";break;case"correo":B.trim()?B.length>50?j="El correo no puede tener ms de 50 caracteres":(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(B)||!B.includes("@"))&&(j="Correo no vlido"):j="El correo es obligatorio";break;case"direccion":B.trim()?B.trim().length<5?j="La direccin debe tener al menos 5 caracteres":B.trim().length>30&&(j="La direccin no puede tener ms de 30 caracteres"):j="La direccin es obligatoria";break;case"documentoONit":const U=i==="Natural"?"Documento":"NIT";B.trim()?/^\d+$/.test(B)?i==="Natural"?B.length<7?j="El documento debe tener al menos 7 dgitos":B.length>10&&(j="El documento no puede tener ms de 10 dgitos"):B.length<9?j="El NIT debe tener al menos 9 dgitos":B.length>12&&(j="El NIT no puede tener ms de 12 dgitos"):j=`${U} debe contener solo nmeros`:j=`${U} es obligatorio`;break}return j},z=(W,B)=>{switch(W){case"tipoProveedor":if(s(B),B==="Natural"?(w("CC"),I(""),L("")):(w("NIT"),c("")),y){const j=D("documentoONit",y);T(U=>({...U,documentoONit:j}))}break;case"tipoDocumento":w(B);break;case"nombre":c(B);break;case"nombreEmpresa":I(B);break;case"nombreContacto":L(B);break;case"contacto":f(B);break;case"correo":v(B);break;case"direccion":E(B);break;case"documentoONit":b(B);break;case"estadoProveedor":O(B);break}if(C[W]){const j=D(W,B);T(U=>({...U,[W]:j}))}},V=(W,B)=>{_(U=>({...U,[W]:!0}));const j=D(W,B);T(U=>({...U,[W]:j})),W==="correo"&&!j&&n.some(X=>X.correo.toLowerCase()===B.toLowerCase())&&T(X=>({...X,correo:"Ya existe un proveedor con este correo"})),W==="nombre"&&!j&&i==="Natural"&&n.some(X=>X.nombre&&X.nombre.toLowerCase()===B.toLowerCase())&&T(X=>({...X,nombre:"Ya existe un proveedor con este nombre"})),W==="nombreEmpresa"&&!j&&i==="Jurdico"&&n.some(X=>X.nombreEmpresa&&X.nombreEmpresa.toLowerCase()===B.toLowerCase())&&T(X=>({...X,nombreEmpresa:"Ya existe un proveedor con este nombre de empresa"}))},J=()=>{let W=["contacto","correo","direccion","documentoONit"];i==="Natural"?W=[...W,"nombre"]:W=[...W,"nombreEmpresa","nombreContacto"];let B=!1;const j={};return W.forEach(X=>{let Z;switch(X){case"nombre":Z=l;break;case"nombreEmpresa":Z=N;break;case"nombreContacto":Z=P;break;case"contacto":Z=u;break;case"correo":Z=m;break;case"direccion":Z=h;break;case"documentoONit":Z=y;break}const me=D(X,Z);me&&(j[X]=me,B=!0)}),n.some(X=>X.correo.toLowerCase()===m.toLowerCase())&&(j.correo="Ya existe un proveedor con este correo",B=!0),i==="Natural"?n.some(Z=>Z.nombre&&Z.nombre.toLowerCase()===l.toLowerCase())&&(j.nombre="Ya existe un proveedor con este nombre",B=!0):n.some(Z=>Z.nombreEmpresa&&Z.nombreEmpresa.toLowerCase()===N.toLowerCase())&&(j.nombreEmpresa="Ya existe un proveedor con este nombre de empresa",B=!0),T(j),_(W.reduce((X,Z)=>({...X,[Z]:!0}),{})),!B},ie=()=>{if(!J())return;const W={TipoProveedor:i,tipodocumento:x,documento:y,contacto:u,correo:m,direccion:h,estado:R,...i==="Natural"?{nombreproveedor:l,nombreempresa:null}:{nombreempresa:N,nombreproveedor:P}};r(W)},G=()=>{s("Natural"),c(""),f(""),v(""),E(""),b(""),w("CC"),I(""),L(""),O(!0),T({}),_({})},te=()=>{G(),e()};return o.createElement(Ta,{visible:t,onClose:te,className:"modal-wide"},o.createElement("h2",{className:"modal-title"},"Agregar Proveedor"),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"modal-form-grid-two-columns"},o.createElement("label",null,"Tipo de Proveedor*",o.createElement("select",{value:i,onChange:W=>z("tipoProveedor",W.target.value),className:"modal-input",disabled:a},o.createElement("option",{value:"Natural"},"Natural"),o.createElement("option",{value:"Jurdico"},"Jurdico"))),o.createElement("label",null,"Tipo de Documento*",o.createElement("select",{value:x,onChange:W=>z("tipoDocumento",W.target.value),className:"modal-input",disabled:a},i==="Natural"?o.createElement(o.Fragment,null,o.createElement("option",{value:"CC"},"Cdula de Ciudadana"),o.createElement("option",{value:"CE"},"Cdula de Extranjera"),o.createElement("option",{value:"TI"},"Tarjeta de Identidad")):o.createElement(o.Fragment,null,o.createElement("option",{value:"NIT"},"NIT"),o.createElement("option",{value:"RUT"},"RUT")))),o.createElement("label",null,i==="Natural"?"Nmero de Documento*":x==="RUT"?"RUT*":"NIT*",o.createElement("input",{type:"text",value:y,onChange:W=>z("documentoONit",W.target.value),onBlur:W=>V("documentoONit",W.target.value),className:`modal-input ${A.documentoONit?"error":""}`,placeholder:i==="Natural"?"Nmero de documento":x==="RUT"?"Nmero de RUT":"Nmero de NIT",maxLength:i==="Natural"||x==="RUT"?"10":"12",disabled:a}),A.documentoONit&&o.createElement("span",{className:"error-message"},A.documentoONit)),i==="Natural"?o.createElement("label",null,"Nombre Completo*",o.createElement("input",{type:"text",value:l,onChange:W=>z("nombre",W.target.value),onBlur:W=>V("nombre",W.target.value),className:`modal-input ${A.nombre?"error":""}`,placeholder:"Ingrese el nombre completo",disabled:a}),A.nombre&&o.createElement("span",{className:"error-message"},A.nombre)):o.createElement(o.Fragment,null,o.createElement("label",null,"Razn Social*",o.createElement("input",{type:"text",value:N,onChange:W=>z("nombreEmpresa",W.target.value),onBlur:W=>V("nombreEmpresa",W.target.value),className:`modal-input ${A.nombreEmpresa?"error":""}`,placeholder:"Ingrese la razn social",disabled:a}),A.nombreEmpresa&&o.createElement("span",{className:"error-message"},A.nombreEmpresa))),i==="Jurdico"&&o.createElement("label",null,"Nombre del Contacto*",o.createElement("input",{type:"text",value:P,onChange:W=>z("nombreContacto",W.target.value),onBlur:W=>V("nombreContacto",W.target.value),className:`modal-input ${A.nombreContacto?"error":""}`,placeholder:"Ingrese el nombre del contacto",disabled:a}),A.nombreContacto&&o.createElement("span",{className:"error-message"},A.nombreContacto)),o.createElement("label",null,"Telfono*",o.createElement("input",{type:"text",value:u,onChange:W=>z("contacto",W.target.value),onBlur:W=>V("contacto",W.target.value),className:`modal-input ${A.contacto?"error":""}`,placeholder:"Nmero de telfono (10 dgitos)",maxLength:"10",disabled:a}),A.contacto&&o.createElement("span",{className:"error-message"},A.contacto)),o.createElement("label",null,"Correo Electrnico*",o.createElement("input",{type:"email",value:m,onChange:W=>z("correo",W.target.value),onBlur:W=>V("correo",W.target.value),className:`modal-input ${A.correo?"error":""}`,placeholder:"ejemplo@correo.com",disabled:a}),A.correo&&o.createElement("span",{className:"error-message"},A.correo)),o.createElement("label",null,"Direccin*",o.createElement("input",{type:"text",value:h,onChange:W=>z("direccion",W.target.value),onBlur:W=>V("direccion",W.target.value),className:`modal-input ${A.direccion?"error":""}`,placeholder:"Direccin completa",disabled:a}),A.direccion&&o.createElement("span",{className:"error-message"},A.direccion)))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:te,disabled:a},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:ie,disabled:a},a?"Guardando...":"Guardar")))}const MG="/assets/mu%C3%B1equita-CMjcHU41.gif";function rc(){return o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 0.85)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,backdropFilter:"blur(6px)"}},o.createElement("div",{style:{marginBottom:"1.5rem",animation:"float 3s ease-in-out infinite"}},o.createElement("img",{src:MG,alt:"Cargando...",style:{width:"300px",height:"300px"}})),o.createElement("p",{style:{color:"#d81b60",fontSize:"22px",fontWeight:"600",marginBottom:"1.5rem",fontFamily:"Arial, sans-serif",animation:"pulse 2s ease-in-out infinite"}},"Cargando..."),o.createElement("div",{style:{width:"280px",height:"8px",backgroundColor:"rgba(240, 240, 240, 0.6)",borderRadius:"20px",overflow:"hidden",position:"relative"}},o.createElement("div",{style:{position:"absolute",top:0,left:0,height:"100%",width:"50%",background:"linear-gradient(90deg, #f48fb1, #ec407a, #ff69b4, #ec407a, #f48fb1)",backgroundSize:"200% 100%",borderRadius:"20px",animation:"loadingBar 2s ease-in-out infinite, shimmer 3s linear infinite"}})),o.createElement("style",null,`
          @keyframes loadingBar {
            0% { left: -50%; }
            50% { left: 100%; }
            100% { left: -50%; }
          }
          
          @keyframes shimmer {
            0% { background-position: 0% 0%; }
            100% { background-position: 200% 0%; }
          }
          
          @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-12px); }
          }
          
          @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
          }
        `))}const ff="https://deliciasoft-backend-i6g9.onrender.com/api/compra";class DG{constructor(){this.baseHeaders={"Content-Type":"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`;try{const n=await e.json();r=n.message||n.error||r}catch(n){console.error("Error parsing error response:",n)}throw new Error(r)}return e.json()}async cambiarEstadoCompra(e,r){try{console.log("=== INICIANDO CAMBIO DE ESTADO ==="),console.log("ID de compra:",e),console.log("Nuevo estado:",r);const a=`${ff}/${e}/${r?"activar":"anular"}`;console.log("URL del endpoint:",a);const i=await fetch(a,{method:"PUT",headers:this.baseHeaders});if(console.log("Status respuesta:",i.status),console.log("StatusText:",i.statusText),!i.ok){const u=await i.text();throw console.error("Error del servidor:",u),new Error(`Error ${i.status}: ${u}`)}const s=await i.json();console.log("Respuesta del servidor:",s);const l=s.compra||s;if(!l)throw console.error("No se recibi compra actualizada"),new Error("Respuesta invlida del servidor");console.log("Estado recibido:",l.estado),l.estado!==r?console.warn(`ADVERTENCIA: Estado esperado ${r}, recibido ${l.estado}`):console.log(`XITO: Estado cambiado a ${l.estado}`);const c=this.transformarCompraDesdeAPI(l);return console.log("Compra transformada final:",c),c}catch(n){throw console.error("ERROR EN cambiarEstadoCompra:",n),new Error(`No se pudo ${r?"reactivar":"anular"} la compra: ${n.message}`)}}async obtenerCompras(){try{console.log("Obteniendo compras desde:",ff);const e=await fetch(`${ff}`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);console.log("Datos crudos de la API:",r.length,"compras");const n=this.transformarComprasDesdeAPI(r);console.log("Compras transformadas:",n.length);const a=n.filter(s=>s.estado===!0),i=n.filter(s=>s.estado===!1);return console.log("Estados despus de transformar: Activas:",a.length,"Anuladas:",i.length),n}catch(e){throw console.error("Error en obtenerCompras:",e),e}}async obtenerCompraPorId(e){try{console.log("Obteniendo compra por ID:",e);const r=await fetch(`${ff}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Compra no encontrada");const n=await this.handleResponse(r);return console.log("Compra obtenida desde API:",n),console.log("Proveedor en respuesta:",n.proveedor||n.Proveedor),this.transformarCompraDesdeAPI(n)}catch(r){throw console.error("Error en obtenerCompraPorId:",r),r}}async crearCompra(e){try{const r=this.transformarCompraParaAPI(e);this.validarDatosCompra(r);const n=await fetch(ff,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(r)}),a=await this.handleResponse(n);return this.transformarCompraDesdeAPI(a)}catch(r){throw console.error("Error en crearCompra:",r),r}}async actualizarCompra(e,r){try{const n=this.transformarCompraParaAPI(r);this.validarDatosCompra(n);const a=await fetch(`${ff}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(n)}),i=await this.handleResponse(a);return this.transformarCompraDesdeAPI(i)}catch(n){throw console.error("Error en actualizarCompra:",n),n}}async eliminarCompra(e){try{const r=await fetch(`${ff}/${e}`,{method:"DELETE",headers:this.baseHeaders});return await this.handleResponse(r),{success:!0,message:"Compra eliminada exitosamente"}}catch(r){throw console.error("Error en eliminarCompra:",r),r}}validarDatosCompra(e){const r=[];if(e.idproveedor||r.push("El proveedor es requerido"),e.fechacompra||r.push("La fecha de compra es requerida"),(!e.subtotal||e.subtotal<=0)&&r.push("El subtotal debe ser mayor a 0"),(!e.total||e.total<=0)&&r.push("El total debe ser mayor a 0"),r.length>0)throw new Error("Datos invlidos: "+r.join(", "))}transformarCompraParaAPI(e){return{idproveedor:e.idProveedor,fecharegistro:e.fechaRegistro||Bf(),fechacompra:e.fechaCompra,subtotal:parseFloat(e.subtotal)||0,iva:parseFloat(e.iva)||0,total:parseFloat(e.total)||0,observaciones:e.observaciones||"",estado:e.estado!==void 0?e.estado:!0,detallecompra:e.detalles?e.detalles.map(r=>this.transformarDetalleCompraParaAPI(r)):[]}}transformarCompraDesdeAPI(e){var n,a;if(!e)return null;console.log("Transformando compra:",e.idcompra,"Estado original:",e.estado,typeof e.estado);const r={id:e.idcompra||e.id,idcompra:e.idcompra||e.id,idProveedor:e.idproveedor||e.idProveedor,fechaRegistro:e.fecharegistro||e.fechaRegistro,fechaCompra:e.fechacompra||e.fechaCompra,fechacompra:e.fechacompra||e.fechaCompra,subtotal:parseFloat(e.subtotal)||0,iva:parseFloat(e.iva)||0,total:parseFloat(e.total)||0,estado:!!e.estado,observaciones:e.observaciones||"",nombreProveedor:e.nombreProveedor||((n=e.proveedor)==null?void 0:n.nombreproveedor)||((a=e.proveedor)==null?void 0:a.nombreempresa),proveedor:this.transformarProveedorDesdeAPI(e.proveedor||e.Proveedor),detalles:this.transformarDetallesCompraDesdeAPI(e.detallecompra||e.detalles||e.DetalleCompras||[])};return console.log("Estado transformado final:",r.estado,typeof r.estado),console.log("Proveedor transformado:",r.proveedor),r}transformarProveedorDesdeAPI(e){return e?(console.log("Transformando proveedor:",e),{id:e.idproveedor||e.id,idproveedor:e.idproveedor||e.id,idProveedor:e.idproveedor||e.id,nombre:e.nombreproveedor||e.nombre||e.nombreempresa||e.nombreCategoria||e.nombre_proveedor,nombreproveedor:e.nombreproveedor||e.nombre,nombreempresa:e.nombreempresa,documento:e.documento||e.nit||e.documentoproveedor||e.documentoProveedor||"",nit:e.nit||e.documento||"",telefono:e.telefono||"",email:e.email||e.correo||"",direccion:e.direccion||""}):null}transformarComprasDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarCompraDesdeAPI(r)):(console.warn("Las compras no son un array:",e),[])}transformarDetalleCompraParaAPI(e){return{idinsumos:e.idinsumos??e.idinsumo??e.idInsumo??e.id,cantidad:e.cantidad,preciounitario:e.preciounitario??e.precioUnitario,subtotalproducto:e.subtotalproducto??e.subtotalProducto}}transformarDetalleCompraDesdeAPI(e){return e?{id:e.iddetallecompra||e.id,idCompra:e.idcompra||e.idCompra,idInsumo:e.idinsumos||e.idInsumo||null,cantidad:parseFloat(e.cantidad)||0,precioUnitario:parseFloat(e.preciounitario||e.precioUnitario)||0,subtotalProducto:parseFloat(e.subtotalproducto||e.subtotalProducto)||0,insumo:e.insumos||e.insumo?{id:(e.insumos||e.insumo).idinsumo||(e.insumos||e.insumo).id,nombre:(e.insumos||e.insumo).nombreinsumo||(e.insumos||e.insumo).nombre,unidad:(e.insumos||e.insumo).unidad||"N/A"}:null}:null}transformarDetallesCompraDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarDetalleCompraDesdeAPI(r)):[]}}const Tf=new DG,jG=()=>{const[t,e]=p.useState([]),r=async()=>{try{console.log("=== CARGANDO COMPRAS ===");const c=await Tf.obtenerCompras();console.log("Compras obtenidas:",c.length);const u=c.sort((f,m)=>{const v=f.id||f.idcompra||f.idCompra||0,h=m.id||m.idcompra||m.idCompra||0;if(v!==h)return h-v;const E=new Date(f.fechaCompra||f.fechacompra).getTime();return new Date(m.fechaCompra||m.fechacompra).getTime()-E});e(u)}catch(c){throw console.error("Error al cargar compras:",c),c}};function n(c){return{idinsumo:c.idinsumo,nombreinsumo:c.nombreinsumo,idcategoriainsumos:c.idcategoriainsumos,idunidadmedida:c.idunidadmedida,idimagen:c.idimagen,estado:c.estado,cantidad:c.cantidad!==null&&c.cantidad!==void 0&&c.cantidad!==""?parseFloat(c.cantidad):0,precio:c.precio}}const a=async c=>{try{const m=(await(await fetch("https://deliciasoft-backend.onrender.com/api/insumos")).json()).map(n),v={};c.forEach(h=>{v[h.idinsumo]=(v[h.idinsumo]||0)+parseFloat(h.cantidad)});for(const h of Object.keys(v)){const y=await(await fetch(`https://deliciasoft-backend.onrender.com/api/Insumos/${h}`)).json(),b=n(y),x=b.cantidad,w=Number((x+v[h]).toFixed(2)),N={idinsumo:b.idinsumo,nombreinsumo:b.nombreinsumo,idcategoriainsumos:b.idcategoriainsumos,idunidadmedida:b.idunidadmedida,idimagen:b.idimagen,estado:b.estado,cantidad:w};await fetch(`https://deliciasoft-backend.onrender.com/api/Insumos/${h}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(N)})}}catch(u){throw console.error("Error actualizando stock:",u),u}};return{compras:t,cargarCompras:r,guardarCompra:async(c,u)=>{try{if(!c.idProveedor||u.length===0)throw new Error("Debe seleccionar un proveedor y agregar al menos un insumo");const f=u.reduce((b,x)=>b+(x.cantidad||0)*(x.precioUnitario||x.precio||0),0),m=f*.19,v=f+m,h=u.map(b=>({idinsumo:b.idinsumo??b.id,cantidad:Number(b.cantidad)||0,precioUnitario:b.precioUnitario||b.precio,subtotalProducto:(Number(b.cantidad)||0)*(b.precioUnitario||b.precio||0)})),E={idProveedor:c.idProveedor,fechaCompra:c.fechaCompra,fechaRegistro:c.fechaRegistro,observaciones:c.observaciones,detalles:h,subtotal:f,iva:m,total:v},y=await Tf.crearCompra(E);return await a(h),y}catch(f){throw console.error("Error al guardar compra:",f),f}},anularCompra:async c=>{try{await Tf.cambiarEstadoCompra(c,!1)}catch(u){throw console.error("Error al anular:",u),u}},reactivarCompra:async c=>{try{if(c.detalles&&c.detalles.length>0){const f=c.detalles.map(m=>({idinsumo:m.idinsumo,cantidad:Math.abs(m.cantidad)}));await a(f)}return await Tf.cambiarEstadoCompra(c.id,!0)}catch(u){throw console.error("Error al reactivar:",u),u}}}},cg="https://deliciasoft-backend-i6g9.onrender.com/api/proveedor";class FG{constructor(){this.baseHeaders={"Content-Type":"application/json"}}async crearProveedor(e){console.log(" Enviando datos para crear proveedor:",e);const r=await fetch(cg,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(e)});if(!r.ok){const a=await r.json().catch(()=>({message:"Error desconocido"}));throw console.error(" Error en la respuesta del servidor:",a),new Error(a.message||"Error al crear proveedor")}const n=await r.json();return console.log(" Proveedor creado exitosamente:",n),this.transformarProveedorDesdeAPI(n)}async actualizarProveedor(e,r){console.log(" Enviando datos para actualizar proveedor:",{id:e,proveedorData:r});const n=await fetch(`${cg}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(r)});if(!n.ok){const i=await n.json().catch(()=>({message:"Error desconocido"}));throw console.error(" Error al actualizar proveedor:",i),new Error(i.message||"Error al actualizar proveedor")}const a=await n.json();return console.log(" Proveedor actualizado exitosamente:",a),this.transformarProveedorDesdeAPI(a)}async eliminarProveedor(e){console.log(" Eliminando proveedor con ID:",e);const r=await fetch(`${cg}/${e}`,{method:"DELETE",headers:this.baseHeaders});if(!r.ok){const n=await r.json().catch(()=>({message:"Error desconocido"}));throw console.error(" Error al eliminar proveedor:",n),new Error(n.message||"Error al eliminar proveedor")}return console.log(" Proveedor eliminado exitosamente"),!0}async cambiarEstadoProveedor(e,r){console.log(" Cambiando estado del proveedor:",{id:e,nuevoEstado:r});const n=await fetch(`${cg}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify({estado:r})});if(!n.ok){const i=await n.json().catch(()=>({message:"Error desconocido"}));console.error(" Error al cambiar estado:",i);const s=new Error(i.message||"Error al cambiar estado");throw s.response={data:i},s}const a=await n.json();return console.log(" Estado cambiado exitosamente:",a),this.transformarProveedorDesdeAPI(a)}async obtenerProveedores(){console.log(" Obteniendo lista de proveedores...");const e=await fetch(cg,{method:"GET",headers:this.baseHeaders});if(!e.ok){const n=await e.json().catch(()=>({message:"Error desconocido"}));throw console.error(" Error al obtener proveedores:",n),new Error(n.message||"Error al obtener proveedores")}const r=await e.json();return console.log(" Proveedores obtenidos:",r),this.transformarProveedoresDesdeAPI(r)}transformarProveedorDesdeAPI(e){if(!e)return null;const r=e.TipoProveedor||"Natural",n=r==="Jurdico";return{idProveedor:e.idproveedor,tipo:r,tipoDocumento:e.tipodocumento,documento:e.documento?String(e.documento):"",extra:e.documento?String(e.documento):"",nombre:n?e.nombreempresa||"":e.nombreproveedor||"",nombreProveedor:e.nombreproveedor||"",nombreEmpresa:e.nombreempresa||"",nombreContacto:n&&e.nombreproveedor||"",contacto:e.contacto?String(e.contacto):"",correo:e.correo||"",direccion:e.direccion||"",estado:!!e.estado}}transformarProveedoresDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarProveedorDesdeAPI(r)).filter(r=>r!==null):(console.warn(" Los datos recibidos no son un array:",e),[])}}const Uf=new FG,$G=()=>{const[t,e]=p.useState([]);return{proveedores:t,cargarProveedores:async()=>{try{const a=await Uf.obtenerProveedores();e(a)}catch(a){throw console.error("Error al cargar proveedores:",a),new Error("Error al cargar los proveedores: "+a.message)}},guardarProveedor:async a=>{try{return await Uf.crearProveedor(a)}catch(i){throw console.error("Error al guardar proveedor:",i),i}}}},zG=()=>{const[t,e]=p.useState({visible:!1,mensaje:"",tipo:"success"});return{notification:t,showNotification:(a,i="success")=>{e({visible:!0,mensaje:a,tipo:i})},hideNotification:()=>{e({visible:!1,mensaje:"",tipo:"success"})}}},BG={async validarAnulacionCompra(t){try{const e=await this.obtenerCompraConDetalles(t);if(console.log("Compra obtenida:",e),console.log("Detalles de compra:",e.detalles),!e||!e.detalles||e.detalles.length===0)return{puedeAnular:!0,mensaje:"La compra puede ser anulada (sin insumos)",detalles:[]};const r=[];let n=!1;for(const a of e.detalles){const i=a.idinsumos||a.idInsumo||a.idinsumo,s=parseFloat(a.cantidad)||0;console.log("Validando insumo:",i,"Cantidad:",s);const l=await this.validarInsumoParaAnulacion(i,s);r.push(l),l.puedeAnular||(n=!0)}return n?{puedeAnular:!1,mensaje:"No se puede anular la compra porque algunos insumos estn siendo usados en produccin",detalles:r}:{puedeAnular:!0,mensaje:"La compra puede ser anulada",detalles:r}}catch(e){throw console.error("Error al validar anulacin:",e),new Error("Error al validar la anulacin de la compra")}},async validarInsumoParaAnulacion(t,e){try{const n=await(await fetch(`https://deliciasoft-backend-i6g9.onrender.com/api/insumos/${t}`)).json(),a=await this.obtenerUsoEnProduccion(t),i=parseFloat(n.cantidad)||0,s=i-e,l=s>=a.totalUsado;let c="";return l||(c=`Stock insuficiente. Actual: ${i}, despus de anular: ${s}, necesario en produccin: ${a.totalUsado}`),{idInsumo:t,nombreInsumo:n.nombreinsumo||n.nombreInsumo,stockActual:i,cantidadCompra:e,stockDespuesAnulacion:s,usoEnProduccion:a.totalUsado,produccionesAfectadas:a.producciones,puedeAnular:l,razon:c}}catch(r){throw console.error(`Error al validar insumo ${t}:`,r),r}},async obtenerUsoEnProduccion(t){try{const n=(await(await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/produccion")).json()).filter(s=>s.estado===!0||s.estado==="En proceso"||s.estado==="Pendiente");let a=0;const i=[];for(const s of n){const c=(await this.obtenerDetallesProduccion(s.id||s.idproduccion)).find(u=>(u.idinsumo||u.idInsumo||u.idinsumos)===t);if(c){const u=parseFloat(c.cantidad)||0;a+=u,i.push({idProduccion:s.id||s.idproduccion,fechaProduccion:s.fechaProduccion||s.fechaproduccion,cantidad:u,estado:s.estado})}}return{totalUsado:a,producciones:i}}catch(e){return console.error("Error al obtener uso en produccin:",e),{totalUsado:0,producciones:[]}}},async obtenerDetallesProduccion(t){try{return await(await fetch(`https://deliciasoft-backend-i6g9.onrender.com/api/produccion/${t}/detalles`)).json()}catch(e){return console.error(`Error al obtener detalles de produccin ${t}:`,e),[]}},async obtenerCompraConDetalles(t){try{const r=await(await fetch(`https://deliciasoft-backend-i6g9.onrender.com/api/compra/${t}`)).json();return{...r,detalles:r.detallecompra||r.detalles||r.DetalleCompras||[]}}catch(e){throw console.error(`Error al obtener compra ${t}:`,e),e}}};function UG(){var Gt;const[t,e]=p.useState(""),[r,n]=p.useState(!1),[a,i]=p.useState(null),[s,l]=p.useState(null),[c,u]=p.useState(!1),[f,m]=p.useState([]),[v,h]=p.useState(!1),[E,y]=p.useState(!1),[b,x]=p.useState(!1),[w,N]=p.useState("Cargando..."),[I,P]=p.useState(!1),[L,R]=p.useState(null),[O,A]=p.useState([]),[T,C]=p.useState(!1),[_,D]=p.useState(null),[z,V]=p.useState(""),[J,ie]=p.useState({proveedor:"",fecha_compra:"",insumos:""}),[G,te]=p.useState({proveedor:"",idProveedor:null,fechaCompra:"",fechaRegistro:Bf(),observaciones:""}),{compras:W,cargarCompras:B,guardarCompra:j,anularCompra:U}=jG(),{proveedores:X,cargarProveedores:Z,guardarProveedor:me}=$G(),{notification:de,showNotification:oe,hideNotification:ee}=zG(),le=mt=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(mt),pe=mt=>{if(!mt)return"N/A";try{const nt=String(mt);let ht;if(nt.includes("T")){const Jt=nt.split("T")[0],[Lr,mr,wr]=Jt.split("-");ht=new Date(Number(Lr),Number(mr)-1,Number(wr))}else if(nt.includes("-")){const[Jt,Lr,mr]=nt.split("-");ht=new Date(Number(Jt),Number(Lr)-1,Number(mr))}else ht=new Date(mt);if(isNaN(ht.getTime()))return"Fecha invlida";const Kt=String(ht.getDate()).padStart(2,"0"),bt=String(ht.getMonth()+1).padStart(2,"0"),Ar=ht.getFullYear();return`${Kt}/${bt}/${Ar}`}catch(nt){return console.error("Error al formatear fecha:",nt),"Error en fecha"}};p.useEffect(()=>{(async()=>{N("Cargando insumos..."),x(!0);try{const ht=await(await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/insumos")).json(),Kt=ce(ht);A(Kt)}finally{x(!1)}})()},[]),p.useEffect(()=>{let mt=!0;return(async()=>{if(mt){N("Cargando datos..."),x(!0);try{await Promise.all([B(),Z()])}catch(ht){console.error("Error al cargar datos:",ht),mt&&oe("Error al cargar los datos","error")}finally{mt&&x(!1)}}})(),()=>{mt=!1}},[]);function ce(mt){return mt.map(nt=>({idinsumo:nt.idinsumo,nombreinsumo:nt.nombreinsumo,idcategoriainsumos:nt.idcategoriainsumos,idunidadmedida:nt.idunidadmedida,idimagen:nt.idimagen,estado:nt.estado,cantidad:nt.cantidad!==null&&nt.cantidad!==void 0&&nt.cantidad!==""?parseFloat(nt.cantidad):0,precio:nt.precio}))}const _e=async mt=>{var nt,ht,Kt;try{N("Preparando PDF..."),x(!0);const bt=await Tf.obtenerCompraPorId(mt.id);if(!bt.detalles||bt.detalles.length===0){oe("No se puede generar PDF: La compra no tiene insumos registrados","error");return}const Ar={id:bt.id,proveedor:((nt=bt.proveedor)==null?void 0:nt.nombre)||"N/A",documento_proveedor:((ht=bt.proveedor)==null?void 0:ht.documento)||((Kt=bt.proveedor)==null?void 0:Kt.nit)||"N/A",fecha_compra:bt.fechaCompra,fecha_registro:bt.fechaRegistro,observaciones:bt.observaciones||"",insumos:bt.detalles.map(Jt=>{var Lr,mr;return{nombre:((Lr=Jt.insumo)==null?void 0:Lr.nombre)||"N/A",cantidad:Jt.cantidad,precio:Jt.precioUnitario,precioUnitario:Jt.precioUnitario,unidad_medida:((mr=Jt.insumo)==null?void 0:mr.unidad)||"N/A"}})};R(Ar),P(!0)}catch(bt){console.error("Error al preparar PDF:",bt),oe("Error al preparar la visualizacin: "+bt.message,"error")}finally{x(!1)}},He=()=>{P(!1),R(null)},Re=async mt=>{await _e(mt)},be=()=>{n(!1),l(null),i(null)},gt=()=>{u(!1),te({proveedor:"",idProveedor:null,fechaCompra:"",fechaRegistro:Bf(),observaciones:""}),m([]),l(null),i(null),ie({proveedor:"",fecha_compra:"",insumos:""})},Ae=async()=>{try{if(!s||!s.id){oe("No se ha seleccionado una compra vlida","error");return}N("Validando compra..."),x(!0);const mt=await BG.validarAnulacionCompra(s.id);if(!mt.puedeAnular){x(!1),n(!1);let nt=mt.mensaje+`

`;mt.detalles.filter(ht=>!ht.puedeAnular).forEach(ht=>{nt+=`${ht.nombreInsumo}:
`,nt+=`  Stock actual: ${ht.stockActual}
`,nt+=`  Cantidad en compra: ${ht.cantidadCompra}
`,nt+=`  Quedara: ${ht.stockDespuesAnulacion}
`,nt+=`  Necesario en produccin: ${ht.usoEnProduccion}

`}),oe(nt,"error");return}N("Anulando compra..."),await U(s.id),y(!0),await B(),oe("Compra anulada correctamente","success"),n(!1)}catch(mt){console.error("Error al anular compra:",mt),oe("Error al anular la compra: "+mt.message,"error")}finally{x(!1)}},ke=async(mt,nt=null)=>{if(i(mt),mt==="ver"&&nt)try{N("Cargando detalles de compra..."),x(!0);const ht=nt.id||nt.idcompra||nt.idCompra;if(!ht){oe("Error: No se encontr un ID vlido","error");return}const Kt=await Tf.obtenerCompraPorId(ht);l(Kt);const Ar=(Kt.detalles||[]).map(Jt=>{var Lr,mr;return{id:Jt.idInsumo||Jt.id,nombre:((Lr=Jt.insumo)==null?void 0:Lr.nombre)||"N/A",cantidad:Number(Jt.cantidad)||0,precioUnitario:Number(Jt.precioUnitario)||0,precio:Number(Jt.precioUnitario)||0,unidad:((mr=Jt.insumo)==null?void 0:mr.unidad)||"N/A"}});m(Ar),u(!0)}catch(ht){console.error("Error al cargar compra:",ht),oe("Error al cargar la compra: "+ht.message,"error")}finally{x(!1)}else if(mt==="agregar")te({proveedor:"",idProveedor:null,fechaCompra:"",fechaRegistro:Bf(),observaciones:""}),l(null),m([]),ie({proveedor:"",fecha_compra:"",insumos:""}),u(!0);else if(mt==="anular"&&nt){const ht=nt.id||nt.idcompra||nt.idCompra;if(!ht){oe("Error: No se encontr un ID vlido","error");return}l({...nt,id:ht}),n(!0)}},Xe=((mt,nt)=>{if(!nt||nt.trim()==="")return mt;const ht=nt.toLowerCase().trim();return mt.filter(Kt=>{var mr;const bt=((mr=Kt.proveedor)==null?void 0:mr.nombre)&&Kt.proveedor.nombre.toLowerCase().includes(ht),Ar=Kt.fechaCompra&&Kt.fechaCompra.toLowerCase().includes(ht),Lr=(Kt.total?le(Kt.total):"").toLowerCase().includes(ht);return bt||Ar||Lr})})(W,t).filter(mt=>E?mt.estado===!1:mt.estado===!0||mt.estado===void 0),Ke=async(mt,nt)=>{try{N("Guardando compra..."),x(!0),await j(mt,nt),oe("Compra guardada correctamente y stock actualizado"),gt(),await B()}catch(ht){console.error("Error al guardar la compra:",ht),oe("Error al guardar la compra: "+ht.message,"error")}finally{x(!1)}},Et=async mt=>{try{N("Guardando proveedor..."),x(!0);const nt=await me(mt);await Z(),te(ht=>({...ht,idProveedor:nt.idProveedor||nt.id,proveedor:nt.nombre||nt.nombreProveedor})),ie(ht=>({...ht,proveedor:""})),oe("Proveedor agregado exitosamente"),C(!1),D(null)}catch(nt){console.error("Error al guardar proveedor:",nt),oe(nt.message||"Error al guardar el proveedor","error")}finally{x(!1)}},ut=()=>{D("agregar"),C(!0)},zt=()=>{C(!1),D(null)};return o.createElement("div",{className:"admin-wrapper"},o.createElement(Fo,{visible:de.visible,mensaje:de.mensaje,tipo:de.tipo,onClose:ee}),o.createElement(OG,{visible:I,onClose:He,compraData:L,onDownload:()=>{},modalSize:"large"}),b&&o.createElement(rc,{mensaje:w,fullScreen:!0}),c?o.createElement(TG,{compraData:a==="ver"?s:G,setCompraData:te,insumosSeleccionados:f,setInsumosSeleccionados:m,proveedores:X,errores:J,setErrores:ie,modalTipo:a,cargando:b,onGuardar:Ke,onCancelar:gt,onAbrirModalProveedor:ut,buscarProveedor:z,setBuscarProveedor:V,mostrarModalInsumos:v,setMostrarModalInsumos:h}):o.createElement(o.Fragment,null,o.createElement("div",{className:"admin-toolbar"},o.createElement(tc,{placeholder:"Buscar Compras",value:t,onChange:e}),o.createElement("button",{className:"admin-button pink",onClick:()=>ke("agregar"),type:"button",disabled:b},o.createElement("i",{className:"fas fa-plus"})," Agregar")),o.createElement("div",{className:"ventas-header-container"},o.createElement("h2",{className:"admin-section-title"},"Gestin de Compras"),o.createElement("div",{className:"filter-buttons-container"},o.createElement("button",{className:`filter-tab ${E?"":"filter-tab-active"}`,onClick:()=>y(!1),type:"button"},"Activas"),o.createElement("button",{className:`filter-tab ${E?"filter-tab-active":""}`,onClick:()=>y(!0),type:"button"},"Anuladas"))),o.createElement(_s,{value:Xe,className:"admin-table compact-paginator",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],rowClassName:mt=>mt.estado?"":"fila-anulada",tableStyle:{minWidth:"50rem"}},o.createElement(cr,{header:"N",body:(mt,{rowIndex:nt})=>nt+1,style:{width:"50px"}}),o.createElement(cr,{field:"proveedor",header:"Proveedor",body:mt=>{var nt;return((nt=mt.proveedor)==null?void 0:nt.nombre)||"N/A"}}),o.createElement(cr,{field:"fechaCompra",header:"Fecha Compra",body:mt=>pe(mt.fechaCompra||mt.fechacompra)}),o.createElement(cr,{field:"total",header:"Total",body:mt=>le(mt.total)}),o.createElement(cr,{header:"Acciones",body:mt=>o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"3px"}},o.createElement(qn,{text:"Visualizar"},o.createElement("button",{className:"admin-button",onClick:()=>ke("ver",mt),disabled:b,style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-eye",style:{fontSize:"11px"}}))),!E&&(mt.estado?o.createElement(qn,{text:"Anular"},o.createElement("button",{className:"admin-button",onClick:()=>ke("anular",mt),disabled:b,style:{background:"#ffebee",color:"#d32f2f",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-ban",style:{fontSize:"11px"}}))):null),!E&&o.createElement(qn,{text:"Generar PDF"},o.createElement("button",{className:"admin-button",onClick:()=>Re(mt),disabled:b,style:{background:"#fff8e1",color:"#f57c00",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-file-pdf",style:{fontSize:"11px"}})))),style:{width:"100px"}})),a==="anular"&&s&&o.createElement(Ta,{visible:r,onClose:be},o.createElement("h2",{className:"modal-title"},"Confirmar Anulacin"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"Seguro que deseas anular la compra del proveedor ",o.createElement("strong",null,(Gt=s.proveedor)==null?void 0:Gt.nombre),"?")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:be,disabled:b},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:Ae,disabled:b},"Anular")))),T&&_==="agregar"&&o.createElement(RG,{visible:T,onClose:zt,onGuardar:Et,proveedores:X,loading:b}))}function Hg(){return Hg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hg.apply(null,arguments)}function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function qG(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VG(t){var e=qG(t,"string");return vh(e)=="symbol"?e:e+""}function HG(t,e,r){return(e=VG(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var WG={root:function(e){var r=e.props,n=e.checked;return sr("p-inputswitch p-component",{"p-highlight":n,"p-disabled":r.disabled,"p-invalid":r.invalid})},input:"p-inputswitch-input",slider:"p-inputswitch-slider"},ib=An.extend({defaultProps:{__TYPE:"InputSwitch",autoFocus:!1,checked:!1,className:null,disabled:!1,falseValue:!1,id:null,inputId:null,inputRef:null,invalid:!1,name:null,onBlur:null,onChange:null,onFocus:null,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,children:void 0},css:{classes:WG}});function Yk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yk(Object(r),!0).forEach(function(n){HG(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Xo=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=ib.getProps(t,n),i=ib.setMetaData({props:a}),s=i.ptm,l=i.cx,c=i.isUnstyled;Ll(ib.css.styles,c,{name:"inputswitch"});var u=p.useRef(null),f=p.useRef(a.inputRef),m=a.checked===a.trueValue,v=function(L){if(a.onChange){var R=m?a.falseValue:a.trueValue;a.onChange({originalEvent:L,value:R,stopPropagation:function(){L==null||L.stopPropagation()},preventDefault:function(){L==null||L.preventDefault()},target:{name:a.name,id:a.id,value:R}})}},h=function(L){var R;a==null||(R=a.onFocus)===null||R===void 0||R.call(a,L)},E=function(L){var R;a==null||(R=a.onBlur)===null||R===void 0||R.call(a,L)};p.useImperativeHandle(e,function(){return{props:a,focus:function(){return ze.focus(f.current)},getElement:function(){return u.current},getInput:function(){return f.current}}}),p.useEffect(function(){Te.combinedRefs(f,a.inputRef)},[f,a.inputRef]),gs(function(){a.autoFocus&&ze.focus(f.current,a.autoFocus)});var y=Te.isNotEmpty(a.tooltip),b=ib.getOtherProps(a),x=Te.reduceKeys(b,ze.ARIA_PROPS),w=r({className:sr(a.className,l("root",{checked:m})),style:a.style,role:"checkbox","aria-checked":m,"data-p-highlight":m,"data-p-disabled":a.disabled},b,s("root")),N=r(GG({type:"checkbox",id:a.inputId,name:a.name,checked:m,onChange:v,onFocus:h,onBlur:E,disabled:a.disabled,role:"switch",tabIndex:a.tabIndex,"aria-checked":m,className:l("input")},x),s("input")),I=r({className:l("slider")},s("slider"));return p.createElement(p.Fragment,null,p.createElement("div",Hg({id:a.id,ref:u},w),p.createElement("input",Hg({ref:f},N)),p.createElement("span",I)),y&&p.createElement(Bc,Hg({target:u,content:a.tooltip,pt:s("tooltip")},a.tooltipOptions)))}));Xo.displayName="InputSwitch";const KG=({categorias:t,loadingStates:e,onToggleActivo:r,onAbrirModal:n})=>{const a=s=>o.createElement(Xo,{checked:s.activo,onChange:()=>r(s),disabled:e[s.id]}),i=s=>{const l=s.activo,c=e[s.id];return o.createElement("div",{style:{display:"flex",gap:"5px",justifyContent:"center"}},o.createElement(qn,{text:"Visualizar"},o.createElement("button",{className:"admin-button gray",onClick:()=>n("visualizar",s),disabled:c},"")),o.createElement(qn,{text:l?"Editar":"Editar (Deshabilitado)"},o.createElement("button",{className:"admin-button yellow",onClick:()=>l&&n("editar",s),disabled:!l||c,style:{opacity:l&&!c?1:.5,cursor:l&&!c?"pointer":"not-allowed"}},"")),o.createElement(qn,{text:l?"Eliminar":"Eliminar (Deshabilitado)"},o.createElement("button",{className:"admin-button red",onClick:()=>l&&n("eliminar",s),disabled:!l||c,style:{opacity:l&&!c?1:.5,cursor:l&&!c?"pointer":"not-allowed"}},"")))};return o.createElement(_s,{value:t,className:"admin-table compact-paginator",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"}},o.createElement(cr,{header:"N",body:(s,{rowIndex:l})=>l+1}),o.createElement(cr,{field:"nombre",header:"Nombre"}),o.createElement(cr,{field:"descripcion",header:"Descripcin"}),o.createElement(cr,{header:"Estados",body:a}),o.createElement(cr,{header:"Accin",body:i}))},YG=({value:t,onChange:e,sugerencias:r=[],placeholder:n="",error:a=!1,disabled:i=!1})=>o.createElement(o.Fragment,null,o.createElement("input",{type:"text",value:t,onChange:s=>e(s.target.value),className:`modal-input searchable-input-custom ${a?"error":""}`,placeholder:n,disabled:i,autoComplete:"off"})),JG=({nombre:t,descripcion:e,estado:r,errores:n,onNombreChange:a,onDescripcionChange:i,onEstadoChange:s,sugerencias:l,disabled:c,modo:u="agregar"})=>{const f=u==="visualizar";return o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"}},o.createElement("label",null,"Nombre*",f?o.createElement("input",{value:t,className:"modal-input",readOnly:!0,style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}}):o.createElement(o.Fragment,null,o.createElement(YG,{value:t,onChange:a,sugerencias:l,placeholder:"Seleccione o escriba una categora",error:!!n.nombre,disabled:c}),n.nombre&&o.createElement("p",{className:"error"},n.nombre))),o.createElement("label",null,"Descripcin*",o.createElement("textarea",{value:e,onChange:m=>i(m.target.value),className:"modal-input textarea",rows:3,style:{resize:"vertical",...f&&{backgroundColor:"#f5f5f5",cursor:"not-allowed"}},readOnly:f,disabled:c&&!f}),!f&&n.descripcion&&o.createElement("p",{className:"error"},n.descripcion)),u==="editar"&&o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"}},o.createElement("label",{style:{margin:0}},"Estado:"),o.createElement(Xo,{checked:r,onChange:m=>s(m.value),disabled:c}),o.createElement("span",{style:{fontSize:"0.9rem",color:"#666"}},r?"Activo":"Inactivo")),u==="visualizar"&&o.createElement("label",null,"Estado",o.createElement("input",{value:r?"Activo":"Inactivo",className:"modal-input",readOnly:!0,style:{backgroundColor:"#f5f5f5",cursor:"not-allowed"}})))},XG=({visible:t,tipo:e,categoria:r,formData:n,sugerencias:a,onClose:i,onSave:s,loading:l})=>{if(!t)return null;if(e==="eliminar"&&r)return o.createElement(Ta,{visible:t,onClose:i},o.createElement("h2",{className:"modal-title"},"Confirmar Eliminacin"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"Seguro que quieres eliminar la categora ",o.createElement("strong",null,r.nombre),"?")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:i,disabled:l},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:s,disabled:l},l?"Eliminando...":"Eliminar")));const c=()=>{switch(e){case"agregar":return"Agregar Categoria de Insumo";case"editar":return"Editar Categora";case"visualizar":return"Detalles Categora";default:return"Categora"}},u=()=>e;return o.createElement(Ta,{visible:t,onClose:i},o.createElement("h2",{className:"modal-title"},c()),o.createElement("div",{className:"modal-body"},o.createElement(JG,{nombre:n.nombre,descripcion:n.descripcion,estado:n.estado,errores:n.errores,onNombreChange:n.setNombre,onDescripcionChange:n.setDescripcion,onEstadoChange:n.setEstado,sugerencias:a,disabled:l,modo:u()})),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:i,disabled:l},e==="visualizar"?"Cerrar":"Cancelar"),e!=="visualizar"&&o.createElement("button",{className:"modal-btn save-btn",onClick:s,disabled:l||!n.isValid()},l?"Guardando...":"Guardar")))},Im="https://deliciasoft-backend-i6g9.onrender.com/api/categoria-insumos";class ZG{constructor(){this.baseHeaders={"Content-Type":"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`;try{const n=await e.json();r=n.message||n.error||r}catch{}throw new Error(r)}return e.json()}async obtenerCategorias(){const e=await fetch(`${Im}`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return this.transformarCategoriasDesdeAPI(r)}async obtenerCategoriaPorId(e){const r=await fetch(`${Im}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Categora no encontrada");const n=await this.handleResponse(r);return this.transformarCategoriaDesdeAPI(n)}async crearCategoria(e){const r=this.transformarCategoriaParaAPI(e);this.validarDatosCategoria(r);const n=await fetch(Im,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(r)}),a=await this.handleResponse(n);return this.transformarCategoriaDesdeAPI(a)}async actualizarCategoria(e,r){const n=this.transformarCategoriaParaAPI(r);this.validarDatosCategoria(n);const a=await fetch(`${Im}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(n)}),i=await this.handleResponse(a);return this.transformarCategoriaDesdeAPI(i)}async eliminarCategoria(e){const r=await fetch(`${Im}/${e}`,{method:"DELETE",headers:this.baseHeaders});return await this.handleResponse(r),{success:!0,message:"Categora eliminada exitosamente"}}async cambiarEstadoCategoria(e,r){const n=await this.obtenerCategoriaPorId(e),a={...this.transformarCategoriaParaAPI(n),estado:r},i=await fetch(`${Im}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(a)}),s=await this.handleResponse(i);return this.transformarCategoriaDesdeAPI(s)}validarDatosCategoria(e){const r=[];if(e.nombrecategoria||r.push("El nombre de la categora es requerido"),e.descripcion||r.push("La descripcin es requerida"),r.length>0)throw new Error("Datos invlidos: "+r.join(", "))}transformarCategoriaParaAPI(e){return{nombrecategoria:e.nombreCategoria,descripcion:e.descripcion,estado:e.estado!==void 0?!!e.estado:!0}}transformarCategoriaDesdeAPI(e){return e?{id:e.idcategoriainsumos,nombreCategoria:e.nombrecategoria,descripcion:e.descripcion,estado:e.estado}:null}transformarCategoriasDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarCategoriaDesdeAPI(r)):[]}}const Of=new ZG,Wg={NOMBRE:{MIN_LENGTH:3,MAX_LENGTH:50,REGEX:/^[A-Za-z\s]+$/},DESCRIPCION:{MIN_LENGTH:10,MAX_LENGTH:200}},Rf={NOMBRE:{REQUIRED:"El nombre es obligatorio",MIN_LENGTH:"El nombre debe tener al menos 3 caracteres",MAX_LENGTH:"El nombre no puede superar los 50 caracteres",INVALID_FORMAT:"El nombre solo puede contener letras y espacios"},DESCRIPCION:{REQUIRED:"La descripcin es obligatoria",MIN_LENGTH:"La descripcin debe tener al menos 10 caracteres",MAX_LENGTH:"La descripcin no puede superar los 200 caracteres"}},ug={CREAR:"Categora agregada exitosamente",EDITAR:"Categora editada exitosamente",ELIMINAR:"Categora eliminada exitosamente",ACTIVAR:"Categora activada exitosamente",DESACTIVAR:"Categora desactivada exitosamente"},sb={CARGAR:"Cargando categoras...",GUARDAR:"Guardando cambios...",ELIMINAR:"Eliminando categora...",AGREGAR:"Agregando categora..."},QG=[{id:201,nombre:"Frutas",descripcion:"Productos naturales",activo:!0},{id:202,nombre:"Chocolate",descripcion:"Derivados del cacao",activo:!0},{id:203,nombre:"Lcteos",descripcion:"Productos de leche",activo:!0},{id:204,nombre:"Harinas",descripcion:"Cereales y derivados",activo:!1},{id:205,nombre:"Protenas",descripcion:"Carnes y vegetales",activo:!0}],eK=t=>t.trim()?t.trim().length<Wg.NOMBRE.MIN_LENGTH?Rf.NOMBRE.MIN_LENGTH:t.trim().length>Wg.NOMBRE.MAX_LENGTH?Rf.NOMBRE.MAX_LENGTH:Wg.NOMBRE.REGEX.test(t.trim())?"":Rf.NOMBRE.INVALID_FORMAT:Rf.NOMBRE.REQUIRED,tK=t=>t.trim()?t.trim().length<Wg.DESCRIPCION.MIN_LENGTH?Rf.DESCRIPCION.MIN_LENGTH:t.trim().length>Wg.DESCRIPCION.MAX_LENGTH?Rf.DESCRIPCION.MAX_LENGTH:"":Rf.DESCRIPCION.REQUIRED,Gg=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),rK=()=>{const[t,e]=p.useState([]),[r,n]=p.useState(!1),[a,i]=p.useState({}),[s,l]=p.useState("Cargando..."),[c,u]=p.useState({visible:!1,mensaje:"",tipo:"success"});p.useEffect(()=>{v()},[]);const f=(w,N="success")=>{u({visible:!0,mensaje:w,tipo:N})},m=()=>{u({visible:!1,mensaje:"",tipo:"success"})},v=async()=>{try{l(sb.CARGAR),n(!0);const N=(await Of.obtenerCategorias()).map(I=>({id:I.id,nombre:I.nombreCategoria,descripcion:I.descripcion,activo:I.estado}));e(N)}catch(w){console.error("Error al cargar categoras:",w),f("Error al cargar las categoras: "+w.message,"error"),e(QG)}finally{n(!1)}},h=(w,N=null)=>{const I=Gg(w.trim());return t.some(P=>N&&P.id===N?!1:Gg(P.nombre)===I)};return{categorias:t,loading:r,loadingStates:a,mensajeCarga:s,notification:c,showNotification:f,hideNotification:m,toggleActivo:async w=>{try{i(P=>({...P,[w.id]:!0}));const N=!w.activo;await Of.cambiarEstadoCategoria(w.id,N);const I=t.map(P=>P.id===w.id?{...P,activo:N}:P);e(I),f(w.activo?ug.DESACTIVAR:ug.ACTIVAR)}catch(N){console.error("Error al cambiar estado:",N),f("Error al cambiar el estado: "+N.message,"error")}finally{i(N=>({...N,[w.id]:!1}))}},crearCategoria:async w=>{try{if(h(w.nombreCategoria))return f("Ya existe una categora con ese nombre","error"),!1;l(sb.AGREGAR),n(!0);const N=await Of.crearCategoria(w),I={id:N.id,nombre:N.nombreCategoria,descripcion:N.descripcion,activo:N.estado};return e([I,...t]),f(ug.CREAR),!0}catch(N){return console.error("Error al agregar categora:",N),f("Error al agregar la categora: "+N.message,"error"),!1}finally{n(!1)}},actualizarCategoria:async(w,N)=>{try{if(h(N.nombreCategoria,w))return f("Ya existe otra categora con ese nombre","error"),!1;l(sb.GUARDAR),n(!0);const I=await Of.actualizarCategoria(w,N),P=t.map(L=>L.id===w?{id:I.id,nombre:I.nombreCategoria,descripcion:I.descripcion,activo:I.estado}:L);return e(P),f(ug.EDITAR),!0}catch(I){return console.error("Error al editar categora:",I),f("Error al editar la categora: "+I.message,"error"),!1}finally{n(!1)}},eliminarCategoria:async w=>{try{l(sb.ELIMINAR),n(!0),await Of.eliminarCategoria(w);const N=t.filter(I=>I.id!==w);return e(N),f(ug.ELIMINAR),!0}catch(N){return console.error("Error al eliminar categora:",N),f("Error al eliminar la categora: "+N.message,"error"),!1}finally{n(!1)}},existeCategoria:h}},nK=(t={})=>{const[e,r]=p.useState(t.nombre||""),[n,a]=p.useState(t.descripcion||""),[i,s]=p.useState(t.estado!==void 0?t.estado:!0),[l,c]=p.useState({nombre:"",descripcion:""});return p.useEffect(()=>{const v={nombre:eK(e),descripcion:tK(n)};c(v)},[e,n]),{nombre:e,setNombre:r,descripcion:n,setDescripcion:a,estado:i,setEstado:s,errores:l,resetForm:()=>{r(""),a(""),s(!0),c({nombre:"",descripcion:""})},setFormValues:v=>{r(v.nombre||""),a(v.descripcion||""),s(v.estado!==void 0?v.estado:!0)},isValid:()=>!l.nombre&&!l.descripcion&&e.trim()&&n.trim()}};function aK(){const[t,e]=p.useState(""),[r,n]=p.useState(!1),[a,i]=p.useState(null),[s,l]=p.useState(null),{categorias:c,loading:u,loadingStates:f,mensajeCarga:m,notification:v,hideNotification:h,showNotification:E,toggleActivo:y,crearCategoria:b,actualizarCategoria:x,eliminarCategoria:w}=rK(),N=nK(),I=c.filter(T=>{const C=Gg(t);return Gg(T.nombre).includes(C)||Gg(T.descripcion).includes(C)||(T.activo?"activo":"inactivo").includes(C)}),P=c.filter(T=>T.activo).map(T=>T.nombre),L=(T,C=null)=>{i(T),l(C),T==="editar"&&C?N.setFormValues({nombre:C.nombre,descripcion:C.descripcion,estado:C.activo}):T==="agregar"?N.resetForm():T==="visualizar"&&C&&N.setFormValues({nombre:C.nombre,descripcion:C.descripcion,estado:C.activo}),n(!0)},R=()=>{n(!1),l(null),i(null),N.resetForm()},O=async()=>{if(!N.isValid()){N.errores.nombre&&E(N.errores.nombre,"error"),N.errores.descripcion&&E(N.errores.descripcion,"error");return}const T={nombreCategoria:N.nombre.trim(),descripcion:N.descripcion.trim(),estado:a==="agregar"?!0:N.estado};let C;a==="agregar"?C=await b(T):a==="editar"&&(C=await x(s.id,T)),C&&R()},A=async()=>{await w(s.id)&&R()};return o.createElement("div",{className:"admin-wrapper"},u&&o.createElement(rc,{mensaje:m,fullScreen:!0}),o.createElement(Fo,{visible:v.visible,mensaje:v.mensaje,tipo:v.tipo,onClose:h}),o.createElement("div",{className:"admin-toolbar"},o.createElement(tc,{placeholder:"Buscar categora...",value:t,onChange:e}),o.createElement("button",{className:"admin-button pink",onClick:()=>L("agregar"),type:"button"},o.createElement("i",{className:"fas fa-plus"})," Agregar")),o.createElement("h2",{className:"admin-section-title"},"Gestin de Categora Insumos"),o.createElement(KG,{categorias:I,loadingStates:f,onToggleActivo:y,onAbrirModal:L}),o.createElement(XG,{visible:r,tipo:a,categoria:s,formData:N,sugerencias:P,onClose:R,onSave:a==="eliminar"?A:O,loading:u}))}function oK({visible:t=!1,titulo:e="Mensaje",mensaje:r="",cerrar:n,onConfirmar:a}){return o.createElement(Ta,{visible:t,onClose:n},o.createElement("h2",{className:"modal-title"},e),o.createElement("div",{className:"modal-body"},o.createElement("p",null,r)),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:n},"Cerrar"),a&&o.createElement("button",{className:"modal-btn save-btn",onClick:()=>{a(),n()}},"Confirmar")))}function TS(){return TS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TS.apply(null,arguments)}var _9=p.memo(p.forwardRef(function(t,e){var r=Ma.getPTI(t);return p.createElement("svg",TS({ref:e,width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r),p.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z",fill:"currentColor"}))}));_9.displayName="TimesCircleIcon";function ki(){return ki=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ki.apply(null,arguments)}function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function iK(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sK(t){var e=iK(t,"string");return bh(e)=="symbol"?e:e+""}function jp(t,e,r){return(e=sK(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RS(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function lK(t){if(Array.isArray(t))return RS(t)}function cK(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L9(t,e){if(t){if(typeof t=="string")return RS(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?RS(t,e):void 0}}function uK(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dK(t){return lK(t)||cK(t)||L9(t)||uK()}function fK(t){throw new TypeError('"'+t+'" is read-only')}function mK(t){if(Array.isArray(t))return t}function pK(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function gK(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ru(t,e){return mK(t)||pK(t,e)||L9(t,e)||gK()}var hK={root:function(e){var r,n=e.props,a=e.context,i=e.focusedState,s=e.overlayVisibleState;return sr("p-multiselect p-component p-inputwrapper",{"p-multiselect-chip":n.display==="chip"&&(n.maxSelectedLabels==null?!0:((r=n.value)===null||r===void 0?void 0:r.length)<=n.maxSelectedLabels),"p-disabled":n.disabled,"p-invalid":n.invalid,"p-variant-filled":n.variant?n.variant==="filled":a&&a.inputStyle==="filled","p-multiselect-clearable":n.showClear&&!n.disabled,"p-focus":i,"p-inputwrapper-filled":Te.isNotEmpty(n.value),"p-inputwrapper-focus":i||s})},label:function(e){var r,n=e.props,a=e.empty;return sr("p-multiselect-label",{"p-placeholder":a&&n.placeholder,"p-multiselect-label-empty":a&&!n.placeholder&&!n.selectedItemTemplate,"p-multiselect-items-label":!a&&n.display!=="chip"&&((r=n.value)===null||r===void 0?void 0:r.length)>n.maxSelectedLabels})},panel:function(e){var r=e.panelProps,n=e.context,a=e.allowOptionSelect;return sr("p-multiselect-panel p-component",{"p-multiselect-inline":r.inline,"p-multiselect-flex":r.flex,"p-multiselect-limited":!a,"p-input-filled":n&&n.inputStyle==="filled"||$n.inputStyle==="filled","p-ripple-disabled":n&&n.ripple===!1||$n.ripple===!1})},list:function(e){var r=e.virtualScrollerOptions;return"p-multiselect-items p-component"},labelContainer:"p-multiselect-label-container",triggerIcon:"p-multiselect-trigger-icon p-c",trigger:"p-multiselect-trigger",clearIcon:"p-multiselect-clear-icon",tokenLabel:"p-multiselect-token-label",token:"p-multiselect-token",removeTokenIcon:"p-multiselect-token-icon",wrapper:"p-multiselect-items-wrapper",emptyMessage:"p-multiselect-empty-message",itemGroup:"p-multiselect-item-group",closeButton:"p-multiselect-close p-link",header:"p-multiselect-header",closeIcon:"p-multiselect-close-icon",headerCheckboxContainer:"p-multiselect-select-all",headerCheckboxIcon:"p-multiselect-select-all p-checkbox-icon p-c",headerSelectAllLabel:"p-multiselect-select-all-label",filterContainer:"p-multiselect-filter-container",filterIcon:"p-multiselect-filter-icon",item:function(e){var r=e.itemProps;return sr("p-multiselect-item",{"p-highlight":r.selected,"p-disabled":r.disabled,"p-focus":r.focusedOptionIndex===r.index})},checkboxContainer:"p-multiselect-checkbox",checkboxIcon:"p-checkbox-icon p-c",transition:"p-connected-overlay"},vK=`
@layer primereact {
    .p-multiselect {
        display: inline-flex;
        user-select: none;
        cursor: pointer;
    }
    
    .p-multiselect-trigger {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        cursor: pointer;
    }
    
    .p-multiselect-label-container {
        overflow: hidden;
        flex: 1 1 auto;
        cursor: pointer;
    }
    
    .p-multiselect-label  {
        display: block;
        white-space: nowrap;
        cursor: pointer;
        overflow: hidden;
        text-overflow: ellipsis;
    }
    
    .p-multiselect-label-empty {
        overflow: hidden;
        visibility: hidden;
    }
    
    .p-multiselect-token {
        cursor: default;
        display: inline-flex;
        align-items: center;
        flex: 0 0 auto;
    }
    
    .p-multiselect-token-icon {
        cursor: pointer;
    }
    
    .p-multiselect .p-multiselect-panel {
        min-width: 100%;
    }
    
    .p-multiselect-inline.p-multiselect-panel {
        border: none;
        position: initial;
        background: none;
        box-shadow: none;
    }
    
    .p-multiselect-inline.p-multiselect-panel .p-multiselect-items {
        padding: 0;
    }
    
    .p-multiselect-flex.p-multiselect-panel .p-multiselect-items {
        display: flex;
        flex-wrap: wrap;
    }
    
    .p-multiselect-items-wrapper {
        overflow: auto;
    }
    
    .p-multiselect-items {
        margin: 0;
        padding: 0;
        list-style-type: none;
    }
    
    .p-multiselect-item {
        cursor: pointer;
        display: flex;
        align-items: center;
        font-weight: normal;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        outline: none;
    }
    
    .p-multiselect-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
    }
    
    .p-multiselect-select-all-label {
        margin-left: 0.5rem;
    }
    
    .p-multiselect-filter-container {
        position: relative;
        flex: 1 1 auto;
    }
    
    .p-multiselect-filter-icon {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
    }
    
    .p-multiselect-filter-container .p-inputtext {
        width: 100%;
    }
    
    .p-multiselect-close {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        overflow: hidden;
        position: relative;
        margin-left: auto;
    }
    
    .p-multiselect-clear-icon {
        position: absolute;
        top: 50%;
        margin-top: -.5rem;
        right: 3rem;
    }
    
    .p-fluid .p-multiselect {
        display: flex;
    }
}
`,bK={root:function(e){var r=e.props;return r.showClear&&!r.disabled&&{position:"relative"}},itemGroup:function(e){var r=e.scrollerOptions;return{height:r.props?r.props.itemSize:void 0}}},dg=An.extend({defaultProps:{__TYPE:"MultiSelect",appendTo:null,ariaLabelledBy:null,checkboxIcon:null,className:null,clearIcon:null,closeIcon:null,dataKey:null,disabled:!1,display:"comma",dropdownIcon:null,emptyFilterMessage:null,emptyMessage:null,filter:!1,filterBy:null,filterDelay:300,filterInputAutoFocus:!0,filterLocale:void 0,selectOnFocus:!1,focusOnHover:!0,autoOptionFocus:!1,filterMatchMode:"contains",filterPlaceholder:null,filterTemplate:null,fixedPlaceholder:!1,flex:!1,id:null,inline:!1,inputId:null,inputRef:null,invalid:!1,variant:null,itemCheckboxIcon:null,itemClassName:null,itemTemplate:null,loading:!1,loadingIcon:null,maxSelectedLabels:null,name:null,onBlur:null,onChange:null,onClick:null,onFilter:null,onFocus:null,onHide:null,onRemove:null,onSelectAll:null,onShow:null,optionDisabled:null,optionGroupChildren:null,optionGroupLabel:null,optionGroupTemplate:null,optionLabel:null,optionValue:null,options:null,overlayVisible:!1,panelClassName:null,panelFooterTemplate:null,panelHeaderTemplate:null,panelStyle:null,placeholder:null,removeIcon:null,resetFilterOnHide:!1,scrollHeight:"200px",selectAll:!1,selectAllLabel:null,selectedItemTemplate:null,selectedItemsLabel:void 0,selectionLimit:null,showClear:!1,showSelectAll:!0,style:null,tabIndex:0,tooltip:null,tooltipOptions:null,transitionOptions:null,useOptionAsValue:!1,value:null,virtualScrollerOptions:null,children:void 0},css:{classes:hK,styles:vK,inlineStyles:bK}}),yK={box:"p-checkbox-box",input:"p-checkbox-input",icon:"p-checkbox-icon",root:function(e){var r=e.props,n=e.checked,a=e.context;return sr("p-checkbox p-component",{"p-highlight":n,"p-disabled":r.disabled,"p-invalid":r.invalid,"p-variant-filled":r.variant?r.variant==="filled":a&&a.inputStyle==="filled"})}},lb=An.extend({defaultProps:{__TYPE:"Checkbox",autoFocus:!1,checked:!1,className:null,disabled:!1,falseValue:!1,icon:null,id:null,inputId:null,inputRef:null,invalid:!1,variant:null,name:null,onChange:null,onContextMenu:null,onMouseDown:null,readOnly:!1,required:!1,style:null,tabIndex:null,tooltip:null,tooltipOptions:null,trueValue:!0,value:null,children:void 0},css:{classes:yK}});function Jk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xk(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jk(Object(r),!0).forEach(function(n){jp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var x3=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=lb.getProps(t,n),i=p.useState(!1),s=Ru(i,2),l=s[0],c=s[1],u=lb.setMetaData({props:a,state:{focused:l},context:{checked:a.checked===a.trueValue,disabled:a.disabled}}),f=u.ptm,m=u.cx,v=u.isUnstyled;Ll(lb.css.styles,v,{name:"checkbox"});var h=p.useRef(null),E=p.useRef(a.inputRef),y=function(){return a.checked===a.trueValue},b=function(T){if(!(a.disabled||a.readOnly)&&a.onChange){var C,_=y(),D=_?a.falseValue:a.trueValue,z={originalEvent:T,value:a.value,checked:D,stopPropagation:function(){T==null||T.stopPropagation()},preventDefault:function(){T==null||T.preventDefault()},target:{type:"checkbox",name:a.name,id:a.id,value:a.value,checked:D}};if(a==null||(C=a.onChange)===null||C===void 0||C.call(a,z),T.defaultPrevented)return;ze.focus(E.current)}},x=function(T){var C;c(!0),a==null||(C=a.onFocus)===null||C===void 0||C.call(a,T)},w=function(T){var C;c(!1),a==null||(C=a.onBlur)===null||C===void 0||C.call(a,T)};p.useImperativeHandle(e,function(){return{props:a,focus:function(){return ze.focus(E.current)},getElement:function(){return h.current},getInput:function(){return E.current}}}),p.useEffect(function(){Te.combinedRefs(E,a.inputRef)},[E,a.inputRef]),ba(function(){E.current.checked=y()},[a.checked,a.trueValue]),gs(function(){a.autoFocus&&ze.focus(E.current,a.autoFocus)});var N=y(),I=Te.isNotEmpty(a.tooltip),P=lb.getOtherProps(a),L=r({id:a.id,className:sr(a.className,m("root",{checked:N,context:n})),style:a.style,"data-p-highlight":N,"data-p-disabled":a.disabled,onContextMenu:a.onContextMenu,onMouseDown:a.onMouseDown},P,f("root")),R=function(){var T=Te.reduceKeys(P,ze.ARIA_PROPS),C=r(Xk({id:a.inputId,type:"checkbox",className:m("input"),name:a.name,tabIndex:a.tabIndex,onFocus:function(D){return x(D)},onBlur:function(D){return w(D)},onChange:function(D){return b(D)},disabled:a.disabled,readOnly:a.readOnly,required:a.required,"aria-invalid":a.invalid,checked:N},T),f("input"));return p.createElement("input",ki({ref:E},C))},O=function(){var T=r({className:m("icon")},f("icon")),C=r({className:m("box",{checked:N}),"data-p-highlight":N,"data-p-disabled":a.disabled},f("box")),_=N?a.icon||p.createElement(Zu,T):null,D=Yn.getJSXIcon(_,Xk({},T),{props:a,checked:N});return p.createElement("div",C,D)};return p.createElement(p.Fragment,null,p.createElement("div",ki({ref:h},L),R(),O()),I&&p.createElement(Bc,ki({target:h,content:a.tooltip,pt:f("tooltip")},a.tooltipOptions)))}));x3.displayName="Checkbox";function Zk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zk(Object(r),!0).forEach(function(n){jp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var T9=p.memo(function(t){var e=zn(),r=t.ptm,n=t.cx,a=t.isUnstyled,i={filter:function(C){return l(C)},reset:function(){return t.resetFilter()}},s=function(C,_){return r(C,cb({hostName:t.hostName},_))},l=function(C){t.onFilter&&t.onFilter({originalEvent:C,query:C.target.value})},c=function(C){if(t.onSelectAll)t.onSelectAll({originalEvent:C,checked:t.selectAll});else{var _=t.isAllSelected()?[]:t.visibleOptions.filter(function(D){return t.isValidOption(D)}).map(function(D){return t.getOptionValue(D)});t.updateModel(C,_,_)}},u=function(){var C=e({className:n("filterIcon")},s("filterIcon")),_=t.filterIcon||p.createElement(f3,C),D=Yn.getJSXIcon(_,cb({},C),{props:t});if(t.filter){var z=e({className:n("filterContainer")},s("filterContainer")),V=p.createElement("div",z,p.createElement(ny,{ref:t.filterRef,type:"text",role:"searchbox",value:t.filterValue,onChange:l,className:"p-multiselect-filter",placeholder:t.filterPlaceholder,pt:r("filterInput"),unstyled:t.unstyled,__parentMetadata:{parent:t.metaData}}),D);if(t.filterTemplate){var J={className:z.className,element:V,filterOptions:i,onFilter:l,filterIconClassName:t.filterIconClassName,props:t};V=Te.getJSXElement(t.filterTemplate,J)}return p.createElement(p.Fragment,null,V)}return null},f=u(),m=t.id?t.id+"_selectall":av(),v=e({htmlFor:m,className:n("headerSelectAllLabel")},s("headerSelectAllLabel")),h=e({className:n("headerCheckboxIcon")},s("headerCheckbox.icon")),E=e({className:n("headerCheckboxContainer")},s("headerCheckboxContainer")),y=t.itemCheckboxIcon||p.createElement(Zu,h),b=Yn.getJSXIcon(y,cb({},h),{selected:t.selected}),x=t.showSelectAll&&p.createElement("div",E,p.createElement(x3,{id:m,checked:t.selectAll,onChange:c,role:"checkbox","aria-checked":t.selectAll,icon:b,pt:r("headerCheckbox"),unstyled:a()}),!t.filter&&p.createElement("label",v,t.selectAllLabel)),w=e({className:n("closeIcon"),"aria-hidden":!0},s("closeIcon")),N=t.closeIcon||p.createElement(Dp,w),I=Yn.getJSXIcon(N,cb({},w),{props:t}),P=e({className:n("header")},s("header")),L=e({type:"button",className:n("closeButton"),"aria-label":Ni("close"),onClick:t.onClose},s("closeButton")),R=p.createElement("button",L,I,p.createElement(di,null)),O=p.createElement("div",P,x,f,R);if(t.template){var A={className:"p-multiselect-header",checkboxElement:x,checked:t.selectAll,onChange:c,filterElement:f,closeElement:R,closeElementClassName:"p-multiselect-close p-link",closeIconClassName:"p-multiselect-close-icon",onCloseClick:t.onClose,element:O,itemCheckboxIcon:b,props:t};return Te.getJSXElement(t.template,A)}return O});T9.displayName="MultiSelectHeader";function Qk(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function EK(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qk(Object(r),!0).forEach(function(n){jp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qk(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var R9=p.memo(function(t){var e=p.useState(!1),r=Ru(e,2),n=r[0],a=r[1],i=p.useRef(null),s=zn(),l=t.ptm,c=t.cx,u=t.isUnstyled,f=function(P){return l(P,{hostName:t.hostName,context:{selected:t.selected,disabled:t.disabled,focused:n,focusedIndex:t.focusedIndex,index:t.index}})},m=function(P){var L;a(!0),i==null||(L=i.current)===null||L===void 0||L.getInput().focus()},v=function(P){a(!1)},h=function(P){t.onClick&&t.onClick(P,t.option),P.preventDefault(),P.stopPropagation()},E=s({className:c("checkboxIcon")},f("checkbox.icon")),y=t.checkboxIcon||p.createElement(Zu,E),b=t.selected?Yn.getJSXIcon(y,EK({},E),{selected:t.selected}):null,x=t.template?Te.getJSXElement(t.template,t.option):t.label,w=s({className:c("checkboxContainer")},f("checkboxContainer")),N=s({className:sr(t.className,t.option.className,c("item",{itemProps:t})),style:t.style,onClick:h,onFocus:m,onBlur:v,onMouseMove:function(P){return t==null?void 0:t.onMouseMove(P,t.index)},role:"option","aria-selected":t.selected,"data-p-highlight":t.selected,"data-p-disabled":t.disabled},f("item"));return p.createElement("li",ki({},N,{key:t.index+"_multiselectitem"}),p.createElement("div",w,p.createElement(x3,{ref:i,checked:t.selected,icon:b,pt:l("checkbox"),unstyled:u(),tabIndex:-1})),p.createElement("span",null,x),p.createElement(di,null))});R9.displayName="MultiSelectItem";function e6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function mf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e6(Object(r),!0).forEach(function(n){jp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var M9=p.memo(p.forwardRef(function(t,e){var r=p.useRef(null),n=p.useRef(null),a=zn(),i=p.useContext(sa),s=t.ptm,l=t.cx,c=t.sx,u=t.isUnstyled,f=function(T,C){return s(T,mf({hostName:t.hostName},C))},m=function(){t.onEnter(function(){if(r.current){var T=t.getSelectedOptionIndex();T!==-1&&setTimeout(function(){return r.current.scrollToIndex(T)},0)}})},v=function(){t.onEntered(function(){t.filter&&t.filterInputAutoFocus&&n.current&&ze.focus(n.current,!1)})},h=function(T){r.current&&r.current.scrollToIndex(0),t.onFilterInputChange&&t.onFilterInputChange(T)},E=function(){return!(t.visibleOptions&&t.visibleOptions.length)&&t.hasFilter},y=function(){return p.createElement(T9,{hostName:t.hostName,id:t.id,filter:t.filter,filterRef:n,filterValue:t.filterValue,filterTemplate:t.filterTemplate,visibleOptions:t.visibleOptions,isValidOption:t.isValidOption,getOptionValue:t.getOptionValue,updateModel:t.updateModel,onFilter:h,filterPlaceholder:t.filterPlaceholder,onClose:t.onCloseClick,showSelectAll:t.showSelectAll,selectAll:t.isAllSelected(),selectAllLabel:t.selectAllLabel,onSelectAll:t.onSelectAll,template:t.panelHeaderTemplate,resetFilter:t.resetFilter,closeIcon:t.closeIcon,filterIcon:t.filterIcon,itemCheckboxIcon:t.itemCheckboxIcon,ptm:s,cx:l,isUnstyled:u,metaData:t.metaData})},b=function(){if(t.panelFooterTemplate){var T=Te.getJSXElement(t.panelFooterTemplate,t,t.onOverlayHide);return p.createElement("div",{className:"p-multiselect-footer"},T)}return null},x=function(T,C){if(t.focusOnHover){var _;t==null||(_=t.changeFocusedOptionIndex)===null||_===void 0||_.call(t,T,C)}},w=function(){var T=Te.getJSXElement(t.emptyFilterMessage,t)||ui("emptyFilterMessage"),C=a({className:l("emptyMessage")},f("emptyMessage"));return p.createElement("li",ki({},C,{key:"emptyFilterMessage"}),T)},N=function(){var T=Te.getJSXElement(t.emptyMessage,t)||ui("emptyMessage"),C=a({className:l("emptyMessage")},f("emptyMessage"));return p.createElement("li",ki({},C,{key:"emptyMessage"}),T)},I=function(T,C){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},D={height:_.props?_.props.itemSize:void 0},z=T.group===!0&&t.optionGroupLabel;if(z){var V=t.optionGroupTemplate?Te.getJSXElement(t.optionGroupTemplate,T,C):t.getOptionGroupLabel(T),J=C+"_"+t.getOptionGroupRenderKey(T),ie=a({className:l("itemGroup"),style:c("itemGroup",{scrollerOptions:_})},f("itemGroup"));return p.createElement("li",ki({key:J},ie),V)}var G=t.getOptionLabel(T),te=C+"_"+t.getOptionRenderKey(T),W=t.isOptionDisabled(T),B=t.isSelected(T);return p.createElement(R9,{hostName:t.hostName,key:te,focusedOptionIndex:t.focusedOptionIndex,label:G,option:T,style:D,index:C,template:t.itemTemplate,selected:B,onClick:t.onOptionSelect,onMouseMove:x,disabled:W,className:t.itemClassName,checkboxIcon:t.checkboxIcon,isUnstyled:u,ptm:s,cx:l})},P=function(){return Te.isNotEmpty(t.visibleOptions)?t.visibleOptions.map(I):t.hasFilter?w():N()},L=function(){if(t.virtualScrollerOptions){var T=mf(mf({},t.virtualScrollerOptions),{style:mf(mf({},t.virtualScrollerOptions.style),{height:t.scrollHeight}),className:sr("p-multiselect-items-wrapper",t.virtualScrollerOptions.className),items:t.visibleOptions,autoSize:!0,onLazyLoad:function(V){return t.virtualScrollerOptions.onLazyLoad(mf(mf({},V),{filter:t.filterValue}))},itemTemplate:function(V,J){return V&&I(V,J.index,J)},contentTemplate:function(V){var J=E()?w():V.children,ie=a({ref:V.contentRef,style:V.style,className:sr(V.className,l("list",{virtualScrollerProps:t.virtualScrollerOptions})),role:"listbox","aria-multiselectable":!0},f("list"));return p.createElement("ul",ie,J)}});return p.createElement(oy,ki({ref:r},T,{pt:s("virtualScroller"),__parentMetadata:{parent:t.metaData}}))}var C=P(),_=a({className:l("wrapper"),style:{maxHeight:t.scrollHeight}},f("wrapper")),D=a({className:l("list"),role:"listbox","aria-multiselectable":!0},f("list"));return p.createElement("div",_,p.createElement("ul",D,C))},R=function(){var T=t.allowOptionSelect(),C=y(),_=L(),D=b(),z=a({className:sr(t.panelClassName,l("panel",{panelProps:t,context:i,allowOptionSelect:T})),style:t.panelStyle,onClick:t.onClick},f("panel"));if(t.inline)return p.createElement("div",ki({ref:e},z),_,D);var V=a({classNames:l("transition"),in:t.in,timeout:{enter:120,exit:100},options:t.transitionOptions,appear:!0,unmountOnExit:!0,onEnter:m,onEntered:v,onExit:t.onExit,onExited:t.onExited},f("transition")),J=a({ref:t.firstHiddenFocusableElementOnOverlay,role:"presentation",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:t.onFirstHiddenFocus,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},s("hiddenFirstFocusableEl")),ie=a({ref:t.lastHiddenFocusableElementOnOverlay,role:"presentation",className:"p-hidden-accessible p-hidden-focusable",tabIndex:"0",onFocus:t.onLastHiddenFocus,"data-p-hidden-accessible":!0,"data-p-hidden-focusable":!0},s("hiddenLastFocusableEl"));return p.createElement(ay,ki({nodeRef:e},V),p.createElement("div",ki({ref:e},z),p.createElement("span",J),C,_,D,p.createElement("span",ie)))},O=R();return t.inline?O:p.createElement(ov,{element:O,appendTo:t.appendTo})}));M9.displayName="MultiSelectPanel";function t6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t6(Object(r),!0).forEach(function(n){jp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r6(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=xK(t))||e){r&&(t=r);var n=0,a=function(){};return{s:a,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i,s=!0,l=!1;return{s:function(){r=r.call(t)},n:function(){var u=r.next();return s=u.done,u},e:function(u){l=!0,i=u},f:function(){try{s||r.return==null||r.return()}finally{if(l)throw i}}}}function xK(t,e){if(t){if(typeof t=="string")return n6(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n6(t,e):void 0}}function n6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var D9=p.memo(p.forwardRef(function(t,e){var r=zn(),n=p.useContext(sa),a=dg.getProps(t,n),i=p.useState(null),s=Ru(i,2),l=s[0],c=s[1],u=p.useState(!1),f=Ru(u,2),m=f[0],v=f[1],h=V7("",a.filterDelay||0),E=Ru(h,3),y=E[0],b=E[1],x=E[2],w=p.useState(-1),N=Ru(w,2),I=N[0],P=N[1],L=p.useState(!1),R=Ru(L,2),O=R[0],A=R[1],T=p.useState(a.inline),C=Ru(T,2),_=C[0],D=C[1],z=p.useRef(null),V=p.useRef(null),J=p.useRef(null),ie=p.useRef(null),G=p.useRef(null),te=p.useRef(a.inputRef),W=p.useRef(null),B=p.useRef(null),j=p.useRef(null),U=b&&b.trim().length>0,X=Te.isEmpty(a.value),Z=a.optionValue?null:a.dataKey,me={props:a,state:{filterState:b,focused:O,overlayVisible:_}},de=dg.setMetaData(me),oe=de.ptm,ee=de.cx,le=de.sx,pe=de.isUnstyled;Ll(dg.css.styles,pe,{name:"multiselect"});var ce=u3({target:z,overlay:B,listener:function(De,lt){var Vt=lt.type,Dr=lt.valid;Dr&&(Vt==="outside"?!zr(De)&&!st(De)&&qe():n.hideOverlaysOnDocumentScrolling?qe():ze.isDocument(De.target)||lr())},when:_}),_e=Ru(ce,2),He=_e[0],Re=_e[1],be=function(De){var lt=De.relatedTarget===te.current?ze.getFirstFocusableElement(B.current,':not([data-p-hidden-focusable="true"])'):te.current;ze.focus(lt)},gt=function(De){var lt=De.relatedTarget===te.current?ze.getLastFocusableElement(B.current,':not([data-p-hidden-focusable="true"])'):te.current;ze.focus(lt)},Ae=function(De){$u.emit("overlay-click",{originalEvent:De,target:z.current})},ke=function(){return!a.selectionLimit||!a.value||a.value&&a.value.length<a.selectionLimit},Be=function(De){var lt=or()&&De<sn.length-1?sn.slice(De+1).findIndex(function(Vt){return Rr(Vt)}):-1;return lt>-1?lt+De+1:-1},Xe=function(De){var lt=or()&&De>0?Te.findLastIndex(sn.slice(0,De),function(Vt){return Rr(Vt)}):-1;return lt>-1?lt:-1},Ke=function(De){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Vt=-1;return or()&&(lt?(Vt=Xe(De),Vt=Vt===-1?Be(De):Vt):(Vt=Be(De),Vt=Vt===-1?Xe(De):Vt)),Vt>-1?Vt:De},Et=function(De){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:-1,Vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(lt===-1&&(lt=Ke(Vt,!0)),Vt===-1&&(Vt=Ke(lt)),lt!==-1&&Vt!==-1){var Dr=Math.min(lt,Vt),nn=Math.max(lt,Vt),Vn=sn.slice(Dr,nn+1).filter(function(za){return Pr(za)}).map(function(za){return Yt(za)});Ur(De,Vn,Vn)}},ut=function(De,lt){var Vt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:-1;if(!(a.disabled||at(lt))){var Dr=pr(lt),nn=null;Dr?nn=a.value.filter(function(Vn){return!Te.equals(Vn,Yt(lt),Z)}):nn=[].concat(dK(a.value||[]),[Yt(lt)]),Ur(De,nn,lt),Vt!==-1&&c(Vt)}},zt=function(De){!a.inline&&!a.disabled&&!a.loading&&!Ct(De)&&!zr(De)&&(_?qe():Ne(),ze.focus(te.current),De.preventDefault()),v(!0)},Gt=function(De){if(!_)Ne(),a.editable&&Cr(De,Ze());else{var lt=l!==-1?pt(l):m?Ue():ae();De.shiftKey&&Et(De,I,lt),Cr(De,lt)}De.preventDefault()},mt=function(De){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(De.altKey&&!lt)l!==-1&&ut(De,sn[l]),_&&qe(),De.preventDefault();else{var Vt=l!==-1?Bt(l):m?tt():Se();Cr(De,Vt),!_&&Ne(),De.preventDefault()}},nt=function(De){_?l!==-1&&(De.shiftKey?Et(De,l):ut(De,sn[l])):(c(-1),Gt(De)),De.preventDefault()},ht=function(De){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Vt=De.currentTarget;if(lt){var Dr=Vt.value.length;Vt.setSelectionRange(0,De.shiftKey?Dr:0),c(-1)}else{var nn=De.metaKey||De.ctrlKey,Vn=Ue();De.shiftKey&&nn&&Et(De,Vn,I),Cr(De,Vn),!_&&Ne()}De.preventDefault()},Kt=function(De){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Vt=De.currentTarget;if(lt){var Dr=Vt.value.length;Vt.setSelectionRange(De.shiftKey?0:Dr,Dr),fK("focusedOptionIndex")}else{var nn=De.metaKey||De.ctrlKey,Vn=tt();De.shiftKey&&nn&&Et(De,I,Vn),Cr(De,Vn),!_&&Ne()}De.preventDefault()},bt=function(De){De.preventDefault()},Ar=function(De){De.preventDefault()},Jt=function(De){var lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;lt||(_&&qt()?(ze.focus(De.shiftKey?G.current:ie.current),De.preventDefault()):(l!==-1&&ut(De,sn[l]),_&&qe(filter)))},Lr=function(){P(l)},mr=function(De){var lt=De.metaKey||De.ctrlKey;switch(De.code){case"ArrowUp":if(a.inline)break;mt(De);break;case"ArrowDown":if(a.inline)break;Gt(De);break;case"Space":case"NumpadEnter":case"Enter":if(a.inline)break;nt(De);break;case"Home":if(a.inline)break;ht(De),De.preventDefault();break;case"End":if(a.inline)break;Kt(De),De.preventDefault();break;case"PageDown":Ar(De);break;case"PageUp":bt(De);break;case"Escape":if(a.inline)break;qe();break;case"Tab":Jt(De);break;case"ShiftLeft":case"ShiftRight":Lr();break;default:if(De.key==="a"&&lt){var Vt=sn.filter(function(Dr){return Pr(Dr)}).map(function(Dr){return Yt(Dr)});Ur(De,Vt,Vt),De.preventDefault();break}!lt&&Te.isPrintableCharacter(De.key)&&(!_&&Ne(),ar(De),De.preventDefault());break}v(!1)},wr=function(De){if(a.onSelectAll)a.onSelectAll(De);else{var lt=null;if(De.checked)lt=[];else{var Vt=sn.filter(function(Dr){return Pr(Dr)&&!at(Dr)});Vt&&(lt=Vt.map(function(Dr){return Yt(Dr)}))}a.selectionLimit&&lt&&lt.length&&(lt=lt.slice(0,a.selectionLimit)),Ur(De.originalEvent,lt,lt)}},Ur=function(De,lt,Vt){a.onChange&&(a.onChange({originalEvent:De,value:lt,selectedOption:Vt,stopPropagation:function(){De==null||De.stopPropagation()},preventDefault:function(){De==null||De.preventDefault()},target:{name:a.name,id:a.id,value:lt}}),ze.focus(te.current))},Sr=function(De){var lt=De.query;x(lt),a.onFilter&&a.onFilter({originalEvent:De,filter:lt})},kt=function(){x(""),a.onFilter&&a.onFilter({filter:""})},Ee=function(De){if(_){var lt;De?lt=De.currentTarget:lt=ze.findSingle(B.current,'li[data-p-highlight="true"]'),lt&&lt.scrollIntoView&&lt.scrollIntoView({block:"nearest",inline:"nearest"})}},Ne=function(){D(!0),c(l!==-1?l:a.autoOptionFocus?ae():Ze()),ze.focus(te.current)},qe=function(){c(-1),D(!1),v(!1)},Nt=function(De){Xs.set("overlay",B.current,n&&n.autoZIndex||$n.autoZIndex,n&&n.zIndex.overlay||$n.zIndex.overlay),ze.addStyles(B.current,{position:"absolute",top:"0",left:"0"}),lr(),Ee(),De&&De()},St=function(De){De&&De(),He(),a.onShow&&a.onShow()},Ot=function(){Re()},gr=function(){a.filter&&a.resetFilterOnHide&&kt(),Xs.clear(B.current),a.onHide&&a.onHide()},lr=function(){!a.inline&&ze.alignOverlay(B.current,W.current.parentElement,a.appendTo||n&&n.appendTo||$n.appendTo)},zr=function(De){return ze.getAttribute(De.target,"data-pc-section")==="clearicon"},st=function(De){return ze.getAttribute(De.target,"data-pc-section")==="headercheckboxcontainer"},Ct=function(De){return B.current&&B.current.contains(De.target)},_t=function(De){qe(),ze.focus(te.current),De.preventDefault(),De.stopPropagation()},Kr=function(){if(a.value!=null&&a.options){if(a.optionGroupLabel){var De=0,lt=a.options.findIndex(function(Vt,Dr){return(De=Dr)&&yn(a.value,$e(Vt))!==-1});return lt!==-1?{group:De,option:lt}:-1}return yn(a.value,a.options)}return-1},yn=function(De,lt){return lt.findIndex(function(Vt){return De.some(function(Dr){return Te.equals(Dr,Yt(Vt),Z)})})},en=function(De,lt){return Te.equals(De,lt,Z)},pr=function(De){if(a.value){var lt=Yt(De),Vt=Rt(De);return a.value.some(function(Dr){return Te.equals(Vt?Dr:Yt(Dr),lt,Z)})}return!1},Tr=function(De){var lt;if(a.options)if(a.optionGroupLabel){var Vt=r6(a.options),Dr;try{for(Vt.s();!(Dr=Vt.n()).done;){var nn=Dr.value;if(lt=mn(De,$e(nn)),lt)break}}catch(Vn){Vt.e(Vn)}finally{Vt.f()}}else lt=mn(De,a.options),Te.isEmpty(lt)&&(lt=mn(De,a.value));return lt?At(lt):null},mn=function(De,lt){return lt.find(function(Vt){return Te.equals(Yt(Vt),De,Z)})},rn=function(De){A(!0),a.onFocus&&a.onFocus(De)},er=function(De){A(!1),a.onBlur&&a.onBlur(De)},ct=function(){if(a.onSelectAll)return a.selectAll;if(Te.isEmpty(sn))return!1;var De=sn.filter(function(lt){return!at(lt)&&Pr(lt)});return!De.some(function(lt){return!pr(lt)})},At=function(De){return a.optionLabel?Te.resolveFieldData(De,a.optionLabel):De&&De.label!==void 0?De.label:De},Yt=function(De){return a.useOptionAsValue?De:a.optionValue?Te.resolveFieldData(De,a.optionValue):De&&De.value!==void 0?De.value:De},Ye=function(De){return a.dataKey?Te.resolveFieldData(De,a.dataKey):At(De)},ft=function(De){return Te.resolveFieldData(De,a.optionGroupLabel)},ot=function(De){return Te.resolveFieldData(De,a.optionGroupLabel)},$e=function(De){return Te.resolveFieldData(De,a.optionGroupChildren)},at=function(De){var lt;if(!ke()&&!pr(De))return!0;var Vt=a.optionDisabled;return Vt?Te.isFunction(Vt)?Vt(De):Te.resolveFieldData(De,Vt):De&&((lt=De.disabled)!==null&&lt!==void 0?lt:!1)},Rt=function(De){return!a.useOptionAsValue&&a.optionValue||De&&De.value!==void 0},Ht=function(De){return a.optionGroupLabel&&De.group},or=function(){return Te.isNotEmpty(a.value)},qt=function(){return ze.getFocusableElements(B.current,':not([data-p-hidden-focusable="true"])').length>0},br=function(De){var lt;return Pr(De)&&((lt=At(De))===null||lt===void 0?void 0:lt.toLocaleLowerCase(a.filterLocale).startsWith(V.current.toLocaleLowerCase(a.filterLocale)))},Pr=function(De){return Te.isNotEmpty(De)&&!(at(De)||Ht(De))},Rr=function(De){return Pr(De)&&pr(De)},Ze=function(){if(or()){for(var De=function(){var nn=a.value[Vt],Vn=sn.findIndex(function(za){return Rr(za)&&en(nn,Yt(za))});if(Vn>-1)return{v:Vn}},lt,Vt=a.value.length-1;Vt>=0;Vt--)if(lt=De(),lt)return lt.v}return-1},ae=function(){var De=Ze();return De<0?Ue():De},Se=function(){var De=Ze();return De<0?tt():De},Ue=function(){return sn.findIndex(function(De){return Pr(De)})},tt=function(){return Te.findLastIndex(sn,function(De){return Pr(De)})},pt=function(De){var lt=De<sn.length-1?sn.slice(De+1).findIndex(function(Vt){return Pr(Vt)}):-1;return lt>-1?lt+De+1:De},Bt=function(De){var lt=De>0?Te.findLastIndex(sn.slice(0,De),function(Vt){return Pr(Vt)}):-1;return lt>-1?lt:De},ar=function(De){V.current=(V.current||"")+De.key;var lt=-1;Te.isNotEmpty(V.current)&&(l!==-1?(lt=sn.slice(l).findIndex(function(Vt){return br(Vt)}),lt=lt===-1?sn.slice(0,l).findIndex(function(Vt){return br(Vt)}):lt+l):lt=sn.findIndex(function(Vt){return br(Vt)}),lt===-1&&l===-1&&(lt=ae()),lt!==-1&&Cr(De,lt)),J.current&&clearTimeout(J.current),J.current=setTimeout(function(){V.current="",J.current=null},500)},Cr=function(De,lt){l!==lt&&(c(lt),Ee(De),a.selectOnFocus&&ut(De,sn[lt],!1))},qr=function(De,lt){if(De.stopPropagation(),!!Rn(De.currentTarget)){var Vt=a.value.filter(function(Dr){return!Te.equals(Dr,lt,Z)});a.onRemove&&a.onRemove({originalEvent:De,value:Vt}),Ur(De,Vt,lt)}},Rn=function(De){var lt=j.current,Vt=lt.clientWidth<lt.scrollWidth;if(!Vt)return!0;var Dr=De.closest('[data-pc-section="token"]'),nn=window.getComputedStyle(lt),Vn=window.getComputedStyle(Dr),za=lt.clientWidth-parseFloat(nn.paddingLeft)-parseFloat(nn.paddingRight),io=Dr.getBoundingClientRect().right+parseFloat(Vn.marginRight)-lt.getBoundingClientRect().left;return io<=za},Mn=function(){var De=/{(.*?)}/,lt=a.selectedItemsLabel||ui("selectionMessage"),Vt=a.value?a.value.length:0;return De.test(lt)?lt.replace(lt.match(De)[0],Vt+""):lt},kr=function(){var De;if(!X&&!a.fixedPlaceholder){var lt;return Te.isNotEmpty(a.maxSelectedLabels)&&((lt=a.value)===null||lt===void 0?void 0:lt.length)>a.maxSelectedLabels?Mn():Te.isArray(a.value)?a.value.reduce(function(Vt,Dr,nn){return Vt+(nn!==0?", ":"")+Tr(Dr)},""):""}return De},Vr=function(){var De=a.value?a.value.length:0;if(Te.isNotEmpty(a.maxSelectedLabels)&&De>a.maxSelectedLabels)return Mn();if(a.selectedItemTemplate)return X?Te.getJSXElement(a.selectedItemTemplate):a.value.map(function(Vt,Dr){var nn=Te.getJSXElement(a.selectedItemTemplate,Vt);return p.createElement(p.Fragment,{key:Dr},nn)});if(a.display==="chip"&&!X){var lt=a.value.slice(0,a.maxSelectedLabels||De);return lt.map(function(Vt,Dr){var nn={context:{value:Vt,index:Dr}},Vn=Tr(Vt),za=Vn+"_"+Dr,io=r({"aria-label":ui("removeTokenIcon"),className:ee("removeTokenIcon"),onClick:function(so){return qr(so,Vt)},onKeyDown:function(so){return la(so,Vt)},tabIndex:a.tabIndex||"0"},oe("removeTokenIcon",nn)),hi=!a.disabled&&(a.removeIcon?Yn.getJSXIcon(a.removeIcon,Sl({},io),{props:a}):p.createElement(_9,io)),rl=r({className:ee("token")},oe("token",nn)),Ii=r({className:ee("tokenLabel")},oe("tokenLabel",nn));return p.createElement("div",ki({},rl,{key:za}),p.createElement("span",Ii,Vn),hi)})}return kr()},Mr=function(){var De=a.optionGroupLabel?on(a.options):a.options;if(U){var lt=b.trim().toLocaleLowerCase(a.filterLocale),Vt=a.filterBy?a.filterBy.split(","):[a.optionLabel||"label"];if(a.optionGroupLabel){var Dr=[],nn=r6(a.options),Vn;try{for(nn.s();!(Vn=nn.n()).done;){var za=Vn.value,io=$f.filter($e(za),Vt,lt,a.filterMatchMode,a.filterLocale);io&&io.length&&Dr.push(Sl(Sl({},za),jp({},a.optionGroupChildren,io)))}}catch(hi){nn.e(hi)}finally{nn.f()}return on(Dr)}return $f.filter(De,Vt,lt,a.filterMatchMode,a.filterLocale)}return De},on=function(De){return(De||[]).reduce(function(lt,Vt,Dr){lt.push(Sl(Sl({},Vt),{},{group:!0,index:Dr}));var nn=$e(Vt);return nn&&nn.forEach(function(Vn){return lt.push(Vn)}),lt},[])},Pn=function(De){switch(De.code){case"Space":case"NumpadEnter":case"Enter":if(a.inline)break;Ur(De,[],[]),De.preventDefault(),De.stopPropagation();break}},la=function(De,lt){switch(De.code){case"Space":case"NumpadEnter":case"Enter":if(a.inline)break;qr(De,lt),De.preventDefault(),De.stopPropagation();break}};p.useImperativeHandle(e,function(){return{props:a,show:Ne,hide:qe,focus:function(){return ze.focus(te.current)},getElement:function(){return z.current},getOverlay:function(){return B.current},getInput:function(){return te.current}}}),gs(function(){lr()}),p.useEffect(function(){Te.combinedRefs(te,a.inputRef)},[te,a.inputRef]),p.useEffect(function(){a.overlayVisible===!0?Ne():a.overlayVisible===!1&&qe()},[a.overlayVisible]),ba(function(){_&&b&&U&&lr()},[_,b,U]),Ls(function(){Xs.clear(B.current)});var ra=function(){var De=r({className:ee("clearIcon"),"aria-label":ui("clear"),onClick:function(nn){return Ur(nn,[],[])},onKeyDown:function(nn){return Pn(nn)},tabIndex:a.tabIndex||"0"},oe("clearIcon")),lt=a.clearIcon||p.createElement(Dp,De),Vt=Yn.getJSXIcon(lt,Sl({},De),{props:a});return!X&&a.showClear&&!a.disabled?Vt:null},Tn=function(){var De=Vr(),lt=r({ref:W,className:ee("labelContainer")},oe("labelContainer")),Vt=r({ref:j,className:ee("label",{empty:X})},oe("label"));return p.createElement("div",lt,p.createElement("div",Vt,De||a.placeholder||a.emptyMessage||"empty"))},sn=Mr(),Sa=Te.isNotEmpty(a.tooltip),cn=dg.getOtherProps(a),oo=Te.reduceKeys(cn,ze.ARIA_PROPS),Co=r({className:ee("triggerIcon")},oe("triggerIcon")),Xt=r({className:ee("trigger")},oe("trigger")),Le=a.loadingIcon?Yn.getJSXIcon(a.loadingIcon,Sl({},Co),{props:a}):p.createElement(Mp,ki({spin:!0},Co)),Dt=a.dropdownIcon?Yn.getJSXIcon(a.dropdownIcon,Sl({},Co),{props:a}):p.createElement(iv,Co),yr=p.createElement("div",Xt,a.loading?Le:Dt),In=!a.inline&&Tn(),En=!a.inline&&ra(),Dn=r(Sl(Sl({ref:z,id:a.id,style:Sl(Sl({},a.style),le("root")),className:sr(a.className,ee("root",{focusedState:O,context:n,overlayVisibleState:_}))},cn),{},{onClick:zt}),dg.getOtherProps(a),oe("root")),go=r({className:"p-hidden-accessible","data-p-hidden-accessible":!0},oe("hiddenInputWrapper")),$a=r(Sl({ref:te,id:a.inputId,name:a.name,type:"text",onFocus:rn,onBlur:er,onKeyDown:mr,role:"combobox","aria-expanded":_,disabled:a.disabled,tabIndex:a.disabled?-1:a.tabIndex,value:kr()},oo),oe("input"));return p.createElement(p.Fragment,null,p.createElement("div",Dn,p.createElement("div",go,p.createElement("input",ki({},$a,{readOnly:!0}))),!a.inline&&p.createElement(p.Fragment,null,In,En,yr),p.createElement(M9,ki({hostName:"MultiSelect",ref:B,visibleOptions:sn},a,{onClick:Ae,onOverlayHide:qe,filterValue:y,focusedOptionIndex:l,onFirstHiddenFocus:be,onLastHiddenFocus:gt,firstHiddenFocusableElementOnOverlay:ie,lastHiddenFocusableElementOnOverlay:G,setFocusedOptionIndex:c,hasFilter:U,isValidOption:Pr,getOptionValue:Yt,updateModel:Ur,onFilterInputChange:Sr,resetFilter:kt,onCloseClick:_t,onSelectAll:wr,getOptionLabel:At,getOptionRenderKey:Ye,isOptionDisabled:at,getOptionGroupChildren:$e,getOptionGroupLabel:ot,getOptionGroupRenderKey:ft,isSelected:pr,getSelectedOptionIndex:Kr,isAllSelected:ct,onOptionSelect:ut,allowOptionSelect:ke,in:_,onEnter:Nt,onEntered:St,onExit:Ot,onExited:gr,ptm:oe,cx:ee,sx:le,isUnstyled:pe,metaData:me,changeFocusedOptionIndex:Cr}))),Sa&&p.createElement(Bc,ki({target:z,content:a.tooltip,pt:oe("tooltip")},a.tooltipOptions)))}));D9.displayName="MultiSelect";const pf="https://deliciasoft-backend-i6g9.onrender.com/api/insumos",wK="https://deliciasoft-backend-i6g9.onrender.com/api/categoria-insumos",SK="https://deliciasoft-backend-i6g9.onrender.com/api/unidadmedida",fE="https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-adiciones",mE="https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-toppings",pE="https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-salsas",gE="https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-sabor",hE="https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-relleno";class CK{constructor(){this.baseHeaders={"Content-Type":"application/json"},this.unidadesCache=null,this.categoriasCache=null}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`;try{const a=await e.json();r=a.message||a.error||r,console.error("Error de la API:",a)}catch(a){console.error("No se pudo parsear la respuesta:",a)}const n=new Error(r);throw n.status=e.status,n}return e.json()}async crearMultiplesCatalogos(e,r){try{console.log(" CREANDO MLTIPLES CATLOGOS"),console.log("ID Insumo:",e),console.log("Catlogos a crear:",JSON.stringify(r,null,2));const n=[];for(const a of r)try{console.log(`
 Procesando catlogo tipo: ${a.tipo}`);let i;switch(a.tipo.toLowerCase()){case"adicion":i=fE;break;case"topping":i=mE;break;case"salsa":i=pE;break;case"sabor":i=gE;break;case"relleno":i=hE;break;default:throw new Error(`Tipo de catlogo invlido: ${a.tipo}`)}const s={idinsumos:parseInt(e),nombre:a.nombre.trim(),precioadicion:parseFloat(a.precioadicion||0),estado:!!a.estado};console.log(`Enviando a: ${i}`),console.log("Datos:",JSON.stringify(s,null,2));const l=await fetch(i,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(s)});if(!l.ok){const u=await l.text();console.error(`Error en ${a.tipo}:`,u),n.push({tipo:a.tipo,exito:!1,error:u});continue}const c=await l.json();console.log(` ${a.tipo} creado:`,c),n.push({tipo:a.tipo,exito:!0,data:c})}catch(i){console.error(`Error creando catlogo ${a.tipo}:`,i),n.push({tipo:a.tipo,exito:!1,error:i.message})}return console.log(`
 Resumen de catlogos:`,n),n}catch(n){throw console.error("Error en crearMultiplesCatalogos:",n),n}}transformarInsumoParaAPI(e){console.log("TRANSFORMANDO INSUMO PARA API"),console.log("Datos originales:",JSON.stringify(e,null,2));const r={idinsumo:e.id||e.idinsumo||e.idInsumo,nombreinsumo:e.nombreInsumo?String(e.nombreInsumo).trim():"",idcategoriainsumos:e.idCategoriaInsumos?parseInt(e.idCategoriaInsumos):null,idunidadmedida:e.idUnidadMedida?parseInt(e.idUnidadMedida):null,cantidad:e.cantidad!==void 0&&e.cantidad!==null&&e.cantidad!==""?parseFloat(e.cantidad):0,precio:e.precio!==void 0&&e.precio!==null&&e.precio!==""?parseFloat(e.precio):0,stockminimo:e.stockMinimo!==void 0&&e.stockMinimo!==null&&e.stockMinimo!==""?parseInt(e.stockMinimo):e.stockminimo!==void 0&&e.stockminimo!==null&&e.stockminimo!==""?parseInt(e.stockminimo):5,estado:e.estado!==void 0?!!e.estado:!0};return e.idImagen&&e.idImagen!==null&&e.idImagen!==""&&(r.idimagen=parseInt(e.idImagen),console.log("ID de imagen incluido:",r.idimagen)),console.log("Datos transformados:",JSON.stringify(r,null,2)),r}async crearInsumo(e){try{console.log(" INICIANDO CREACIN DE INSUMO"),console.log("Datos recibidos:",JSON.stringify(e,null,2));const r=e.catalogosSeleccionados||[],n=e.nombreCatalogo,a=e.precioadicion,i=e.estadoCatalogo;console.log("Catlogos seleccionados:",r),this.limpiarCache();const s=this.transformarInsumoParaAPI(e);console.log("Datos transformados:",JSON.stringify(s,null,2)),this.validarDatosInsumo(s),await this.verificarIDsValidos(s),console.log(" Enviando insumo al servidor...");const l=await fetch(pf,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(s)});if(!l.ok){const f=await l.text();throw console.error("Error del servidor:",f),new Error(`Error del servidor: ${l.status} - ${f}`)}const c=await l.json();console.log(" Insumo creado:",c);const u=c.idinsumo;if(r&&r.length>0){console.log(" Creando catlogos mltiples...");const f=r.map(h=>({tipo:h,nombre:n,precioadicion:parseFloat(a||0),estado:i}));console.log("Catlogos a crear:",JSON.stringify(f,null,2)),(await this.crearMultiplesCatalogos(u,f)).some(h=>h.exito)||console.error(" Ningn catlogo se cre exitosamente")}return this.transformarInsumoDesdeAPI(c)}catch(r){throw console.error(" ERROR EN CREACIN DE INSUMO"),console.error("Mensaje:",r.message),r}}async actualizarInsumo(e,r){try{console.log("=== ACTUALIZANDO INSUMO ==="),console.log("ID:",e),console.log("Datos:",JSON.stringify(r,null,2));const n=r.catalogosSeleccionados||[],a=r.nombreCatalogo,i=r.precioadicion,s=r.estadoCatalogo,l=this.transformarInsumoParaAPI({...r,cantidad:Number(r.cantidad)||0});await this.verificarIDsValidos(l),this.validarDatosInsumo(l);const c=await fetch(`${pf}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(l)});if(!c.ok)throw new Error(`Error: ${c.status}`);const u=await c.json();if(n&&n.length>0){console.log(" Creando catlogos mltiples durante la actualizacin...");const f=n.map(h=>({tipo:h,nombre:a,precioadicion:parseFloat(i||0),estado:s}));console.log("Catlogos a crear:",JSON.stringify(f,null,2)),(await this.crearMultiplesCatalogos(e,f)).some(h=>h.exito)||console.error(" Ningn catlogo se cre exitosamente")}return this.transformarInsumoDesdeAPI(u)}catch(n){throw console.error(`Error al actualizar insumo ${e}:`,n),n}}async eliminarInsumo(e){try{const r=await fetch(`${pf}/${e}`,{method:"DELETE",headers:this.baseHeaders});return await this.handleResponse(r),{success:!0}}catch(r){throw console.error(`Error al eliminar insumo ${e}:`,r),r}}async cambiarEstadoInsumo(e,r){try{console.log(`Cambiando estado de ${e} a:`,r);const n=await fetch(`${pf}/${e}`,{method:"GET",headers:this.baseHeaders});if(!n.ok)throw new Error(`No se pudo obtener el insumo: ${n.status}`);const a=await n.json(),i={nombreinsumo:a.nombreinsumo,idcategoriainsumos:a.idcategoriainsumos,idunidadmedida:a.idunidadmedida,estado:r,cantidad:parseFloat(a.cantidad||0),precio:parseFloat(a.precio||0),stockminimo:parseInt(a.stockminimo||5)},s=await fetch(`${pf}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(i)});if(!s.ok)throw new Error(`Error al cambiar estado: ${s.status}`);const l=await s.json();return this.transformarInsumoDesdeAPI(l)}catch(n){throw console.error(`Error al cambiar estado del insumo ${e}:`,n),n}}async obtenerInsumos(){try{const e=await fetch(`${pf}`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e),n=await this.enriquecerInsumosConReferencias(r);return this.transformarInsumosDesdeAPI(n).sort((i,s)=>{const l=i.id||0;return(s.id||0)-l})}catch(e){throw console.error("Error al obtener insumos:",e),e}}async obtenerInsumoPorId(e){try{const r=await fetch(`${pf}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Insumo no encontrado");const n=await this.handleResponse(r),[a]=await this.enriquecerInsumosConReferencias([n]);return this.transformarInsumoDesdeAPI(a)}catch(r){throw console.error(`Error al obtener insumo ${e}:`,r),r}}async enriquecerInsumosConReferencias(e){try{if(!Array.isArray(e)||e.length===0)return e;const[r,n]=await Promise.all([this.obtenerUnidadesMedida(),this.obtenerCategorias()]);return e.map(a=>{const i=r.find(l=>parseInt(l.idunidadmedida)===parseInt(a.idunidadmedida)),s=n.find(l=>parseInt(l.id||l.idcategoriainsumos)===parseInt(a.idcategoriainsumos));return{...a,nombreUnidadMedida:i?i.unidadmedida:"Unidad desconocida",nombreCategoria:s?s.nombre||s.nombrecategoria:"Categora desconocida"}})}catch(r){return console.error("Error al enriquecer insumos:",r),e}}async obtenerUnidadesMedida(){try{if(this.unidadesCache&&this.unidadesCache.length>0)return this.unidadesCache;const e=await fetch(SK,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return this.unidadesCache=Array.isArray(r)?r:[],this.unidadesCache}catch(e){return console.error("Error al obtener unidades:",e),[]}}async obtenerCategorias(){try{if(this.categoriasCache&&this.categoriasCache.length>0)return this.categoriasCache;const e=await fetch(wK,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return this.categoriasCache=Array.isArray(r)?r:[],this.categoriasCache}catch(e){return console.error("Error al obtener categoras:",e),[]}}async obtenerCatalogos(e){try{let r;switch(e.toLowerCase()){case"adicion":r=fE;break;case"topping":r=mE;break;case"salsa":r=pE;break;case"sabor":r=gE;break;case"relleno":r=hE;break;default:throw new Error(`Tipo de catlogo invlido: ${e}`)}const n=await fetch(r,{method:"GET",headers:this.baseHeaders});return await this.handleResponse(n)}catch(r){throw console.error(`Error al obtener catlogos de ${e}:`,r),r}}validarDatosInsumo(e){const r=[];if((!e.nombreinsumo||e.nombreinsumo.trim()==="")&&r.push("El nombre del insumo es requerido"),(!e.idcategoriainsumos||parseInt(e.idcategoriainsumos)<=0)&&r.push("La categora es requerida"),(!e.idunidadmedida||parseInt(e.idunidadmedida)<=0)&&r.push("La unidad de medida es requerida"),r.length>0)throw new Error("Datos invlidos: "+r.join("; "))}async verificarIDsValidos(e){try{const[r,n]=await Promise.all([this.obtenerUnidadesMedida(),this.obtenerCategorias()]);if(!n.some(s=>parseInt(s.id||s.idcategoriainsumos)===parseInt(e.idcategoriainsumos)))throw new Error(`La categora ID ${e.idcategoriainsumos} no existe`);if(!r.some(s=>parseInt(s.idunidadmedida)===parseInt(e.idunidadmedida)))throw new Error(`La unidad de medida ID ${e.idunidadmedida} no existe`);return!0}catch(r){throw console.error("Error en verificacin de IDs:",r),r}}transformarInsumoDesdeAPI(e){return e?{id:e.idinsumo,nombreInsumo:e.nombreinsumo,idCategoriaInsumos:e.idcategoriainsumos,idUnidadMedida:e.idunidadmedida,cantidad:e.cantidad,precio:e.precio,stockMinimo:e.stockminimo||e.stockMinimo||5,estado:e.estado,idImagen:e.idimagen,nombreUnidadMedida:e.unidadmedida?e.unidadmedida.unidadmedida:e.nombreUnidadMedida||"Unidad desconocida",nombreCategoria:e.categoriainsumos?e.categoriainsumos.nombrecategoria:e.nombreCategoria||"Categora desconocida"}:null}transformarInsumosDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarInsumoDesdeAPI(r)):[]}limpiarCache(){this.unidadesCache=null,this.categoriasCache=null}async crearCatalogo(e,r){let n;switch(e.toLowerCase()){case"adicion":n=fE;break;case"topping":n=mE;break;case"salsa":n=pE;break;case"sabor":n=gE;break;case"relleno":n=hE;break;default:throw new Error(`Tipo de catlogo invlido: ${e}`)}const a=await fetch(n,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(r)});return await this.handleResponse(a)}}const _d=new CK,_m="https://deliciasoft-backend-i6g9.onrender.com/api/imagenes";class PK{async subirImagen(e,r=""){try{if(console.log(" Subiendo imagen al backend..."),console.log("Archivo:",e.name),console.log("Tamao:",(e.size/1024).toFixed(2),"KB"),console.log("Tipo:",e.type),!e)throw new Error("No se proporcion ningn archivo");if(!e.type.startsWith("image/"))throw new Error("El archivo debe ser una imagen");if(e.size>10*1024*1024)throw new Error("La imagen no debe superar 10MB");const n=new FormData;n.append("image",e),r&&n.append("descripcion",r);const a=`${_m}/upload`;console.log(" Enviando a:",a);const i=new AbortController,s=setTimeout(()=>i.abort(),6e4),l=await fetch(a,{method:"POST",body:n,signal:i.signal});if(clearTimeout(s),console.log(" Response status:",l.status),console.log("Response headers:",Object.fromEntries(l.headers.entries())),l.status===404)throw new Error(" ENDPOINT NO ENCONTRADO: La ruta /api/imagenes/upload no existe en el servidor");const c=l.headers.get("content-type");let u;if(c&&c.includes("application/json"))u=await l.json();else{const f=await l.text();throw console.error("Respuesta no JSON:",f),f.includes("<!DOCTYPE html>")?new Error("El servidor devolvi HTML. Posible error: ruta incorrecta o servidor cado."):new Error(`Respuesta inesperada del servidor: ${f.substring(0,200)}`)}if(!l.ok)throw console.error(" Error del backend:",u),u.error==="LIMIT_FILE_SIZE"?new Error("La imagen es demasiado grande. Tamao mximo: 10MB"):u.error==="INVALID_FILE_TYPE"?new Error("Tipo de archivo no permitido. Solo JPG, PNG, GIF y WebP"):new Error(u.message||u.error||`Error ${l.status}`);if(console.log(" Respuesta exitosa:",u),!u.imagen||!u.imagen.idimagen)throw console.error(" Estructura inesperada:",u),new Error("El backend no retorn un idimagen vlido");return{idimagen:u.imagen.idimagen,url:u.imagen.urlimg||"",cloudinary:u.cloudinary||null}}catch(n){throw console.error(" Error completo:",n),n.name==="AbortError"?new Error(" La peticin tard demasiado (ms de 60 segundos). El servidor puede estar lento o la imagen es muy grande."):n.message.includes("Failed to fetch")?new Error(` No se pudo conectar al servidor. Verifica:
1. Tu conexin a internet
2. Que el backend est funcionando en Render
3. Que no haya problemas de CORS`):n.message.includes("NetworkError")?new Error(" Error de red. El servidor podra estar inaccesible o hay problemas de CORS."):n}}async obtenerImagenes(){try{const e=await fetch(_m);return e.ok?await e.json():[]}catch(e){return console.error("Error al obtener imgenes:",e),[]}}async obtenerImagenPorId(e){try{const r=await fetch(`${_m}/${e}`);if(!r.ok)throw new Error(`Error ${r.status}`);return await r.json()}catch(r){throw console.error(`Error al obtener imagen ${e}:`,r),r}}async eliminarImagen(e){try{const r=await fetch(`${_m}/${e}`,{method:"DELETE"});if(!r.ok)throw new Error(`Error ${r.status}`);return await r.json()}catch(r){throw console.error(`Error al eliminar imagen ${e}:`,r),r}}async validarConfiguracion(){try{const e=await fetch(`${_m}/validate-config`);if(!e.ok)throw new Error("No se pudo validar la configuracin de Cloudinary");return await e.json()}catch(e){throw console.error("Error al validar configuracin:",e),e}}async obtenerEstadisticas(){try{const e=await fetch(`${_m}/estadisticas`);return e.ok?await e.json():null}catch(e){return console.error("Error al obtener estadsticas:",e),null}}}const a6=new PK;function NK({categorias:t,valorSeleccionado:e,onChange:r,onAgregarNueva:n,placeholder:a="Selecciona una categora",error:i=!1,className:s=""}){const[l,c]=p.useState(!1),[u,f]=p.useState(""),[m,v]=p.useState(0),h=p.useRef(null),E=p.useRef(null),y=p.useRef(null),b=t.filter(P=>P.nombreCategoria.toLowerCase().includes(u.toLowerCase())),x=t.find(P=>P._id===e),w=(x==null?void 0:x.nombreCategoria)||"";p.useEffect(()=>{const P=L=>{h.current&&!h.current.contains(L.target)&&(c(!1),f(""))};return document.addEventListener("mousedown",P),()=>document.removeEventListener("mousedown",P)},[]),p.useEffect(()=>{l&&E.current&&E.current.focus()},[l]),p.useEffect(()=>{if(y.current&&l){const P=y.current.children[m];P&&P.scrollIntoView({block:"nearest"})}},[m,l]);const N=P=>{if(!l&&(P.key==="Enter"||P.key==="ArrowDown")){P.preventDefault(),c(!0);return}if(l)switch(P.key){case"ArrowDown":P.preventDefault(),v(L=>L<b.length?L+1:L);break;case"ArrowUp":P.preventDefault(),v(L=>L>0?L-1:0);break;case"Enter":P.preventDefault(),m===b.length?(n(),c(!1)):b[m]&&(r(b[m]._id),c(!1),f(""));break;case"Escape":c(!1),f("");break}},I=P=>{r(P),c(!1),f(""),v(0)};return o.createElement("div",{ref:h,className:s,style:{position:"relative",width:"100%"}},o.createElement("div",{onClick:()=>c(!l),className:`modal-input ${i?"input-invalid":""}`,style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",minHeight:"44px"}},o.createElement("span",{style:{flex:1,color:w?"inherit":"#999"}},w||a),o.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",style:{transform:l?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}},o.createElement("polyline",{points:"6 9 12 15 18 9"}))),l&&o.createElement("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,maxHeight:"320px",display:"flex",flexDirection:"column"}},o.createElement("div",{style:{padding:"10px",borderBottom:"1px solid #eee",position:"sticky",top:0,backgroundColor:"white"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",padding:"8px 12px",backgroundColor:"#f5f5f5",borderRadius:"4px",border:"1px solid #ddd"}},o.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"#666"},o.createElement("circle",{cx:"11",cy:"11",r:"8"}),o.createElement("path",{d:"m21 21-4.35-4.35"})),o.createElement("input",{ref:E,type:"text",value:u,onChange:P=>{f(P.target.value),v(0)},onKeyDown:N,placeholder:"Buscar categora...",style:{flex:1,border:"none",outline:"none",backgroundColor:"transparent",fontSize:"14px"}}))),o.createElement("div",{ref:y,style:{overflowY:"auto",maxHeight:"240px"}},b.length>0?b.map((P,L)=>o.createElement("div",{key:P._id,onClick:()=>I(P._id),onMouseEnter:()=>v(L),style:{padding:"12px 16px",cursor:"pointer",backgroundColor:m===L?"#ffe5f0":e===P._id?"#fff0f7":"white",borderLeft:e===P._id?"3px solid #e91e63":"3px solid transparent",transition:"all 0.15s",fontSize:"14px"}},P.nombreCategoria)):o.createElement("div",{style:{padding:"16px",textAlign:"center",color:"#999",fontSize:"14px"}},"No se encontraron categoras"),o.createElement("div",{onClick:()=>{n(),c(!1)},onMouseEnter:()=>v(b.length),style:{padding:"12px 16px",cursor:"pointer",backgroundColor:m===b.length?"#fff9e6":"#fffdf0",borderTop:"1px solid #eee",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px",color:"#e91e63",fontWeight:"500",transition:"all 0.15s"}},o.createElement("svg",{width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor"},o.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),o.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"})),o.createElement("span",null,"Agregar nueva categora")))))}function kK({opciones:t,valorSeleccionado:e,onChange:r,placeholder:n="Selecciona una opcin",error:a=!1,className:i="",campoValor:s="id",campoTexto:l="nombre"}){const[c,u]=p.useState(!1),[f,m]=p.useState(0),v=p.useRef(null),h=p.useRef(null),E=t.find(w=>w[s]===e),y=(E==null?void 0:E[l])||"";p.useEffect(()=>{const w=N=>{v.current&&!v.current.contains(N.target)&&u(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]),p.useEffect(()=>{if(h.current&&c){const w=h.current.children[f];w&&w.scrollIntoView({block:"nearest"})}},[f,c]);const b=w=>{if(!c&&(w.key==="Enter"||w.key==="ArrowDown")){w.preventDefault(),u(!0);return}if(c)switch(w.key){case"ArrowDown":w.preventDefault(),m(N=>N<t.length-1?N+1:N);break;case"ArrowUp":w.preventDefault(),m(N=>N>0?N-1:0);break;case"Enter":w.preventDefault(),t[f]&&(r(t[f][s]),u(!1));break;case"Escape":u(!1);break}},x=w=>{r(w),u(!1),m(0)};return o.createElement("div",{ref:v,className:i,style:{position:"relative",width:"100%"},onKeyDown:b,tabIndex:0},o.createElement("div",{onClick:()=>u(!c),className:`modal-input ${a?"input-invalid":""}`,style:{display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",minHeight:"44px"}},o.createElement("span",{style:{flex:1,color:y?"inherit":"#999"}},y||n),o.createElement("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",style:{transform:c?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s"}},o.createElement("polyline",{points:"6 9 12 15 18 9"}))),c&&o.createElement("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",backgroundColor:"white",border:"1px solid #ddd",borderRadius:"4px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e3,maxHeight:"280px",display:"flex",flexDirection:"column"}},o.createElement("div",{ref:h,style:{overflowY:"auto",maxHeight:"280px"}},t.length>0?t.map((w,N)=>o.createElement("div",{key:w[s],onClick:()=>x(w[s]),onMouseEnter:()=>m(N),style:{padding:"12px 16px",cursor:"pointer",backgroundColor:f===N?"#ffe5f0":e===w[s]?"#fff0f7":"white",borderLeft:e===w[s]?"3px solid #e91e63":"3px solid transparent",transition:"all 0.15s",fontSize:"14px"}},w[l])):o.createElement("div",{style:{padding:"16px",textAlign:"center",color:"#999",fontSize:"14px"}},"No hay opciones disponibles"))))}function AK({modal:t,cerrar:e,categorias:r,unidades:n,cargarInsumos:a,showNotification:i,abriragregarCategoria:s}){var ie,G,te,W,B,j,U,X,Z,me,de,oe,ee,le,pe,ce,_e,He,Re,be,gt;const[l,c]=p.useState({nombreInsumo:"",idCategoriaInsumos:"",cantidad:"",idUnidadMedida:"",stockMinimo:5,precio:"",estado:!0,imagen:null,imagenPreview:null,idImagenExistente:null,catalogosSeleccionados:[],nombreCatalogo:"",precioadicion:"",estadoCatalogo:!0}),[u,f]=p.useState(!1),[m,v]=p.useState([]),[h,E]=p.useState(!1),[y,b]=p.useState(!1),[x,w]=p.useState(!1),N=p.useRef(null),I=p.useRef(null),P=[{label:"Adiciones",value:"adicion"},{label:"Toppings",value:"topping"},{label:" Salsas",value:"salsa"},{label:" Sabores",value:"sabor"},{label:" Rellenos",value:"relleno"}],L=Ae=>{if(!Ae||r.length===0)return!1;const ke=r.find(Xe=>Xe.id===parseInt(Ae));return ke?["toppings","topping","adiciones","adicion","salsas","salsa","sabores","sabor","rellenos","relleno"].some(Xe=>{var Ke;return(Ke=ke.nombreCategoria)==null?void 0:Ke.toLowerCase().includes(Xe)}):!1};p.useEffect(()=>{const Ae=async()=>{if(!l.nombreInsumo.trim()||l.nombreInsumo.trim().length<2){b(!1);return}w(!0);try{const ke=await _d.obtenerInsumos(),Be=l.nombreInsumo.trim().toLowerCase(),Xe=t.tipo==="editar"?t.insumo.id||t.insumo.idinsumo:null,Ke=ke.find(Et=>{const ut=Et.id||Et.idinsumo,zt=(Et.nombreInsumo||Et.nombreinsumo||"").trim().toLowerCase();return Xe&&ut===Xe?!1:zt===Be});b(!!Ke)}catch(ke){console.error("Error al verificar nombre:",ke)}finally{w(!1)}};return I.current&&clearTimeout(I.current),I.current=setTimeout(()=>{Ae()},500),()=>{I.current&&clearTimeout(I.current)}},[l.nombreInsumo,t.tipo,t.insumo]);const R=async Ae=>{if(!Ae)return null;try{console.log(" Cargando imagen con ID:",Ae);const ke=await a6.obtenerImagenPorId(Ae);return console.log(" Imagen obtenida:",ke),ke.urlimg||null}catch(ke){return console.error(" Error al cargar imagen:",ke),null}},O=async Ae=>{E(!0);const ke=[];try{const Be=["adicion","topping","salsa","sabor","relleno"];for(const Xe of Be)try{(await _d.obtenerCatalogos(Xe)).filter(ut=>parseInt(ut.idinsumos)===parseInt(Ae)).forEach(ut=>{ke.push({tipo:Xe,id:ut.idadiciones||ut.idtoppings||ut.idsalsa||ut.idcatalogosabor||ut.idcatalogorrelleno,nombre:ut.nombre,precio:ut.precioadicion,estado:ut.estado})})}catch(Ke){console.log(`No se encontraron catlogos de tipo ${Xe}:`,Ke)}console.log(" Catlogos encontrados:",ke),v(ke)}catch(Be){console.error("Error al cargar catlogos:",Be)}finally{E(!1)}};p.useEffect(()=>{(async()=>{if(t.tipo==="editar"&&t.insumo){const ke=t.insumo.id||t.insumo.idinsumo;let Be=null;if(t.insumo.idImagen||t.insumo.idimagen){const Xe=t.insumo.idImagen||t.insumo.idimagen;Be=await R(Xe)}L(t.insumo.idCategoriaInsumos||t.insumo.idcategoriainsumos)&&await O(ke),c({nombreInsumo:t.insumo.nombreInsumo||t.insumo.nombreinsumo||"",idCategoriaInsumos:t.insumo.idCategoriaInsumos||t.insumo.idcategoriainsumos||"",cantidad:t.insumo.cantidad||"",idUnidadMedida:t.insumo.idUnidadMedida||t.insumo.idunidadmedida||"",stockMinimo:t.insumo.stockMinimo||t.insumo.stockminimo||5,precio:t.insumo.precio||"",estado:t.insumo.estado!==void 0?t.insumo.estado:!0,imagen:null,imagenPreview:Be,idImagenExistente:t.insumo.idImagen||t.insumo.idimagen||null,catalogosSeleccionados:[],nombreCatalogo:t.insumo.nombreInsumo||t.insumo.nombreinsumo||"",precioadicion:"",estadoCatalogo:!0})}else if(t.tipo==="ver"&&t.insumo){const ke=t.insumo.id||t.insumo.idinsumo;let Be=null;if(t.insumo.idImagen||t.insumo.idimagen){const Xe=t.insumo.idImagen||t.insumo.idimagen;Be=await R(Xe)}L(t.insumo.idCategoriaInsumos||t.insumo.idcategoriainsumos)&&await O(ke),c(Xe=>({...Xe,imagenPreview:Be,idImagenExistente:t.insumo.idImagen||t.insumo.idimagen||null}))}else t.tipo==="agregar"&&(c({nombreInsumo:"",idCategoriaInsumos:"",cantidad:"",idUnidadMedida:"",stockMinimo:5,precio:"",estado:!0,imagen:null,imagenPreview:null,idImagenExistente:null,catalogosSeleccionados:[],nombreCatalogo:"",precioadicion:"",estadoCatalogo:!0}),v([]),b(!1))})()},[t,r]);const A=Ae=>{const{name:ke,value:Be}=Ae.target;c(Xe=>{const Ke={...Xe,[ke]:Be};return ke==="nombreInsumo"&&L(Xe.idCategoriaInsumos)&&(Ke.nombreCatalogo=Be),Ke})},T=Ae=>{const ke=Ae.target.files[0];if(ke){if(!ke.type.startsWith("image/")){i("Por favor selecciona un archivo de imagen vlido","error");return}if(ke.size>10*1024*1024){i("La imagen no debe superar los 10MB","error");return}const Be=new FileReader;Be.onloadend=()=>{c(Xe=>({...Xe,imagen:ke,imagenPreview:Be.result}))},Be.readAsDataURL(ke)}},C=()=>{c(Ae=>({...Ae,imagen:null,imagenPreview:null,idImagenExistente:null})),N.current&&(N.current.value="")},_=async()=>{try{if(!l.nombreInsumo.trim()){i("El nombre del insumo es obligatorio","error");return}if(y){i(`Ya existe un insumo con el nombre "${l.nombreInsumo}". Por favor, usa un nombre diferente.`,"error");return}if(!l.idCategoriaInsumos){i("La categora es obligatoria","error");return}const Ae=L(l.idCategoriaInsumos);if(Ae&&l.catalogosSeleccionados.length>0){if(!l.nombreCatalogo.trim()){i("El nombre para el catlogo es obligatorio","error");return}if(!l.precioadicion||parseFloat(l.precioadicion)<0){i("El precio de adicin debe ser mayor o igual a 0","error");return}}if(Ae&&t.tipo==="agregar"&&l.catalogosSeleccionados.length===0){i("Debes seleccionar al menos un tipo de catlogo","error");return}if(!l.cantidad||l.cantidad<=0){i("La cantidad debe ser mayor a 0","error");return}if(!l.precio||l.precio<1e3){i("El precio debe ser mnimo $1,000 COP","error");return}let ke=l.idImagenExistente;if(l.imagen&&l.imagen instanceof File)try{f(!0),i(" Subiendo imagen a Cloudinary...","info"),ke=(await a6.subirImagen(l.imagen,`Insumo: ${l.nombreInsumo}`)).idimagen,i(" Imagen subida correctamente","success")}catch(Xe){if(console.error(" Error al subir imagen:",Xe),f(!1),i("Error al subir imagen: "+Xe.message,"error"),!window.confirm(`No se pudo subir la imagen.

Deseas guardar el insumo sin imagen?`))return;ke=null}finally{f(!1)}const Be={nombreInsumo:l.nombreInsumo.trim(),idCategoriaInsumos:parseInt(l.idCategoriaInsumos),idUnidadMedida:parseInt(l.idUnidadMedida),cantidad:parseFloat(l.cantidad),stockMinimo:parseInt(l.stockMinimo),precio:parseFloat(l.precio),estado:l.estado};if(ke&&!isNaN(parseInt(ke))&&(Be.idImagen=parseInt(ke)),Ae&&l.catalogosSeleccionados.length>0&&(Be.catalogosSeleccionados=l.catalogosSeleccionados,Be.nombreCatalogo=l.nombreCatalogo.trim(),Be.precioadicion=parseFloat(l.precioadicion),Be.estadoCatalogo=l.estadoCatalogo),t.tipo==="agregar"){await _d.crearInsumo(Be);const Xe=l.catalogosSeleccionados.length>0?` y agregado a ${l.catalogosSeleccionados.length} catlogo(s)`:"";i(" Insumo agregado exitosamente"+Xe,"success")}else if(t.tipo==="editar"){const Xe=t.insumo.id||t.insumo.idinsumo;await _d.actualizarInsumo(Xe,Be),l.catalogosSeleccionados.length>0?i(` Insumo actualizado y agregado a ${l.catalogosSeleccionados.length} catlogo(s)`,"success"):i(" Insumo actualizado exitosamente","success")}await a(),e()}catch(Ae){console.error(" Error al guardar insumo:",Ae),i("Error al guardar: "+(Ae.message||"Error desconocido"),"error")}},D=async()=>{try{const Ae=parseFloat(t.insumo.cantidad)||0;if(Ae>0){i(`No se puede eliminar este insumo porque tiene ${Ae} unidades en stock.`,"error");return}const ke=t.insumo.id||t.insumo.idinsumo;await _d.eliminarInsumo(ke),i("Insumo eliminado exitosamente"),await a(),e()}catch(Ae){console.error("Error al eliminar:",Ae),i("Error al eliminar el insumo: "+Ae.message,"error")}},z=t.tipo!=="ver"&&L(l.idCategoriaInsumos),V=z,J=t.tipo==="ver"&&L(((ie=t.insumo)==null?void 0:ie.idCategoriaInsumos)||((G=t.insumo)==null?void 0:G.idcategoriainsumos));return o.createElement(Ta,{visible:t.visible,onClose:e},o.createElement("h2",{className:"modal-title"},t.tipo==="agregar"&&"Agregar Insumo",t.tipo==="editar"&&"Editar Insumo",t.tipo==="ver"&&"Detalles del Insumo",t.tipo==="eliminar"&&"Eliminar Insumo"),o.createElement("div",{className:"modal-body"},t.tipo==="eliminar"?o.createElement("div",{style:{textAlign:"center",padding:"20px 0"}},o.createElement("p",{style:{fontSize:"16px",margin:0}},"Seguro que quieres eliminar el insumo"," ",o.createElement("strong",null,((te=t.insumo)==null?void 0:te.nombreInsumo)||((W=t.insumo)==null?void 0:W.nombreinsumo)),"?")):t.tipo==="ver"?o.createElement("div",{className:"modal-form-grid"},o.createElement("label",null,"Nombre",o.createElement("input",{value:((B=t.insumo)==null?void 0:B.nombreInsumo)||((j=t.insumo)==null?void 0:j.nombreinsumo)||"",readOnly:!0,className:"modal-input"})),o.createElement("label",null,"Categora",o.createElement("input",{value:((U=t.insumo)==null?void 0:U.nombreCategoria)||((Z=(X=t.insumo)==null?void 0:X.categoriainsumos)==null?void 0:Z.nombrecategoria)||((me=r.find(Ae=>{var ke,Be;return Ae.id===parseInt(((ke=t.insumo)==null?void 0:ke.idCategoriaInsumos)||((Be=t.insumo)==null?void 0:Be.idcategoriainsumos))}))==null?void 0:me.nombreCategoria)||"Sin categora",readOnly:!0,className:"modal-input"})),o.createElement("label",null,"Cantidad",o.createElement("input",{type:"number",value:((de=t.insumo)==null?void 0:de.cantidad)||0,readOnly:!0,className:"modal-input"})),o.createElement("label",null,"Unidad",o.createElement("input",{value:((oe=t.insumo)==null?void 0:oe.nombreUnidadMedida)||((le=(ee=t.insumo)==null?void 0:ee.unidadmedida)==null?void 0:le.unidadmedida)||((pe=n.find(Ae=>{var ke,Be;return Ae.idunidadmedida===parseInt(((ke=t.insumo)==null?void 0:ke.idUnidadMedida)||((Be=t.insumo)==null?void 0:Be.idunidadmedida))}))==null?void 0:pe.unidadmedida)||"Sin unidad",readOnly:!0,className:"modal-input"})),o.createElement("label",null,"Stock Mnimo",o.createElement("input",{type:"number",value:((ce=t.insumo)==null?void 0:ce.stockMinimo)||((_e=t.insumo)==null?void 0:_e.stockminimo)||5,readOnly:!0,className:"modal-input"})),o.createElement("label",null,"Precio",o.createElement("input",{type:"text",value:(He=t.insumo)!=null&&He.precio?new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(t.insumo.precio):"$0",readOnly:!0,className:"modal-input"})),l.imagenPreview&&o.createElement("div",{style:{gridColumn:"1 / -1",textAlign:"center",marginTop:"15px"}},o.createElement("h4",{style:{margin:"0 0 10px 0"}},"Imagen del insumo:"),o.createElement("img",{src:l.imagenPreview,alt:"Insumo",style:{maxWidth:"300px",maxHeight:"300px",borderRadius:"8px",border:"2px solid #ddd",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"}})),J&&m.length>0&&o.createElement("div",{style:{gridColumn:"1 / -1",backgroundColor:"#fdf2f8",padding:"15px",borderRadius:"8px",marginTop:"15px",border:"2px solid #ec4899"}},o.createElement("h4",{style:{margin:"0 0 15px 0",color:"#ec4899",fontWeight:"600"}}," Catlogos asociados (",m.length,")"),o.createElement("div",{style:{display:"grid",gap:"10px"}},m.map((Ae,ke)=>o.createElement("div",{key:ke,style:{backgroundColor:"white",padding:"12px",borderRadius:"6px",border:"1px solid #fbcfe8",display:"grid",gridTemplateColumns:"auto 1fr auto auto",gap:"10px",alignItems:"center"}},o.createElement("span",{style:{fontSize:"20px"}},Ae.tipo==="adicion"&&"",Ae.tipo==="topping"&&"",Ae.tipo==="salsa"&&"",Ae.tipo==="sabor"&&"",Ae.tipo==="relleno"&&""),o.createElement("div",null,o.createElement("strong",null,Ae.nombre),o.createElement("div",{style:{fontSize:"12px",color:"#666"}},"Tipo: ",Ae.tipo)),o.createElement("div",{style:{textAlign:"right"}},o.createElement("strong",null,"$",new Intl.NumberFormat("es-CO").format(Ae.precio))),o.createElement("span",{style:{padding:"4px 8px",borderRadius:"4px",fontSize:"12px",backgroundColor:Ae.estado?"#dcfce7":"#fee2e2",color:Ae.estado?"#166534":"#991b1b"}},Ae.estado?"Activo":"Inactivo"))))),J&&h&&o.createElement("div",{style:{gridColumn:"1 / -1",textAlign:"center",padding:"20px"}},o.createElement("p",null," Cargando catlogos...")),o.createElement("div",{style:{gridColumn:"1 / -1",display:"flex",alignItems:"center",gap:"10px",marginTop:"15px"}},o.createElement("span",null,"Estado:"),o.createElement("div",{style:{padding:"6px 12px",borderRadius:"12px",backgroundColor:(Re=t.insumo)!=null&&Re.estado?"#e8f5e9":"#ffebee",color:(be=t.insumo)!=null&&be.estado?"#2e7d32":"#c62828",fontWeight:"500"}},(gt=t.insumo)!=null&&gt.estado?" Activo":" Inactivo"))):o.createElement("div",{className:"modal-form-grid"},o.createElement("label",null,"Nombre*",o.createElement("input",{name:"nombreInsumo",value:l.nombreInsumo,onChange:A,className:`modal-input ${y?"input-invalid":""}`,placeholder:"Ingrese el nombre del insumo",style:{borderColor:y?"#ef4444":x?"#f59e0b":void 0}}),x&&o.createElement("span",{style:{fontSize:"12px",color:"#f59e0b",marginTop:"4px",display:"block"}}," Verificando nombre..."),y&&o.createElement("span",{className:"error-message"}," Ya existe un insumo con este nombre")),o.createElement("label",null,"Categora*",o.createElement(NK,{categorias:r.map(Ae=>({_id:Ae.id,nombreCategoria:Ae.nombreCategoria})),valorSeleccionado:l.idCategoriaInsumos,onChange:Ae=>{c(ke=>({...ke,idCategoriaInsumos:Ae,nombreCatalogo:ke.nombreInsumo}))},onAgregarNueva:s,placeholder:"Selecciona una categora",error:!1})),o.createElement("label",null,"Cantidad*",o.createElement("input",{type:"number",name:"cantidad",value:l.cantidad,onChange:A,className:"modal-input",min:"0",step:"0.01",placeholder:"0.00"})),o.createElement("label",null,"Unidad*",o.createElement(kK,{opciones:n,valorSeleccionado:l.idUnidadMedida,onChange:Ae=>c({...l,idUnidadMedida:Ae}),placeholder:"Selecciona una unidad",error:!1,campoValor:"idunidadmedida",campoTexto:"unidadmedida"})),o.createElement("label",null,"Stock Mnimo*",o.createElement("input",{type:"number",name:"stockMinimo",value:l.stockMinimo,onChange:A,className:"modal-input",min:"0",step:"1",placeholder:"5"})),o.createElement("label",null,"Precio*",o.createElement("div",{style:{position:"relative"}},o.createElement("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6c757d",fontSize:"14px",fontWeight:"500"}},"$"),o.createElement("input",{type:"number",name:"precio",value:l.precio,onChange:A,className:"modal-input",min:"1000",step:"100",placeholder:"1,000",style:{paddingLeft:"25px"}}),o.createElement("small",{style:{display:"block",marginTop:"4px",color:"#6c757d",fontSize:"12px"}},"Mnimo: $1,000 COP"))),V&&o.createElement("div",{style:{gridColumn:"1 / -1",marginTop:"10px"}},o.createElement("label",null,"Imagen* ",u&&o.createElement("span",{style:{color:"#ec4899"}}," Subiendo..."),o.createElement("div",{style:{marginTop:"8px"}},o.createElement("input",{ref:N,type:"file",accept:"image/*",onChange:T,disabled:u,style:{display:"none"}}),o.createElement("button",{type:"button",onClick:()=>{var Ae;return(Ae=N.current)==null?void 0:Ae.click()},disabled:u,className:"modal-btn",style:{backgroundColor:u?"#ccc":"#ec4899",color:"white",padding:"8px 16px",borderRadius:"6px",border:"none",cursor:u?"not-allowed":"pointer"}}," Seleccionar imagen"),l.imagenPreview&&o.createElement("div",{style:{marginTop:"10px",textAlign:"center"}},o.createElement("img",{src:l.imagenPreview,alt:"Preview",style:{maxWidth:"200px",maxHeight:"200px",borderRadius:"8px",border:"2px solid #ddd"}}),o.createElement("button",{type:"button",onClick:C,className:"modal-btn cancel-btn",style:{marginTop:"10px",display:"block",margin:"10px auto 0"}}," Remover imagen"))))),z&&o.createElement(o.Fragment,null,o.createElement("div",{style:{gridColumn:"1 / -1",backgroundColor:"#fce4ec",padding:"15px",borderRadius:"8px",marginTop:"15px",border:"2px solid #ec4899"}},o.createElement("h3",{style:{margin:"0 0 15px 0",color:"#ec4899",fontSize:"16px",display:"flex",alignItems:"center",gap:"8px"}}," Informacin de Catlogos"),o.createElement("div",{className:"modal-form-grid"},o.createElement("div",{style:{gridColumn:"1 / -1"}},o.createElement("label",{style:{display:"block",marginBottom:"8px",fontWeight:"600",color:"#374151"}},t.tipo==="agregar"?"Agregar a catlogos* (Puedes seleccionar varios)":"Agregar a catlogos adicionales (Opcional)"),o.createElement(D9,{value:l.catalogosSeleccionados,options:P,onChange:Ae=>c({...l,catalogosSeleccionados:Ae.value}),placeholder:" Selecciona los catlogos donde deseas agregar este insumo",display:"chip",className:"w-full",panelStyle:{minWidth:"350px"},style:{width:"100%",minHeight:"48px",border:"2px solid #ec4899",borderRadius:"8px",fontSize:"14px",backgroundColor:"#fff"},itemTemplate:Ae=>Ae?o.createElement("div",{style:{padding:"8px 12px",display:"flex",alignItems:"center",gap:"8px",fontSize:"14px"}},o.createElement("span",null,Ae.label)):null,selectedItemTemplate:Ae=>Ae?o.createElement("div",{style:{backgroundColor:"#fce4ec",color:"#ec4899",padding:"4px 12px",borderRadius:"16px",fontSize:"13px",fontWeight:"500",display:"inline-flex",alignItems:"center",gap:"6px",margin:"2px"}},Ae.label):null}),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"6px",marginTop:"8px",padding:"8px 12px",backgroundColor:"#fef3c7",borderLeft:"3px solid #f59e0b",borderRadius:"4px"}},o.createElement("span",{style:{fontSize:"16px"}},""),o.createElement("small",{style:{color:"#92400e",fontSize:"13px",lineHeight:"1.4"}},t.tipo==="agregar"?"Este insumo se agregar automticamente a todos los catlogos que selecciones":"Los catlogos que selecciones se agregarn SIN eliminar los existentes"))),o.createElement("label",null,"Nombre para el catlogo*",o.createElement("input",{name:"nombreCatalogo",value:l.nombreCatalogo,onChange:A,className:"modal-input",placeholder:"Ejemplo: Chocolate, Crema, Vainilla..."})),o.createElement("label",null,"Precio de adicin*",o.createElement("div",{style:{position:"relative"}},o.createElement("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",color:"#6c757d",fontSize:"14px",fontWeight:"500"}},"$"),o.createElement("input",{type:"number",name:"precioadicion",value:l.precioadicion,onChange:A,className:"modal-input",min:"0",step:"100",placeholder:"0",style:{paddingLeft:"25px"}}))),o.createElement("div",{style:{gridColumn:"1 / -1",display:"flex",alignItems:"center",gap:"10px",marginTop:"5px"}},o.createElement("span",null,"Estado del catlogo:"),o.createElement(Xo,{checked:l.estadoCatalogo,onChange:Ae=>c({...l,estadoCatalogo:Ae.value})}),o.createElement("span",{style:{color:l.estadoCatalogo?"#28a745":"#dc3545",fontWeight:"500"}},l.estadoCatalogo?"Activo":"Inactivo")),l.catalogosSeleccionados.length>0&&o.createElement("div",{style:{gridColumn:"1 / -1",backgroundColor:"#ecfdf5",padding:"16px",borderRadius:"8px",border:"2px solid #10b981",marginTop:"12px"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"}},o.createElement("span",{style:{fontSize:"20px"}},""),o.createElement("p",{style:{margin:0,fontWeight:"700",color:"#047857",fontSize:"15px"}},t.tipo==="agregar"?`Se crear el insumo en ${l.catalogosSeleccionados.length} catlogo${l.catalogosSeleccionados.length>1?"s":""}:`:`Se agregar a ${l.catalogosSeleccionados.length} catlogo${l.catalogosSeleccionados.length>1?"s":""} adicional${l.catalogosSeleccionados.length>1?"es":""}:`)),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"8px"}},l.catalogosSeleccionados.map(Ae=>{const ke=P.find(Be=>Be.value===Ae);return o.createElement("div",{key:Ae,style:{backgroundColor:"#fff",padding:"10px 14px",borderRadius:"6px",border:"1px solid #d1fae5",display:"flex",alignItems:"center",gap:"6px",fontSize:"14px",fontWeight:"500",color:"#047857"}},o.createElement("span",null,""),ke==null?void 0:ke.label)})))))),t.tipo!=="agregar"&&o.createElement("div",{style:{gridColumn:"1 / -1",display:"flex",alignItems:"center",gap:"10px",marginTop:"10px"}},o.createElement("span",null,"Estado:"),o.createElement(Xo,{checked:l.estado,onChange:Ae=>c({...l,estado:Ae.value})}),o.createElement("span",{style:{color:l.estado?"#28a745":"#dc3545",fontWeight:"500"}},l.estado?"Activo":"Inactivo")))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e},t.tipo==="ver"?"Cerrar":(t.tipo==="eliminar","Cancelar")),t.tipo==="eliminar"&&o.createElement("button",{className:"modal-btn",onClick:D,style:{backgroundColor:"#ec4899",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:"pointer",fontWeight:"600",transition:"background-color 0.2s ease"},onMouseEnter:Ae=>{Ae.target.style.backgroundColor="#db2777"},onMouseLeave:Ae=>{Ae.target.style.backgroundColor="#ec4899"}},"Eliminar"),(t.tipo==="agregar"||t.tipo==="editar")&&o.createElement("button",{className:"modal-btn save-btn",onClick:_,disabled:u||y||x,style:{backgroundColor:u||y||x?"#ccc":"#ec4899",color:"white",cursor:u||y||x?"not-allowed":"pointer"}},u?" Subiendo...":"Guardar")))}function OK({cerrar:t,showNotification:e,cargarCategorias:r}){const[n,a]=p.useState(""),[i,s]=p.useState(""),[l,c]=p.useState({nombre:"",descripcion:""}),[u,f]=p.useState(!1);p.useEffect(()=>{const h={nombre:"",descripcion:""};n.trim()?n.trim().length<3?h.nombre="El nombre debe tener al menos 3 caracteres":n.trim().length>50?h.nombre="El nombre no puede superar los 50 caracteres":/^[A-Za-z\s]+$/.test(n.trim())||(h.nombre="El nombre solo puede contener letras y espacios"):h.nombre="El nombre es obligatorio",i.trim()?i.trim().length<10?h.descripcion="La descripcin debe tener al menos 10 caracteres":i.trim().length>200&&(h.descripcion="La descripcin no puede superar los 200 caracteres"):h.descripcion="La descripcin es obligatoria",c(h)},[n,i]);const m=()=>l.nombre||l.descripcion?(l.nombre?e(l.nombre,"error"):l.descripcion&&e(l.descripcion,"error"),!1):!0,v=async()=>{if(m())try{f(!0);const h={nombreCategoria:n.trim(),descripcion:i.trim(),estado:!0};await Of.crearCategoria(h),e("Categora agregada exitosamente"),await r(),t()}catch(h){console.error("Error al agregar categora:",h),e("Error al agregar la categora: "+h.message,"error")}finally{f(!1)}};return o.createElement(Ta,{visible:!0,onClose:t},o.createElement("h2",{className:"modal-title"},"Agregar Categora de Insumo"),o.createElement("div",{className:"modal-body"},o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"}},o.createElement("label",null,"Nombre*",o.createElement("input",{value:n,onChange:h=>a(h.target.value),className:"modal-input",placeholder:"Ej: Frutas, Lcteos, Harinas...",disabled:u,autoFocus:!0}),l.nombre&&o.createElement("p",{className:"error",style:{color:"#dc3545",fontSize:"12px",margin:"5px 0 0 0"}},l.nombre)),o.createElement("label",null,"Descripcin*",o.createElement("textarea",{value:i,onChange:h=>s(h.target.value),className:"modal-input textarea",rows:3,placeholder:"Descripcin detallada de la categora...",style:{resize:"vertical"},disabled:u}),l.descripcion&&o.createElement("p",{className:"error",style:{color:"#dc3545",fontSize:"12px",margin:"5px 0 0 0"}},l.descripcion)),o.createElement("div",{style:{backgroundColor:"#e3f2fd",padding:"10px",borderRadius:"4px",fontSize:"12px",color:"#1565c0"}},o.createElement("strong",null,"Nota:")," La nueva categora se crear en estado ",o.createElement("strong",null,"Activo")," por defecto."))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:t,disabled:u},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:v,disabled:u},u?"Guardando...":"Guardar")))}function IK({insumo:t}){const e=c=>{var u;return c.nombreUnidadMedida?c.nombreUnidadMedida:(u=c.unidadmedida)!=null&&u.unidadmedida?c.unidadmedida.unidadmedida:c.unidad?c.unidad:"unid"},r=t.stockMinimo>0?t.cantidad/t.stockMinimo*100:100,a=t.cantidad<=0?{texto:"A",backgroundColor:"#ffcdd2",color:"#b71c1c",borderColor:"#f44336"}:r<20?{texto:"C",backgroundColor:"#ffcdd2",color:"#b71c1c",borderColor:"#f44336"}:r<50?{texto:"B",backgroundColor:"#fff3e0",color:"#ef6c00",borderColor:"#ff9800"}:{texto:"N",backgroundColor:"#e8f5e8",color:"#2e7d32",borderColor:"#4caf50"},i=e(t),s=t.cantidad||0,l={padding:"6px 12px",borderRadius:"12px",fontWeight:"500",fontSize:"12px",textAlign:"center",display:"inline-block",minWidth:"120px",border:`1px solid ${a.borderColor}`,backgroundColor:a.backgroundColor,color:a.color};return o.createElement("div",{style:l},s," ",i," ",a.texto)}function _K({insumo:t}){const e=s=>{var l;return s.nombreUnidadMedida?s.nombreUnidadMedida:(l=s.unidadmedida)!=null&&l.unidadmedida?s.unidadmedida.unidadmedida:s.unidad?s.unidad:"unid"},r=s=>{const{cantidad:l,stockMinimo:c}=s,u=c>0?l/c*100:100,f={padding:"6px 12px",borderRadius:"12px",fontWeight:"500",fontSize:"12px",textAlign:"center",display:"inline-block",minWidth:"120px",border:"1px solid"};return l<=0?{...f,backgroundColor:"#ffcdd2",color:"#b71c1c",borderColor:"#f44336"}:u<20?{...f,backgroundColor:"#ffcdd2",color:"#b71c1c",borderColor:"#f44336"}:u<50?{...f,backgroundColor:"#f8bbd9",color:"#c62828",borderColor:"#e91e63"}:{...f,backgroundColor:"#e8f5e8",color:"#2e7d32",borderColor:"#4caf50"}},n=t.stockMinimo||5,a=e(t),i=r(t);return o.createElement("div",{style:i},"Min: ",n," ",a)}function LK(){const[t,e]=p.useState([]),[r,n]=p.useState([]),[a,i]=p.useState([]),[s,l]=p.useState(!0),[c,u]=p.useState(""),[f,m]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[v,h]=p.useState({visible:!1,tipo:"",insumo:null}),[E,y]=p.useState(!1),[b,x]=p.useState(!1);p.useEffect(()=>{w()},[]);const w=async()=>{try{const C=await Of.obtenerCategorias();n(C.filter(z=>z.estado));const _=await _d.obtenerUnidadesMedida();i(_);const D=await _d.obtenerInsumos();e(D)}catch(C){N("Error cargando datos: "+C.message,"error")}finally{l(!1)}},N=(C,_="success")=>{m({visible:!0,mensaje:C,tipo:_})},I=()=>m({visible:!1}),P=async C=>{try{const _=t.find(z=>(z.id||z.idinsumo)===C);if(!_){console.error("Insumo no encontrado:",C),N("Insumo no encontrado","error");return}const D=!_.estado;if(!D&&parseFloat(_.cantidad)>0){N(`No se puede deshabilitar este insumo porque tiene ${_.cantidad} unidades en stock. Para deshabilitarlo, primero debe reducir el stock a 0.`,"error");return}await _d.cambiarEstadoInsumo(C,D),e(t.map(z=>(z.id||z.idinsumo)===C?{...z,estado:D}:z)),N(`Insumo ${D?"activado":"desactivado"} exitosamente`)}catch(_){console.error("Error al cambiar estado:",_),N("Error cambiando estado: "+_.message,"error")}},L=(C,_=null)=>{h({visible:!0,tipo:C,insumo:_})},R=()=>{h({visible:!1,tipo:"",insumo:null})},O=()=>{x(C=>!C)},A=t.filter(C=>{var D,z,V,J;const _=c.toLowerCase();return((D=C.nombreInsumo)==null?void 0:D.toLowerCase().includes(_))||((z=C.nombreCategoria)==null?void 0:z.toLowerCase().includes(_))||((J=(V=C.categoriainsumos)==null?void 0:V.nombrecategoria)==null?void 0:J.toLowerCase().includes(_))||String(C.cantidad).includes(_)||(C.estado?"activo":"inactivo").includes(_)}),T=C=>C.id||C.idinsumo;return s?o.createElement(rc,null):o.createElement("div",{className:"admin-wrapper"},o.createElement(Fo,{visible:f.visible,mensaje:f.mensaje,tipo:f.tipo,onClose:I}),o.createElement("div",{className:"admin-toolbar"},o.createElement(tc,{value:c,onChange:u,placeholder:"Buscar por nombre..."}),o.createElement("button",{className:"admin-button pink",onClick:()=>L("agregar"),type:"button"},o.createElement("i",{className:"fas fa-plus"})," Agregar")),o.createElement("div",{style:{margin:"10px 0",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("div",{style:{fontSize:"14px",color:"#666"}}," ",t.length," insumos |  ",r.length," categoras |  ",a.length," unidades"),o.createElement("button",{className:"admin-button",onClick:O,style:{padding:"5px 10px",fontSize:"14px",backgroundColor:"#e3f2fd",color:"#1565c0",border:"1px solid #bbdefb",borderRadius:"6px",cursor:"pointer"}}," Info")),b&&o.createElement("div",{style:{backgroundColor:"#f8f9fa",padding:"15px",borderRadius:"5px",marginBottom:"15px",border:"1px solid #dee2e6"}},o.createElement("h4",{style:{marginTop:0}}," Niveles de Stock:"),o.createElement("ul",{style:{marginBottom:0}},o.createElement("li",null,o.createElement("strong",null,"Crtico:")," Menos del 20% del stock mnimo"),o.createElement("li",null,o.createElement("strong",null,"Bajo:")," Entre 20% y 50% del stock mnimo"),o.createElement("li",null,o.createElement("strong",null,"Normal:")," Ms del 50% del stock mnimo"))),o.createElement("h2",{className:"admin-section-title"},"Gestin de Insumos"),o.createElement(_s,{value:A,paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],className:"admin-table compact-paginator",tableStyle:{minWidth:"50rem"},emptyMessage:"No se encontraron insumos"},o.createElement(cr,{header:"N",body:(C,{rowIndex:_})=>_+1,style:{width:"50px"}}),o.createElement(cr,{field:"nombreInsumo",header:"Nombre"}),o.createElement(cr,{header:"Categora",body:C=>{var _;return C.nombreCategoria||((_=C.categoriainsumos)==null?void 0:_.nombrecategoria)||"Sin categora"}}),o.createElement(cr,{header:"Unidad",body:C=>{var _;return C.nombreUnidadMedida||((_=C.unidadmedida)==null?void 0:_.unidadmedida)||"Sin unidad"}}),o.createElement(cr,{header:"Stock Actual",body:C=>o.createElement(IK,{insumo:C})}),o.createElement(cr,{header:"Stock Mnimo",body:C=>o.createElement(_K,{insumo:C})}),o.createElement(cr,{header:"Estado",body:C=>o.createElement(Xo,{checked:C.estado,onChange:()=>P(T(C))}),style:{width:"80px"}}),o.createElement(cr,{header:"Acciones",body:C=>o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"3px"}},o.createElement(qn,{text:"Visualizar"},o.createElement("button",{className:"admin-button",onClick:()=>L("ver",C),style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-eye",style:{fontSize:"11px"}}))),o.createElement(qn,{text:C.estado?"Editar":"Insumo inactivo"},o.createElement("button",{className:"admin-button",onClick:()=>C.estado&&L("editar",C),disabled:!C.estado,style:{background:C.estado?"#fff8e1":"#f5f5f5",color:C.estado?"#f57c00":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:C.estado?"pointer":"not-allowed",opacity:C.estado?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-pen",style:{fontSize:"11px"}}))),o.createElement(qn,{text:C.estado?"Eliminar":"Insumo inactivo"},o.createElement("button",{className:"admin-button",onClick:()=>C.estado&&L("eliminar",C),disabled:!C.estado,style:{background:C.estado?"#ffebee":"#f5f5f5",color:C.estado?"#d32f2f":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:C.estado?"pointer":"not-allowed",opacity:C.estado?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-trash",style:{fontSize:"11px"}})))),style:{width:"100px"}})),v.visible&&o.createElement(AK,{modal:v,cerrar:R,categorias:r,unidades:a,cargarInsumos:w,showNotification:N,abriragregarCategoria:()=>y(!0)}),E&&o.createElement(OK,{cerrar:()=>y(!1),showNotification:N,cargarCategorias:w}),o.createElement(oK,null))}const Gl="https://deliciasoft-backend.onrender.com/api";class TK{async obtenerRoles(){try{const e=await fetch(`${Gl}/rol`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json(),n=this.transformarRolesDesdeAPI(r);return this.ordenarRolesConAdminPrimero(n)}catch(e){throw console.error("Error al obtener roles:",e),new Error("Error al obtener la lista de roles")}}ordenarRolesConAdminPrimero(e){const r=e.filter(a=>this.esRolAdmin(a.nombre)),n=e.filter(a=>!this.esRolAdmin(a.nombre));return n.sort((a,i)=>a.nombre.localeCompare(i.nombre)),[...r,...n]}esRolAdmin(e){return e&&e.toLowerCase()==="admin"}puedeEditarRol(e){return!this.esRolAdmin(e.nombre)}async obtenerRolPorId(e){try{const r=await fetch(`${Gl}/rol/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw r.status===404?new Error("Rol no encontrado"):new Error(`HTTP error! status: ${r.status}`);const n=await r.json();return this.transformarRolDesdeAPI(n)}catch(r){throw console.error("Error al obtener rol:",r),r}}async crearRol(e){var r;try{if(this.esRolAdmin(e.nombre))throw new Error('No se puede crear otro rol con el nombre "Admin". Ya existe un rol administrador en el sistema.');const n=this.transformarRolParaAPI(e);if(!e.permisos||!Array.isArray(e.permisos))throw new Error("Los permisos deben ser un array");const a=e.permisos.filter(l=>typeof l=="number"&&l>0&&Number.isInteger(l));if(a.length!==e.permisos.length)throw new Error("Algunos permisos no tienen un formato vlido");n.permisos=a,console.log("Enviando datos al backend:",n);const i=await fetch(`${Gl}/rol`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`},body:JSON.stringify(n)});if(!i.ok){const l=await i.json().catch(()=>({}));throw new Error(l.message||`HTTP error! status: ${i.status}`)}const s=await i.json();return console.log("Respuesta del backend:",s),{id:s.idrol||((r=s.rol)==null?void 0:r.idrol),nombre:e.nombre,descripcion:e.descripcion,permisos:a,activo:e.activo!==void 0?e.activo:!0}}catch(n){throw console.error("Error detallado al crear rol:",n),n}}async actualizarRol(e,r){try{if(this.esRolAdmin(r.nombre))throw new Error("No se puede editar el rol Admin. Este rol est protegido del sistema.");const n=this.transformarRolParaAPI(r);if(r.permisos&&Array.isArray(r.permisos)){const s=r.permisos.filter(l=>typeof l=="number"&&l>0&&Number.isInteger(l));console.log("Permisos originales:",r.permisos),console.log("Permisos vlidos filtrados:",s);try{const l=await this.obtenerPermisosDisponiblesIds();console.log("Permisos disponibles en backend:",l);const c=s.filter(u=>l.includes(u));console.log("Permisos que existen en backend:",c),c.length>0?n.permisos=c:(console.warn("No se encontraron permisos vlidos, se omite el campo permisos"),delete n.permisos)}catch{console.warn("No se pudieron validar permisos contra backend, usando permisos del cliente"),n.permisos=s}}console.log("Datos finales a enviar al backend:",n);const a=await fetch(`${Gl}/rol/${e}`,{method:"PUT",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`},body:JSON.stringify(n)});if(!a.ok){const s=await a.text();console.error("Error response body:",s);let l;try{l=JSON.parse(s)}catch{l={message:`HTTP ${a.status}: ${s}`}}throw new Error(l.message||`HTTP error! status: ${a.status}`)}const i=await a.json();return console.log("Rol actualizado exitosamente:",i),{id:e,nombre:r.nombre,descripcion:r.descripcion,permisos:r.permisos||[],activo:r.activo}}catch(n){throw console.error("Error al actualizar rol:",n),n}}async obtenerPermisosDisponiblesIds(){try{const e=await fetch(`${Gl}/rol/permisos`,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok)return(await e.json()).map(a=>a.idpermiso);const r=await fetch(`${Gl}/permisos`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok)return(await r.json()).map(a=>a.idpermiso);throw new Error("No se pudieron obtener permisos")}catch(e){return console.warn("Error al obtener permisos disponibles:",e),[1,2,3,4,5,6,7,8,9,10,11,12,13]}}async eliminarRol(e){try{const r=await this.obtenerRolPorId(e);if(this.esRolAdmin(r.nombre))throw new Error("No se puede eliminar el rol Admin. Este rol es esencial para el sistema.");const n=await fetch(`${Gl}/rol/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`}});if(!n.ok){const a=await n.json().catch(()=>({}));throw new Error(a.message||`HTTP error! status: ${n.status}`)}return{success:!0,message:"Rol eliminado exitosamente"}}catch(r){throw console.error("Error al eliminar rol:",r),r}}async cambiarEstadoRol(e,r){try{const n=await this.obtenerRolPorId(e);if(this.esRolAdmin(n.nombre)&&!r)throw new Error("No se puede desactivar el rol Admin. Este rol debe permanecer siempre activo.");const a=await fetch(`${Gl}/rol/${e}/estado`,{method:"PATCH",headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.getToken()}`},body:JSON.stringify({estado:r})});if(!a.ok){const s=await a.json().catch(()=>({}));throw new Error(s.message||"Error al actualizar estado")}return await a.json()}catch(n){throw console.error("Error al cambiar estado:",n),new Error(`No se pudo actualizar el estado: ${n.message}`)}}async rolTieneUsuarios(e){try{const r=await fetch(`${Gl}/rol/${e}/usuarios`,{method:"GET",headers:{"Content-Type":"application/json"}});return r.ok?(await r.json()).length>0:!1}catch(r){return console.error("Error al verificar usuarios del rol:",r),!1}}async obtenerPermisos(){try{console.log("Intentando obtener permisos desde /rol/permisos...");const e=await fetch(`${Gl}/rol/permisos`,{method:"GET",headers:{"Content-Type":"application/json"}});if(e.ok){const n=await e.json();return console.log("Permisos obtenidos desde /rol/permisos:",n),this.transformarPermisosDesdeAPI(n)}console.log("Intentando obtener permisos desde /permisos...");const r=await fetch(`${Gl}/permisos`,{method:"GET",headers:{"Content-Type":"application/json"}});if(r.ok){const n=await r.json();return console.log("Permisos obtenidos desde /permisos:",n),this.transformarPermisosDesdeAPI(n)}throw new Error("Ambos endpoints de permisos fallaron")}catch(e){return console.error("Error al obtener permisos:",e),console.log("Usando permisos mock como fallback"),this.obtenerPermisosMock()}}async obtenerPermisosActivos(){try{return(await this.obtenerPermisos()).filter(r=>r.estado!==!1)}catch(e){return console.error("Error al obtener permisos activos:",e),this.obtenerPermisosMock()}}async obtenerPermisosRol(e){try{const r=await fetch(`${Gl}/rol/${e}/permisos`,{method:"GET",headers:{"Content-Type":"application/json"}});return r.ok?(await r.json()).map(a=>a.idpermiso):(console.warn(`No se pudieron obtener permisos del rol ${e}`),[])}catch(r){return console.error("Error al obtener permisos del rol:",r),[]}}getToken(){return typeof window<"u"&&window.localStorage&&localStorage.getItem("token")||""}obtenerPermisosMock(){return[{id:1,nombre:"Dashboard",modulo:"Dashboard",estado:!0},{id:2,nombre:"Roles",modulo:"Roles",estado:!0},{id:3,nombre:"Usuarios",modulo:"Usuarios",estado:!0},{id:4,nombre:"Cliente",modulo:"Cliente",estado:!0},{id:5,nombre:"Ventas",modulo:"Ventas",estado:!0},{id:6,nombre:"Sedes",modulo:"Sedes",estado:!0},{id:7,nombre:"Cat.Productos",modulo:"Cat.Productos",estado:!0},{id:8,nombre:"Productos",modulo:"Productos",estado:!0},{id:9,nombre:"Cat.Insumos",modulo:"Cat.Insumos",estado:!0},{id:10,nombre:"Insumos",modulo:"Insumos",estado:!0},{id:11,nombre:"Proveedores",modulo:"Proveedores",estado:!0},{id:12,nombre:"Compras",modulo:"Compras",estado:!0},{id:13,nombre:"Produccion",modulo:"Produccion",estado:!0}]}transformarRolDesdeAPI(e){return{id:e.idrol||e.id,nombre:e.rol||e.nombre,descripcion:e.descripcion,permisos:e.permisos||[],activo:e.estado!==void 0?e.estado:!0,tieneUsuarios:e.tieneUsuarios||!1,esAdmin:this.esRolAdmin(e.rol||e.nombre)}}transformarRolesDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarRolDesdeAPI(r)):[]}transformarRolParaAPI(e){return{rol:e.nombre,descripcion:e.descripcion,estado:e.activo!==void 0?e.activo:!0}}transformarPermisosDesdeAPI(e){return Array.isArray(e)?e.map(r=>({id:r.idpermiso||r.id,nombre:r.modulo||r.descripcion||r.nombre,modulo:r.modulo||"Sin mdulo",descripcion:r.descripcion||"",estado:r.estado!==!1})):[]}validarDatosRol(e){var a,i,s,l,c,u,f,m,v,h,E;const r=[];this.esRolAdmin(e.nombre)&&r.push('No se puede crear otro rol con el nombre "Admin"'),(a=e.nombre)!=null&&a.trim()||r.push("El nombre del rol es obligatorio"),((i=e.nombre)==null?void 0:i.trim().length)<3&&r.push("El nombre del rol debe tener al menos 3 caracteres"),((s=e.nombre)==null?void 0:s.trim().length)>20&&r.push("El nombre del rol no puede tener ms de 20 caracteres"),(l=e.descripcion)!=null&&l.trim()||r.push("La descripcin del rol es obligatoria"),((c=e.descripcion)==null?void 0:c.trim().length)<5&&r.push("La descripcin debe tener al menos 5 caracteres"),((u=e.descripcion)==null?void 0:u.trim().length)>30&&r.push("La descripcin no puede tener ms de 30 caracteres"),(f=e.permisos)!=null&&f.length||r.push("Debe seleccionar al menos un permiso");const n=((m=e.permisos)==null?void 0:m.filter(y=>typeof y!="number"||y<=0||!Number.isInteger(y)))||[];return n.length>0&&r.push(`Permisos invlidos encontrados: ${n.join(", ")}`),{valido:r.length===0,errores:r,detalles:{nombre:((v=e.nombre)==null?void 0:v.trim())||"",descripcion:((h=e.descripcion)==null?void 0:h.trim())||"",permisos:e.permisos||[],cantidadPermisos:((E=e.permisos)==null?void 0:E.length)||0}}}}const Aa=new TK,xn={isRequired:t=>t&&t.toString().trim().length>0,minLength:(t,e)=>t&&t.toString().trim().length>=e,maxLength:(t,e)=>!t||t.toString().trim().length<=e,isValidName:t=>/^[a-zA-Z\s]+$/.test(t),hasValidNameLength:t=>{const e=t.trim();return e.length>=2&&e.length<=15},noMultipleSpaces:t=>!/\s{2,}/.test(t),noLeadingTrailingSpaces:t=>t===t.trim(),isValidEmail:t=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t),isValidEmailDomain:t=>{var r;const e=(r=t.split("@")[1])==null?void 0:r.toLowerCase();return e&&e.includes(".")&&e.length>3},hasValidEmailLength:t=>t.length>=5&&t.length<=100,hasMinLength:(t,e=6)=>t.length>=e,hasMaxLength:(t,e=50)=>t.length<=e,hasLetter:t=>/[a-zA-Z]/.test(t),hasNumber:t=>/[0-9]/.test(t),hasUpperCase:t=>/[A-Z]/.test(t),hasLowerCase:t=>/[a-z]/.test(t),hasSpecialChar:t=>/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t),noCommonPatterns:t=>{const e=["123456","654321","password","contrasea","qwerty","abc123","123abc","admin","usuario","user"],r=t.toLowerCase();return!e.some(n=>r.includes(n))},isValidDocumentFormat:(t,e)=>{const r=t.trim();switch(e){case"CC":return/^\d{7,10}$/.test(r);case"CE":return/^\d{6,10}$/.test(r);case"PA":return/^[A-Z0-9]{6,12}$/i.test(r);case"NIT":return/^\d{9,11}$/.test(r);default:return r.length>=6&&r.length<=12}},isValidDocumentLength:(t,e)=>{const r=t.trim().length;switch(e){case"CC":return r>=7&&r<=10;case"CE":return r>=6&&r<=10;case"PA":return r>=6&&r<=12;case"NIT":return r>=9&&r<=11;default:return r>=6&&r<=12}},isNumeric:t=>/^\d*$/.test(t),isAlphanumeric:t=>/^[A-Z0-9]*$/i.test(t),isUniqueEmail:(t,e,r=null)=>!e.some(n=>n.correo.toLowerCase()===t.toLowerCase()&&n.id!==r),isUniqueDocument:(t,e,r=null)=>!e.some(n=>n.documento===t.trim()&&n.id!==r),isValidSelection:t=>t&&t!==""&&t!=="0"},RK=(t,e,r,n)=>{const a=[],{nombres:i,apellidos:s,correo:l,contrasea:c,confirmarContrasea:u,rol_id:f,tipo_documento_id:m,documento:v}=t;return xn.isRequired(i)?(xn.hasValidNameLength(i)||a.push("Los nombres deben tener entre 2 y 15 caracteres"),xn.isValidName(i)||a.push("Los nombres solo pueden contener letras y espacios"),xn.noMultipleSpaces(i)||a.push("Los nombres no pueden tener espacios mltiples consecutivos"),xn.noLeadingTrailingSpaces(i)||a.push("Los nombres no pueden comenzar o terminar con espacios")):a.push("Los nombres son obligatorios"),xn.isRequired(s)?(xn.hasValidNameLength(s)||a.push("Los apellidos deben tener entre 2 y 15 caracteres"),xn.isValidName(s)||a.push("Los apellidos solo pueden contener letras y espacios"),xn.noMultipleSpaces(s)||a.push("Los apellidos no pueden tener espacios mltiples consecutivos"),xn.noLeadingTrailingSpaces(s)||a.push("Los apellidos no pueden comenzar o terminar con espacios")):a.push("Los apellidos son obligatorios"),xn.isRequired(l)?(xn.hasValidEmailLength(l)||a.push("El correo debe tener entre 5 y 100 caracteres"),xn.isValidEmail(l)?xn.isValidEmailDomain(l)||a.push("El dominio del correo electrnico no es vlido"):a.push("El formato del correo electrnico no es vlido"),xn.isUniqueEmail(l,r,n==null?void 0:n.id)||a.push("Ya existe un usuario registrado con este correo electrnico")):a.push("El correo electrnico es obligatorio"),(e==="agregar"||e==="editar"&&c!=="********")&&(xn.isRequired(c)?(xn.hasMinLength(c,8)||a.push("La contrasea debe tener al menos 8 caracteres"),xn.hasMaxLength(c,50)||a.push("La contrasea no puede tener ms de 50 caracteres"),xn.hasLetter(c)||a.push("La contrasea debe contener al menos una letra"),xn.hasNumber(c)||a.push("La contrasea debe contener al menos un nmero"),xn.hasUpperCase(c)||a.push("La contrasea debe contener al menos una letra mayscula"),xn.hasLowerCase(c)||a.push("La contrasea debe contener al menos una letra minscula"),xn.hasSpecialChar(c)||a.push("La contrasea debe contener al menos un carcter especial (!@#$%^&*()_+-=[]{}|;:,.<>?)"),xn.noCommonPatterns(c)||a.push("La contrasea no puede contener patrones comunes (123456, password, qwerty, etc.)")):a.push("La contrasea es obligatoria"),e==="agregar"&&(xn.isRequired(u)?c!==u&&a.push("La confirmacin de contrasea no coincide"):a.push("Debe confirmar la contrasea"))),xn.isValidSelection(m)||a.push("Debe seleccionar un tipo de documento"),xn.isRequired(v)?(m==="PA"?xn.isAlphanumeric(v)||a.push("El pasaporte solo puede contener letras y nmeros"):xn.isNumeric(v)||a.push("El documento solo puede contener nmeros"),xn.isValidDocumentLength(v,m)||a.push("La longitud del documento no es vlida para el tipo seleccionado"),xn.isValidDocumentFormat(v,m)||a.push("El formato del documento no es vlido para el tipo seleccionado"),xn.isUniqueDocument(v,r,n==null?void 0:n.id)||a.push("Ya existe un usuario registrado con este nmero de documento")):a.push("El nmero de documento es obligatorio"),xn.isValidSelection(f)||a.push("Debe seleccionar un rol para el usuario"),{isValid:a.length===0,errors:a}},MK=(t,e,r,n,a)=>{const i=[];switch(t){case"nombres":e&&!xn.isValidName(e)&&i.push("Solo se permiten letras y espacios"),e&&!xn.hasValidNameLength(e)&&i.push("Debe tener entre 2 y 15 caracteres");break;case"apellidos":e&&!xn.isValidName(e)&&i.push("Solo se permiten letras y espacios"),e&&!xn.hasValidNameLength(e)&&i.push("Debe tener entre 2 y 15 caracteres");break;case"correo":e&&!xn.isValidEmail(e)&&i.push("Formato de correo invlido"),e&&!xn.isUniqueEmail(e,n,a==null?void 0:a.id)&&i.push("Este correo ya est registrado");break;case"contrasea":e&&(xn.hasMinLength(e,8)||i.push("Mnimo 8 caracteres"),xn.hasUpperCase(e)||i.push("Falta mayscula"),xn.hasLowerCase(e)||i.push("Falta minscula"),xn.hasNumber(e)||i.push("Falta nmero"),xn.hasSpecialChar(e)||i.push("Falta carcter especial"));break;case"documento":e&&r.tipo_documento_id&&(r.tipo_documento_id==="PA"?xn.isAlphanumeric(e)||i.push("Solo letras y nmeros para pasaporte"):xn.isNumeric(e)||i.push("Solo se permiten nmeros"),xn.isValidDocumentFormat(e,r.tipo_documento_id)||i.push("Formato invlido para este tipo de documento"),xn.isUniqueDocument(e,n,a==null?void 0:a.id)||i.push("Este documento ya est registrado"));break}return i},DK=(t,e)=>{if(t.length===1)e({visible:!0,mensaje:t[0],tipo:"error"});else if(t.length>1){const r=`Se encontraron ${t.length} errores:
${t.slice(0,3).map((n,a)=>`${a+1}. ${n}`).join(`
`)}${t.length>3?`
...`:""}`;e({visible:!0,mensaje:r,tipo:"error"})}};function jK({value:t,onChange:e,roles:r,disabled:n,onCreateRole:a,hasError:i}){const[s,l]=p.useState(""),[c,u]=p.useState(!1),f=p.useRef(null);p.useEffect(()=>{const E=y=>{f.current&&!f.current.contains(y.target)&&u(!1)};return document.addEventListener("mousedown",E),()=>document.removeEventListener("mousedown",E)},[]);const m=r.filter(E=>E.nombre.toLowerCase().includes(s.toLowerCase())&&E.activo!==!1),v=r.find(E=>E.id===t),h=E=>{e(E),u(!1),l("")};return o.createElement("div",{ref:f,style:{position:"relative",width:"100%"}},o.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"stretch"}},o.createElement("div",{style:{flex:1,position:"relative"}},o.createElement("input",{type:"text",value:c?s:(v==null?void 0:v.nombre)||"",onChange:E=>{l(E.target.value),c||u(!0)},onFocus:()=>u(!0),placeholder:"Buscar por nombre...",disabled:n,className:`modal-input ${i?"error":""}`,style:{paddingRight:"35px",cursor:n?"not-allowed":"text"}}),!n&&o.createElement("i",{className:"pi pi-search",style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",color:"#999",pointerEvents:"none"}})),o.createElement("button",{type:"button",onClick:a,disabled:n,style:{width:"36px",height:"36px",backgroundColor:n?"#e0e0e0":"#e91e63",color:"white",border:"none",borderRadius:"6px",cursor:n?"not-allowed":"pointer",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"20px",fontWeight:"bold",transition:"all 0.2s",flexShrink:0},onMouseOver:E=>{n||(E.currentTarget.style.backgroundColor="#c2185b",E.currentTarget.style.transform="scale(1.05)")},onMouseOut:E=>{n||(E.currentTarget.style.backgroundColor="#e91e63",E.currentTarget.style.transform="scale(1)")},title:"Crear nuevo rol"},"+")),c&&!n&&o.createElement("div",{style:{position:"absolute",top:"100%",left:0,right:0,marginTop:"4px",backgroundColor:"white",border:"2px solid #f48fb1",borderRadius:"8px",maxHeight:"250px",overflowY:"auto",zIndex:1e3,boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}},m.length>0?m.map(E=>o.createElement("div",{key:E.id,onClick:()=>h(E.id),style:{padding:"12px 16px",cursor:"pointer",borderBottom:"1px solid #f5f5f5",backgroundColor:t===E.id?"#fce4ec":"white",transition:"background-color 0.2s"},onMouseOver:y=>{t!==E.id&&(y.currentTarget.style.backgroundColor="#f8f8f8")},onMouseOut:y=>{t!==E.id&&(y.currentTarget.style.backgroundColor="white")}},o.createElement("div",{style:{fontWeight:t===E.id?"600":"400",color:t===E.id?"#c2185b":"#333",marginBottom:"4px"}},E.nombre,t===E.id&&o.createElement("i",{className:"pi pi-check",style:{marginLeft:"8px",color:"#4caf50",fontSize:"14px"}})),o.createElement("div",{style:{fontSize:"12px",color:"#666"}},E.descripcion))):o.createElement("div",{style:{padding:"20px",textAlign:"center",color:"#999",fontStyle:"italic"}},o.createElement("i",{className:"pi pi-info-circle",style:{marginRight:"8px"}}),'No se encontraron roles con "',s,'"')))}function FK({isOpen:t,onClose:e,onSave:r,permisos:n,showNotification:a}){const[i,s]=p.useState({nombre:"",descripcion:"",permisos:[],activo:!0}),[l,c]=p.useState({nombre:{valido:!1,mensaje:""},descripcion:{valido:!1,mensaje:""}}),[u,f]=p.useState(!1);p.useEffect(()=>{t&&(s({nombre:"",descripcion:"",permisos:[],activo:!0}),c({nombre:{valido:!1,mensaje:""},descripcion:{valido:!1,mensaje:""}}))},[t]);const m=w=>{const N=w.trim();return N?/^[a-zA-Z\s]+$/.test(N)?N.length<3?{valido:!1,mensaje:"El nombre debe tener al menos 3 caracteres"}:N.length>20?{valido:!1,mensaje:"El nombre no puede tener ms de 20 caracteres"}:Aa.esRolAdmin(N)?{valido:!1,mensaje:'No se puede crear otro rol con el nombre "Admin"'}:{valido:!0,mensaje:" Nombre vlido"}:{valido:!1,mensaje:"El nombre solo puede contener letras y espacios"}:{valido:!1,mensaje:"El nombre del rol es obligatorio"}},v=w=>{const N=w.trim();return N?N.length<5?{valido:!1,mensaje:"La descripcin debe tener al menos 5 caracteres"}:N.length>30?{valido:!1,mensaje:"La descripcin no puede tener ms de 30 caracteres"}:{valido:!0,mensaje:" Descripcin vlida"}:{valido:!1,mensaje:"La descripcin es obligatoria"}},h=(w,N)=>{if(w==="nombre"){const P=N.replace(/[^a-zA-Z\s]/g,"").replace(/\s+/g," ");s(R=>({...R,nombre:P}));const L=m(P);c(R=>({...R,nombre:L}))}else if(w==="descripcion"){s(P=>({...P,[w]:N}));const I=v(N);c(P=>({...P,descripcion:I}))}else s(I=>({...I,[w]:N}))},E=(w,N)=>{s(I=>({...I,permisos:N?[...I.permisos,w]:I.permisos.filter(P=>P!==w)}))},y=async w=>{w.preventDefault();const N=m(i.nombre),I=v(i.descripcion);if(c({nombre:N,descripcion:I}),!N.valido){a(N.mensaje,"error");return}if(!I.valido){a(I.mensaje,"error");return}if(i.permisos.length===0){a("Debe seleccionar al menos un permiso","error");return}try{f(!0),await r(i)}catch(P){a(`Error al crear rol: ${P.message}`,"error")}finally{f(!1)}};if(!t)return null;const b=n.reduce((w,N)=>(w[N.modulo]||(w[N.modulo]=[]),w[N.modulo].push(N),w),{}),x=l.nombre.valido&&l.descripcion.valido&&i.permisos.length>0;return o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:2e3,padding:"20px"}},o.createElement("div",{style:{backgroundColor:"white",borderRadius:"12px",padding:"24px",width:"90%",maxWidth:"700px",maxHeight:"90vh",overflowY:"auto",boxShadow:"0 10px 40px rgba(0,0,0,0.2)"}},o.createElement("h2",{style:{marginTop:0,marginBottom:"24px",color:"#c2185b",display:"flex",alignItems:"center",gap:"10px"}},o.createElement("i",{className:"pi pi-plus-circle"}),"Crear Rol Rpido"),o.createElement("form",{onSubmit:y},o.createElement("div",{style:{marginBottom:"20px"}},o.createElement("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px",color:"#333"}},"Nombre del Rol ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:i.nombre,onChange:w=>h("nombre",w.target.value),style:{width:"100%",padding:"10px",border:`2px solid ${l.nombre.valido?"#4caf50":l.nombre.mensaje?"#f44336":"#f48fb1"}`,borderRadius:"6px",outline:"none",backgroundColor:l.nombre.valido?"#f1f8e9":l.nombre.mensaje?"#ffebee":"white"},placeholder:"Ej: Vendedor",maxLength:20}),l.nombre.mensaje&&o.createElement("small",{style:{color:l.nombre.valido?"#4caf50":"#f44336",fontSize:"12px",display:"block",marginTop:"4px"}},l.nombre.mensaje),o.createElement("small",{style:{color:"#666",fontSize:"11px",display:"block",marginTop:"2px"}},"Solo letras y espacios (",i.nombre.length,"/20)")),o.createElement("div",{style:{marginBottom:"20px"}},o.createElement("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px",color:"#333"}},"Descripcin ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("textarea",{value:i.descripcion,onChange:w=>h("descripcion",w.target.value),style:{width:"100%",padding:"10px",border:`2px solid ${l.descripcion.valido?"#4caf50":l.descripcion.mensaje?"#f44336":"#f48fb1"}`,borderRadius:"6px",outline:"none",minHeight:"70px",resize:"vertical",backgroundColor:l.descripcion.valido?"#f1f8e9":l.descripcion.mensaje?"#ffebee":"white"},placeholder:"Describe las responsabilidades...",maxLength:30}),l.descripcion.mensaje&&o.createElement("small",{style:{color:l.descripcion.valido?"#4caf50":"#f44336",fontSize:"12px",display:"block",marginTop:"4px"}},l.descripcion.mensaje),o.createElement("small",{style:{color:"#666",fontSize:"11px",display:"block",marginTop:"2px"}},i.descripcion.length,"/30 caracteres")),o.createElement("div",{style:{marginBottom:"20px"}},o.createElement("label",{style:{display:"block",fontWeight:"bold",marginBottom:"8px",color:"#333"}},"Permisos del Sistema ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("div",{style:{padding:"16px",border:`2px solid ${i.permisos.length===0?"#f44336":"#f48fb1"}`,borderRadius:"10px",backgroundColor:"#fafafa",maxHeight:"250px",overflowY:"auto"}},Object.keys(b).sort().map(w=>o.createElement("div",{key:w,style:{marginBottom:"12px"}},o.createElement("h4",{style:{color:"#c2185b",fontSize:"14px",marginBottom:"8px",borderBottom:"1px solid #f48fb1",paddingBottom:"4px"}},w),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"8px",marginLeft:"12px"}},b[w].map(N=>o.createElement("div",{key:N.id,style:{display:"flex",alignItems:"center",gap:"8px",padding:"4px",borderRadius:"4px",backgroundColor:i.permisos.includes(N.id)?"#f3e5f5":"transparent"}},o.createElement("input",{type:"checkbox",id:`quick-permiso-${N.id}`,checked:i.permisos.includes(N.id),onChange:I=>E(N.id,I.target.checked),style:{width:"16px",height:"16px",cursor:"pointer",accentColor:"#c2185b"}}),o.createElement("label",{htmlFor:`quick-permiso-${N.id}`,style:{fontSize:"13px",cursor:"pointer",margin:0,fontWeight:i.permisos.includes(N.id)?"600":"normal",color:i.permisos.includes(N.id)?"#c2185b":"inherit"}},N.nombre))))))),o.createElement("small",{style:{color:i.permisos.length===0?"#f44336":"#666",fontSize:"12px",display:"block",marginTop:"4px",fontWeight:i.permisos.length===0?"bold":"normal"}},i.permisos.length===0?"Debe seleccionar al menos un permiso":`${i.permisos.length} permiso(s) seleccionado(s)`)),o.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"12px",marginTop:"24px",paddingTop:"16px",borderTop:"1px solid #eee"}},o.createElement("button",{type:"button",onClick:e,disabled:u,style:{padding:"10px 24px",backgroundColor:"#f5f5f5",color:"#666",border:"none",borderRadius:"6px",cursor:u?"not-allowed":"pointer",fontWeight:"500",transition:"all 0.2s"}},"Cancelar"),o.createElement("button",{type:"submit",disabled:!x||u,style:{padding:"10px 24px",backgroundColor:x&&!u?"#4caf50":"#ccc",color:"white",border:"none",borderRadius:"6px",cursor:x&&!u?"pointer":"not-allowed",fontWeight:"500",transition:"all 0.2s",opacity:x&&!u?1:.6}},u?o.createElement(o.Fragment,null,o.createElement("i",{className:"pi pi-spin pi-spinner",style:{marginRight:"8px"}}),"Guardando..."):o.createElement(o.Fragment,null,o.createElement("i",{className:"pi pi-check",style:{marginRight:"8px"}}),"Crear Rol"))))))}function $K({modalTipo:t,usuarioSeleccionado:e,roles:r,tiposDocumento:n,usuarios:a,onSave:i,onCancel:s,setNotification:l}){var D,z,V,J,ie,G,te,W,B,j,U,X,Z,me,de,oe;const[c,u]=p.useState({nombres:"",apellidos:"",correo:"",contrasea:"",confirmarContrasea:"",rol_id:"",tipo_documento_id:"",documento:"",activo:!0}),[f,m]=p.useState({}),[v,h]=p.useState(!1),[E,y]=p.useState(!1),[b,x]=p.useState(r),[w,N]=p.useState(!1),[I,P]=p.useState([]),[L,R]=p.useState(!1),O=t==="visualizar";p.useEffect(()=>{A()},[]),p.useEffect(()=>{x(r)},[r]);const A=async()=>{try{R(!0);const ee=await Aa.obtenerPermisos();P(ee)}catch(ee){console.error("Error al cargar permisos:",ee),l({visible:!0,mensaje:"No se pudieron cargar los permisos",tipo:"warning"})}finally{R(!1)}};p.useEffect(()=>{u((t==="editar"||t==="visualizar")&&e?{nombres:e.nombres||"",apellidos:e.apellidos||"",correo:e.correo||"",contrasea:e.contrasea||"********",confirmarContrasea:"",rol_id:e.rol_id||"",tipo_documento_id:e.tipo_documento_id||"",documento:e.documento||"",activo:e.activo!==!1}:{nombres:"",apellidos:"",correo:"",contrasea:"",confirmarContrasea:"",rol_id:"",tipo_documento_id:"",documento:"",activo:!0}),m({})},[t,e]);const T=(ee,le)=>{if(O)return;let pe=le;ee==="documento"&&(c.tipo_documento_id==="PA"?pe=le.replace(/[^A-Z0-9]/gi,"").toUpperCase():pe=le.replace(/[^0-9]/g,"")),u(_e=>({..._e,[ee]:pe}));const ce=MK(ee,pe,c,a,e);m(_e=>({..._e,[ee]:ce})),ee==="contrasea"&&f.confirmarContrasea&&setTimeout(()=>{c.confirmarContrasea&&pe===c.confirmarContrasea&&m(_e=>({..._e,confirmarContrasea:[]}))},100),ee==="confirmarContrasea"&&pe===c.contrasea&&m(_e=>({..._e,confirmarContrasea:[]}))},C=()=>{if(O)return;const ee=RK(c,t,a,e);if(!ee.isValid){DK(ee.errors,l);return}i(c)},_=async ee=>{try{const le=await Aa.crearRol(ee);x(pe=>[...pe,le]),u(pe=>({...pe,rol_id:le.id})),N(!1),l({visible:!0,mensaje:`Rol "${le.nombre}" creado exitosamente y seleccionado`,tipo:"success"})}catch(le){console.error("Error al crear rol rpido:",le),l({visible:!0,mensaje:`Error al crear rol: ${le.message}`,tipo:"error"})}};return o.createElement(o.Fragment,null,o.createElement("div",{className:"usuarios-modal-body usuarios-modal-body-compact"},o.createElement("div",{className:"usuarios-modal-grid-two-columns"},o.createElement("div",{className:"usuarios-modal-column"},o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Tipo de Documento",o.createElement("span",{className:"required"},"*"),":"),o.createElement("select",{value:c.tipo_documento_id,onChange:ee=>{T("tipo_documento_id",ee.target.value),c.documento&&(u(le=>({...le,documento:""})),m(le=>({...le,documento:[]})))},className:`modal-input ${(D=f.tipo_documento_id)!=null&&D.length?"error":""}`,disabled:O},o.createElement("option",{value:""},"Seleccionar"),n.map(ee=>o.createElement("option",{key:ee.id,value:ee.id},ee.nombre))),((z=f.tipo_documento_id)==null?void 0:z.length)>0&&o.createElement("div",{className:"error-message"},f.tipo_documento_id[0])),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Nombre",o.createElement("span",{className:"required"},"*"),":"),o.createElement("input",{type:"text",value:c.nombres,onChange:ee=>T("nombres",ee.target.value),className:`modal-input ${(V=f.nombres)!=null&&V.length?"error":""}`,placeholder:"Nombres",maxLength:"15",readOnly:O}),((J=f.nombres)==null?void 0:J.length)>0&&o.createElement("div",{className:"error-message"},f.nombres[0])),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Correo",o.createElement("span",{className:"required"},"*"),":"),o.createElement("input",{type:"email",value:c.correo,onChange:ee=>T("correo",ee.target.value),className:`modal-input ${(ie=f.correo)!=null&&ie.length?"error":""}`,placeholder:"ejemplo@correo.com",maxLength:"100",readOnly:O}),((G=f.correo)==null?void 0:G.length)>0&&o.createElement("div",{className:"error-message"},f.correo[0])),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Contrasea",o.createElement("span",{className:"required"},"*"),":"),o.createElement("div",{className:"password-container"},o.createElement("input",{type:v?"text":"password",value:c.contrasea,onChange:ee=>T("contrasea",ee.target.value),className:`modal-input ${(te=f.contrasea)!=null&&te.length?"error":""}`,placeholder:"8+ chars, 1 mayscula, 1 special",maxLength:"50",readOnly:O}),!O&&o.createElement("button",{type:"button",className:"password-toggle",onClick:()=>h(!v),title:v?"Ocultar contrasea":"Mostrar contrasea"})),((W=f.contrasea)==null?void 0:W.length)>0&&o.createElement("div",{className:"error-message"},f.contrasea.slice(0,2).map((ee,le)=>o.createElement("div",{key:le}," ",ee))))),o.createElement("div",{className:"usuarios-modal-column"},o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"N Documento",o.createElement("span",{className:"required"},"*"),":"),o.createElement("input",{type:"text",value:c.documento,onChange:ee=>T("documento",ee.target.value),className:`modal-input ${(B=f.documento)!=null&&B.length?"error":""}`,placeholder:c.tipo_documento_id==="PA"?"Alfanumrico":"Nmero",maxLength:"12",inputMode:c.tipo_documento_id==="PA"?"text":"numeric",readOnly:O}),((j=f.documento)==null?void 0:j.length)>0&&o.createElement("div",{className:"error-message"},f.documento[0])),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Apellido",o.createElement("span",{className:"required"},"*"),":"),o.createElement("input",{type:"text",value:c.apellidos,onChange:ee=>T("apellidos",ee.target.value),className:`modal-input ${(U=f.apellidos)!=null&&U.length?"error":""}`,placeholder:"Apellidos",maxLength:"15",readOnly:O}),((X=f.apellidos)==null?void 0:X.length)>0&&o.createElement("div",{className:"error-message"},f.apellidos[0])),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Rol",o.createElement("span",{className:"required"},"*"),":"),o.createElement(jK,{value:c.rol_id,onChange:ee=>T("rol_id",ee),roles:b,disabled:O,onCreateRole:()=>N(!0),hasError:((Z=f.rol_id)==null?void 0:Z.length)>0}),((me=f.rol_id)==null?void 0:me.length)>0&&o.createElement("div",{className:"error-message"},f.rol_id[0])),t==="agregar"&&o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Confirmar Contrasea",o.createElement("span",{className:"required"},"*"),":"),o.createElement("div",{className:"password-container"},o.createElement("input",{type:E?"text":"password",value:c.confirmarContrasea,onChange:ee=>T("confirmarContrasea",ee.target.value),className:`modal-input ${(de=f.confirmarContrasea)!=null&&de.length?"error":""}`,placeholder:"Confirme la contrasea",maxLength:"50"}),o.createElement("button",{type:"button",className:"password-toggle",onClick:()=>y(!E),title:E?"Ocultar contrasea":"Mostrar contrasea"},E?"":"")),((oe=f.confirmarContrasea)==null?void 0:oe.length)>0&&o.createElement("div",{className:"error-message"},f.confirmarContrasea[0]),c.contrasea&&c.confirmarContrasea&&c.contrasea===c.confirmarContrasea&&o.createElement("div",{className:"success-message"}," Las contraseas coinciden")),t!=="agregar"&&o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Estado:"),o.createElement("div",{className:"switch-container"},o.createElement(Xo,{checked:c.activo,onChange:ee=>T("activo",ee.value),disabled:O}),o.createElement("span",{className:"switch-label"},c.activo?"Activo":"Inactivo"))))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:s},O?"Cerrar":"Cancelar"),!O&&o.createElement("button",{className:"modal-btn save-btn",onClick:C},"Guardar"))),o.createElement(FK,{isOpen:w,onClose:()=>N(!1),onSave:_,permisos:I,showNotification:(ee,le)=>l({visible:!0,mensaje:ee,tipo:le})}))}const Nd="https://deliciasoft-backend.onrender.com/api";class zK{async obtenerUsuarios(){try{console.log("Obteniendo usuarios desde API...");const e=await fetch(`${Nd}/usuarios`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();console.log("Usuarios obtenidos de la API:",r);const n=this.transformarUsuariosDesdeAPI(r);return console.log("Usuarios transformados:",n),n}catch(e){throw console.error("Error al obtener usuarios:",e),new Error("Error al obtener la lista de usuarios: "+e.message)}}async obtenerUsuarioPorId(e){try{console.log("Obteniendo usuario por ID:",e);const r=await fetch(`${Nd}/usuarios/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw r.status===404?new Error("Usuario no encontrado"):new Error(`HTTP error! status: ${r.status}`);const n=await r.json();return console.log("Usuario obtenido:",n),this.transformarUsuarioDesdeAPI(n)}catch(r){throw console.error("Error al obtener usuario:",r),r}}async crearUsuario(e){try{console.log("Datos a enviar para crear usuario:",e);const r=this.transformarUsuarioParaAPI(e);console.log("Datos transformados para API:",r);const n=await fetch(`${Nd}/usuarios`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(console.log("Respuesta del servidor:",n.status),!n.ok){const i=await n.json().catch(()=>({message:"Error en el servidor"}));throw console.error("Error del servidor:",i),new Error(i.message||`HTTP error! status: ${n.status}`)}const a=await n.json();return console.log("Usuario creado exitosamente:",a),this.transformarUsuarioDesdeAPI(a)}catch(r){throw console.error("Error al crear usuario:",r),r}}async actualizarUsuario(e,r){try{console.log("Actualizando usuario:",e,r);const n=this.transformarUsuarioParaAPI(r);console.log("Datos transformados para actualizar:",n);const a=await fetch(`${Nd}/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok){const s=await a.json().catch(()=>({message:"Error en el servidor"}));throw console.error("Error al actualizar:",s),new Error(s.message||`HTTP error! status: ${a.status}`)}const i=await a.json();return console.log("Usuario actualizado exitosamente:",i),this.transformarUsuarioDesdeAPI(i)}catch(n){throw console.error("Error al actualizar usuario:",n),n}}async eliminarUsuario(e){try{console.log("Eliminando usuario:",e);const r=await fetch(`${Nd}/usuarios/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}});if(!r.ok){const n=await r.json().catch(()=>({message:"Error en el servidor"}));throw console.error("Error al eliminar:",n),new Error(n.message||`HTTP error! status: ${r.status}`)}return{success:!0,message:"Usuario eliminado exitosamente"}}catch(r){throw console.error("Error al eliminar usuario:",r),r}}async cambiarEstadoUsuario(e,r){try{console.log("Cambiando estado del usuario:",e,"a",r);const n=await this.obtenerUsuarioPorId(e),a={...this.transformarUsuarioParaAPI(n),estado:r},i=await fetch(`${Nd}/usuarios/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)});if(!i.ok){const l=await i.json().catch(()=>({message:"Error en el servidor"}));throw new Error(l.message||"Error al actualizar usuario")}const s=await i.json();return this.transformarUsuarioDesdeAPI(s)}catch(n){throw console.error("Error completo:",n),new Error(`No se pudo actualizar el estado: ${n.message}`)}}async obtenerRoles(){try{console.log("Obteniendo roles...");const e=await fetch(`${Nd}/rol`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();console.log("Roles obtenidos desde API:",r);const n=r.filter(a=>a.estado!==!1).map(a=>({id:a.idrol,nombre:a.rol,activo:a.estado}));return console.log("Roles activos filtrados:",n),n}catch(e){return console.error("Error al obtener roles:",e),[{id:1,nombre:"Administrador",activo:!0},{id:2,nombre:"Repostero",activo:!0},{id:3,nombre:"Decorador",activo:!0},{id:4,nombre:"Vendedor",activo:!0}]}}async obtenerTiposDocumento(){try{return[{id:"CC",nombre:"Cdula de Ciudadana"},{id:"CE",nombre:"Cdula de Extranjera"},{id:"PA",nombre:"Pasaporte"},{id:"NIT",nombre:"NIT"}]}catch(e){return console.error("Error al obtener tipos de documento:",e),[{id:"CC",nombre:"Cdula de Ciudadana"},{id:"CE",nombre:"Cdula de Extranjera"},{id:"PA",nombre:"Pasaporte"},{id:"NIT",nombre:"NIT"}]}}async usuarioTieneVentas(e){try{const r=await fetch(`${Nd}/usuarios/${e}/ventas`,{method:"GET",headers:{"Content-Type":"application/json"}});return r.ok&&(await r.json()).tieneVentas||!1}catch(r){return console.error("Error al verificar ventas del usuario:",r),!1}}transformarUsuarioDesdeAPI(e){var n;console.log("Transformando usuario desde API:",e);const r={id:e.idusuario,nombres:e.nombre||"",apellidos:e.apellido||"",correo:e.correo||"",contrasea:"********",rol_id:e.idrol,rol_nombre:((n=e.rol)==null?void 0:n.rol)||"Sin rol",tipo_documento_id:e.tipodocumento||"",tipo_documento_nombre:this.obtenerNombreTipoDocumento(e.tipodocumento),documento:e.documento?e.documento.toString():"",activo:e.estado!==!1};return console.log("Usuario transformado:",r),r}transformarUsuariosDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarUsuarioDesdeAPI(r)):(console.warn("Los datos de usuarios no son un array:",e),[])}transformarUsuarioParaAPI(e){console.log("Transformando usuario para API:",e);const r={tipodocumento:e.tipo_documento_id||e.tipodocumento,documento:parseInt(e.documento),nombre:e.nombres||e.nombre,apellido:e.apellidos||e.apellido,correo:e.correo,idrol:parseInt(e.rol_id||e.idrol),estado:e.activo!==void 0?e.activo:!0};return e.contrasea&&e.contrasea.trim()&&e.contrasea!=="********"&&(r.hashcontrasena=e.contrasea),console.log("Datos transformados para API:",r),r}obtenerNombreTipoDocumento(e){return{CC:"Cdula de Ciudadana",CE:"Cdula de Extranjera",PA:"Pasaporte",NIT:"NIT"}[e]||"Tipo no definido"}async manejarRespuesta(e){if(!e.ok){const r=e.headers.get("content-type");if(r&&r.includes("application/json")){const n=await e.json();throw new Error(n.message||`HTTP error! status: ${e.status}`)}else throw new Error(`HTTP error! status: ${e.status}`)}return e.json()}}const gf=new zK;function BK(){const[t,e]=p.useState([]),[r,n]=p.useState([]),[a,i]=p.useState([]),[s,l]=p.useState(""),[c,u]=p.useState(!0),[f,m]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[v,h]=p.useState(!1),[E,y]=p.useState(null),[b,x]=p.useState(null);p.useEffect(()=>{w()},[]);const w=async()=>{try{u(!0);const[_,D,z]=await Promise.all([gf.obtenerUsuarios(),gf.obtenerRoles(),gf.obtenerTiposDocumento()]);e(_),n(D),i(z)}catch(_){console.error("Error al cargar datos:",_),P("Error al cargar los datos: "+_.message,"error"),N()}finally{u(!1)}},N=()=>{const _=[{id:1,nombres:"Juan Carlos",apellidos:"Prez Garca",correo:"juan@gmail.com",rol_id:1,rol_nombre:"Administrador",tipo_documento_id:1,documento:"12345678",activo:!0},{id:2,nombres:"Mara Elena",apellidos:"Garca Lpez",correo:"maria@gmail.com",rol_id:2,rol_nombre:"Repostero",tipo_documento_id:1,documento:"87654321",activo:!0}],D=[{id:1,nombre:"Administrador"},{id:2,nombre:"Repostero"}],z=[{id:1,nombre:"Cdula de Ciudadana"}];e(_),n(D),i(z)},I=async _=>{try{const D=!_.activo;await gf.cambiarEstadoUsuario(_.id,D);const z=t.map(V=>V.id===_.id?{...V,activo:D}:V);e(z),P(`Usuario ${D?"activado":"desactivado"} exitosamente`)}catch(D){P("Error al cambiar el estado: "+D.message,"error")}},P=(_,D="success")=>{m({visible:!0,mensaje:_,tipo:D})},L=()=>{m({visible:!1,mensaje:"",tipo:"success"})},R=(_,D=null)=>{if((_==="editar"||_==="eliminar")&&D&&!D.activo){P("No se puede realizar esta accin en un usuario desactivado","error");return}if(_==="eliminar"&&D&&D.rol_nombre==="Administrador"){P("No se puede eliminar un usuario con el rol de Administrador","error");return}y(_),x(D),h(!0)},O=()=>{h(!1),x(null),y(null)},A=async _=>{try{if(E==="agregar"){const D=await gf.crearUsuario(_);e([...t,D]),P("Usuario agregado exitosamente")}else if(E==="editar"){const D=await gf.actualizarUsuario(b.id,_),z=t.map(V=>V.id===b.id?D:V);e(z),P("Usuario actualizado exitosamente")}O()}catch(D){P("Error al guardar el usuario: "+D.message,"error")}},T=async()=>{try{await gf.eliminarUsuario(b.id);const _=t.filter(D=>D.id!==b.id);e(_),O(),P("Usuario eliminado exitosamente")}catch(_){P("Error al eliminar el usuario: "+_.message,"error")}},C=t.filter(_=>_.id.toString().includes(s.toLowerCase())||_.nombres.toLowerCase().includes(s.toLowerCase())||_.apellidos.toLowerCase().includes(s.toLowerCase())||_.correo.toLowerCase().includes(s.toLowerCase())||_.rol_nombre.toLowerCase().includes(s.toLowerCase()));return c?o.createElement(rc,null):o.createElement("div",{className:"admin-wrapper"},o.createElement(Fo,{visible:f.visible,mensaje:f.mensaje,tipo:f.tipo,onClose:L}),o.createElement("div",{className:"admin-toolbar"},o.createElement(tc,{placeholder:"Buscar usuario...",value:s,onChange:l}),o.createElement("button",{className:"admin-button pink",onClick:()=>R("agregar"),type:"button"},o.createElement("i",{className:"fas fa-plus"})," Agregar")),o.createElement("h2",{className:"admin-section-title"},"Gestin de Usuarios"),o.createElement(_s,{value:C,className:"admin-table compact-paginator",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"}},o.createElement(cr,{header:"N",body:(_,{rowIndex:D})=>D+1,style:{width:"50px"}}),o.createElement(cr,{field:"nombres",header:"Nombres"}),o.createElement(cr,{field:"apellidos",header:"Apellidos"}),o.createElement(cr,{field:"correo",header:"Correo"}),o.createElement(cr,{field:"rol_nombre",header:"Rol"}),o.createElement(cr,{header:"Estado",body:_=>o.createElement(Xo,{checked:_.activo,onChange:()=>I(_)}),style:{width:"80px"}}),o.createElement(cr,{header:"Acciones",body:_=>{const D=_.rol_nombre==="Administrador",z=_.activo,V=_.activo&&!D;return o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"3px"}},o.createElement(qn,{text:"Visualizar"},o.createElement("button",{className:"admin-button",onClick:()=>R("visualizar",_),style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-eye",style:{fontSize:"11px"}}))),o.createElement(qn,{text:z?"Editar":"Usuario desactivado"},o.createElement("button",{className:"admin-button",onClick:()=>R("editar",_),disabled:!z,style:{background:z?"#fff8e1":"#f5f5f5",color:z?"#f57c00":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:z?"pointer":"not-allowed",opacity:z?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-pen",style:{fontSize:"11px"}}))),o.createElement(qn,{text:V?"Eliminar":D?"No se puede eliminar Admin":"Usuario desactivado"},o.createElement("button",{className:"admin-button",onClick:()=>R("eliminar",_),disabled:!V,style:{background:V?"#ffebee":"#f5f5f5",color:V?"#d32f2f":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:V?"pointer":"not-allowed",opacity:V?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-trash",style:{fontSize:"11px"}}))))},style:{width:"100px"}})),(E==="agregar"||E==="editar"||E==="visualizar")&&v&&o.createElement(Ta,{visible:v,onClose:O},o.createElement("h2",{className:"modal-title"},E==="agregar"?"Agregar Usuario":E==="editar"?"Editar Usuario":"Detalles del Usuario"),o.createElement($K,{modalTipo:E,usuarioSeleccionado:b,roles:r,tiposDocumento:a,usuarios:t,onSave:A,onCancel:O,setNotification:m})),E==="eliminar"&&v&&o.createElement(Ta,{visible:v,onClose:O},o.createElement("h2",{className:"modal-title"},"Confirmar Eliminacin"),o.createElement("p",null,"Est seguro de eliminar al usuario ",o.createElement("strong",null,b==null?void 0:b.nombres," ",b==null?void 0:b.apellidos),"?"),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:O},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:T},"Eliminar"))))}function UK({initialData:t,formType:e,permisos:r,onSave:n,onCancel:a,showNotification:i,allRoles:s,currentRoleId:l}){const[c,u]=p.useState(t),[f,m]=p.useState({nombre:{valido:!1,mensaje:""},descripcion:{valido:!1,mensaje:""}}),[v,h]=p.useState(!1),E=e==="visualizar";p.useEffect(()=>{console.log("FormRol - Datos iniciales recibidos:",t),u(t),e==="editar"&&t?m({nombre:b(t.nombre),descripcion:x(t.descripcion)}):e==="agregar"&&m({nombre:{valido:!1,mensaje:""},descripcion:{valido:!1,mensaje:""}})},[t,e]);const y=r.reduce((_,D)=>(_[D.modulo]||(_[D.modulo]=[]),_[D.modulo].push(D),_),{}),b=_=>{const D=_.trim();return D?/^[a-zA-Z\s]+$/.test(D)?D.length<3?{valido:!1,mensaje:"El nombre debe tener al menos 3 caracteres"}:D.length>20?{valido:!1,mensaje:"El nombre no puede tener ms de 20 caracteres"}:Aa.esRolAdmin(D)&&e==="agregar"?{valido:!1,mensaje:'No se puede crear otro rol con el nombre "Admin"'}:s.some(J=>J.nombre.toLowerCase()===D.toLowerCase()&&(e==="agregar"||J.id!==l))?{valido:!1,mensaje:"Ya existe un rol con este nombre"}:{valido:!0,mensaje:" Nombre vlido"}:{valido:!1,mensaje:"El nombre solo puede contener letras y espacios"}:{valido:!1,mensaje:"El nombre del rol es obligatorio"}},x=_=>{const D=_.trim();return D?D.length<5?{valido:!1,mensaje:"La descripcin debe tener al menos 5 caracteres"}:D.length>30?{valido:!1,mensaje:"La descripcin no puede tener ms de 30 caracteres"}:{valido:!0,mensaje:" Descripcin vlida"}:{valido:!1,mensaje:"La descripcin es obligatoria"}},w=_=>{if(E)return;if(e==="editar"&&Aa.esRolAdmin(c.nombre)){i("No se puede modificar el nombre del rol Admin","error");return}const z=_.replace(/[^a-zA-Z\s]/g,"").replace(/\s+/g," ");u(J=>({...J,nombre:z}));const V=b(z);m(J=>({...J,nombre:V}))},N=(_,D)=>{if(!E){if(e==="editar"&&Aa.esRolAdmin(c.nombre)&&(_==="nombre"||_==="descripcion"||_==="activo")){i("No se pueden modificar los datos del rol Admin","error");return}if(console.log(`Cambiando campo ${_} a:`,D),_==="nombre")w(D);else if(_==="descripcion"){u(V=>({...V,[_]:D}));const z=x(D);m(V=>({...V,descripcion:z}))}else u(z=>({...z,[_]:D}))}},I=(_,D)=>{if(!E){if(e==="editar"&&Aa.esRolAdmin(c.nombre)){i("No se pueden modificar los permisos del rol Admin","error");return}console.log(`Cambiando permiso ${_} a ${D}`),u(z=>({...z,permisos:D?[...z.permisos,_]:z.permisos.filter(V=>V!==_)}))}},P=()=>{const _=b(c.nombre),D=x(c.descripcion);return m({nombre:_,descripcion:D}),_.valido?D.valido?c.permisos.length===0?(i("Debe seleccionar al menos un permiso para el rol","error"),!1):!0:(i(D.mensaje,"error"),!1):(i(_.mensaje,"error"),!1)},L=async _=>{var D;if(_.preventDefault(),!E&&(console.log("=== DEBUGGING FORMULARIO ==="),console.log("Datos del formulario antes de validar:",{formData:c,formType:e,permisos:c.permisos,tipoPermisos:typeof c.permisos,permisosLength:(D=c.permisos)==null?void 0:D.length}),!!P())){if(c.permisos&&Array.isArray(c.permisos)){const z=c.permisos.filter(V=>typeof V!="number"||V<=0||!Number.isInteger(V));if(z.length>0){console.error("Permisos invlidos encontrados:",z),i("Algunos permisos seleccionados no son vlidos","error");return}}if(c.permisos&&Array.isArray(c.permisos)){const z=r.map(J=>J.id),V=c.permisos.filter(J=>!z.includes(J));if(V.length>0){console.error("Permisos que no existen:",V),console.error("Permisos disponibles:",z),i("Algunos permisos seleccionados no estn disponibles","error");return}}console.log("Datos finales a enviar:",c);try{h(!0),await n(c)}catch(z){console.error("Error al guardar:",z),i(`Error al guardar: ${z.message}`,"error")}finally{h(!1)}}},R=e==="editar"&&Aa.esRolAdmin(c.nombre),O=E||R,A=e==="agregar"?f.nombre.valido&&f.descripcion.valido&&c.permisos.length>0:f.nombre.valido&&f.descripcion.valido,T=()=>{switch(e){case"agregar":return"Agregar Rol";case"editar":return"Editar Rol";case"visualizar":return"Ver Detalles del Rol";default:return"Rol"}},C=()=>Object.keys(y).sort();return o.createElement("div",{style:{width:"900px",maxWidth:"90vw",maxHeight:"80vh",overflowY:"auto",padding:"0.5rem"}},o.createElement("h2",{style:{marginTop:0,marginBottom:"1.5rem",color:"#000000"}},T(),Aa.esRolAdmin(c.nombre)&&o.createElement("span",{style:{marginLeft:"1rem",backgroundColor:"#d32f2f",color:"white",padding:"0.3rem 0.8rem",borderRadius:"15px",fontSize:"0.8rem",fontWeight:"bold"}},"ROL DEL SISTEMA")),R&&o.createElement("div",{style:{backgroundColor:"#ffebee",border:"1px solid #f44336",borderRadius:"8px",padding:"1rem",marginBottom:"1.5rem",display:"flex",alignItems:"center",gap:"0.5rem"}},o.createElement("i",{className:"pi pi-info-circle",style:{color:"#d32f2f"}}),o.createElement("span",{style:{color:"#d32f2f",fontWeight:"500"}},"Este es un rol del sistema protegido. Solo se pueden visualizar sus datos, no se pueden modificar.")),o.createElement("form",{onSubmit:L},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"2rem"}},o.createElement("div",null,o.createElement("h3",{style:{color:"#c2185b",marginBottom:"1rem"}},"Informacin Bsica"),o.createElement("div",{style:{marginBottom:"1rem"}},o.createElement("label",{style:{display:"block",fontWeight:"bold",marginBottom:"0.5rem"}},"Nombre del Rol",!E&&!R&&o.createElement("span",{style:{color:"red"}}," *"),R&&o.createElement("span",{style:{color:"#d32f2f",fontSize:"0.8rem"}}," (Protegido)")),o.createElement("input",{type:"text",value:c.nombre,onChange:_=>N("nombre",_.target.value),readOnly:O,style:{width:"100%",padding:"0.5rem",border:O?"2px solid #e0e0e0":`2px solid ${f.nombre.valido?"#4caf50":f.nombre.mensaje?"#f44336":"#f48fb1"}`,borderRadius:"6px",outline:"none",backgroundColor:O?"#f5f5f5":f.nombre.valido?"#f1f8e9":f.nombre.mensaje?"#ffebee":"white",cursor:O?"not-allowed":"text"},placeholder:O?"":"Ej: Administrador",maxLength:20}),!O&&f.nombre.mensaje&&o.createElement("small",{style:{color:f.nombre.valido?"#4caf50":"#f44336",fontSize:"0.8rem",display:"block",marginTop:"0.3rem"}},f.nombre.mensaje),!O&&o.createElement("small",{style:{color:"#666",fontSize:"0.75rem",display:"block",marginTop:"0.2rem"}},"Solo se permiten letras y espacios (",c.nombre.length,"/20)")),o.createElement("div",{style:{marginBottom:"1rem"}},o.createElement("label",{style:{display:"block",fontWeight:"bold",marginBottom:"0.5rem"}},"Descripcin",!E&&!R&&o.createElement("span",{style:{color:"red"}}," *"),R&&o.createElement("span",{style:{color:"#d32f2f",fontSize:"0.8rem"}}," (Protegido)")),o.createElement("textarea",{value:c.descripcion,onChange:_=>N("descripcion",_.target.value),readOnly:O,style:{width:"100%",padding:"0.5rem",border:O?"2px solid #e0e0e0":`2px solid ${f.descripcion.valido?"#4caf50":f.descripcion.mensaje?"#f44336":"#f48fb1"}`,borderRadius:"6px",outline:"none",minHeight:"80px",resize:O?"none":"vertical",backgroundColor:O?"#f5f5f5":f.descripcion.valido?"#f1f8e9":f.descripcion.mensaje?"#ffebee":"white",cursor:O?"not-allowed":"text"},placeholder:O?"":"Describe las responsabilidades...",maxLength:30}),!O&&f.descripcion.mensaje&&o.createElement("small",{style:{color:f.descripcion.valido?"#4caf50":"#f44336",fontSize:"0.8rem",display:"block",marginTop:"0.3rem"}},f.descripcion.mensaje),!O&&o.createElement("small",{style:{color:"#666",fontSize:"0.75rem",display:"block",marginTop:"0.2rem"}},c.descripcion.length,"/30 caracteres")),(e==="editar"||e==="visualizar")&&o.createElement("div",{style:{marginBottom:"1rem"}},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.7rem"}},o.createElement("label",{style:{fontWeight:"bold"}},"Estado:",R&&o.createElement("span",{style:{color:"#d32f2f",fontSize:"0.8rem"}}," (Protegido)")),o.createElement(Xo,{checked:c.activo,onChange:_=>N("activo",_.value),disabled:O}),o.createElement("span",{style:{color:c.activo?"#4caf50":"#f44336",fontWeight:"bold",fontSize:"0.9rem"}},c.activo?"Activo":"Inactivo"),R&&o.createElement("i",{className:"pi pi-lock",title:"El rol Admin no se puede modificar",style:{color:"#d32f2f",fontSize:"0.8rem"}})))),o.createElement("div",null,o.createElement("h3",{style:{color:"#c2185b",marginBottom:"1rem"}},"Permisos del Sistema",!E&&!R&&e==="agregar"&&o.createElement("span",{style:{color:"red"}}," *"),R&&o.createElement("span",{style:{color:"#d32f2f",fontSize:"0.8rem"}}," (Protegido)")),o.createElement("div",{style:{padding:"1rem",border:`2px solid ${c.permisos.length===0&&!E&&!R&&e==="agregar"?"#f44336":"#f48fb1"}`,borderRadius:"10px",backgroundColor:E||R?"#f8f8f8":"#fafafa",maxHeight:"350px",overflowY:"auto"}},C().length>0?C().map(_=>o.createElement("div",{key:_,style:{marginBottom:"1rem"}},o.createElement("h4",{style:{color:"#c2185b",fontSize:"0.9rem",marginBottom:"0.5rem",borderBottom:"1px solid #f48fb1",paddingBottom:"0.2rem"}},_),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"0.5rem",marginLeft:"1rem"}},y[_].map(D=>o.createElement("div",{key:D.id,style:{display:"flex",alignItems:"center",gap:"0.5rem",padding:"0.3rem",borderRadius:"4px",backgroundColor:c.permisos.includes(D.id)?"#f3e5f5":"transparent",opacity:R?.7:1}},o.createElement("input",{type:"checkbox",id:`permiso-${D.id}`,checked:c.permisos.includes(D.id),onChange:z=>I(D.id,z.target.checked),disabled:E||R,style:{width:"16px",height:"16px",cursor:E||R?"not-allowed":"pointer",accentColor:"#c2185b"}}),o.createElement("label",{htmlFor:`permiso-${D.id}`,style:{fontSize:"0.85rem",cursor:E||R?"not-allowed":"pointer",margin:0,fontWeight:c.permisos.includes(D.id)?"600":"normal",color:c.permisos.includes(D.id)?"#c2185b":"inherit"}},D.nombre)))))):o.createElement("div",{style:{textAlign:"center",color:"#666",fontStyle:"italic",padding:"2rem"}},o.createElement("i",{className:"pi pi-exclamation-triangle",style:{fontSize:"2rem",marginBottom:"1rem",display:"block"}}),"No hay permisos disponibles")),!E&&!R&&o.createElement("div",{style:{marginTop:"0.5rem"}},o.createElement("small",{style:{color:c.permisos.length===0&&e==="agregar"?"#f44336":"#666",fontSize:"0.8rem",fontWeight:c.permisos.length===0&&e==="agregar"?"bold":"normal"}},c.permisos.length===0&&e==="agregar"?"Debe seleccionar al menos un permiso":`${c.permisos.length} permiso(s) seleccionado(s)`)),(E||R)&&c.permisos.length>0&&o.createElement("div",{style:{marginTop:"1rem"}},o.createElement("h4",{style:{color:"#c2185b",fontSize:"0.9rem",marginBottom:"0.5rem"}},"Permisos Asignados:"),o.createElement("div",{style:{display:"flex",flexWrap:"wrap",gap:"0.5rem"}},r.filter(_=>c.permisos.includes(_.id)).map(_=>o.createElement("span",{key:_.id,style:{backgroundColor:R?"#ffebee":"#e8f5e8",color:R?"#d32f2f":"#2e7d2e",padding:"0.3rem 0.6rem",borderRadius:"15px",fontSize:"0.8rem",border:R?"1px solid #f44336":"1px solid #c8e6c9",fontWeight:R?"bold":"normal"}},_.nombre,R&&o.createElement("i",{className:"pi pi-lock",style:{marginLeft:"0.3rem",fontSize:"0.7rem"}}))))))),o.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"1rem",marginTop:"2rem",paddingTop:"1rem",borderTop:"1px solid #eee"}},o.createElement("button",{className:"modal-btn cancel-btn",type:"button",onClick:a,disabled:v},E||R?"Cerrar":"Cancelar"),!E&&!R&&o.createElement("button",{className:`modal-btn ${A&&!v?"save-btn":"save-btn-disabled"}`,type:"submit",disabled:!A||v,style:{opacity:A&&!v?1:.5,cursor:A&&!v?"pointer":"not-allowed",position:"relative"}},v?o.createElement(o.Fragment,null,o.createElement("i",{className:"pi pi-spin pi-spinner",style:{marginRight:"0.5rem"}}),"Guardando..."):"Guardar"))))}function qK(){const[t,e]=p.useState([]),[r,n]=p.useState([]),[a,i]=p.useState(""),[s,l]=p.useState(!0),[c,u]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[f,m]=p.useState(!1),[v,h]=p.useState(null),[E,y]=p.useState(null),[b,x]=p.useState({nombre:"",descripcion:"",permisos:[],activo:!0});p.useEffect(()=>{w()},[]);const w=async()=>{try{l(!0);const[z,V]=await Promise.all([Aa.obtenerPermisos(),Aa.obtenerRoles()]);n(z),e(V),I("Datos cargados correctamente","success")}catch(z){console.error("Error al cargar datos:",z),I(`Error al cargar datos: ${z.message}`,"error");const V=Aa.obtenerPermisosMock();n(V),e([])}finally{l(!1)}},N=async z=>{try{if(Aa.esRolAdmin(z.nombre)&&z.activo){I("No se puede desactivar el rol Admin. Este rol debe permanecer siempre activo.","error");return}const V=!z.activo;await Aa.cambiarEstadoRol(z.id,V);const J=t.map(ie=>ie.id===z.id?{...ie,activo:V}:ie);e(Aa.ordenarRolesConAdminPrimero(J)),I(`Rol ${V?"activado":"desactivado"} exitosamente`,"success")}catch(V){console.error("Error al cambiar estado:",V),I(`Error al cambiar estado: ${V.message}`,"error")}},I=(z,V="success")=>{u({visible:!0,mensaje:z,tipo:V}),setTimeout(()=>u({visible:!1,mensaje:"",tipo:"success"}),5e3)},P=()=>u({visible:!1,mensaje:"",tipo:"success"}),L=async(z,V=null)=>{if(V&&Aa.esRolAdmin(V.nombre)){if(z==="editar"){I("No se puede editar el rol Admin. Este rol est protegido del sistema.","error");return}if(z==="eliminar"){I("No se puede eliminar el rol Admin. Este rol es esencial para el sistema.","error");return}}if(h(z),y(V),z==="agregar")x({nombre:"",descripcion:"",permisos:[],activo:!0});else if((z==="editar"||z==="visualizar")&&V)try{const J=await Aa.obtenerPermisosRol(V.id);x({nombre:V.nombre,descripcion:V.descripcion,permisos:J,activo:V.activo})}catch{x({nombre:V.nombre,descripcion:V.descripcion,permisos:V.permisos||[],activo:V.activo}),I("Advertencia: No se pudieron cargar los permisos actuales","warn")}m(!0)},R=()=>{m(!1),y(null),h(null),x({nombre:"",descripcion:"",permisos:[],activo:!0})},O=async z=>{try{let V;if(v==="agregar"){V=await Aa.crearRol(z);const J=[...t,V];e(Aa.ordenarRolesConAdminPrimero(J)),I("Rol agregado exitosamente","success")}else if(v==="editar"){V=await Aa.actualizarRol(E.id,z);const J=t.map(ie=>ie.id===E.id?V:ie);e(Aa.ordenarRolesConAdminPrimero(J)),I("Rol actualizado exitosamente","success")}R()}catch(V){console.error("Error al guardar rol:",V),I(`Error al guardar rol: ${V.message}`,"error")}},A=async()=>{try{if(Aa.esRolAdmin(E.nombre)){I("No se puede eliminar el rol Admin. Este rol es esencial para el sistema.","error"),R();return}if(await Aa.rolTieneUsuarios(E.id)){I("No se puede eliminar este rol porque tiene usuarios asociados","error"),R();return}await Aa.eliminarRol(E.id);const V=t.filter(J=>J.id!==E.id);e(Aa.ordenarRolesConAdminPrimero(V)),R(),I("Rol eliminado exitosamente","success")}catch(z){console.error("Error al eliminar rol:",z),I(`Error al eliminar rol: ${z.message}`,"error")}},T=(z,V)=>{const J=Aa.esRolAdmin(z.nombre);switch(V){case"editar":case"eliminar":return!J&&z.activo;case"toggleEstado":return!J||J&&z.activo;default:return!0}},C=t.filter(z=>{const V=a.toLowerCase();return z.nombre.toLowerCase().includes(V)||z.descripcion.toLowerCase().includes(V)||z.id.toString().includes(V)}),_=z=>Array.isArray(z)?r.filter(V=>z.includes(V.id)).map(V=>V.nombre).join(", "):"",D=({rol:z})=>{const V=Aa.esRolAdmin(z.nombre);return o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"}},o.createElement("span",null,z.nombre),V&&o.createElement("span",{style:{backgroundColor:"#d81b60",color:"white",padding:"0.2rem 0.5rem",borderRadius:"10px",fontSize:"0.7rem",fontWeight:"bold"}},"SISTEMA"))};return s?o.createElement(rc,null):o.createElement("div",{className:"admin-wrapper"},o.createElement(Fo,{visible:c.visible,mensaje:c.mensaje,tipo:c.tipo,onClose:P}),o.createElement("div",{className:"admin-toolbar"},o.createElement(tc,{placeholder:"Buscar rol ",value:a,onChange:i}),o.createElement("button",{className:"admin-button pink",onClick:()=>L("agregar"),type:"button"},o.createElement("i",{className:"fas fa-plus"})," Agregar")),o.createElement("h2",{className:"admin-section-title"},"Gestin de Roles"),o.createElement(_s,{value:C,className:"admin-table compact-paginator",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"},rowClassName:z=>Aa.esRolAdmin(z.nombre)?"fila-admin":z.activo?"":"fila-inactiva",emptyMessage:"No se encontraron roles"},o.createElement(cr,{header:"N",body:(z,{rowIndex:V})=>V+1,style:{width:"50px"}}),o.createElement(cr,{field:"nombre",header:"Nombre",body:z=>o.createElement(D,{rol:z})}),o.createElement(cr,{field:"descripcion",header:"Descripcin"}),o.createElement(cr,{header:"Permisos",body:z=>{var V;return o.createElement("span",{title:_(z.permisos)},((V=z.permisos)==null?void 0:V.length)||0," permisos")}}),o.createElement(cr,{header:"Estado",body:z=>{const V=Aa.esRolAdmin(z.nombre);return o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",gap:"0.5rem"}},o.createElement(Xo,{checked:z.activo,onChange:()=>N(z),disabled:V&&z.activo}),V&&z.activo&&o.createElement("i",{className:"fas fa-lock",title:"El rol Admin no se puede desactivar",style:{color:"#d32f2f",fontSize:"0.8rem"}}))},style:{width:"80px"}}),o.createElement(cr,{header:"Acciones",body:z=>{const V=Aa.esRolAdmin(z.nombre),J=T(z,"editar"),ie=T(z,"eliminar"),G=()=>V?"Rol del sistema protegido":z.activo?"Editar":"Rol inactivo",te=()=>V?"Rol del sistema protegido":z.activo?"Eliminar":"Rol inactivo";return o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"3px"}},o.createElement(qn,{text:"Visualizar"},o.createElement("button",{className:"admin-button",onClick:()=>L("visualizar",z),style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-eye",style:{fontSize:"11px"}}))),o.createElement(qn,{text:G()},o.createElement("button",{className:"admin-button",onClick:()=>J&&L("editar",z),disabled:!J,style:{background:J?"#fff8e1":"#f5f5f5",color:J?"#f57c00":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:J?"pointer":"not-allowed",opacity:J?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-pen",style:{fontSize:"11px"}}))),o.createElement(qn,{text:te()},o.createElement("button",{className:"admin-button",onClick:()=>ie&&L("eliminar",z),disabled:!ie,style:{background:ie?"#ffebee":"#f5f5f5",color:ie?"#d32f2f":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:ie?"pointer":"not-allowed",opacity:ie?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-trash",style:{fontSize:"11px"}}))))},style:{width:"100px"}})),o.createElement(Ta,{visible:f,onClose:R},(v==="agregar"||v==="editar"||v==="visualizar")&&o.createElement(UK,{initialData:b,formType:v,permisos:r,onSave:O,onCancel:R,showNotification:I,allRoles:t,currentRoleId:E==null?void 0:E.id}),v==="eliminar"&&E&&o.createElement("div",null,o.createElement("h2",{style:{marginTop:0,color:"#d81b60"}},"Confirmar Eliminacin"),o.createElement("div",{style:{margin:"1rem 0"}},o.createElement("p",null,"Ests seguro que deseas eliminar el rol ",o.createElement("strong",null,E.nombre),"?"),o.createElement("p",{style:{color:"#e53935",fontSize:"14px"}},"Esta accin no se puede deshacer.")),o.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"10px"}},o.createElement("button",{className:"modal-btn cancel-btn",onClick:R},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:A},"Eliminar")))))}const vE=t=>{const e=[];return t.length<8&&e.push("Debe tener al menos 8 caracteres."),/[A-Z]/.test(t)||e.push("Debe contener al menos una letra mayscula."),/[!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(t)||e.push("Debe contener al menos un carcter especial."),e},VK=t=>t.replace(/^\s+/,""),bE=t=>!t||t.trim().length===0?!1:[/^(cra?\.?|carrera)\s*\d+[a-z]?\s*#?\s*\d+/i,/^(calle?|cl\.?)\s*\d+[a-z]?\s*#?\s*\d+/i,/^(kr?\.?|carrera)\s*\d+[a-z]?\s*#?\s*\d+/i,/^(av\.?|avenida)\s*\d+[a-z]?\s*#?\s*\d+/i,/^(diagonal|diag\.?)\s*\d+[a-z]?\s*#?\s*\d+/i,/^(transversal|tv\.?)\s*\d+[a-z]?\s*#?\s*\d+/i,/^(autopista|aut\.?)\s/i,/^(via|va)\s/i].some(r=>r.test(t.trim()));function HK({visible:t,onClose:e,modalTipo:r,clienteSeleccionado:n,clientes:a,onSave:i,showNotification:s}){const[l,c]=p.useState({tipoDocumento:"CC",numeroDocumento:"",nombre:"",apellido:"",correo:"",contrasena:"",confirmarContrasena:"",direccion:"",barrio:"",ciudad:"",fechaNacimiento:"",celular:"",estado:!0}),[u,f]=p.useState({numeroDocumento:"",nombre:"",apellido:"",correo:"",contrasena:"",confirmarContrasena:"",celular:"",fechaNacimiento:"",direccion:""}),[m,v]=p.useState(!1),[h,E]=p.useState(!1),y=r==="visualizar";p.useEffect(()=>{t&&(f({numeroDocumento:"",nombre:"",apellido:"",correo:"",contrasena:"",confirmarContrasena:"",celular:"",fechaNacimiento:"",direccion:""}),r==="agregar"?c({tipoDocumento:"CC",numeroDocumento:"",nombre:"",apellido:"",correo:"",contrasena:"",confirmarContrasena:"",direccion:"",barrio:"",ciudad:"",fechaNacimiento:"",celular:"",estado:!0}):(r==="editar"||r==="visualizar")&&n&&c({tipoDocumento:n.tipoDocumento,numeroDocumento:n.numeroDocumento,nombre:n.nombre,apellido:n.apellido,correo:n.correo,contrasena:n.contrasena,confirmarContrasena:"",direccion:n.direccion,barrio:n.barrio,ciudad:n.ciudad,fechaNacimiento:n.fechaNacimiento,celular:n.celular,estado:n.estado}),v(!1),E(!1))},[t,r,n]);const b=(R,O)=>{if(y)return;let A="",T=O;switch(typeof O=="string"&&R!=="contrasena"&&R!=="confirmarContrasena"&&(T=VK(O)),R){case"numeroDocumento":/^\d*$/.test(T)?T.trim()?a.some(_=>_.numeroDocumento===T&&(r==="agregar"||_.idCliente!==(n==null?void 0:n.idCliente)))&&(A="Ya existe un cliente con este nmero."):A="El nmero de documento es obligatorio.":(A="Solo se permiten nmeros.",T=l.numeroDocumento);break;case"nombre":T.trim()?/^[a-zA-Z\s]*$/.test(T)||(A="Solo se permiten letras."):A="El nombre es obligatorio.";break;case"apellido":T.trim()?/^[a-zA-Z\s]*$/.test(T)||(A="Solo se permiten letras."):A="El apellido es obligatorio.";break;case"correo":T.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(T)||(A="Formato de correo no vlido."):A="El correo es obligatorio.";break;case"celular":/^\d*$/.test(T)?T.trim()||(A="El celular es obligatorio."):(A="Solo se permiten nmeros.",T=l.celular);break;case"contrasena":if(r==="agregar"||r==="editar"&&O.trim()){const C=vE(O);C.length>0&&(A=C[0])}T=O;break;case"confirmarContrasena":T=O,r==="agregar"&&(O.trim()&&l.contrasena!==O?A="Las contraseas no coinciden.":!O.trim()&&l.contrasena.trim()&&(A="Debe confirmar la contrasea."));break;case"fechaNacimiento":if(T){const C=new Date(T),_=new Date,D=_.getFullYear()-C.getFullYear(),z=_.getMonth(),V=C.getMonth();let J=D;(z<V||z===V&&_.getDate()<C.getDate())&&J--,J<13&&(A="El cliente debe tener al menos 13 aos.")}break;case"direccion":T.trim()?bE(T)||(A="Ingrese una direccin vlida (ej: Cra 51a #71-25, Calle 45 #23-12)"):A="La direccin es obligatoria.";break}c(C=>({...C,[R]:T})),f(C=>({...C,[R]:A})),r==="agregar"&&R==="contrasena"&&(l.confirmarContrasena&&O!==l.confirmarContrasena?f(C=>({...C,confirmarContrasena:"Las contraseas no coinciden."})):l.confirmarContrasena&&O===l.confirmarContrasena&&f(C=>({...C,confirmarContrasena:""})))},x=()=>{const R={};let O=!0;const{numeroDocumento:A,nombre:T,apellido:C,correo:_,celular:D,contrasena:z,confirmarContrasena:V,fechaNacimiento:J,direccion:ie}=l;if(A.trim()?/^\d+$/.test(A)?a.some(te=>te.numeroDocumento===A&&(r==="agregar"||te.idCliente!==(n==null?void 0:n.idCliente)))&&(R.numeroDocumento="Ya existe un cliente con este nmero de documento.",O=!1):(R.numeroDocumento="Solo se permiten nmeros.",O=!1):(R.numeroDocumento="El nmero de documento es obligatorio.",O=!1),T.trim()?/^[a-zA-Z\s]+$/.test(T)||(R.nombre="Solo se permiten letras y espacios.",O=!1):(R.nombre="El nombre es obligatorio.",O=!1),C.trim()?/^[a-zA-Z\s]+$/.test(C)||(R.apellido="Solo se permiten letras y espacios.",O=!1):(R.apellido="El apellido es obligatorio.",O=!1),_.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(_)||(R.correo="El formato del correo no es vlido.",O=!1):(R.correo="El correo es obligatorio.",O=!1),D.trim()?/^\d+$/.test(D)||(R.celular="Solo se permiten nmeros.",O=!1):(R.celular="El celular es obligatorio.",O=!1),ie.trim()?bE(ie)||(R.direccion="Ingrese una direccin vlida (ej: Cra 51a #71-25, Calle 45 #23-12)",O=!1):(R.direccion="La direccin es obligatoria.",O=!1),r==="agregar"){if(!z.trim())R.contrasena="La contrasea es obligatoria.",O=!1;else{const G=vE(z);G.length>0&&(R.contrasena=G[0],O=!1)}V.trim()?z!==V&&(R.confirmarContrasena="Las contraseas no coinciden.",O=!1):(R.confirmarContrasena="Debe confirmar la contrasea.",O=!1)}else if(r==="editar"&&z.trim()){const G=vE(z);G.length>0&&(R.contrasena=G[0],O=!1)}if(J){const G=new Date(J),te=new Date,W=te.getFullYear()-G.getFullYear(),B=te.getMonth(),j=G.getMonth();let U=W;(B<j||B===j&&te.getDate()<G.getDate())&&U--,U<13&&(R.fechaNacimiento="El cliente debe tener al menos 13 aos.",O=!1)}return f(R),O},w=()=>{if(!x()){s("Por favor, corrige los errores del formulario.","error");return}i(l)},N=R=>R?new Date(R).toLocaleDateString("es-ES"):"",I=()=>{switch(r){case"agregar":return"Agregar Cliente";case"editar":return"Editar Cliente";case"visualizar":return"Detalles del Cliente";default:return"Cliente"}},P={position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3},L={backgroundColor:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",minWidth:"500px",maxWidth:"90%",maxHeight:"90%",overflowY:"auto"};return t&&o.createElement("div",{style:P},o.createElement("div",{style:L},o.createElement("h2",{className:"modal-title text-base"},I()),o.createElement("div",{className:"modal-body"},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"0.50fr 0.50fr",gap:"0.25rem",width:"100%",minWidth:"500px"}},o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Tipo de Documento: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("select",{value:l.tipoDocumento,onChange:R=>b("tipoDocumento",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",backgroundColor:y?"#f5f5f5":"white",color:y?"#666":"black"},disabled:y},o.createElement("option",{value:"CC"},"Cdula de Ciudadana"),o.createElement("option",{value:"TI"},"Tarjeta de Identidad"),o.createElement("option",{value:"CE"},"Cdula de Extranjera"),o.createElement("option",{value:"PA"},"Pasaporte"))),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"N Documento: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:l.numeroDocumento,onChange:R=>b("numeroDocumento",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.numeroDocumento?"red":"",backgroundColor:y?"#f5f5f5":"white",color:y?"#666":"black"},maxLength:10,readOnly:y}),u.numeroDocumento&&!y&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.numeroDocumento)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Nombre: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:l.nombre,onChange:R=>b("nombre",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.nombre?"red":"",backgroundColor:y?"#f5f5f5":"white",color:y?"#666":"black"},maxLength:15,readOnly:y}),u.nombre&&!y&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.nombre)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Apellido: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:l.apellido,onChange:R=>b("apellido",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.apellido?"red":"",backgroundColor:y?"#f5f5f5":"white",color:y?"#666":"black"},maxLength:15,readOnly:y}),u.apellido&&!y&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.apellido)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Correo: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"email",value:l.correo,onChange:R=>b("correo",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.correo?"red":"",backgroundColor:y?"#f5f5f5":"white",color:y?"#666":"black"},maxLength:20,readOnly:y}),u.correo&&!y&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.correo)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Celular: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:l.celular,onChange:R=>b("celular",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.celular?"red":"",backgroundColor:y?"#f5f5f5":"white",color:y?"#666":"black"},maxLength:10,readOnly:y}),u.celular&&!y&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.celular)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Contrasea: ",r==="agregar"&&o.createElement("span",{style:{color:"red"}},"*")),o.createElement("div",{style:{position:"relative"}},o.createElement("input",{type:m?"text":"password",value:y?"********":l.contrasena,onChange:R=>b("contrasena",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:y?"2px 4px":"2px 25px 2px 4px",borderColor:u.contrasena?"red":"",backgroundColor:y?"#f5f5f5":"white",color:y?"#666":"black"},placeholder:r==="editar"?"Opcional (dejar vaco para mantener la actual)":"8+ chars, 1 mayscula, 1 especial",maxLength:20,readOnly:y}),!y&&o.createElement("button",{type:"button",onClick:()=>v(!m),style:{position:"absolute",right:"5px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"12px",color:"#666",padding:"0",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center"},title:m?"Ocultar contrasea":"Mostrar contrasea"},m?"":"")),u.contrasena&&!y&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.contrasena)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Fecha Nacimiento:"),y?o.createElement("input",{type:"text",value:N(l.fechaNacimiento),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",backgroundColor:"#f5f5f5",color:"#666"},readOnly:!0}):o.createElement("input",{type:"date",value:l.fechaNacimiento,onChange:R=>b("fechaNacimiento",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.fechaNacimiento?"red":""}}),u.fechaNacimiento&&!y&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.fechaNacimiento)),r==="agregar"&&o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Confirmar Contrasea: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("div",{style:{position:"relative"}},o.createElement("input",{type:h?"text":"password",value:l.confirmarContrasena,onChange:R=>b("confirmarContrasena",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 25px 2px 4px",borderColor:u.confirmarContrasena?"red":""},placeholder:"Confirme la contrasea",maxLength:20}),o.createElement("button",{type:"button",onClick:()=>E(!h),style:{position:"absolute",right:"5px",top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:"12px",color:"#666",padding:"0",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center"},title:h?"Ocultar contrasea":"Mostrar contrasea"},h?"":"")),u.confirmarContrasena&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.confirmarContrasena)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Direccin: ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement($7,{value:l.direccion,onChange:R=>b("direccion",R),placeholder:"Ej: Cra 51a #71-25, Calle 45 #23-12",className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",borderColor:u.direccion?"red":"",backgroundColor:y?"#f5f5f5":"white",color:y?"#666":"black"},disabled:y,onPlaceSelect:R=>{console.log("Place selected:",R),c(O=>({...O,direccion:R.direccion||O.direccion,barrio:R.barrio||O.barrio,ciudad:R.ciudad||O.ciudad})),R.direccion&&bE(R.direccion)&&f(O=>({...O,direccion:""}))}}),u.direccion&&!y&&o.createElement("small",{style:{color:"red",fontSize:"10px"}},u.direccion)),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Barrio:"),o.createElement("input",{type:"text",value:l.barrio,onChange:R=>b("barrio",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",backgroundColor:y?"#f5f5f5":"white",color:y?"#666":"black"},maxLength:30,readOnly:y})),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"text-sm",style:{fontSize:"12px",marginBottom:"2px",display:"block"}},"Ciudad:"),o.createElement("input",{type:"text",value:l.ciudad,onChange:R=>b("ciudad",R.target.value),className:"modal-input text-sm p-1",style:{width:"100%",height:"28px",fontSize:"12px",padding:"2px 4px",backgroundColor:y?"#f5f5f5":"white",color:y?"#666":"black"},maxLength:30,readOnly:y})),r==="editar"&&o.createElement("div",{className:"modal-field"},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem",marginTop:"1.2rem"}},o.createElement("label",{className:"text-sm",style:{fontSize:"12px"}},"Estado:"),o.createElement(Xo,{checked:l.estado,onChange:R=>b("estado",R.value)}))))),o.createElement("div",{className:"modal-footer mt-2 flex justify-end gap-2"},o.createElement("button",{className:"modal-btn cancel-btn text-sm px-3 py-1",onClick:e},"Cancelar"),r!=="visualizar"&&o.createElement("button",{className:"modal-btn save-btn text-sm px-3 py-1",onClick:w},"Guardar"))))}const iu="https://deliciasoft-backend-i6g9.onrender.com/api";class WK{async obtenerClientesParaVenta(){try{const e=await fetch(`${iu}/clientes`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();return[{idcliente:null,nombre:"Cliente",apellido:"Genrico",numeroDocumento:"",nombreCompleto:"Cliente Genrico"},...r.map(a=>({...a,numeroDocumento:a.numerodocumento||"",nombreCompleto:`${a.nombre} ${a.apellido}`.trim()}))]}catch(e){return console.error("Error al obtener clientes:",e),[{idcliente:null,nombre:"Cliente",apellido:"Genrico",numeroDocumento:"",nombreCompleto:"Cliente Genrico"}]}}async obtenerClientes(){try{const e=await fetch(`${iu}/clientes`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);const r=await e.json();return this.transformarClientesDesdeAPI(r)}catch(e){throw console.error("Error al obtener clientes:",e),new Error("Error al obtener la lista de clientes")}}async obtenerClientePorId(e){try{const r=await fetch(`${iu}/clientes/${e}`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!r.ok)throw r.status===404?new Error("Cliente no encontrado"):new Error(`HTTP error! status: ${r.status}`);const n=await r.json();return this.transformarClienteDesdeAPI(n)}catch(r){throw console.error("Error al obtener cliente:",r),r}}async crearCliente(e){try{await this.validarDuplicados(e,null);const r=this.transformarClienteParaAPI(e),n=await fetch(`${iu}/clientes`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!n.ok){const i=await n.json();throw new Error(i.message||`HTTP error! status: ${n.status}`)}const a=await n.json();return this.transformarClienteDesdeAPI(a)}catch(r){throw console.error("Error al crear cliente:",r),r}}async actualizarCliente(e,r){try{await this.validarDuplicados(r,e);const n=this.transformarClienteParaAPI(r),a=await fetch(`${iu}/clientes/${e}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(!a.ok){const s=await a.json();throw new Error(s.message||`HTTP error! status: ${a.status}`)}const i=await a.json();return this.transformarClienteDesdeAPI(i)}catch(n){throw console.error("Error al actualizar cliente:",n),n}}async eliminarCliente(e){try{const r=await fetch(`${iu}/clientes/${e}`,{method:"DELETE",headers:{"Content-Type":"application/json"}}),n=await r.json();return r.ok?{success:!0,message:n.message||"Cliente eliminado exitosamente"}:r.status===400&&n.tieneVentas?{success:!1,tieneVentas:!0,message:"No se puede eliminar el cliente porque est asociado a una venta"}:r.status===404?{success:!1,message:"Cliente no encontrado"}:{success:!1,message:n.message||"Error al eliminar cliente"}}catch{return{success:!1,message:"Error de conexin al intentar eliminar el cliente"}}}async toggleEstadoCliente(e){try{const r=await fetch(`${iu}/clientes/${e}/estado`,{method:"PATCH",headers:{"Content-Type":"application/json"}});if(!r.ok){const i=await r.json();throw new Error(i.message||"Error al cambiar estado")}const n=await r.json();return await this.obtenerClientePorId(e)}catch(r){throw console.error("Error al cambiar estado del cliente:",r),r}}async clienteTieneVentas(e){try{const r=await fetch(`${iu}/clientes/${e}/ventas`,{method:"GET",headers:{"Content-Type":"application/json"}});return r.ok&&(await r.json()).tieneVentas||!1}catch{return!1}}async validarDuplicados(e,r=null){try{const a=(await this.obtenerClientes()).find(l=>(l.numeroDocumento===e.numeroDocumento||l.correo===e.correo)&&l.idCliente!==r);if(a){if(a.numeroDocumento===e.numeroDocumento)throw new Error("Ya existe un cliente con este nmero de documento");if(a.correo===e.correo)throw new Error("Ya existe un cliente con este correo electrnico")}const s=(await this.obtenerUsuarios()).find(l=>l.documento===e.numeroDocumento||l.correo===e.correo);if(s){if(s.documento===e.numeroDocumento)throw new Error("Ya existe un usuario con este nmero de documento");if(s.correo===e.correo)throw new Error("Ya existe un usuario con este correo electrnico")}}catch(n){if(n.message.includes("Ya existe"))throw n;console.warn("No se pudo validar duplicados con usuarios:",n)}}async obtenerUsuarios(){try{const e=await fetch(`${iu}/usuarios`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!e.ok)throw new Error(`HTTP error! status: ${e.status}`);return(await e.json()).map(n=>{var a;return{id:n.idusuario,documento:(a=n.documento)==null?void 0:a.toString(),correo:n.correo}})}catch(e){throw console.error("Error al obtener usuarios para validacin:",e),e}}async actualizarContrasenaCliente(e,r){try{const n=await fetch(`${iu}/clientes/${e}/password`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({nuevaContrasena:r})});if(!n.ok){const a=await n.json();throw new Error(a.message||`HTTP error! status: ${n.status}`)}return await n.json()}catch(n){throw console.error("Error al actualizar contrasea:",n),n}}async obtenerPerfilCliente(){try{const e=authService.getUserProfile();if(!e||!e.data||!e.data.idcliente)throw new Error("No hay sesin activa de cliente");return await this.obtenerClientePorId(e.data.idcliente)}catch(e){throw console.error("Error al obtener perfil:",e),e}}transformarClienteDesdeAPI(e){return{idCliente:e.idcliente,tipoDocumento:e.tipodocumento,numeroDocumento:e.numerodocumento,nombre:e.nombre,apellido:e.apellido,correo:e.correo,contrasena:e.hashcontrasena||"********",direccion:e.direccion,barrio:e.barrio,ciudad:e.ciudad,fechaNacimiento:e.fechanacimiento?this.formatearFechaDesdeAPI(e.fechanacimiento):"",celular:e.celular,estado:e.estado,nombreCompleto:`${e.nombre} ${e.apellido}`.trim()}}transformarClientesDesdeAPI(e){return Array.isArray(e)?e.map(r=>this.transformarClienteDesdeAPI(r)):[]}transformarClienteParaAPI(e){const r={tipodocumento:e.tipoDocumento,numerodocumento:e.numeroDocumento,nombre:e.nombre,apellido:e.apellido,correo:e.correo,direccion:e.direccion,barrio:e.barrio,ciudad:e.ciudad,celular:e.celular,estado:e.estado};return e.contrasena&&e.contrasena.trim()&&e.contrasena!=="********"&&(r.hashcontrasena=e.contrasena),e.fechaNacimiento?r.fechanacimiento=new Date(e.fechaNacimiento).toISOString():r.fechanacimiento=null,r}formatearFechaDesdeAPI(e){return e?new Date(e).toISOString().split("T")[0]:""}formatearFechaParaAPI(e){return e||null}async manejarRespuesta(e){if(!e.ok){const r=e.headers.get("content-type");if(r&&r.includes("application/json")){const n=await e.json();throw new Error(n.message||`HTTP error! status: ${e.status}`)}else throw new Error(`HTTP error! status: ${e.status}`)}return e.json()}}const Pf=new WK;function GK(){const[t,e]=p.useState([]),[r,n]=p.useState(""),[a,i]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[s,l]=p.useState(!1),[c,u]=p.useState(null),[f,m]=p.useState(null),[v,h]=p.useState(!0),[E,y]=p.useState(null);p.useEffect(()=>{b()},[]);const b=async()=>{try{h(!0),y(null);const C=(await Pf.obtenerClientes()).sort((_,D)=>D.idCliente-_.idCliente);e(C)}catch(T){console.error("Error al cargar clientes:",T),y(T.message),w(`Error al cargar clientes: ${T.message}`,"error")}finally{h(!1)}},x=async T=>{try{const C=await Pf.toggleEstadoCliente(T.idCliente);e(D=>D.map(V=>V.idCliente===T.idCliente?{...V,estado:C.estado}:V));const _=C.estado?"activado":"desactivado";w(`Cliente ${_} exitosamente`)}catch(C){console.error("Error al cambiar estado:",C),w(`Error al cambiar estado: ${C.message}`,"error")}},w=(T,C="success")=>{i({visible:!0,mensaje:T,tipo:C})},N=()=>{i({visible:!1,mensaje:"",tipo:"success"})},I=async(T,C=null)=>{if(u(T),m(C),l(!0),T==="eliminar"&&C){const _=await Pf.clienteTieneVentas(C.idCliente);m({...C,tieneVentas:_})}},P=()=>{l(!1),m(null),u(null)},L=async T=>{try{let C;c==="agregar"?(C=await Pf.crearCliente(T),e(_=>[C,..._]),w("Cliente agregado exitosamente")):c==="editar"&&(C=await Pf.actualizarCliente(f.idCliente,T),e(_=>_.map(D=>D.idCliente===f.idCliente?C:D)),w("Cliente actualizado exitosamente")),P()}catch(C){console.error("Error al guardar cliente:",C);let _=C.message;_.includes("Ya existe un cliente")||_.includes("Ya existe un usuario")?w(_,"error"):w(`Error al guardar cliente: ${_}`,"error")}},R=()=>{if(f.tieneVentas){P(),w("No se puede eliminar el cliente porque tiene ventas asociadas","error");return}u("confirmarEliminar")},O=async()=>{const T=await Pf.eliminarCliente(f.idCliente);P(),T.success?(e(C=>C.filter(_=>_.idCliente!==f.idCliente)),w("Cliente eliminado exitosamente")):w(T.message,"error")},A=t.filter(T=>{var C,_,D,z;return((C=T.nombre)==null?void 0:C.toLowerCase().includes(r.toLowerCase()))||((_=T.apellido)==null?void 0:_.toLowerCase().includes(r.toLowerCase()))||((D=T.correo)==null?void 0:D.toLowerCase().includes(r.toLowerCase()))||((z=T.numeroDocumento)==null?void 0:z.includes(r))});return v?o.createElement(rc,null):E&&t.length===0?o.createElement("div",{className:"admin-wrapper"},o.createElement("div",{style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",height:"200px"}},o.createElement("p",{style:{color:"red",marginBottom:"10px"}},"Error al cargar clientes: ",E),o.createElement("button",{className:"admin-button pink",onClick:b,style:{padding:"8px 16px"}},"Reintentar"))):o.createElement("div",{className:"admin-wrapper"},o.createElement(Fo,{visible:a.visible,mensaje:a.mensaje,tipo:a.tipo,onClose:N}),o.createElement("div",{className:"admin-toolbar"},o.createElement(tc,{placeholder:"Buscar cliente...",value:r,onChange:n}),o.createElement("button",{className:"admin-button pink",onClick:()=>I("agregar"),type:"button"},o.createElement("i",{className:"fas fa-plus"})," Agregar")),o.createElement("h2",{className:"admin-section-title"},"Gestin de Clientes"),o.createElement(_s,{value:A,className:"admin-table compact-paginator",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"},emptyMessage:"No hay clientes para mostrar"},o.createElement(cr,{header:"N",body:(T,{rowIndex:C})=>C+1,style:{width:"50px"}}),o.createElement(cr,{field:"numeroDocumento",header:"N Documento"}),o.createElement(cr,{field:"nombre",header:"Nombre"}),o.createElement(cr,{field:"apellido",header:"Apellido"}),o.createElement(cr,{field:"correo",header:"Correo"}),o.createElement(cr,{header:"Estado",body:T=>o.createElement(Xo,{inputId:`switch-${T.idCliente}`,checked:!!T.estado,onChange:()=>x(T)}),style:{width:"80px"}}),o.createElement(cr,{header:"Acciones",body:T=>o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"3px"}},o.createElement(qn,{text:"Visualizar"},o.createElement("button",{className:"admin-button",onClick:()=>I("visualizar",T),style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-eye",style:{fontSize:"11px"}}))),o.createElement(qn,{text:T.estado?"Editar":"Cliente inactivo"},o.createElement("button",{className:"admin-button",onClick:()=>I("editar",T),disabled:!T.estado,style:{background:T.estado?"#fff8e1":"#f5f5f5",color:T.estado?"#f57c00":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:T.estado?"pointer":"not-allowed",opacity:T.estado?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-pen",style:{fontSize:"11px"}}))),o.createElement(qn,{text:T.estado?"Eliminar":"Cliente inactivo"},o.createElement("button",{className:"admin-button",onClick:()=>I("eliminar",T),disabled:!T.estado,style:{background:T.estado?"#ffebee":"#f5f5f5",color:T.estado?"#d32f2f":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:T.estado?"pointer":"not-allowed",opacity:T.estado?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-trash",style:{fontSize:"11px"}})))),style:{width:"100px"}})),(c==="agregar"||c==="editar"||c==="visualizar")&&o.createElement(HK,{visible:s,onClose:P,modalTipo:c,clienteSeleccionado:f,clientes:t,onSave:L,showNotification:w}),c==="eliminar"&&f&&o.createElement(Ta,{visible:s,onClose:P},o.createElement("h2",{className:"modal-title"},"Eliminar Cliente"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"Est seguro que desea eliminar el cliente ",o.createElement("strong",null,f.nombre," ",f.apellido),"?"),f.tieneVentas&&o.createElement("p",{style:{color:"#e53935",fontSize:"14px",marginTop:"10px"}},o.createElement("strong",null," Este cliente tiene ventas asociadas y no puede ser eliminado."))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:P},"Cancelar"),!f.tieneVentas&&o.createElement("button",{className:"modal-btn save-btn",onClick:R},"Eliminar"))),c==="confirmarEliminar"&&f&&o.createElement(Ta,{visible:s,onClose:P},o.createElement("h2",{className:"modal-title"},"Eliminar Cliente"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"Est seguro que desea eliminar el cliente ",o.createElement("strong",null,f.nombre," ",f.apellido),"?")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:P},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:O},"Eliminar"))))}const Xa={rosaPrincipal:[255,20,147],rosaClaro:[255,182,193],amarillo:[255,215,0],amarilloClaro:[255,255,224],grisTexto:[64,64,64],blanco:[255,255,255],grisElegante:[108,117,125],grisFondo:[248,249,250]},fg={nombre:"Delicias Darsy",subtitulo:"Gestin de Ventas",usarLogoPersonalizado:!0,logoURL:"/imagenes/logo-delicias-darsy.png",logoFormato:"PNG",logoAncho:35,logoAlto:25,logoFooterSize:15},KK=({visible:t,onClose:e,ventaData:r,onDownload:n})=>{const[a,i]=p.useState(null),[s,l]=p.useState(!1),[c,u]=p.useState(null),f=()=>{const A=new Date,T=A.toLocaleDateString("es-CO",{timeZone:"America/Bogota",year:"numeric",month:"2-digit",day:"2-digit"}),C=A.toLocaleTimeString("es-CO",{timeZone:"America/Bogota",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1});return{fecha:T,hora:C}},m=A=>new Intl.NumberFormat("es-CO",{minimumFractionDigits:0,maximumFractionDigits:0}).format(A),v=A=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}).format(A),h=(A,T,C,_=20)=>{try{A.setFillColor(...Xa.blanco);const D=_/2+3;A.circle(T,C,D,"F"),A.setDrawColor(200,200,200),A.setLineWidth(.5),A.circle(T,C,D,"S"),A.addImage(fg.logoURL,fg.logoFormato,T-_/2,C-_/2,_,_)}catch(D){console.error("Error al cargar logo personalizado:",D),E(A,T,C,_)}},E=(A,T,C,_)=>{A.setFillColor(...Xa.blanco);const D=_/2+3;A.circle(T,C,D,"F"),A.setFillColor(...Xa.rosaPrincipal),A.circle(T,C,_,"F"),A.setFillColor(...Xa.amarillo),A.circle(T,C,_*.6,"F"),A.setFontSize(_*.8),A.setTextColor(...Xa.blanco),A.setFont("helvetica","bold"),A.text("DD",T-4,C+3)},y=A=>{A.setFillColor(...Xa.rosaPrincipal),A.rect(0,0,210,40,"F"),h(A,160,20,fg.logoAncho),A.setFontSize(18),A.setTextColor(...Xa.blanco),A.setFont("helvetica","bold"),A.text("DETALLE DE VENTA",20,18),A.setFontSize(14),A.text("Delicias Darsy",20,26),A.setFontSize(11),A.setFont("helvetica","normal"),A.text(fg.subtitulo,20,33),A.setFillColor(...Xa.rosaClaro),A.rect(0,40,210,10,"F"),A.setDrawColor(...Xa.amarillo),A.setLineWidth(2),A.line(20,55,190,55)},b=(A,T)=>{A.setTextColor(...Xa.grisTexto),A.setFontSize(10),A.setFont("helvetica","normal"),A.setFillColor(...Xa.grisFondo),A.rect(20,60,170,40,"F"),A.setDrawColor(...Xa.grisElegante),A.setLineWidth(.5),A.rect(20,60,170,40),A.setFont("helvetica","bold"),A.text("CLIENTE:",25,68),A.setFont("helvetica","normal");const C=T.nombreCliente||T.cliente||"N/A";A.text(C,55,68),A.setFont("helvetica","bold"),A.text("SEDE:",25,75),A.setFont("helvetica","normal"),A.text(T.nombreSede||T.sede||"N/A",55,75),A.setFont("helvetica","bold"),A.text("TIPO VENTA:",25,82),A.setFont("helvetica","normal");const _=T.tipoVenta==="directa"?"Venta Directa":"Pedido";A.text(_,55,82),A.setFont("helvetica","bold"),A.text("FECHA VENTA:",25,89),A.setFont("helvetica","normal");let D=T.fechaVenta||T.fecha_venta||"";if(D&&(D.includes("T")&&(D=D.split("T")[0]),D.match(/^\d{4}-\d{2}-\d{2}$/))){const[V,J,ie]=D.split("-");D=`${ie}/${J}/${V}`}A.text(D||"N/A",60,89),A.setFont("helvetica","bold"),A.text("VENTA N:",120,68),A.setFont("helvetica","normal"),A.text(T.idVenta?T.idVenta.toString():"N/A",150,68),A.setFont("helvetica","bold"),A.text("MTODO PAGO:",120,75),A.setFont("helvetica","normal"),A.text(T.metodoPago||"N/A",160,75),A.setFont("helvetica","bold"),A.text("ESTADO:",120,82),A.setFont("helvetica","normal"),A.text(T.nombreEstado||"N/A",145,82);const{fecha:z}=f();if(A.setFont("helvetica","bold"),A.text("FECHA REGISTRO:",120,89),A.setFont("helvetica","normal"),A.text(z,165,89),T.tipoVenta==="pedido"&&T.fechaEntrega){A.setFont("helvetica","bold"),A.text("FECHA ENTREGA:",25,96),A.setFont("helvetica","normal");let V=T.fechaEntrega;if(V.includes("T")&&(V=V.split("T")[0]),V.match(/^\d{4}-\d{2}-\d{2}$/)){const[J,ie,G]=V.split("-");V=`${G}/${ie}/${J}`}A.text(V,60,96)}},x=(A,T)=>{const C=(r.tipoVenta==="pedido"&&r.fechaEntrega,108);LS(A,{head:[["Producto","Cantidad","Precio Unit.","Subtotal"]],body:T.map(_=>[_.nombreProducto||_.nombre||`ID: ${_.idproductogeneral}`||"N/A",m(_.cantidad||0),v(_.precioUnitario||_.precio||0),v(_.subtotal||(_.cantidad||0)*(_.precioUnitario||_.precio||0))]),startY:C,styles:{fillColor:Xa.blanco,textColor:Xa.grisTexto,fontSize:10,cellPadding:5,lineWidth:.1,lineColor:[220,220,220],halign:"center"},headStyles:{fillColor:[240,240,240],textColor:[80,80,80],fontSize:10,fontStyle:"bold",halign:"center",valign:"middle",cellPadding:5},alternateRowStyles:{fillColor:[252,252,252]},columnStyles:{0:{halign:"left",cellWidth:70},1:{halign:"center",cellWidth:30},2:{halign:"right",cellWidth:40},3:{halign:"right",cellWidth:40,fontStyle:"bold"}},margin:{top:15}})},w=(A,T,C)=>{const _=C+10;A.setFillColor(...Xa.grisElegante),A.rect(130,_,60,15,"F"),A.setDrawColor(...Xa.amarillo),A.setLineWidth(1),A.rect(130,_,60,15),A.setFontSize(14),A.setTextColor(...Xa.blanco),A.setFont("helvetica","bold"),A.text("TOTAL:",135,_+10);const D=v(T);return A.text(D,185,_+10,{align:"right"}),_},N=(A,T,C)=>{if(!T||T.length===0)return C;const _=T.filter(D=>!D.anulado);return _.length===0?C:(A.setFontSize(12),A.setTextColor(...Xa.grisTexto),A.setFont("helvetica","bold"),A.text("ABONOS REALIZADOS:",20,C+20),LS(A,{head:[["Fecha","Monto","Mtodo de Pago"]],body:_.map(D=>{let z=D.fecha||D.fechaAbono||"";if(z.includes("T")&&(z=z.split("T")[0]),z.match(/^\d{4}-\d{2}-\d{2}$/)){const[V,J,ie]=z.split("-");z=`${ie}/${J}/${V}`}return[z,v(D.monto||D.totalPagado||0),D.metodoPago||"N/A"]}),startY:C+25,styles:{fillColor:Xa.blanco,textColor:Xa.grisTexto,fontSize:9,cellPadding:4,lineWidth:.1,lineColor:[220,220,220],halign:"center"},headStyles:{fillColor:[240,240,240],textColor:[80,80,80],fontSize:10,fontStyle:"bold",halign:"center"},columnStyles:{0:{halign:"center",cellWidth:50},1:{halign:"right",cellWidth:50,fontStyle:"bold"},2:{halign:"center",cellWidth:70}}}),A.previousAutoTable.finalY)},I=(A,T,C,_)=>{if(!C||C.length===0)return;const z=C.filter(ie=>!ie.anulado).reduce((ie,G)=>ie+parseFloat(G.monto||G.totalPagado||0),0),V=T-z,J=_+10;A.setFillColor(46,125,50),A.rect(20,J,80,12,"F"),A.setDrawColor(...Xa.amarillo),A.setLineWidth(.8),A.rect(20,J,80,12),A.setFontSize(11),A.setTextColor(...Xa.blanco),A.setFont("helvetica","bold"),A.text("TOTAL ABONADO:",25,J+8),A.text(v(z),95,J+8,{align:"right"}),A.setFillColor(211,47,47),A.rect(110,J,80,12,"F"),A.setDrawColor(...Xa.amarillo),A.rect(110,J,80,12),A.text("SALDO PENDIENTE:",115,J+8),A.text(v(V),185,J+8,{align:"right"})},P=(A,T,C)=>{if(T&&T.trim()!==""){A.setFontSize(11),A.setTextColor(...Xa.grisTexto),A.setFont("helvetica","bold"),A.text("OBSERVACIONES:",20,C+25),A.setFont("helvetica","normal");const _=A.splitTextToSize(T,170);A.text(_,20,C+32)}},L=A=>{const T=A.internal.pageSize.height;A.setFillColor(...Xa.rosaClaro),A.rect(0,T-20,210,20,"F"),A.setFontSize(8),A.setTextColor(...Xa.grisTexto),A.setFont("helvetica","normal"),A.text("Documento generado automticamente - Delicias Darsy",20,T-10);const{fecha:C,hora:_}=f();A.text(`Generado: ${C} - ${_}`,20,T-5),h(A,180,T-10,fg.logoFooterSize)},R=async A=>{try{if(l(!0),u(null),!A.detalleVenta||A.detalleVenta.length===0)throw new Error("No hay productos para generar el PDF");const T=new gn,C={...A,idVenta:A.idVenta||Date.now().toString()};y(T),b(T,C),x(T,C.detalleVenta);const _=C.total||0,D=T.previousAutoTable?T.previousAutoTable.finalY:150,z=w(T,_,D);let V=z;C.abonos&&C.abonos.length>0&&(V=N(T,C.abonos,z),I(T,_,C.abonos,V)),P(T,C.observaciones,V),L(T);const J=T.output("datauristring");return i(J),T}catch(T){throw console.error("Error al generar PDF preview:",T),u("Error al generar la previsualizacin del PDF"),T}finally{l(!1)}},O=async()=>{try{if(l(!0),u(null),!r||!r.detalleVenta||r.detalleVenta.length===0)throw new Error("No hay productos para generar el PDF");const A=await R(r),{fecha:T}=f(),C=`venta-${r.idVenta||Date.now()}-${T.replace(/\//g,"-")}.pdf`;A.save(C),n&&n()}catch(A){console.error("Error al descargar PDF:",A),u("Error al descargar el PDF")}finally{l(!1)}};return p.useEffect(()=>{t&&r&&R(r)},[t,r]),t?o.createElement(o.Fragment,null,o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center"},onClick:e},o.createElement("div",{style:{width:"95vw",height:"90vh",maxWidth:"1400px",maxHeight:"850px",backgroundColor:"white",borderRadius:"8px",display:"flex",flexDirection:"column",boxShadow:"0 10px 30px rgba(0,0,0,0.3)"},onClick:A=>A.stopPropagation()},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"20px",borderBottom:"2px solid #e0e0e0",backgroundColor:"#f8f9fa",borderRadius:"8px 8px 0 0"}},o.createElement("h2",{style:{margin:0,color:"#333",fontSize:"1.5rem",fontWeight:"600"}},"Previsualizacin de Venta"),o.createElement("div",{style:{display:"flex",gap:"10px"}},o.createElement("button",{onClick:O,disabled:s||c,style:{padding:"10px 20px",backgroundColor:"#ee52a5",color:"white",border:"none",borderRadius:"5px",fontSize:"16px",fontWeight:"500",cursor:s||c?"not-allowed":"pointer",opacity:s||c?.6:1,display:"flex",alignItems:"center",gap:"8px"}}," Descargar"),o.createElement("button",{onClick:e,style:{padding:"10px 20px",backgroundColor:"#6c757d",color:"white",border:"none",borderRadius:"5px",fontSize:"16px",fontWeight:"500",cursor:"pointer",display:"flex",alignItems:"center",gap:"8px"}}," Cerrar"))),o.createElement("div",{style:{flex:1,display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f5f5f5",minHeight:"700px",position:"relative"}},s&&o.createElement("div",{style:{textAlign:"center",color:"#666"}},o.createElement("div",{style:{width:"50px",height:"50px",border:"4px solid #f3f3f3",borderTop:"4px solid #ff1493",borderRadius:"50%",animation:"spin 1s linear infinite",margin:"0 auto 20px"}}),o.createElement("p",{style:{fontSize:"18px"}},"Generando previsualizacin...")),c&&o.createElement("div",{style:{textAlign:"center",color:"#dc3545",fontSize:"18px"}},o.createElement("p",null," ",c),o.createElement("button",{onClick:()=>R(r),style:{marginTop:"15px",padding:"10px 20px",backgroundColor:"#007bff",color:"white",border:"none",borderRadius:"5px",cursor:"pointer",fontSize:"16px"}},"Reintentar")),a&&!s&&!c&&o.createElement("iframe",{src:a,style:{width:"100%",height:"100%",border:"none",minHeight:"700px"},title:"Previsualizacin PDF"})))),o.createElement("style",{jsx:!0},`
                @keyframes spin {
                    0% { transform: rotate(0deg); }
                    100% { transform: rotate(360deg); }
                }
            `)):null};function YK({ventasFiltradas:t,abrirModal:e,setVentaSeleccionada:r,setMostrarModalAbonos:n,manejarCambioEstado:a,notification:i,hideNotification:s,getRowClassName:l,filtroTipoVenta:c,setFiltroTipoVenta:u,verDetalleVenta:f,estadosVenta:m,setFiltro:v,setMostrarAgregarVenta:h}){const[E,y]=p.useState(!1),[b,x]=p.useState(null),[w,N]=p.useState(!1),I=A=>parseFloat(A||0).toLocaleString("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}),P=A=>{var te,W,B,j;const T=(te=m.find(U=>U.nombre_estado==="Anulada"))==null?void 0:te.idestadoventa,C=(W=m.find(U=>U.nombre_estado==="Activa"))==null?void 0:W.idestadoventa,_=(B=m.find(U=>U.nombre_estado==="Finalizado"))==null?void 0:B.idestadoventa,D=(j=m.find(U=>U.nombre_estado==="Completada"))==null?void 0:j.idestadoventa,z=A.idEstadoVenta===T||A.idEstadoVenta===_||A.idEstadoVenta===D||A.tipoVenta==="directa"&&A.idEstadoVenta===C,V=m.find(U=>U.idestadoventa===A.idEstadoVenta),J=(V==null?void 0:V.nombre_estado)||A.nombreEstado,G=A.idEstadoVenta===T?{bg:"#ffebee",color:"#c62828"}:A.idEstadoVenta===C?{bg:"#e8f5e9",color:"#2e7d32"}:A.idEstadoVenta===D||A.idEstadoVenta===_?{bg:"#e3f2fd",color:"#1565c0"}:{bg:"#fce4ec",color:"#c2185b"};if(z)return o.createElement("span",{style:{display:"inline-block",padding:"4px 12px",fontSize:"11px",fontWeight:"600",borderRadius:"4px",backgroundColor:G.bg,color:G.color,border:`1px solid ${G.color}20`}},J);{const U=m.filter(X=>{const Z=X.nombre_estado;return Z!=="Activa"&&Z!=="Anulada"});return o.createElement("select",{value:A.idEstadoVenta,onChange:X=>a(A.idVenta,parseInt(X.target.value)),style:{padding:"4px 24px 4px 8px",fontSize:"11px",fontWeight:"600",border:"none",borderRadius:"4px",appearance:"none",backgroundColor:"#e91e63",color:"#fff",cursor:"pointer",minWidth:"80px",backgroundImage:`url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='white' stroke-width='2'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e")`,backgroundRepeat:"no-repeat",backgroundPosition:"right 4px center",backgroundSize:"12px"}},U.map(X=>o.createElement("option",{key:X.idestadoventa,value:X.idestadoventa},X.nombre_estado)))}},L=async A=>{N(!0);try{const T=await wo.obtenerVentaPorId(A.idVenta);if(!T.detalleVenta||T.detalleVenta.length===0){alert("Esta venta no tiene productos registrados para generar el PDF");return}x(T),y(!0)}catch(T){alert("No se pudo cargar la informacin completa de la venta: "+T.message)}finally{N(!1)}},R=()=>{y(!1),x(null)},O=A=>{var D,z;const T=(D=m.find(V=>V.nombre_estado==="Anulada"))==null?void 0:D.idestadoventa,C=(z=m.find(V=>V.nombre_estado==="Activa"))==null?void 0:z.idestadoventa,_=A.idEstadoVenta!==T&&A.idEstadoVenta!==C;return o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"3px"}},o.createElement(qn,{text:"Ver detalle"},o.createElement("button",{className:"admin-button",onClick:()=>f(A),style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-eye",style:{fontSize:"11px"}}))),o.createElement(qn,{text:A.idEstadoVenta===T?"Anulada":"Anular"},o.createElement("button",{className:"admin-button",onClick:()=>e("anular",A),disabled:A.idEstadoVenta===T,style:{background:A.idEstadoVenta===T?"#f5f5f5":"#ffebee",color:A.idEstadoVenta===T?"#bbb":"#d32f2f",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:A.idEstadoVenta===T?"not-allowed":"pointer",opacity:A.idEstadoVenta===T?.5:1,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-ban",style:{fontSize:"11px"}}))),o.createElement(qn,{text:"Generar PDF"},o.createElement("button",{className:"admin-button",onClick:()=>L(A),disabled:w,style:{background:"#fff8e1",color:"#f57c00",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:w?"wait":"pointer",opacity:w?.6:1,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:w?"fas fa-spinner fa-spin":"fas fa-file-pdf",style:{fontSize:"11px"}}))),A.tipoVenta==="pedido"&&_&&o.createElement(qn,{text:"Abonos"},o.createElement("button",{className:"admin-button",onClick:()=>n(A),style:{background:"#e8f5e9",color:"#388e3c",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-dollar-sign",style:{fontSize:"11px"}}))))};return o.createElement(o.Fragment,null,o.createElement(Fo,{visible:i.visible,mensaje:i.mensaje,tipo:i.tipo,onClose:s}),o.createElement("div",{className:"admin-toolbar"},o.createElement(tc,{placeholder:"Buscar venta...",onChange:v}),o.createElement("button",{className:"admin-button pink",onClick:()=>h(!0),type:"button"},o.createElement("i",{className:"fas fa-plus"})," Agregar")),o.createElement("div",{className:"ventas-header-container"},o.createElement("h2",{className:"admin-section-title"},"Gestin de Ventas"),o.createElement("div",{className:"filter-buttons-container"},o.createElement("button",{className:`filter-tab ${c==="directa"?"filter-tab-active":""}`,onClick:()=>u("directa")},"Directas"),o.createElement("button",{className:`filter-tab ${c==="pedido"?"filter-tab-active":""}`,onClick:()=>u("pedido")},"Pedidos"),o.createElement("button",{className:`filter-tab ${c==="anulado"?"filter-tab-active":""}`,onClick:()=>u("anulado")},"Anuladas"))),o.createElement(_s,{value:t,className:"admin-table compact-paginator",dataKey:"idVenta",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],rowClassName:l,emptyMessage:"No hay ventas registradas",tableStyle:{minWidth:"50rem"}},o.createElement(cr,{field:"idVenta",header:"N",style:{width:"50px"}}),o.createElement(cr,{field:"nombreCliente",header:"Cliente"}),o.createElement(cr,{field:"nombreSede",header:"Sede"}),o.createElement(cr,{field:"metodoPago",header:"Mtodo de Pago"}),o.createElement(cr,{field:"tipoVenta",header:"Tipo de Venta"}),o.createElement(cr,{field:"nombreEstado",header:"Estado",body:P}),o.createElement(cr,{field:"total",header:"Total",body:A=>I(A.total)}),o.createElement(cr,{header:"Acciones",body:O,style:{width:"120px"}})),E&&b&&o.createElement(KK,{visible:E,onClose:R,ventaData:b,onDownload:()=>console.log("PDF descargado")}))}const Lm="https://deliciasoft-backend.onrender.com/api/inventariosede";class JK{constructor(){this.baseHeaders={"Content-Type":"application/json",Accept:"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`;try{const n=await e.json();r=n.message||n.error||r,console.error("Error del servidor:",n)}catch{console.error("No se pudo parsear el error")}throw new Error(r)}return e.json()}async obtenerInventarioPorSede(e){try{console.log(` Obteniendo inventario de sede ${e}...`);const r=await fetch(`${Lm}/sede/${e}`,{method:"GET",headers:this.baseHeaders}),n=await this.handleResponse(r);return console.log("Inventario obtenido:",n),n}catch(r){throw console.error("Error al obtener inventario por sede:",r),r}}async obtenerInventarioProductoSede(e,r){try{console.log(` Consultando inventario: Producto ${e}, Sede ${r}`);const n=await fetch(`${Lm}?idproductogeneral=${e}&idsede=${r}`,{method:"GET",headers:this.baseHeaders}),a=await this.handleResponse(n);return console.log("Cantidad disponible:",a.cantidad),a}catch(n){throw console.error("Error al obtener inventario del producto:",n),n}}async obtenerInventarioGeneral(){try{console.log(" Obteniendo inventario general...");const e=await fetch(`${Lm}/general`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return console.log("Inventario general obtenido:",r.length,"registros"),r}catch(e){throw console.error("Error al obtener inventario general:",e),e}}async obtenerInventarioProducto(e){try{console.log(` Obteniendo inventario del producto ${e}...`);const r=await fetch(`${Lm}/producto/${e}`,{method:"GET",headers:this.baseHeaders}),n=await this.handleResponse(r);return console.log("Inventario por sedes:",n),n}catch(r){throw console.error("Error al obtener inventario del producto:",r),r}}async actualizarInventario(e,r,n){try{console.log(` Actualizando inventario: Producto ${e}, Sede ${r}, Cantidad ${n}`);const a=await fetch(`${Lm}`,{method:"POST",headers:this.baseHeaders,body:JSON.stringify({idproductogeneral:parseInt(e),idsede:parseInt(r),cantidad:parseFloat(n)})}),i=await this.handleResponse(a);return console.log("Inventario actualizado:",i),i}catch(a){throw console.error("Error al actualizar inventario:",a),a}}async verificarDisponibilidad(e,r){try{console.log(" Verificando disponibilidad de productos...");const a=(await Promise.all(e.map(async i=>{var u;const s=await this.obtenerInventarioProductoSede(i.idproductogeneral||i.id,r),l=parseFloat(s.cantidad||0),c=parseFloat(i.cantidad||1);return{id:i.idproductogeneral||i.id,nombre:((u=s.productogeneral)==null?void 0:u.nombreproducto)||i.nombre,disponible:l,solicitado:c,suficiente:l>=c}}))).filter(i=>!i.suficiente);return a.length>0?(console.warn(" Productos con inventario insuficiente:",a),{valido:!1,productosInsuficientes:a,mensaje:`Inventario insuficiente para: ${a.map(i=>`${i.nombre} (disponible: ${i.disponible}, solicitado: ${i.solicitado})`).join(", ")}`}):(console.log(" Todos los productos tienen inventario suficiente"),{valido:!0,productosInsuficientes:[],mensaje:"Inventario verificado correctamente"})}catch(n){throw console.error("Error al verificar disponibilidad:",n),n}}formatearInventarioParaUI(e){return Array.isArray(e)?e.map(r=>{var n,a,i,s,l,c;return{idproductogeneral:r.idproductogeneral,nombreproducto:((n=r.productogeneral)==null?void 0:n.nombreproducto)||"Sin nombre",cantidad:parseFloat(r.cantidad||0),sede:((a=r.sede)==null?void 0:a.nombre)||"Sin sede",idsede:r.idsede,precio:((i=r.productogeneral)==null?void 0:i.precioproducto)||0,urlimagen:((l=(s=r.productogeneral)==null?void 0:s.imagenes)==null?void 0:l.urlimg)||null,estado:((c=r.productogeneral)==null?void 0:c.estado)||!1}}):[]}async testConnection(){try{console.log(" Probando conexin con API de inventario...");const e=await fetch(`${Lm}/general`,{method:"GET",headers:this.baseHeaders});return{success:e.ok,status:e.status,message:e.ok?"Conexin exitosa":`Error HTTP ${e.status}`}}catch(e){return console.error("Error en test de conexin:",e),{success:!1,error:e.message,message:"No se pudo conectar con el servidor de inventario"}}}}const j9=new JK,XK=({onClose:t,onAgregar:e,sedeSeleccionada:r,tipoVenta:n,insumosSeleccionados:a=[]})=>{const[i,s]=p.useState([]),[l,c]=p.useState(""),[u,f]=p.useState([]),[m,v]=p.useState("todas"),[h,E]=p.useState(1),y=8,[b,x]=p.useState([]),[w,N]=p.useState(!0),[I,P]=p.useState(""),[L,R]=p.useState([]),O=n==="pedido";p.useEffect(()=>{A(),T()},[r,n]);const A=async()=>{try{const B=await Is.obtenerCategoriasActivas();f(B||[])}catch(B){console.error("Error al cargar categoras:",B),f([])}},T=async()=>{try{N(!0),P("");const j=(await Qs.obtenerProductos()).filter(U=>U.estado===!0);if(!O&&r){const U=r==="San Pablo"?1:2,X=await j9.obtenerInventarioPorSede(U),Z={};X.inventarios&&Array.isArray(X.inventarios)&&X.inventarios.forEach(de=>{Z[de.producto.id]=parseFloat(de.cantidad)}),R(Z);const me=j.map(de=>({...de,disponible:Z[de.idproductogeneral||de.id]||0}));x(me)}else{const U=j.map(X=>({...X,disponible:999}));x(U)}}catch(B){console.error("Error al cargar productos:",B),P("Error al cargar productos desde la API"),x([])}finally{N(!1)}},C=B=>O?999:L[B.idproductogeneral||B.id]||0,_=p.useMemo(()=>b.filter(B=>{const U=(B.nombre||B.nombreproducto||"").toLowerCase().includes(l.toLowerCase());let X=!1;if(m==="todas")X=!0;else{const me=B.idcategoriaproducto||B.idcategoria,de=typeof me=="number"?me:parseInt(me),oe=typeof m=="number"?m:parseInt(m);X=de===oe}const Z=O||C(B)>0;return U&&X&&Z}),[b,l,m,O,L]),D=Math.ceil(_.length/y),z=(h-1)*y,V=z+y,J=_.slice(z,V);p.useEffect(()=>{E(1)},[l,m]);const ie=B=>{B==="anterior"&&h>1?E(j=>j-1):B==="siguiente"&&h<D&&E(j=>j+1)},G=B=>{const j=C(B);!O&&j===0||s(U=>U.some(X=>X.id===B.id)?U.filter(X=>X.id!==B.id):[...U,{...B,cantidad:1,disponible:j}])},te=()=>{if(i.length===0){alert("Por favor selecciona al menos un producto");return}e(i),t()},W=B=>{B.target.className==="modal-catalogo-overlay"&&t()};return o.createElement("div",{className:"modal-catalogo-overlay",onClick:W},o.createElement("div",{className:"modal-catalogo-container"},o.createElement("button",{className:"modal-catalogo-close",onClick:t},""),o.createElement("h2",{className:"modal-catalogo-title"}," Seleccionar Productos"),!O&&r&&o.createElement("div",{className:"modal-catalogo-banner"},o.createElement("span",{className:"modal-catalogo-banner-text"}," Inventario de ",r),o.createElement("span",{className:"modal-catalogo-contador-banner"},_.length," productos")),o.createElement("div",{className:"modal-catalogo-controles"},o.createElement("input",{type:"text",placeholder:"Buscar productos...",value:l,onChange:B=>c(B.target.value),className:"modal-catalogo-input",disabled:w}),o.createElement("select",{value:m,onChange:B=>{const j=B.target.value==="todas"?"todas":parseInt(B.target.value);v(j)},className:"modal-catalogo-select",disabled:w},o.createElement("option",{value:"todas"},"Todas las categoras"),u.map(B=>o.createElement("option",{key:B.idcategoriaproducto,value:B.idcategoriaproducto},B.nombrecategoria)))),o.createElement("div",{className:"modal-catalogo-info"},"Mostrando ",J.length," de ",_.length," productos"),w?o.createElement("div",{className:"modal-catalogo-loading"},o.createElement("div",{className:"modal-catalogo-loading-spinner"}),o.createElement("p",null,"Cargando productos...")):o.createElement("div",{className:"modal-catalogo-grid-wrapper"},o.createElement("div",{className:"modal-catalogo-grid"},J.length===0?o.createElement("div",{className:"modal-catalogo-empty"},l||m!=="todas"?"No se encontraron productos con estos filtros":"No hay productos disponibles"):J.map(B=>{const j=i.some(X=>X.id===B.id),U=C(B);return o.createElement("div",{key:B.id||B.idproductogeneral,className:`modal-catalogo-card ${j?"modal-catalogo-card-seleccionado":""} ${!O&&U===0?"modal-catalogo-card-disabled":""}`,onClick:()=>G(B)},j&&o.createElement("div",{className:"modal-catalogo-check-icon"},""),o.createElement("img",{src:B.urlimagen||"https://via.placeholder.com/160?text=Sin+Imagen",alt:B.nombre||B.nombreproducto,onError:X=>{X.target.onerror=null,X.target.src="https://via.placeholder.com/160?text=Sin+Imagen"}}),o.createElement("span",{className:"modal-catalogo-nombre"},B.nombre||B.nombreproducto),o.createElement("span",{className:"modal-catalogo-precio"},"$",B.precio.toLocaleString("es-CO")),!O&&U===0&&o.createElement("div",{style:{position:"absolute",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(255, 255, 255, 0.85)",color:"#e91e63",fontWeight:"bold",fontSize:"0.9em",display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"8px",pointerEvents:"none"}},"AGOTADO"))}))),D>1&&o.createElement("div",{className:"modal-catalogo-paginacion"},o.createElement("button",{className:"modal-catalogo-paginacion-btn",onClick:()=>ie("anterior"),disabled:h===1},""),o.createElement("span",{className:"modal-catalogo-paginacion-info"},"Pgina ",h," de ",D),o.createElement("button",{className:"modal-catalogo-paginacion-btn",onClick:()=>ie("siguiente"),disabled:h===D},"")),o.createElement("div",{className:"modal-catalogo-footer"},o.createElement("div",{className:"modal-catalogo-contador"},"Seleccionados: ",i.length),o.createElement("div",{className:"modal-catalogo-footer-acciones"},o.createElement("button",{className:"modal-catalogo-cancel-btn",onClick:t},"Cancelar"),o.createElement("button",{className:"modal-catalogo-save-btn",onClick:te,disabled:i.length===0||w},"Agregar (",i.length,")")))))},mg={adiciones:"https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-adiciones",insumos:"https://deliciasoft-backend-i6g9.onrender.com/api/insumos",imagenes:"https://deliciasoft-backend-i6g9.onrender.com/api/imagenes"},ZK=({onClose:t,onAgregar:e})=>{const[r,n]=p.useState([]),[a,i]=p.useState(""),[s,l]=p.useState([]),[c,u]=p.useState(!0),[f,m]=p.useState("");p.useEffect(()=>{E()},[]);const v=async N=>{if(!N)return null;try{const I=await fetch(mg.insumos);if(!I.ok)return null;const P=await I.json(),L=Array.isArray(P)?P.find(R=>parseInt(R.idinsumo)===parseInt(N)):null;if(!L)return null;if(L.idimagen){try{const R=`${mg.imagenes}/${L.idimagen}`,O=await fetch(R);if(O.ok){const A=O.headers.get("content-type");if(A&&A.startsWith("image/"))return R;if(A&&A.includes("json")){const T=await O.json(),C=T.urlimg||T.url||T.ruta||T.urlimagen||T.imagenUrl||T.imagen||T.path||T.src;if(C)return C.startsWith("/")?`https://deliciasoft-backend-i6g9.onrender.com${C}`:(C.startsWith("data:image"),C);if(T.data&&T.data.url)return T.data.url}}}catch(R){console.error("Error obteniendo imagen:",R)}return`${mg.imagenes}/${L.idimagen}`}if(L.imagenes){if(L.imagenes.idimagenes)return`${mg.imagenes}/${L.imagenes.idimagenes}`;if(L.imagenes.url||L.imagenes.ruta)return L.imagenes.url||L.imagenes.ruta}return null}catch{return null}},h=N=>{const I=(N==null?void 0:N.charAt(0).toUpperCase())||"A";return`https://via.placeholder.com/100x100/FFC107/FFFFFF?text=${encodeURIComponent(I)}`},E=async()=>{try{u(!0),m("");const N=await fetch(mg.adiciones);if(!N.ok)throw new Error(`HTTP error! status: ${N.status}`);const L=(await N.json()).filter(O=>O.estado===!0).map(async O=>{const A=await v(O.idinsumos);return{id:String(O.idadiciones||O.id),nombre:O.nombre,precio:parseFloat(O.precioadicion||0),imagen:A||h(O.nombre),unidad:"g",cantidad:1}}),R=await Promise.all(L);l(R)}catch(N){console.error("Error al obtener adiciones:",N),m("Error al cargar adiciones"),l([])}finally{u(!1)}},y=s.filter(N=>N.nombre.toLowerCase().includes(a.toLowerCase())),b=N=>{n(I=>I.find(L=>L.id===N.id)?I.filter(L=>L.id!==N.id):[...I,{...N,cantidad:1}])},x=()=>{if(r.length===0){alert("Por favor selecciona al menos una adicin");return}console.log(" Agregando adiciones:",r),e(r),t()},w=N=>{N.target.className==="modal-catalogo-overlay"&&t()};return o.createElement("div",{className:"modal-catalogo-overlay",onClick:w},o.createElement("div",{className:"modal-catalogo-container"},o.createElement("button",{className:"modal-catalogo-close",onClick:t},""),o.createElement("h2",{className:"modal-catalogo-title"}," Seleccionar Adiciones"),o.createElement("div",{className:"modal-catalogo-controles"},o.createElement("input",{type:"text",placeholder:"Buscar adicin...",value:a,onChange:N=>i(N.target.value),className:"modal-catalogo-input",disabled:c})),o.createElement("div",{className:"modal-catalogo-info"},"Mostrando ",y.length," de ",s.length," adiciones"),c?o.createElement("div",{className:"modal-catalogo-loading"},o.createElement("div",{className:"modal-catalogo-loading-spinner"}),o.createElement("p",null,"Cargando adiciones...")):o.createElement("div",{className:"modal-catalogo-grid-wrapper"},o.createElement("div",{className:"modal-catalogo-grid"},f?o.createElement("div",{className:"modal-catalogo-empty"},o.createElement("p",null,f)):y.length===0?o.createElement("div",{className:"modal-catalogo-empty"},"No se encontraron adiciones"):y.map(N=>{const I=r.some(P=>P.id===N.id);return o.createElement("div",{key:N.id,onClick:()=>b(N),className:`modal-catalogo-card ${I?"modal-catalogo-card-seleccionado":""}`},I&&o.createElement("div",{className:"modal-catalogo-check-icon"},""),o.createElement("img",{src:N.imagen,alt:N.nombre,onError:P=>{P.target.onerror=null,P.target.src="https://via.placeholder.com/100x100/FFC107/FFFFFF?text=A"}}),o.createElement("span",{className:"modal-catalogo-nombre"},N.nombre),o.createElement("span",{className:"modal-catalogo-precio"},"$",N.precio.toLocaleString("es-CO")))}))),o.createElement("div",{className:"modal-catalogo-footer"},o.createElement("div",{className:"modal-catalogo-contador"},"Seleccionados: ",r.length),o.createElement("div",{className:"modal-catalogo-footer-acciones"},o.createElement("button",{className:"modal-catalogo-cancel-btn",onClick:t},"Cancelar"),o.createElement("button",{className:"modal-catalogo-save-btn",onClick:x,disabled:r.length===0||c},"Agregar (",r.length,")")))))},pg={salsas:"https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-salsas",insumos:"https://deliciasoft-backend-i6g9.onrender.com/api/insumos",imagenes:"https://deliciasoft-backend-i6g9.onrender.com/api/imagenes"},QK=({onClose:t,onAgregar:e,limiteMaximo:r=null})=>{const[n,a]=p.useState([]),[i,s]=p.useState(""),[l,c]=p.useState([]),[u,f]=p.useState(!0),[m,v]=p.useState("");p.useEffect(()=>{y()},[]);const h=async P=>{if(!P)return null;try{const L=await fetch(pg.insumos);if(!L.ok)return null;const R=await L.json(),O=Array.isArray(R)?R.find(A=>parseInt(A.idinsumo)===parseInt(P)):null;if(!O)return null;if(O.idimagen){try{const A=`${pg.imagenes}/${O.idimagen}`,T=await fetch(A);if(T.ok){const C=T.headers.get("content-type");if(C&&C.startsWith("image/"))return A;if(C&&C.includes("json")){const _=await T.json(),D=_.urlimg||_.url||_.ruta||_.urlimagen||_.imagenUrl||_.imagen||_.path||_.src;if(D)return D.startsWith("/")?`https://deliciasoft-backend-i6g9.onrender.com${D}`:(D.startsWith("data:image"),D);if(_.data&&_.data.url)return _.data.url}}}catch(A){console.error("Error obteniendo imagen:",A)}return`${pg.imagenes}/${O.idimagen}`}if(O.imagenes){if(O.imagenes.idimagenes)return`${pg.imagenes}/${O.imagenes.idimagenes}`;if(O.imagenes.url||O.imagenes.ruta)return O.imagenes.url||O.imagenes.ruta}return null}catch{return null}},E=P=>{const L=(P==null?void 0:P.charAt(0).toUpperCase())||"S";return`https://via.placeholder.com/100x100/FF5722/FFFFFF?text=${encodeURIComponent(L)}`},y=async()=>{try{f(!0),v("");const P=await fetch(pg.salsas);if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);const O=(await P.json()).filter(T=>T.estado===!0).map(async T=>{const C=await h(T.idinsumos);return{id:String(T.idsalsa||T.id),nombre:T.nombre,precio:0,imagen:C||E(T.nombre),unidad:"ml",cantidad:1}}),A=await Promise.all(O);c(A)}catch(P){console.error("Error al obtener salsas:",P),v("Error al cargar salsas"),c([])}finally{f(!1)}},b=l.filter(P=>P.nombre.toLowerCase().includes(i.toLowerCase())),x=P=>{a(L=>L.find(O=>O.id===P.id)?L.filter(O=>O.id!==P.id):r!==null&&L.length>=r?(alert(` Solo puedes seleccionar mximo ${r} salsa${r>1?"s":""}`),L):[...L,{...P,cantidad:1}])},w=()=>{if(n.length===0){alert("Por favor selecciona al menos una salsa");return}console.log(" Agregando salsas:",n),e(n),setTimeout(()=>{t()},0)},N=P=>{P.target.className==="modal-catalogo-overlay"&&t()},I=P=>!n.some(R=>R.id===P.id)&&r!==null&&n.length>=r;return o.createElement("div",{className:"modal-catalogo-overlay",onClick:N},o.createElement("div",{className:"modal-catalogo-container",onClick:P=>P.stopPropagation()},o.createElement("button",{type:"button",onClick:t,className:"modal-catalogo-close"},""),o.createElement("h2",{className:"modal-catalogo-title"}," Seleccionar Salsas"),r!==null&&r>0&&o.createElement("div",{className:"modal-catalogo-banner"},o.createElement("span",{className:"modal-catalogo-banner-text"}," Lmite de salsas configurado"),o.createElement("span",{className:`modal-catalogo-contador-banner ${n.length>=r?"limite-alcanzado":""}`},n.length," / ",r)),o.createElement("div",{className:"modal-catalogo-controles"},o.createElement("input",{type:"text",placeholder:"Buscar salsa...",value:i,onChange:P=>s(P.target.value),className:"modal-catalogo-input",disabled:u})),o.createElement("div",{className:"modal-catalogo-info"},"Mostrando ",b.length," de ",l.length," salsas"),u?o.createElement("div",{className:"modal-catalogo-loading"},o.createElement("div",{className:"modal-catalogo-loading-spinner"}),o.createElement("p",null,"Cargando salsas...")):o.createElement("div",{className:"modal-catalogo-grid-wrapper"},o.createElement("div",{className:"modal-catalogo-grid"},m?o.createElement("div",{className:"modal-catalogo-empty"},o.createElement("p",null,m)):b.length===0?o.createElement("div",{className:"modal-catalogo-empty"},"No se encontraron salsas"):b.map(P=>{const L=n.some(O=>O.id===P.id),R=I(P);return o.createElement("div",{key:P.id,onClick:()=>!R&&x(P),className:`modal-catalogo-card ${L?"modal-catalogo-card-seleccionado":""} ${R?"modal-catalogo-card-disabled":""}`},L&&o.createElement("div",{className:"modal-catalogo-check-icon"},""),o.createElement("img",{src:P.imagen,alt:P.nombre,onError:O=>{O.target.onerror=null,O.target.src="https://via.placeholder.com/100x100/FF5722/FFFFFF?text=S"}}),o.createElement("span",{className:"modal-catalogo-nombre"},P.nombre),o.createElement("span",{className:"modal-catalogo-precio gratis"},"Gratis"))}))),o.createElement("div",{className:"modal-catalogo-footer"},o.createElement("div",{className:"modal-catalogo-contador"},"Seleccionados: ",n.length),o.createElement("div",null),o.createElement("div",{className:"modal-catalogo-footer-acciones"},o.createElement("button",{className:"modal-catalogo-cancel-btn",onClick:t},"Cancelar"),o.createElement("button",{className:"modal-catalogo-save-btn",onClick:w,disabled:n.length===0||u},"Agregar (",n.length,")")))))},gg={rellenos:"https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-relleno",insumos:"https://deliciasoft-backend-i6g9.onrender.com/api/insumos",imagenes:"https://deliciasoft-backend-i6g9.onrender.com/api/imagenes"},eY=({onClose:t,onAgregar:e,limiteMaximo:r=null})=>{const[n,a]=p.useState([]),[i,s]=p.useState(""),[l,c]=p.useState([]),[u,f]=p.useState(!0),[m,v]=p.useState("");p.useEffect(()=>{y()},[]);const h=async P=>{if(!P)return null;try{const L=await fetch(gg.insumos);if(!L.ok)return null;const R=await L.json(),O=Array.isArray(R)?R.find(A=>parseInt(A.idinsumo)===parseInt(P)):null;if(!O)return null;if(O.idimagen){try{const A=`${gg.imagenes}/${O.idimagen}`,T=await fetch(A);if(T.ok){const C=T.headers.get("content-type");if(C&&C.startsWith("image/"))return A;if(C&&C.includes("json")){const _=await T.json(),D=_.urlimg||_.url||_.ruta||_.urlimagen||_.imagenUrl||_.imagen||_.path||_.src;if(D)return D.startsWith("/")?`https://deliciasoft-backend-i6g9.onrender.com${D}`:(D.startsWith("data:image"),D);if(_.data&&_.data.url)return _.data.url}}}catch(A){console.error("Error obteniendo imagen:",A)}return`${gg.imagenes}/${O.idimagen}`}if(O.imagenes){if(O.imagenes.idimagenes)return`${gg.imagenes}/${O.imagenes.idimagenes}`;if(O.imagenes.url||O.imagenes.ruta)return O.imagenes.url||O.imagenes.ruta}return null}catch(L){return console.error("Error al obtener imagen del insumo:",L),null}},E=P=>{const L=(P==null?void 0:P.charAt(0).toUpperCase())||"R";return`https://via.placeholder.com/100x100/9C27B0/FFFFFF?text=${encodeURIComponent(L)}`},y=async()=>{try{f(!0),v("");const P=await fetch(gg.rellenos,{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);const O=(await P.json()).filter(T=>T.estado===!0).map(async T=>{const C=await h(T.idinsumos);return{id:String(T.idrelleno||T.id),nombre:T.nombre,precio:0,imagen:C||E(T.nombre),unidad:"g",cantidad:1}}),A=await Promise.all(O);c(A)}catch(P){console.error("Error al obtener rellenos:",P),v("Error al cargar rellenos"),c([])}finally{f(!1)}},b=l.filter(P=>P.nombre.toLowerCase().includes(i.toLowerCase())),x=P=>{a(L=>L.find(O=>O.id===P.id)?L.filter(O=>O.id!==P.id):r!==null&&L.length>=r?(alert(` Solo puedes seleccionar mximo ${r} relleno${r>1?"s":""}`),L):[...L,{...P,cantidad:1}])},w=P=>{if(P.preventDefault(),P.stopPropagation(),n.length===0){alert("Por favor selecciona al menos un relleno");return}console.log(" Agregando rellenos:",n),e(n),t()},N=P=>{P.target.classList.contains("modal-catalogo-overlay")&&t()},I=P=>!n.some(R=>R.id===P.id)&&r!==null&&n.length>=r;return o.createElement("div",{className:"modal-catalogo-overlay",onClick:N},o.createElement("div",{className:"modal-catalogo-container",onClick:P=>P.stopPropagation()},o.createElement("button",{type:"button",onClick:t,className:"modal-catalogo-close"},""),o.createElement("h2",{className:"modal-catalogo-title"}," Seleccionar Rellenos"),r!==null&&r>0&&o.createElement("div",{className:"modal-catalogo-banner"},o.createElement("span",{className:"modal-catalogo-banner-text"}," Lmite de rellenos configurado"),o.createElement("span",{className:`modal-catalogo-contador-banner ${n.length>=r?"limite-alcanzado":""}`},n.length," / ",r)),o.createElement("div",{className:"modal-catalogo-controles"},o.createElement("input",{type:"text",placeholder:"Buscar relleno...",value:i,onChange:P=>s(P.target.value),className:"modal-catalogo-input",disabled:u})),o.createElement("div",{className:"modal-catalogo-info"},"Mostrando ",b.length," de ",l.length," rellenos"),u?o.createElement("div",{className:"modal-catalogo-loading"},o.createElement("div",{className:"modal-catalogo-loading-spinner"}),o.createElement("p",null,"Cargando rellenos...")):o.createElement("div",{className:"modal-catalogo-grid-wrapper"},o.createElement("div",{className:"modal-catalogo-grid"},m?o.createElement("div",{className:"modal-catalogo-empty"},o.createElement("p",null,m)):b.length===0?o.createElement("div",{className:"modal-catalogo-empty"},"No se encontraron rellenos"):b.map(P=>{const L=n.some(O=>O.id===P.id),R=I(P);return o.createElement("div",{key:P.id,onClick:()=>!R&&x(P),className:`modal-catalogo-card ${L?"modal-catalogo-card-seleccionado":""} ${R?"modal-catalogo-card-disabled":""}`},L&&o.createElement("div",{className:"modal-catalogo-check-icon"},""),o.createElement("img",{src:P.imagen,alt:P.nombre,onError:O=>{O.target.onerror=null,O.target.src="https://via.placeholder.com/100x100/9C27B0/FFFFFF?text=R"}}),o.createElement("span",{className:"modal-catalogo-nombre"},P.nombre),o.createElement("span",{className:"modal-catalogo-precio gratis"},"Gratis"))}))),o.createElement("div",{className:"modal-catalogo-footer"},o.createElement("div",{className:"modal-catalogo-contador"},"Seleccionados: ",n.length),o.createElement("div",null),o.createElement("div",{className:"modal-catalogo-footer-acciones"},o.createElement("button",{className:"modal-catalogo-cancel-btn",onClick:t,type:"button"},"Cancelar"),o.createElement("button",{className:"modal-catalogo-save-btn",onClick:w,disabled:n.length===0||u,type:"button"},"Agregar (",n.length,")")))))},hg={toppings:"https://deliciasoft-backend-i6g9.onrender.com/api/catalogo-toppings",insumos:"https://deliciasoft-backend-i6g9.onrender.com/api/insumos",imagenes:"https://deliciasoft-backend-i6g9.onrender.com/api/imagenes"},tY=({onClose:t,onAgregar:e,limiteMaximo:r=null})=>{const[n,a]=p.useState([]),[i,s]=p.useState(""),[l,c]=p.useState([]),[u,f]=p.useState(!0),[m,v]=p.useState("");p.useEffect(()=>{y()},[]);const h=async P=>{if(!P)return null;try{const L=await fetch(hg.insumos);if(!L.ok)return null;const R=await L.json(),O=Array.isArray(R)?R.find(A=>parseInt(A.idinsumo)===parseInt(P)):null;if(!O)return null;if(O.idimagen){try{const A=`${hg.imagenes}/${O.idimagen}`,T=await fetch(A);if(T.ok){const C=T.headers.get("content-type");if(C&&C.startsWith("image/"))return A;if(C&&C.includes("json")){const _=await T.json(),D=_.urlimg||_.url||_.ruta||_.urlimagen||_.imagenUrl||_.imagen||_.path||_.src;if(D)return D.startsWith("/")?`https://deliciasoft-backend-i6g9.onrender.com${D}`:(D.startsWith("data:image"),D);if(_.data&&_.data.url)return _.data.url}}}catch(A){console.error("Error obteniendo imagen:",A)}return`${hg.imagenes}/${O.idimagen}`}if(O.imagenes){if(O.imagenes.idimagenes)return`${hg.imagenes}/${O.imagenes.idimagenes}`;if(O.imagenes.url||O.imagenes.ruta)return O.imagenes.url||O.imagenes.ruta}return null}catch{return null}},E=P=>{const L=(P==null?void 0:P.charAt(0).toUpperCase())||"T";return`https://via.placeholder.com/100x100/8B4513/FFFFFF?text=${encodeURIComponent(L)}`},y=async()=>{try{f(!0),v("");const P=await fetch(hg.toppings);if(!P.ok)throw new Error(`HTTP error! status: ${P.status}`);const O=(await P.json()).filter(T=>T.estado===!0).map(async(T,C)=>{const _=await h(T.idinsumos);return{id:String(T.idtopping||T.id||T.idtoppings||T.catalogotoppingId||T.idinsumos||`topping-${C}`),nombre:T.nombre,precio:0,imagen:_||E(T.nombre),unidad:"g",cantidad:1}}),A=await Promise.all(O);c(A)}catch(P){console.error("Error al obtener toppings:",P),v("Error al cargar toppings"),c([])}finally{f(!1)}},b=l.filter(P=>P.nombre.toLowerCase().includes(i.toLowerCase())),x=P=>{a(L=>L.find(O=>O.id===P.id)?L.filter(O=>O.id!==P.id):r!==null&&L.length>=r?(alert(` Solo puedes seleccionar mximo ${r} topping${r>1?"s":""}`),L):[...L,{...P,cantidad:1}])},w=()=>{if(n.length===0){alert("Por favor selecciona al menos un topping");return}console.log(" Agregando toppings:",n),e(n),t()},N=P=>{P.target.className==="modal-catalogo-overlay"&&t()},I=P=>!n.some(R=>R.id===P.id)&&r!==null&&n.length>=r;return o.createElement("div",{className:"modal-catalogo-overlay",onClick:N},o.createElement("div",{className:"modal-catalogo-container"},o.createElement("button",{onClick:t,className:"modal-catalogo-close"},""),o.createElement("h2",{className:"modal-catalogo-title"}," Seleccionar Toppings"),r!==null&&r>0&&o.createElement("div",{className:"modal-catalogo-banner"},o.createElement("span",{className:"modal-catalogo-banner-text"}," Lmite de toppings configurado"),o.createElement("span",{className:`modal-catalogo-contador-banner ${n.length>=r?"limite-alcanzado":""}`},n.length," / ",r)),o.createElement("div",{className:"modal-catalogo-controles"},o.createElement("input",{type:"text",placeholder:"Buscar topping...",value:i,onChange:P=>s(P.target.value),className:"modal-catalogo-input",disabled:u})),o.createElement("div",{className:"modal-catalogo-info"},"Mostrando ",b.length," de ",l.length," toppings"),u?o.createElement("div",{className:"modal-catalogo-loading"},o.createElement("div",{className:"modal-catalogo-loading-spinner"}),o.createElement("p",null,"Cargando toppings...")):o.createElement("div",{className:"modal-catalogo-grid-wrapper"},o.createElement("div",{className:"modal-catalogo-grid"},m?o.createElement("div",{className:"modal-catalogo-empty"},o.createElement("p",null,m)):b.length===0?o.createElement("div",{className:"modal-catalogo-empty"},"No se encontraron toppings"):b.map(P=>{const L=n.some(O=>O.id===P.id),R=I(P);return o.createElement("div",{key:P.id,onClick:()=>!R&&x(P),className:`modal-catalogo-card ${L?"modal-catalogo-card-seleccionado":""} ${R?"modal-catalogo-card-disabled":""}`},L&&o.createElement("div",{className:"modal-catalogo-check-icon"},""),o.createElement("img",{src:P.imagen,alt:P.nombre,onError:O=>{O.target.onerror=null,O.target.src="https://via.placeholder.com/100x100/8B4513/FFFFFF?text=T"}}),o.createElement("span",{className:"modal-catalogo-nombre"},P.nombre),o.createElement("span",{className:"modal-catalogo-precio gratis"},"Gratis"))}))),o.createElement("div",{className:"modal-catalogo-footer"},o.createElement("div",{className:"modal-catalogo-contador"},"Seleccionados: ",n.length),o.createElement("div",null),o.createElement("div",{className:"modal-catalogo-footer-acciones"},o.createElement("button",{className:"modal-catalogo-cancel-btn",onClick:t},"Cancelar"),o.createElement("button",{className:"modal-catalogo-save-btn",onClick:w,disabled:n.length===0||u},"Agregar (",n.length,")")))))};function rY({ventaData:t,handleChange:e,erroresValidacion:r,insumosSeleccionados:n,toggleNestedDetails:a,nestedDetailsVisible:i,handleCantidadChange:s,abrirModalAdiciones:l,abrirModalSalsas:c,abrirModalRellenos:u,removeInsumo:f,removeAdicion:m,removeSalsa:v,removeRelleno:h,setMostrarModalInsumos:E,subtotal:y,iva:b,total:x,guardarVenta:w,setMostrarAgregarVenta:N,mostrarModalInsumos:I,agregarInsumos:P,mostrarModalAdiciones:L,setMostrarModalAdiciones:R,agregarAdiciones:O,mostrarModalSalsas:A,setMostrarModalSalsas:T,agregarSalsas:C,mostrarModalRellenos:_,setMostrarModalRellenos:D,agregarRellenos:z,setProductoEditandoId:V,productoEditandoId:J,showNotification:ie,abrirModalToppings:G,removeTopping:te,mostrarModalToppings:W,setMostrarModalToppings:B,agregarToppings:j,configuraciones:U,setConfiguraciones:X,setInsumosSeleccionados:Z}){var qe,Nt,St,Ot,gr,lr,zr;const[me,de]=p.useState([]),[oe,ee]=p.useState(!0),[le,pe]=p.useState(""),[ce,_e]=p.useState([]),[He,Re]=p.useState(!0),[be,gt]=p.useState(""),[Ae,ke]=p.useState(""),[Be,Xe]=p.useState([]),[Ke,Et]=p.useState(!1),ut=()=>{const st=new Date,Ct=st.getFullYear(),_t=String(st.getMonth()+1).padStart(2,"0"),Kr=String(st.getDate()).padStart(2,"0");return`${Ct}-${_t}-${Kr}`};p.useEffect(()=>{Gt(),mt()},[]),p.useEffect(()=>{zt()},[n]),p.useEffect(()=>{t.fecha_venta!==ut()&&e({target:{name:"fecha_venta",value:ut()}})},[t.fecha_venta,e]);const zt=async()=>{const st={};for(const Ct of n)if(!U[Ct.id])try{const _t=await fetch(`https://deliciasoft-backend-i6g9.onrender.com/api/configuracion-producto/producto/${Ct.id}`);if(_t.ok){const Kr=await _t.json();st[Ct.id]=Kr}else st[Ct.id]={permiteToppings:!1,permiteSalsas:!1,permiteRellenos:!1,permiteAdiciones:!1,limiteTopping:0,limiteSalsa:0,limiteRelleno:0}}catch(_t){console.error(`Error al cargar config para producto ${Ct.id}:`,_t),st[Ct.id]={permiteToppings:!1,permiteSalsas:!1,permiteRellenos:!1,permiteAdiciones:!1,limiteTopping:0,limiteSalsa:0,limiteRelleno:0}}X(Ct=>({...Ct,...st}))},Gt=async()=>{try{ee(!0),pe("");const st=await Pf.obtenerClientesParaVenta();de(st),Xe(st)}catch(st){console.error("Error al cargar clientes:",st),pe("Error al cargar clientes");const Ct=[{idcliente:null,numeroDocumento:"",nombreCompleto:"Cliente Genrico"}];de(Ct),Xe(Ct)}finally{ee(!1)}},mt=async()=>{try{Re(!0),gt("");const st=await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/sede",{method:"GET",headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!st.ok)throw new Error(`HTTP error! status: ${st.status}`);const _t=(await st.json()).filter(Kr=>Kr.estado===!0);_e(_t)}catch(st){console.error("Error al cargar sedes:",st),gt("Error al cargar sedes"),_e([{idsede:1,nombre:"San Pablo"},{idsede:2,nombre:"San Benito"}])}finally{Re(!1)}},nt=st=>{if(!st||st.trim()===""){Xe(me);return}const Ct=st.toLowerCase().trim(),_t=me.filter(Kr=>{var pr,Tr;const yn=((pr=Kr.nombreCompleto)==null?void 0:pr.toLowerCase())||"",en=((Tr=Kr.numeroDocumento)==null?void 0:Tr.toString())||"";return yn.includes(Ct)||en.includes(Ct)});Xe(_t)},ht=st=>{const Ct=st.target.value;ke(Ct),nt(Ct),Et(!0);const _t=me.find(Kr=>Kr.numeroDocumento&&Kr.numeroDocumento.toString()===Ct.trim());_t?(ke(_t.nombreCompleto),Kt(_t),Et(!1)):(e({target:{name:"cliente",value:Ct}}),e({target:{name:"clienteId",value:null}}))},Kt=st=>{const Ct=st.numeroDocumento?`${st.nombreCompleto} -- ${st.numeroDocumento}`:st.nombreCompleto;ke(Ct),Et(!1),e({target:{name:"cliente",value:st.nombreCompleto}}),e({target:{name:"clienteId",value:st.idcliente}})},bt=()=>{Et(!0),Be.length===me.length&&Ae===""&&nt("")},Ar=()=>{setTimeout(()=>{Et(!1)},200)},Jt=new Date,Lr=new Date;Lr.setDate(Jt.getDate()+15);const mr=new Date;mr.setMonth(Jt.getMonth()+2);const wr=st=>{const Ct=st.getFullYear(),_t=String(st.getMonth()+1).padStart(2,"0"),Kr=String(st.getDate()).padStart(2,"0");return`${Ct}-${_t}-${Kr}`},Ur=wr(Lr),Sr=wr(mr),kt=async st=>{st.preventDefault();try{const Ct={fecha_venta:t.fecha_venta,tipo_venta:t.tipo_venta,sede:t.sede,cliente:t.cliente,clienteId:t.clienteId,metodo_pago:t.metodo_pago,total:x,productos:n.map(_t=>({id:_t.id,nombre:_t.nombre,cantidad:_t.cantidad||1,precio:_t.precio,subtotal:_t.precio*(_t.cantidad||1),disponible:_t.disponible,toppings:_t.toppings||[],adiciones:_t.adiciones||[],salsas:_t.salsas||[],sabores:_t.sabores||[]}))};await w(Ct)}catch(Ct){console.error("Error al procesar la venta:",Ct)}},Ee=()=>{if(!t.tipo_venta){ie?ie("Por favor selecciona el tipo de venta primero","error"):alert("Por favor selecciona el tipo de venta primero");return}if((t.tipo_venta==="directa"||t.tipo_venta==="venta directa")&&!t.sede){ie?ie("Por favor selecciona la sede primero","error"):alert("Por favor selecciona la sede primero");return}E(!0)},Ne=st=>{const Ct=U[st];if(!Ct)return null;const _t=[];return Ct.permiteToppings&&_t.push({key:"toppings",label:"Toppings",limite:Ct.limiteTopping,onClick:()=>G(st)}),Ct.permiteSalsas&&_t.push({key:"salsas",label:"Salsas",limite:Ct.limiteSalsa,onClick:()=>c(st)}),Ct.permiteRellenos&&_t.push({key:"rellenos",label:"Rellenos",limite:Ct.limiteRelleno,onClick:()=>u(st)}),Ct.permiteAdiciones&&_t.push({key:"adiciones",label:"Adiciones",onClick:()=>l(st)}),_t};return o.createElement("div",{className:"compra-form-container"},o.createElement("div",{className:"header-info"},o.createElement("div",{className:"info-badge"},o.createElement("span",{className:"badge-icon"},""),o.createElement("span",null,"Clientes cargados: ",(me==null?void 0:me.length)||0))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Informacin de la Venta"),o.createElement("form",{onSubmit:kt},o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Tipo de Venta ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("select",{name:"tipo_venta",value:t.tipo_venta,onChange:e,className:`form-input ${r.tipo_venta?"error":""}`,required:!0},o.createElement("option",{value:""},"Seleccione"),o.createElement("option",{value:"directa"},"Venta Directa"),o.createElement("option",{value:"pedido"},"Pedido")),r.tipo_venta&&o.createElement("span",{className:"error-message"},r.tipo_venta)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de Venta"),o.createElement("input",{type:"date",name:"fecha_venta",value:t.fecha_venta,onChange:e,className:`form-input ${r.fecha_venta?"error":""}`,required:!0,disabled:!0}),r.fecha_venta&&o.createElement("span",{className:"error-message"},r.fecha_venta)),t.tipo_venta==="pedido"&&o.createElement(o.Fragment,null,o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de Entrega ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"date",name:"fecha_entrega",value:t.fecha_entrega||"",onChange:e,className:`form-input ${r.fecha_entrega?"error":""}`,required:t.tipo_venta==="pedido",min:Ur,max:Sr}),r.fecha_entrega&&o.createElement("span",{className:"error-message"},r.fecha_entrega))),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Sede ",o.createElement("span",{style:{color:"red"}},"*")),He?o.createElement("select",{disabled:!0,className:"form-input"},o.createElement("option",null,"Cargando sedes...")):o.createElement("select",{name:"sede",value:t.sede,onChange:e,className:`form-input ${r.sede?"error":""}`,required:!0},o.createElement("option",{value:""},"Seleccione una sede"),ce.map(st=>o.createElement("option",{key:st.idsede,value:st.nombre},st.nombre))),be&&o.createElement("span",{className:"error-message"},be),r.sede&&o.createElement("span",{className:"error-message"},r.sede)),o.createElement("div",{className:"field-group",style:{position:"relative"}},o.createElement("label",{className:"field-label"},"Cliente ",o.createElement("span",{style:{color:"red"}},"*")),oe?o.createElement("input",{type:"text",placeholder:"Cargando clientes...",disabled:!0,className:"form-input"}):o.createElement(o.Fragment,null,o.createElement("input",{type:"text",name:"cliente_search",value:Ae,onChange:ht,onFocus:bt,onBlur:Ar,placeholder:"Buscar por nombre o documento...",className:`form-input ${r.cliente?"error":""}`,required:!0,autoComplete:"off"}),Ke&&Be.length>0&&o.createElement("div",{className:"clientes-dropdown"},Be.slice(0,10).map((st,Ct)=>o.createElement("div",{key:st.idcliente||Ct,className:"cliente-option",onClick:()=>Kt(st)},o.createElement("div",{className:"cliente-nombre"},st.nombreCompleto),st.numeroDocumento&&o.createElement("div",{className:"cliente-documento"},st.numeroDocumento))))),le&&o.createElement("span",{className:"error-message"},le),r.cliente&&o.createElement("span",{className:"error-message"},r.cliente)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Mtodo de Pago ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("select",{name:"metodo_pago",value:t.metodo_pago,onChange:e,className:`form-input ${r.metodo_pago?"error":""}`,required:!0},o.createElement("option",{value:""},"Seleccione"),o.createElement("option",{value:"efectivo"},"Efectivo"),o.createElement("option",{value:"transferencia"},"Transferencia")),r.metodo_pago&&o.createElement("span",{className:"error-message"},r.metodo_pago))))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Detalle de Productos"),r.productos&&o.createElement("div",{className:"error-banner"},o.createElement("span",{className:"error-icon"},""),r.productos),o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Nombre"),o.createElement("th",null,"Cantidad"),o.createElement("th",null,"Precio Unitario"),o.createElement("th",{style:{width:"250px"}},"Catlogos"),o.createElement("th",null,"Subtotal Item"),o.createElement("th",null,"Acciones"))),o.createElement("tbody",null,n.length===0?o.createElement("tr",null,o.createElement("td",{colSpan:"6",style:{textAlign:"center",padding:"20px"}},"No hay productos en esta venta")):n.map(st=>{var Ct,_t,Kr,yn,en;return o.createElement(o.Fragment,{key:st.id},o.createElement("tr",{className:"product-row"},o.createElement("td",{className:"product-name"},st.nombre),o.createElement("td",{className:"quantity-cell"},o.createElement("input",{type:"number",min:1,max:t.tipo_venta==="directa"||t.tipo_venta==="venta directa"?st.disponible:void 0,value:st.cantidad||1,onChange:pr=>s(st.id,parseInt(pr.target.value)||1),className:"quantity-input"}),(t.tipo_venta==="directa"||t.tipo_venta==="venta directa")&&o.createElement("div",{style:{fontSize:"11px",color:"#666",marginTop:"2px"}},"Mx: ",st.disponible),t.tipo_venta==="pedido"&&o.createElement("div",{style:{fontSize:"11px",color:"#2563eb",marginTop:"2px"}},"Sin lmite (se producir)")),o.createElement("td",{className:"price-cell"},"$",st.precio.toLocaleString("es-CO")),o.createElement("td",{className:"catalog-buttons-cell"},(()=>{const pr=Ne(st.id);return!pr||pr.length===0?o.createElement("span",{style:{color:"#9ca3af",fontSize:"12px"}},"Sin catlogos"):o.createElement("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"}},pr.map(Tr=>{const rn=(st[Tr.key]||[]).length;return Tr.limite&&rn>=Tr.limite,o.createElement("button",{key:Tr.key,type:"button",className:"btn-small",onClick:Tr.onClick,style:{fontSize:"12px",padding:"5px 10px",background:rn>0?"#ec4899":void 0,color:rn>0?"white":void 0,fontWeight:rn>0?"bold":void 0},title:`${Tr.label}${Tr.limite?` (${rn}/${Tr.limite})`:rn>0?` (${rn})`:""}`},rn>0?` ${Tr.label} (${rn})`:`+ ${Tr.label}`)}))})()),o.createElement("td",{className:"subtotal-cell"},o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"4px",alignItems:"flex-end"}},o.createElement("div",{style:{fontWeight:"bold",fontSize:"16px"}},"$",(st.precio*(st.cantidad||1)+(((Ct=st.adiciones)==null?void 0:Ct.reduce((pr,Tr)=>pr+Tr.precio*(Tr.cantidad||1),0))||0)).toLocaleString("es-CO")),(((_t=st.toppings)==null?void 0:_t.length)>0||((Kr=st.salsas)==null?void 0:Kr.length)>0||((yn=st.sabores)==null?void 0:yn.length)>0||((en=st.adiciones)==null?void 0:en.length)>0)&&o.createElement("button",{type:"button",onClick:()=>a(st.id),style:{background:"#ec4899",borderTop:"2px solid #ec4899",borderRadius:"4px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",color:"#ffffffff",display:"flex",alignItems:"center",gap:"4px"}},i[st.id]?"":""," Ver detalles"))),o.createElement("td",{className:"action-cell"},o.createElement("button",{type:"button",className:"delete-btn",onClick:()=>f(st.id),title:"Eliminar producto"},""))),i[st.id]&&o.createElement("tr",null,o.createElement("td",{colSpan:"6",style:{background:"#fef3f2",padding:"16px",borderLeft:"4px solid #ec4899"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"}},st.toppings&&st.toppings.length>0&&o.createElement("div",{style:{background:"white",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{fontWeight:"bold",color:"#1f2937",marginBottom:"8px",fontSize:"14px"}}," Toppings (",st.toppings.length,")"),st.toppings.map(pr=>o.createElement("div",{key:pr.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0",borderBottom:"1px solid #f3f4f6"}},o.createElement("span",{style:{color:"#6b7280",fontSize:"13px"}},pr.nombre),o.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},o.createElement("span",{style:{color:"#10b981",fontWeight:"600",fontSize:"12px"}},"Gratis"),o.createElement("button",{type:"button",onClick:()=>te(st.id,pr.id),style:{background:"#fee2e2",border:"none",borderRadius:"4px",padding:"2px 6px",cursor:"pointer",color:"#dc2626",fontSize:"12px",fontWeight:"bold"}},""))))),st.salsas&&st.salsas.length>0&&o.createElement("div",{style:{background:"white",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{fontWeight:"bold",color:"#1f2937",marginBottom:"8px",fontSize:"14px"}}," Salsas (",st.salsas.length,")"),st.salsas.map(pr=>o.createElement("div",{key:pr.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0",borderBottom:"1px solid #f3f4f6"}},o.createElement("span",{style:{color:"#6b7280",fontSize:"13px"}},pr.nombre),o.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},o.createElement("span",{style:{color:"#10b981",fontWeight:"600",fontSize:"12px"}},"Gratis"),o.createElement("button",{type:"button",onClick:()=>v(st.id,pr.id),style:{background:"#fee2e2",border:"none",borderRadius:"4px",padding:"2px 6px",cursor:"pointer",color:"#dc2626",fontSize:"12px",fontWeight:"bold"}},""))))),st.sabores&&st.sabores.length>0&&o.createElement("div",{style:{background:"white",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{fontWeight:"bold",color:"#1f2937",marginBottom:"8px",fontSize:"14px"}}," Rellenos (",st.sabores.length,")"),st.sabores.map(pr=>o.createElement("div",{key:pr.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0",borderBottom:"1px solid #f3f4f6"}},o.createElement("span",{style:{color:"#6b7280",fontSize:"13px"}},pr.nombre),o.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},o.createElement("span",{style:{color:"#10b981",fontWeight:"600",fontSize:"12px"}},"Gratis"),o.createElement("button",{type:"button",onClick:()=>h(st.id,pr.id),style:{background:"#fee2e2",border:"none",borderRadius:"4px",padding:"2px 6px",cursor:"pointer",color:"#dc2626",fontSize:"12px",fontWeight:"bold"}},""))))),st.adiciones&&st.adiciones.length>0&&o.createElement("div",{style:{background:"white",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{fontWeight:"bold",color:"#1f2937",marginBottom:"8px",fontSize:"14px"}}," Adiciones (",st.adiciones.length,")"),st.adiciones.map(pr=>o.createElement("div",{key:pr.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0",borderBottom:"1px solid #f3f4f6"}},o.createElement("span",{style:{color:"#6b7280",fontSize:"13px"}},pr.nombre),o.createElement("div",{style:{display:"flex",gap:"8px",alignItems:"center"}},o.createElement("span",{style:{fontWeight:"600",color:"#ec4899",fontSize:"12px"}},"+$",pr.precio.toLocaleString("es-CO")),o.createElement("button",{type:"button",onClick:()=>m(st.id,pr.id),style:{background:"#fee2e2",border:"none",borderRadius:"4px",padding:"2px 6px",cursor:"pointer",color:"#dc2626",fontSize:"12px",fontWeight:"bold"}},"")))),o.createElement("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"2px solid #ec4899",display:"flex",justifyContent:"space-between",fontWeight:"bold"}},o.createElement("span",{style:{color:"#1f2937"}},"Subtotal Adiciones:"),o.createElement("span",{style:{color:"#ec4899"}},"$",st.adiciones.reduce((pr,Tr)=>pr+Tr.precio*(Tr.cantidad||1),0).toLocaleString("es-CO"))))))))})))),o.createElement("button",{type:"button",className:"add-products-btn",onClick:Ee},o.createElement("span",{className:"btn-icon"},"+"),"Agregar Productos")),t.tipo_venta==="pedido"&&o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Observaciones"),o.createElement("div",{className:"field-group"},o.createElement("textarea",{name:"observaciones",value:t.observaciones||"",onChange:e,className:"form-input",placeholder:"Ingrese observaciones del pedido (opcional)...",rows:"3",style:{resize:"vertical",minHeight:"80px"}}))),o.createElement("div",{className:"totals-section"},o.createElement("div",{className:"totals-grid"},o.createElement("div",{className:"total-card subtotal-card"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},""),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Subtotal"),o.createElement("div",{className:"card-value"},"$",y.toLocaleString("es-CO")))),o.createElement("div",{className:"total-card total-card-main"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},""),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Total"),o.createElement("div",{className:"card-value total-value"},"$",x.toLocaleString("es-CO")))))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{type:"button",className:"btn btn-cancel",onClick:()=>N(!1)},"Cancelar"),o.createElement("button",{className:"btn btn-save",onClick:kt},o.createElement("span",{className:"btn-icon"},""),"Guardar")),I&&o.createElement(XK,{onClose:()=>E(!1),onAgregar:P,sedeSeleccionada:t.sede,tipoVenta:t.tipo_venta,insumosSeleccionados:n}),W&&o.createElement(tY,{onClose:()=>{B(!1),V(null)},onAgregar:st=>{j(st),B(!1),V(null)},limiteMaximo:((qe=U[J])==null?void 0:qe.limiteTopping)||null,toppingsSeleccionados:((Nt=n.find(st=>st.id===J))==null?void 0:Nt.toppings)||[]}),L&&o.createElement(ZK,{onClose:()=>{R(!1),V(null)},onAgregar:st=>{O(st),R(!1),V(null)},adicionesSeleccionadas:((St=n.find(st=>st.id===J))==null?void 0:St.adiciones)||[]}),A&&o.createElement(QK,{onClose:()=>{T(!1),V(null)},onAgregar:st=>{C(st),T(!1),V(null)},limiteMaximo:((Ot=U[J])==null?void 0:Ot.limiteSalsa)||null,salsasSeleccionadas:((gr=n.find(st=>st.id===J))==null?void 0:gr.salsas)||[]}),_&&o.createElement(eY,{onClose:()=>{D(!1),V(null)},onAgregar:st=>{z(st),D(!1),V(null)},limiteMaximo:((lr=U[J])==null?void 0:lr.limiteRelleno)||null,rellenosSeleccionados:((zr=n.find(st=>st.id===J))==null?void 0:zr.sabores)||[]}))}function nY({visible:t,onClose:e,ventaSeleccionada:r,anularVenta:n}){return!t||!r?null:o.createElement(Ta,{visible:t,onClose:e},o.createElement("h2",{className:"modal-title"},"Confirmar anulacin"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"Est seguro que desea anular la venta de ",r.cliente,"?"),o.createElement("p",{style:{color:"#e53935",fontSize:"14px"}},"Esta accin no se puede deshacer.")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:n},"Anular")))}function aY({visible:t,onClose:e,ventaSeleccionada:r,abonos:n,setMostrarModalAgregarAbono:a,verDetalleAbono:i,anularAbono:s}){if(!t||!r)return null;const l=r.total||0,c=(n||[]).reduce((f,m)=>{const v=parseFloat(m.monto||m.cantidadPagar||m.totalPagado||0);return m.anulado?f:f+v},0),u=l-c;return o.createElement(Ta,{visible:t,onClose:e},o.createElement("div",{className:"abonos-modal-container"},o.createElement("div",{className:"header-info"},o.createElement("div",{className:"info-badge"},o.createElement("span",{className:"badge-icon"},""),o.createElement("span",null,"Venta #",r.idVenta)),o.createElement("div",{className:"info-badge"},o.createElement("span",{className:"badge-icon"},""),o.createElement("span",null,r.nombreCliente))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Resumen de la Venta"),o.createElement("div",{className:"venta-info-grid"},o.createElement("div",{className:"info-item"},o.createElement("label",{className:"info-label"},"Total de la Venta"),o.createElement("span",{className:"info-value total-venta"},"$",l.toLocaleString())),o.createElement("div",{className:"info-item"},o.createElement("label",{className:"info-label"},"Total Pagado"),o.createElement("span",{className:"info-value pagado"},"$",c.toLocaleString())),o.createElement("div",{className:"info-item destacado"},o.createElement("label",{className:"info-label"},"Falta por Pagar"),o.createElement("span",{className:`info-value ${u<=0?"completo":"pendiente"}`},"$",u.toLocaleString())))),o.createElement("div",{className:"agregar-abono-section"},o.createElement("button",{className:"btn-agregar-abono-top",onClick:()=>a(!0),disabled:u<=0,title:u<=0?"Esta venta ya est completamente pagada":"Agregar nuevo abono"},o.createElement("span",{className:"btn-icon"},u<=0?"":"+"),u<=0?"Venta Pagada Completa":"Agregar Abono")),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Detalle de Abonos"),n&&n.length>0?o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Fecha"),o.createElement("th",null,"Mtodo de Pago"),o.createElement("th",null,"Monto"),o.createElement("th",null,"Falta por Pagar"),o.createElement("th",null,"Comprobante"),o.createElement("th",null,"Estado"),o.createElement("th",null,"Acciones"))),o.createElement("tbody",null,n.map((f,m)=>{var y;const v=parseFloat(f.monto||f.cantidadPagar||f.totalPagado||0),h=n.slice(0,m+1).reduce((b,x)=>{const w=parseFloat(x.monto||x.cantidadPagar||x.totalPagado||0);return x.anulado?b:b+w},0),E=Math.max(0,l-h);return o.createElement("tr",{key:f.id||f.idAbono||m,className:`product-row ${f.anulado?"abono-anulado":""}`},o.createElement("td",null,f.fecha||new Date().toISOString().split("T")[0]),o.createElement("td",null,o.createElement("span",{className:"metodo-badge"},(f.metodoPago||f.metodo_pago||"N/A").toUpperCase())),o.createElement("td",{className:"price-cell"},"$",v.toLocaleString()),o.createElement("td",{className:"subtotal-cell"},"$",E.toLocaleString()),o.createElement("td",{className:"action-cell"},f.comprobante_imagen||(y=f.imagenes)!=null&&y.urlimg?o.createElement("div",{className:"comprobante-thumbnail-container"},o.createElement("img",{src:f.comprobante_imagen||f.imagenes.urlimg,alt:"Comprobante",className:"comprobante-thumbnail",onClick:()=>window.open(f.comprobante_imagen||f.imagenes.urlimg,"_blank"),title:"Click para ver imagen completa"})):o.createElement("span",{className:"no-comprobante"},"Sin comprobante")),o.createElement("td",{className:"action-cell"},f.anulado?o.createElement("span",{className:"estado-tag estado-anulada"},"ANULADO"):o.createElement("span",{className:"estado-tag estado-activa"},"ACTIVO")),o.createElement("td",{className:"action-cell"},o.createElement("div",{className:"action-buttons-inline"},o.createElement("button",{className:"btn-action-table view-btn",title:"Ver Detalle",onClick:()=>i(f)},o.createElement("span",{className:"btn-icon-small"},"")),!f.anulado&&o.createElement("button",{className:"btn-action-table delete-btn",title:"Anular Abono",onClick:()=>{window.confirm("Est seguro de que desea anular este abono?")&&s(f.id||f.idAbono)}},o.createElement("span",{className:"btn-icon-small"},"")))))})))):o.createElement("div",{className:"no-products-message"},o.createElement("p",null,"No hay abonos registrados para esta venta"),o.createElement("p",{className:"help-text"},"Agregue el primer abono usando el botn de arriba"))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{className:"btn btn-cancel",onClick:e},o.createElement("span",{className:"btn-icon"},""),"Cerrar"))),o.createElement("style",{jsx:!0},`
                .abonos-modal-container {
                    max-width: 1200px;
                    width: 100%;
                    max-height: 85vh;
                    overflow-y: auto;
                    padding: 20px;
                    background: linear-gradient(135deg, #f8f9fa 0%, #f1f3f4 100%);
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                }

                /* Header Info */
                .header-info {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 12px;
                    margin-bottom: 24px;
                }

                .info-badge {
                    display: inline-flex;
                    align-items: center;
                    gap: 8px;
                    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
                    color: #374151;
                    padding: 8px 16px;
                    border-radius: 20px;
                    font-size: 14px;
                    font-weight: 500;
                    box-shadow: 0 2px 8px rgba(107, 114, 128, 0.1);
                    border: 1px solid #d1d5db;
                }

                .badge-icon {
                    font-size: 16px;
                }

                /* Form Card */
                .form-card {
                    background: white;
                    border-radius: 16px;
                    padding: 24px;
                    margin-bottom: 24px;
                    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
                    border: 1px solid #e5e7eb;
                }

                .section-title {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    font-size: 20px;
                    font-weight: 600;
                    color: #374151;
                    margin-bottom: 24px;
                    padding-bottom: 12px;
                    border-bottom: 2px solid #e5e7eb;
                }

                .title-icon {
                    font-size: 24px;
                }

                /* Venta Info Grid */
                .venta-info-grid {
                    display: grid;
                    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
                    gap: 16px;
                }

                .info-item {
                    background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
                    padding: 16px;
                    border-radius: 12px;
                    border: 1px solid #e5e7eb;
                    transition: all 0.2s ease;
                }

                .info-item.destacado {
                    background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%);
                    border: 2px solid #ec4899;
                    box-shadow: 0 4px 12px rgba(236, 72, 153, 0.15);
                }

                .info-item:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
                }

                .info-label {
                    display: block;
                    font-size: 13px;
                    font-weight: 500;
                    color: #6b7280;
                    margin-bottom: 8px;
                }

                .info-value {
                    display: block;
                    font-size: 20px;
                    font-weight: 700;
                    color: #374151;
                }

                .info-value.total-venta {
                    color: #374151;
                }

                .info-value.pagado {
                    color: #10b981;
                }

                .info-value.pendiente {
                    color: #ec4899;
                }

                .info-value.completo {
                    color: #10b981;
                }

                /* Agregar Abono Section - ARRIBA */
                .agregar-abono-section {
                    margin-bottom: 24px;
                }

                .btn-agregar-abono-top {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 10px;
                    width: 100%;
                    background: linear-gradient(135deg, #ec4899 0%, #be185d 100%);
                    color: white;
                    border: none;
                    padding: 16px 32px;
                    border-radius: 12px;
                    font-size: 16px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    box-shadow: 0 4px 12px rgba(236, 72, 153, 0.3);
                }

                .btn-agregar-abono-top:hover:not(:disabled) {
                    background: linear-gradient(135deg, #be185d 0%, #9d174d 100%);
                    transform: translateY(-2px);
                    box-shadow: 0 6px 16px rgba(236, 72, 153, 0.4);
                }

                .btn-agregar-abono-top:disabled {
                    background: linear-gradient(135deg, #d1d5db 0%, #9ca3af 100%);
                    cursor: not-allowed;
                    opacity: 0.6;
                    transform: none;
                }

                /* Table Container */
                .table-container {
                    overflow: hidden;
                    border-radius: 12px;
                    box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
                    border: 1px solid #e5e7eb;
                    max-height: 400px;
                    overflow-y: auto;
                }

                .products-table {
                    width: 100%;
                    border-collapse: collapse;
                    background: white;
                }

                .products-table th {
                    background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
                    color: #374151;
                    font-weight: 600;
                    padding: 16px 12px;
                    text-align: left;
                    border-bottom: 2px solid #e5e7eb;
                    font-size: 14px;
                    position: sticky;
                    top: 0;
                    z-index: 10;
                }

                .products-table td {
                    padding: 16px 12px;
                    border-bottom: 1px solid #f1f5f9;
                    vertical-align: middle;
                    color: #374151;
                    font-size: 14px;
                }

                .product-row {
                    transition: background 0.2s ease;
                }

                .product-row:hover {
                    background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
                }

                .product-row.abono-anulado {
                    background-color: #fee2e2;
                    opacity: 0.7;
                }

                .price-cell {
                    text-align: right;
                    font-weight: 600;
                    color: #10b981;
                }

                .subtotal-cell {
                    text-align: right;
                    font-weight: 600;
                    color: #ec4899;
                }

                .action-cell {
                    text-align: center;
                }

                /* Mtodo Badge */
                .metodo-badge {
                    display: inline-block;
                    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
                    color: #1e40af;
                    padding: 6px 12px;
                    border-radius: 12px;
                    font-size: 12px;
                    font-weight: 600;
                    letter-spacing: 0.5px;
                }

                /* Comprobante */
                .comprobante-thumbnail-container {
                    display: flex;
                    justify-content: center;
                }

                .comprobante-thumbnail {
                    width: 50px;
                    height: 50px;
                    object-fit: cover;
                    border-radius: 8px;
                    border: 2px solid #e5e7eb;
                    cursor: pointer;
                    transition: all 0.2s ease;
                }

                .comprobante-thumbnail:hover {
                    transform: scale(1.1);
                    border-color: #ec4899;
                    box-shadow: 0 4px 12px rgba(236, 72, 153, 0.3);
                }

                .no-comprobante {
                    color: #9ca3af;
                    font-style: italic;
                    font-size: 12px;
                }

                /* Estado Tags */
                .estado-tag {
                    display: inline-block;
                    padding: 6px 12px;
                    border-radius: 12px;
                    font-size: 11px;
                    font-weight: 600;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }

                .estado-activa {
                    background: linear-gradient(135deg, #d1fae5, #a7f3d0);
                    color: #065f46;
                }

                .estado-anulada {
                    background: linear-gradient(135deg, #fee2e2, #fecaca);
                    color: #991b1b;
                }

                /* Action Buttons Inline */
                .action-buttons-inline {
                    display: flex;
                    gap: 8px;
                    justify-content: center;
                    flex-wrap: wrap;
                }

                .btn-action-table {
                    display: flex;
                    align-items: center;
                    gap: 6px;
                    padding: 8px 14px;
                    font-size: 13px;
                    border-radius: 8px;
                    border: none;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    font-weight: 600;
                }

                .btn-icon-small {
                    font-size: 14px;
                }

                .view-btn {
                    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
                    color: #1e40af;
                }

                .view-btn:hover {
                    background: linear-gradient(135deg, #bfdbfe 0%, #93c5fd 100%);
                    transform: translateY(-1px);
                    box-shadow: 0 3px 8px rgba(59, 130, 246, 0.3);
                }

                .delete-btn {
                    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
                    color: #dc2626;
                }

                .delete-btn:hover {
                    background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%);
                    transform: translateY(-1px);
                    box-shadow: 0 3px 8px rgba(239, 68, 68, 0.3);
                }

                /* No Products Message */
                .no-products-message {
                    text-align: center;
                    padding: 40px 20px;
                    background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
                    border-radius: 12px;
                    color: #6b7280;
                }

                .no-products-message p {
                    margin: 10px 0;
                }

                .help-text {
                    font-size: 14px;
                    color: #9ca3af;
                }

                /* Action Buttons */
                .action-buttons {
                    display: flex;
                    justify-content: center;
                    gap: 12px;
                }

                .btn {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    padding: 14px 32px;
                    border: none;
                    border-radius: 10px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    font-size: 15px;
                }

                .btn-cancel {
                    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
                    color: #6b7280;
                    border: 2px solid #d1d5db;
                }

                .btn-cancel:hover {
                    background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%);
                    color: #374151;
                    transform: translateY(-1px);
                }

                .btn-icon {
                    font-size: 18px;
                }

                /* Responsive */
                @media (max-width: 768px) {
                    .abonos-modal-container {
                        padding: 16px;
                    }

                    .venta-info-grid {
                        grid-template-columns: 1fr;
                    }

                    .products-table {
                        font-size: 12px;
                    }

                    .products-table th,
                    .products-table td {
                        padding: 8px 6px;
                    }

                    .action-buttons {
                        flex-direction: column;
                    }

                    .btn {
                        width: 100%;
                        justify-content: center;
                    }

                    .btn-agregar-abono-top {
                        padding: 14px 24px;
                        font-size: 15px;
                    }
                }
            `))}function oY({visible:t,onClose:e,abonoData:r,handleAbonoChange:n,erroresValidacion:a,handleImageUpload:i,agregarAbono:s,ventaSeleccionada:l}){const[c,u]=p.useState(null),[f,m]=p.useState(0);if(p.useEffect(()=>{if(l){const x=l.total||0,w=(l.abonos||[]).reduce((N,I)=>{const P=parseFloat(I.monto||I.cantidadpagar||I.totalPagado||0);return I.anulado?N:N+P},0);m(x-w)}},[l]),!t)return null;const v=x=>{const w=x.target.files[0];if(w){if(!w.type.startsWith("image/")){alert("Por favor selecciona solo archivos de imagen");return}if(w.size>5*1024*1024){alert("La imagen es muy grande. Mximo 5MB permitido");return}const N=new FileReader;N.onload=I=>{u(I.target.result)},N.readAsDataURL(w),i(x)}},h=()=>{u(null);const x=document.getElementById("comprobante");x&&(x.value=""),i({target:{files:[]}})},E=x=>{(parseFloat(x.target.value)||0)>f&&(x.target.value=f,alert(`El monto no puede ser mayor a lo que falta por pagar: $${f.toLocaleString()}`)),n(x)},y=x=>{if(x.preventDefault(),x.stopPropagation(),(parseFloat(r.total_pagado)||0)>f){alert(`El monto no puede ser mayor a lo que falta por pagar: $${f.toLocaleString()}`);return}s()},b=()=>{u(null),e()};return o.createElement(Ta,{visible:t,onClose:b},o.createElement("div",{className:"agregar-abono-container"},o.createElement("div",{className:"header-info"},o.createElement("div",{className:"info-badge"},o.createElement("span",{className:"badge-icon"},""),o.createElement("span",null,"Venta #",l==null?void 0:l.idVenta)),o.createElement("div",{className:"info-badge"},o.createElement("span",{className:"badge-icon"},""),o.createElement("span",null,l==null?void 0:l.nombreCliente))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Agregar Abono"),o.createElement("div",{className:"venta-summary"},o.createElement("div",{className:"summary-item"},o.createElement("span",{className:"summary-label"},"Total Venta"),o.createElement("span",{className:"summary-value total-venta"},"$",((l==null?void 0:l.total)||0).toLocaleString())),o.createElement("div",{className:"summary-item"},o.createElement("span",{className:"summary-label"},"Total Pagado"),o.createElement("span",{className:"summary-value pagado"},"$",((l==null?void 0:l.abonos)||[]).reduce((x,w)=>{const N=parseFloat(w.monto||w.cantidadpagar||w.totalPagado||0);return w.anulado?x:x+N},0).toLocaleString())),o.createElement("div",{className:"summary-item destacado"},o.createElement("span",{className:"summary-label"},"Falta por Pagar"),o.createElement("span",{className:"summary-value pendiente"},"$",f.toLocaleString()))),o.createElement("div",{className:"section-divider"}),o.createElement("form",{onSubmit:y},o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Mtodo de Pago ",o.createElement("span",{style:{color:"#ef4444"}},"*")),o.createElement("select",{name:"metodo_pago",value:r.metodo_pago,onChange:n,className:`form-input ${a.metodo_pago?"error":""}`,required:!0},o.createElement("option",{value:""},"Seleccione mtodo"),o.createElement("option",{value:"efectivo"},"Efectivo"),o.createElement("option",{value:"transferencia"},"Transferencia"),o.createElement("option",{value:"otro"},"Otro")),a.metodo_pago&&o.createElement("span",{className:"error-message"},a.metodo_pago)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Monto a Pagar ",o.createElement("span",{style:{color:"#ef4444"}},"*")),o.createElement("input",{type:"number",name:"total_pagado",min:"0",max:f,step:"0.01",value:r.total_pagado,onChange:E,className:`form-input ${a.total_pagado?"error":""}`,placeholder:"0.00",required:!0}),a.total_pagado&&o.createElement("span",{className:"error-message"},a.total_pagado),o.createElement("div",{className:"input-help"},"Mximo: $",f.toLocaleString()))),r.metodo_pago==="efectivo"&&o.createElement("div",{className:"sede-info-alert"},o.createElement("div",{className:"alert-icon"},""),o.createElement("div",{className:"alert-content"},o.createElement("strong",null,"Pago en efectivo"),o.createElement("br",null),"Sede de pago: ",o.createElement("span",{className:"sede-name"},(l==null?void 0:l.nombreSede)||"N/A"))),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha del Abono"),o.createElement("input",{type:"date",name:"fecha",value:r.fecha,onChange:n,className:"form-input",max:new Date().toISOString().split("T")[0]})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Comprobante de Pago"),o.createElement("div",{className:"file-upload-wrapper"},o.createElement("input",{id:"comprobante",type:"file",accept:"image/*",onChange:v,className:"file-input-hidden"}),o.createElement("label",{htmlFor:"comprobante",className:"file-upload-label"},o.createElement("div",{className:"upload-content"},o.createElement("div",{className:"upload-icon"},""),o.createElement("div",{className:"upload-text"},o.createElement("span",null,"Seleccionar imagen"),o.createElement("small",null,"JPG, PNG, GIF - Mx. 5MB"))))),c&&o.createElement("div",{className:"preview-section"},o.createElement("div",{className:"preview-header"},o.createElement("span",{className:"preview-label"},"Vista previa"),o.createElement("button",{type:"button",onClick:h,className:"remove-preview-btn"},"")),o.createElement("div",{className:"preview-image-container"},o.createElement("img",{src:c,alt:"Vista previa del comprobante",className:"preview-image"})))))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{type:"button",className:"btn btn-cancel",onClick:b},o.createElement("span",{className:"btn-icon"},""),"Cancelar"),o.createElement("button",{type:"button",className:"btn btn-save",onClick:y,disabled:!r.metodo_pago||!r.total_pagado||f<=0},o.createElement("span",{className:"btn-icon"},f<=0?"":""),f<=0?"Venta Pagada":"Guardar Abono"))),o.createElement("style",{jsx:!0},`
                .agregar-abono-container {
                    max-width: 900px;
                    width: 90vw;
                    max-height: 90vh;
                    overflow-y: auto;
                    padding: 20px;
                    background: linear-gradient(135deg, #f8f9fa 0%, #f1f3f4 100%);
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                }

                /* Header Info */
                .header-info {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 12px;
                    margin-bottom: 24px;
                }

                .info-badge {
                    display: inline-flex;
                    align-items: center;
                    gap: 8px;
                    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
                    color: #374151;
                    padding: 8px 16px;
                    border-radius: 20px;
                    font-size: 14px;
                    font-weight: 500;
                    box-shadow: 0 2px 8px rgba(107, 114, 128, 0.1);
                    border: 1px solid #d1d5db;
                }

                .badge-icon {
                    font-size: 16px;
                }

                /* Form Card */
                .form-card {
                    background: white;
                    border-radius: 16px;
                    padding: 24px;
                    margin-bottom: 24px;
                    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
                    border: 1px solid #e5e7eb;
                }

                .section-title {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    font-size: 20px;
                    font-weight: 600;
                    color: #374151;
                    margin-bottom: 24px;
                    padding-bottom: 12px;
                    border-bottom: 2px solid #e5e7eb;
                }

                .title-icon {
                    font-size: 24px;
                }

                /* Venta Summary */
                .venta-summary {
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    gap: 16px;
                    margin-bottom: 20px;
                }

                .summary-item {
                    background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
                    padding: 14px;
                    border-radius: 12px;
                    border: 1px solid #e5e7eb;
                    display: flex;
                    flex-direction: column;
                    gap: 6px;
                    transition: all 0.2s ease;
                }

                .summary-item.destacado {
                    background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%);
                    border: 2px solid #ec4899;
                    box-shadow: 0 4px 12px rgba(236, 72, 153, 0.15);
                }

                .summary-item:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
                }

                .summary-label {
                    font-size: 13px;
                    font-weight: 500;
                    color: #6b7280;
                }

                .summary-value {
                    font-size: 18px;
                    font-weight: 700;
                }

                .summary-value.total-venta {
                    color: #374151;
                }

                .summary-value.pagado {
                    color: #10b981;
                }

                .summary-value.pendiente {
                    color: #ec4899;
                    font-size: 20px;
                }

                /* Section Divider */
                .section-divider {
                    height: 2px;
                    background: linear-gradient(90deg, transparent, #e5e7eb, transparent);
                    margin: 24px 0;
                }

                /* Form Grid */
                .form-grid {
                    display: grid;
                    grid-template-columns: repeat(2, 1fr);
                    gap: 24px;
                    margin-bottom: 20px;
                }

                .field-group {
                    display: flex;
                    flex-direction: column;
                    gap: 8px;
                }

                .field-label {
                    font-weight: 600;
                    color: #374151;
                    font-size: 14px;
                }

                .form-input {
                    padding: 12px 16px;
                    border: 2px solid #d1d5db;
                    border-radius: 10px;
                    font-size: 14px;
                    transition: all 0.2s ease;
                    background: white;
                    color: #374151;
                }

                .form-input:focus {
                    outline: none;
                    border-color: #ec4899;
                    box-shadow: 0 0 0 3px rgba(236, 72, 153, 0.1);
                }

                .form-input.error {
                    border-color: #ef4444;
                    box-shadow: 0 0 0 3px rgba(239, 68, 68, 0.1);
                }

                .error-message {
                    color: #ef4444;
                    font-size: 12px;
                    font-weight: 500;
                }

                .input-help {
                    color: #6b7280;
                    font-size: 12px;
                    font-style: italic;
                }

                /* Sede Info Alert */
                .sede-info-alert {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
                    border: 2px solid #3b82f6;
                    border-radius: 12px;
                    padding: 16px;
                    margin: 20px 0;
                }

                .alert-icon {
                    font-size: 24px;
                }

                .alert-content {
                    font-size: 14px;
                    color: #1e40af;
                    line-height: 1.5;
                }

                .sede-name {
                    font-weight: 700;
                    color: #1e3a8a;
                }

                /* File Upload */
                .file-upload-wrapper {
                    position: relative;
                }

                .file-input-hidden {
                    position: absolute;
                    opacity: 0;
                    width: 100%;
                    height: 100%;
                    cursor: pointer;
                }

                .file-upload-label {
                    display: block;
                    border: 2px dashed #d1d5db;
                    border-radius: 12px;
                    padding: 24px;
                    text-align: center;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
                }

                .file-upload-label:hover {
                    border-color: #ec4899;
                    background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%);
                    transform: translateY(-2px);
                }

                .upload-content {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 8px;
                }

                .upload-icon {
                    font-size: 32px;
                    color: #6b7280;
                }

                .upload-text span {
                    display: block;
                    font-size: 14px;
                    font-weight: 600;
                    color: #374151;
                }

                .upload-text small {
                    color: #9ca3af;
                    font-size: 12px;
                }

                /* Preview Section */
                .preview-section {
                    margin-top: 16px;
                    border: 1px solid #e5e7eb;
                    border-radius: 12px;
                    overflow: hidden;
                    background: white;
                }

                .preview-header {
                    display: flex;
                    justify-content: space-between;
                    align-items: center;
                    padding: 12px 16px;
                    background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
                    border-bottom: 1px solid #e5e7eb;
                }

                .preview-label {
                    font-size: 13px;
                    font-weight: 600;
                    color: #374151;
                }

                .remove-preview-btn {
                    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
                    color: #dc2626;
                    border: none;
                    border-radius: 50%;
                    width: 28px;
                    height: 28px;
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    cursor: pointer;
                    font-size: 14px;
                    font-weight: bold;
                    transition: all 0.2s;
                }

                .remove-preview-btn:hover {
                    background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%);
                    transform: scale(1.1);
                }

                .preview-image-container {
                    padding: 16px;
                    text-align: center;
                    background: #fafafa;
                }

                .preview-image {
                    max-width: 100%;
                    max-height: 300px;
                    border-radius: 10px;
                    border: 2px solid #e5e7eb;
                    object-fit: contain;
                }

                /* Action Buttons */
                .action-buttons {
                    display: flex;
                    justify-content: space-between;
                    gap: 12px;
                }

                .btn {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 8px;
                    padding: 14px 32px;
                    border: none;
                    border-radius: 10px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    font-size: 15px;
                    flex: 1;
                }

                .btn-cancel {
                    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
                    color: #6b7280;
                    border: 2px solid #d1d5db;
                }

                .btn-cancel:hover {
                    background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%);
                    color: #374151;
                    transform: translateY(-1px);
                }

                .btn-save {
                    background: linear-gradient(135deg, #ec4899 0%, #be185d 100%);
                    color: white;
                    box-shadow: 0 2px 8px rgba(236, 72, 153, 0.3);
                }

                .btn-save:hover:not(:disabled) {
                    background: linear-gradient(135deg, #be185d 0%, #9d174d 100%);
                    transform: translateY(-1px);
                    box-shadow: 0 4px 12px rgba(236, 72, 153, 0.4);
                }

                .btn-save:disabled {
                    opacity: 0.6;
                    cursor: not-allowed;
                    transform: none;
                    background: linear-gradient(135deg, #d1d5db 0%, #9ca3af 100%);
                }

                .btn-icon {
                    font-size: 18px;
                }

                /* Responsive */
                @media (max-width: 768px) {
                    .agregar-abono-container {
                        padding: 16px;
                    }

                    .form-grid {
                        grid-template-columns: 1fr;
                    }

                    .venta-summary {
                        grid-template-columns: 1fr;
                    }

                    .action-buttons {
                        flex-direction: column;
                    }

                    .btn {
                        width: 100%;
                    }

                    .sede-info-alert {
                        flex-direction: column;
                        text-align: center;
                    }

                    .preview-image {
                        max-height: 150px;
                    }
                }
            `))}function iY({visible:t,onClose:e,abonoSeleccionado:r,anularAbono:n}){var f;if(!t||!r)return null;const a=parseFloat(r.monto||r.cantidadPagar||r.totalPagado||0),i=r.fecha||new Date().toISOString().split("T")[0],s=r.metodoPago||r.metodo_pago||"N/A",l=r.comprobante_imagen||((f=r.imagenes)==null?void 0:f.urlimg),c=r.id||r.idAbono,u=()=>{window.confirm("Est seguro de que desea anular este abono? Esta accin no se puede deshacer.")&&n(c)};return o.createElement(Ta,{visible:t,onClose:e},o.createElement("div",{className:"detalle-abono-container"},o.createElement("div",{className:"header-info"},o.createElement("div",{className:"info-badge"},o.createElement("span",{className:"badge-icon"},""),o.createElement("span",null,"Abono #",c)),r.anulado?o.createElement("div",{className:"info-badge estado-badge anulado"},o.createElement("span",{className:"badge-icon"},""),o.createElement("span",null,"ANULADO")):o.createElement("div",{className:"info-badge estado-badge activo"},o.createElement("span",{className:"badge-icon"},""),o.createElement("span",null,"ACTIVO"))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Detalle del Abono"),o.createElement("div",{className:"detalle-grid"},o.createElement("div",{className:"detalle-item"},o.createElement("label",{className:"detalle-label"},"Fecha"),o.createElement("span",{className:"detalle-value"},i)),o.createElement("div",{className:"detalle-item"},o.createElement("label",{className:"detalle-label"},"Mtodo de Pago"),o.createElement("span",{className:"detalle-value"},o.createElement("span",{className:"metodo-badge"},s.toUpperCase()))),o.createElement("div",{className:"detalle-item destacado"},o.createElement("label",{className:"detalle-label"},"Monto Pagado"),o.createElement("span",{className:"detalle-value monto"},"$",a.toLocaleString())),r.cliente&&o.createElement("div",{className:"detalle-item"},o.createElement("label",{className:"detalle-label"},"Cliente"),o.createElement("span",{className:"detalle-value"},r.cliente)),r.totalVenta&&o.createElement("div",{className:"detalle-item"},o.createElement("label",{className:"detalle-label"},"Total de la Venta"),o.createElement("span",{className:"detalle-value"},"$",parseFloat(r.totalVenta).toLocaleString()))),l&&o.createElement(o.Fragment,null,o.createElement("div",{className:"section-divider"}),o.createElement("div",{className:"comprobante-section"},o.createElement("h3",{className:"subsection-title"},o.createElement("span",{className:"title-icon"},""),"Comprobante de Pago"),o.createElement("div",{className:"comprobante-viewer"},o.createElement("img",{src:l,alt:"Comprobante de pago",className:"comprobante-image",onClick:()=>window.open(l,"_blank"),title:"Click para ver imagen completa"}),o.createElement("button",{type:"button",className:"btn-ver-completa",onClick:()=>window.open(l,"_blank")},o.createElement("span",{className:"btn-icon"},""),"Ver imagen completa"))))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{className:"btn btn-cancel",onClick:e},o.createElement("span",{className:"btn-icon"},""),"Cerrar"),!r.anulado&&o.createElement("button",{className:"btn btn-delete",onClick:u},o.createElement("span",{className:"btn-icon"},""),"Anular Abono"))),o.createElement("style",{jsx:!0},`
                .detalle-abono-container {
                    max-width: 900px;
                    width: 90vw;
                    max-height: 90vh;
                    overflow-y: auto;
                    padding: 20px;
                    background: linear-gradient(135deg, #f8f9fa 0%, #f1f3f4 100%);
                    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                }

                /* Header Info */
                .header-info {
                    display: flex;
                    flex-wrap: wrap;
                    gap: 12px;
                    margin-bottom: 24px;
                }

                .info-badge {
                    display: inline-flex;
                    align-items: center;
                    gap: 8px;
                    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
                    color: #374151;
                    padding: 8px 16px;
                    border-radius: 20px;
                    font-size: 14px;
                    font-weight: 500;
                    box-shadow: 0 2px 8px rgba(107, 114, 128, 0.1);
                    border: 1px solid #d1d5db;
                }

                .estado-badge.activo {
                    background: linear-gradient(135deg, #d1fae5, #a7f3d0);
                    color: #065f46;
                    border: 1px solid #10b981;
                }

                .estado-badge.anulado {
                    background: linear-gradient(135deg, #fee2e2, #fecaca);
                    color: #991b1b;
                    border: 1px solid #ef4444;
                }

                .badge-icon {
                    font-size: 16px;
                }

                /* Form Card */
                .form-card {
                    background: white;
                    border-radius: 16px;
                    padding: 24px;
                    margin-bottom: 24px;
                    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
                    border: 1px solid #e5e7eb;
                }

                .section-title {
                    display: flex;
                    align-items: center;
                    gap: 12px;
                    font-size: 20px;
                    font-weight: 600;
                    color: #374151;
                    margin-bottom: 24px;
                    padding-bottom: 12px;
                    border-bottom: 2px solid #e5e7eb;
                }

                .subsection-title {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    font-size: 16px;
                    font-weight: 600;
                    color: #374151;
                    margin-bottom: 16px;
                }

                .title-icon {
                    font-size: 24px;
                }

                /* Detalle Grid */
                .detalle-grid {
                    display: grid;
                    grid-template-columns: repeat(3, 1fr);
                    gap: 20px;
                }

                .detalle-item {
                    background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
                    padding: 16px;
                    border-radius: 12px;
                    border: 1px solid #e5e7eb;
                    display: flex;
                    flex-direction: column;
                    gap: 8px;
                    transition: all 0.2s ease;
                }

                .detalle-item.destacado {
                    background: linear-gradient(135deg, #fdf2f8 0%, #fce7f3 100%);
                    border: 2px solid #ec4899;
                    box-shadow: 0 4px 12px rgba(236, 72, 153, 0.15);
                }

                .detalle-item:hover {
                    transform: translateY(-2px);
                    box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
                }

                .detalle-label {
                    font-size: 12px;
                    font-weight: 600;
                    color: #6b7280;
                    text-transform: uppercase;
                    letter-spacing: 0.5px;
                }

                .detalle-value {
                    font-size: 16px;
                    font-weight: 600;
                    color: #374151;
                }

                .detalle-value.monto {
                    font-size: 24px;
                    color: #ec4899;
                }

                /* Mtodo Badge */
                .metodo-badge {
                    display: inline-block;
                    background: linear-gradient(135deg, #dbeafe 0%, #bfdbfe 100%);
                    color: #1e40af;
                    padding: 6px 14px;
                    border-radius: 12px;
                    font-size: 13px;
                    font-weight: 600;
                    letter-spacing: 0.5px;
                }

                /* Section Divider */
                .section-divider {
                    height: 2px;
                    background: linear-gradient(90deg, transparent, #e5e7eb, transparent);
                    margin: 24px 0;
                }

                /* Comprobante Section */
                .comprobante-section {
                    margin-top: 20px;
                }

                .comprobante-viewer {
                    display: flex;
                    flex-direction: column;
                    align-items: center;
                    gap: 16px;
                    background: linear-gradient(135deg, #f9fafb 0%, #f3f4f6 100%);
                    padding: 20px;
                    border-radius: 12px;
                    border: 1px solid #e5e7eb;
                }

                .comprobante-image {
                    max-width: 100%;
                    max-height: 400px;
                    border-radius: 12px;
                    border: 2px solid #e5e7eb;
                    object-fit: contain;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                }

                .comprobante-image:hover {
                    transform: scale(1.02);
                    border-color: #ec4899;
                    box-shadow: 0 8px 24px rgba(236, 72, 153, 0.2);
                }

                .btn-ver-completa {
                    display: flex;
                    align-items: center;
                    gap: 8px;
                    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
                    color: #374151;
                    border: 2px solid #d1d5db;
                    padding: 10px 20px;
                    border-radius: 10px;
                    cursor: pointer;
                    font-size: 14px;
                    font-weight: 600;
                    transition: all 0.2s ease;
                }

                .btn-ver-completa:hover {
                    background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%);
                    transform: translateY(-1px);
                    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
                }

                /* Action Buttons */
                .action-buttons {
                    display: flex;
                    justify-content: space-between;
                    gap: 12px;
                }

                .btn {
                    display: flex;
                    align-items: center;
                    justify-content: center;
                    gap: 8px;
                    padding: 14px 32px;
                    border: none;
                    border-radius: 10px;
                    font-weight: 600;
                    cursor: pointer;
                    transition: all 0.2s ease;
                    font-size: 15px;
                    flex: 1;
                }

                .btn-cancel {
                    background: linear-gradient(135deg, #f3f4f6 0%, #e5e7eb 100%);
                    color: #6b7280;
                    border: 2px solid #d1d5db;
                }

                .btn-cancel:hover {
                    background: linear-gradient(135deg, #e5e7eb 0%, #d1d5db 100%);
                    color: #374151;
                    transform: translateY(-1px);
                }

                .btn-delete {
                    background: linear-gradient(135deg, #fee2e2 0%, #fecaca 100%);
                    color: #dc2626;
                    border: 2px solid #ef4444;
                }

                .btn-delete:hover {
                    background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%);
                    transform: translateY(-1px);
                    box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
                }

                .btn-icon {
                    font-size: 18px;
                }

                /* Responsive */
                @media (max-width: 768px) {
                    .detalle-abono-container {
                        padding: 16px;
                    }

                    .detalle-grid {
                        grid-template-columns: 1fr;
                    }

                    .action-buttons {
                        flex-direction: column;
                    }

                    .btn {
                        width: 100%;
                    }

                    .comprobante-image {
                        max-height: 200px;
                    }
                }
            `))}function sY({ventaSeleccionada:t,onBackToList:e,productosDisponibles:r=[]}){if(!t)return o.createElement("div",{className:"admin-container"},o.createElement("div",{className:"loading-container"},o.createElement("p",null,"Cargando detalle de venta...")));const{idVenta:n,nombreCliente:a,nombreSede:i,metodoPago:s,tipoVenta:l,nombreEstado:c,fechaVenta:u,total:f,detalleVenta:m=[],abonos:v=[],observaciones:h,descuento:E,fechaEntrega:y,subtotal:b=0}=t,x=R=>{const O=r.find(A=>A.idproductogeneral===R);return(O==null?void 0:O.nombre)||`ID: ${R}`},w=R=>{switch(R){case"Activa":return"estado-activa";case"Anulada":return"estado-anulada";case"En espera":case"Pendiente":return"estado-espera";case"En produccin":case"En Proceso":return"estado-produccion";case"Por entregar":return"estado-entregar";case"Finalizado":case"Completada":return"estado-finalizado";default:return""}},N=R=>{if(!R)return"No especificada";try{return new Date(R).toLocaleDateString("es-CO",{year:"numeric",month:"long",day:"numeric"})}catch{return R}},I=R=>parseFloat(R||0).toLocaleString("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0,maximumFractionDigits:0}),P=()=>`Detalle de Venta #${n||""}`,L=c!=="Activa"&&c!=="Anulada";return o.createElement("div",{className:"compra-form-container"},o.createElement("div",{style:{marginBottom:"20px"}},o.createElement("h1",{className:"compra-title"},P())),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Informacin de la Venta"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Tipo de venta"),o.createElement("input",{type:"text",value:l||"N/A",disabled:!0,className:"form-input"})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de Venta"),o.createElement("input",{type:"text",value:N(u),disabled:!0,className:"form-input"})),y&&l==="pedido"&&o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de Entrega"),o.createElement("input",{type:"text",value:N(y),disabled:!0,className:"form-input"})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Sede"),o.createElement("input",{type:"text",value:i||"N/A",disabled:!0,className:"form-input"})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Cliente"),o.createElement("input",{type:"text",value:a||"N/A",disabled:!0,className:"form-input"})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Mtodo de Pago"),o.createElement("input",{type:"text",value:s||"N/A",disabled:!0,className:"form-input"})),L&&o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Estado"),o.createElement("div",{style:{paddingTop:"4px"}},o.createElement("span",{className:`estado-tag ${w(c)}`},c||"N/A"))))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Detalle de Productos"),o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Nombre"),o.createElement("th",null,"Cantidad"),o.createElement("th",null,"Precio Unitario"),o.createElement("th",{style:{width:"250px"}},"Catlogos"),o.createElement("th",null,"Subtotal Item"))),o.createElement("tbody",null,m&&m.length>0?m.map((R,O)=>{var _;const[A,T]=o.useState(!1),C=R.toppings&&R.toppings.length>0||R.salsas&&R.salsas.length>0||R.sabores&&R.sabores.length>0||R.adiciones&&R.adiciones.length>0;return o.createElement(o.Fragment,{key:O},o.createElement("tr",{className:"product-row"},o.createElement("td",{className:"product-name"},x(R.idproductogeneral)),o.createElement("td",{className:"quantity-cell"},o.createElement("span",{className:"quantity-display"},R.cantidad)),o.createElement("td",{className:"price-cell"},I(R.precioUnitario)),o.createElement("td",{className:"catalog-buttons-cell"},C?o.createElement("div",{style:{display:"flex",gap:"6px",flexWrap:"wrap"}},R.toppings&&R.toppings.length>0&&o.createElement("span",{style:{fontSize:"12px",padding:"5px 10px",background:"#ec4899",color:"white",fontWeight:"bold",borderRadius:"4px"}}," Toppings (",R.toppings.length,")"),R.salsas&&R.salsas.length>0&&o.createElement("span",{style:{fontSize:"12px",padding:"5px 10px",background:"#ec4899",color:"white",fontWeight:"bold",borderRadius:"4px"}}," Salsas (",R.salsas.length,")"),R.sabores&&R.sabores.length>0&&o.createElement("span",{style:{fontSize:"12px",padding:"5px 10px",background:"#ec4899",color:"white",fontWeight:"bold",borderRadius:"4px"}}," Rellenos (",R.sabores.length,")"),R.adiciones&&R.adiciones.length>0&&o.createElement("span",{style:{fontSize:"12px",padding:"5px 10px",background:"#ec4899",color:"white",fontWeight:"bold",borderRadius:"4px"}}," Adiciones (",R.adiciones.length,")")):o.createElement("span",{style:{color:"#9ca3af",fontSize:"12px"}},"Sin catlogos")),o.createElement("td",{className:"subtotal-cell"},o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"4px",alignItems:"flex-end"}},o.createElement("div",{style:{fontWeight:"bold",fontSize:"16px"}},I(R.subtotal+(((_=R.adiciones)==null?void 0:_.reduce((D,z)=>D+z.precio*(z.cantidad||1),0))||0))),C&&o.createElement("button",{type:"button",onClick:()=>T(!A),style:{background:"#ec4899",borderTop:"2px solid #ec4899",borderRadius:"4px",padding:"4px 8px",fontSize:"11px",cursor:"pointer",color:"#ffffff",display:"flex",alignItems:"center",gap:"4px",border:"none"}},A?"":""," Ver detalles")))),A&&o.createElement("tr",null,o.createElement("td",{colSpan:"5",style:{background:"#fef3f2",padding:"16px",borderLeft:"4px solid #ec4899"}},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"16px"}},R.toppings&&R.toppings.length>0&&o.createElement("div",{style:{background:"white",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{fontWeight:"bold",color:"#1f2937",marginBottom:"8px",fontSize:"14px"}}," Toppings (",R.toppings.length,")"),R.toppings.map(D=>o.createElement("div",{key:D.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0",borderBottom:"1px solid #f3f4f6"}},o.createElement("span",{style:{color:"#6b7280",fontSize:"13px"}},D.nombre),o.createElement("span",{style:{color:"#10b981",fontWeight:"600",fontSize:"12px"}},"Gratis")))),R.salsas&&R.salsas.length>0&&o.createElement("div",{style:{background:"white",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{fontWeight:"bold",color:"#1f2937",marginBottom:"8px",fontSize:"14px"}}," Salsas (",R.salsas.length,")"),R.salsas.map(D=>o.createElement("div",{key:D.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0",borderBottom:"1px solid #f3f4f6"}},o.createElement("span",{style:{color:"#6b7280",fontSize:"13px"}},D.nombre),o.createElement("span",{style:{color:"#10b981",fontWeight:"600",fontSize:"12px"}},"Gratis")))),R.sabores&&R.sabores.length>0&&o.createElement("div",{style:{background:"white",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{fontWeight:"bold",color:"#1f2937",marginBottom:"8px",fontSize:"14px"}}," Rellenos (",R.sabores.length,")"),R.sabores.map(D=>o.createElement("div",{key:D.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0",borderBottom:"1px solid #f3f4f6"}},o.createElement("span",{style:{color:"#6b7280",fontSize:"13px"}},D.nombre),o.createElement("span",{style:{color:"#10b981",fontWeight:"600",fontSize:"12px"}},"Gratis")))),R.adiciones&&R.adiciones.length>0&&o.createElement("div",{style:{background:"white",padding:"12px",borderRadius:"8px",border:"1px solid #e5e7eb"}},o.createElement("div",{style:{fontWeight:"bold",color:"#1f2937",marginBottom:"8px",fontSize:"14px"}}," Adiciones (",R.adiciones.length,")"),R.adiciones.map(D=>o.createElement("div",{key:D.id,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 0",borderBottom:"1px solid #f3f4f6"}},o.createElement("span",{style:{color:"#6b7280",fontSize:"13px"}},D.nombre),o.createElement("span",{style:{fontWeight:"600",color:"#ec4899",fontSize:"12px"}},"+",I(D.precio)))),o.createElement("div",{style:{marginTop:"8px",paddingTop:"8px",borderTop:"2px solid #ec4899",display:"flex",justifyContent:"space-between",fontWeight:"bold"}},o.createElement("span",{style:{color:"#1f2937"}},"Subtotal Adiciones:"),o.createElement("span",{style:{color:"#ec4899"}},I(R.adiciones.reduce((D,z)=>D+z.precio*(z.cantidad||1),0)))))))))}):o.createElement("tr",null,o.createElement("td",{colSpan:"5",style:{textAlign:"center",padding:"20px",color:"#6b7280"}},"No hay productos en esta venta")))))),h&&l==="pedido"&&o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Observaciones"),o.createElement("div",{className:"field-group"},o.createElement("textarea",{value:h,disabled:!0,rows:"3",className:"form-input",style:{resize:"vertical",minHeight:"80px"}}))),o.createElement("div",{className:"totals-section"},o.createElement("div",{className:"totals-grid"},o.createElement("div",{className:"total-card subtotal-card"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},""),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Subtotal"),o.createElement("div",{className:"card-value"},I(b)))),E>0&&o.createElement("div",{className:"total-card subtotal-card"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},""),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Descuento"),o.createElement("div",{className:"card-value"},"-",I(E)))),o.createElement("div",{className:"total-card total-card-main"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},""),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Total"),o.createElement("div",{className:"card-value total-value"},I(f)))))),v&&v.length>0&&o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Abonos Realizados"),o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Fecha"),o.createElement("th",null,"Monto"),o.createElement("th",null,"Mtodo de Pago"),o.createElement("th",null,"Estado"))),o.createElement("tbody",null,v.map((R,O)=>o.createElement("tr",{key:O,className:"product-row"},o.createElement("td",null,N(R.fecha)),o.createElement("td",{className:"price-cell"},I(R.monto||R.totalPagado||0)),o.createElement("td",null,R.metodoPago),o.createElement("td",null,R.anulado?o.createElement("span",{className:"estado-tag estado-anulada"},"Anulado"):o.createElement("span",{className:"estado-tag estado-activa"},"Activo"))))))),o.createElement("div",{className:"totals-section",style:{marginTop:"20px",marginBottom:"0"}},o.createElement("div",{className:"totals-grid"},o.createElement("div",{className:"total-card subtotal-card"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},""),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Total Abonado"),o.createElement("div",{className:"card-value"},I(v.filter(R=>!R.anulado).reduce((R,O)=>R+parseFloat(O.monto||O.totalPagado||0),0))))),o.createElement("div",{className:"total-card total-card-main"},o.createElement("div",{className:"card-icon",style:{color:"#ec4899"}},""),o.createElement("div",{className:"card-content"},o.createElement("div",{className:"card-label"},"Saldo Pendiente"),o.createElement("div",{className:"card-value total-value"},I(f-v.filter(R=>!R.anulado).reduce((R,O)=>R+parseFloat(O.monto||O.totalPagado||0),0)))))))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{className:"btn btn-cancel",onClick:e},"Cerrar")))}function lY(){const[t,e]=p.useState([]),[r,n]=p.useState(!0),[a,i]=p.useState(""),[s,l]=p.useState(!1),[c,u]=p.useState(null),[f,m]=p.useState(null),[v,h]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[E,y]=p.useState(!1),[b,x]=p.useState([]),[w,N]=p.useState(!1),[I,P]=p.useState(!1),[L,R]=p.useState({}),[O,A]=p.useState(!1),[T,C]=p.useState({}),_=A7(),D=_==null?void 0:_.actualizarPedidos,z=_==null?void 0:_.actualizarProducciones,V=Ye=>{gt(Ye),A(!0)},J=Ye=>{console.log(" Agregando toppings:",Ye),console.log(" Producto editando:",be),x(ft=>{const ot=ft.map($e=>{if($e.id===be){const at=$e.toppings||[],Rt=Ye.filter(Ht=>!at.some(or=>or.id===Ht.id));return console.log(" Toppings a agregar (sin duplicados):",Rt),{...$e,toppings:[...at,...Rt]}}return $e});return console.log(" Insumos actualizados:",ot),ot})},ie=(Ye,ft)=>{x(ot=>ot.map($e=>{var at;return $e.id===Ye?{...$e,toppings:((at=$e.toppings)==null?void 0:at.filter(Rt=>Rt.id!==ft))||[]}:$e}))},[G,te]=p.useState(!1),[W,B]=p.useState(!1),[j,U]=p.useState({metodo_pago:"",total_pagado:"",fecha:new Date().toISOString().split("T")[0],comprobante_imagen:null}),[X,Z]=p.useState(null),[me,de]=p.useState(!1),[oe,ee]=p.useState("directa"),[le,pe]=p.useState(!1),[ce,_e]=p.useState(!1),[He,Re]=p.useState(!1),[be,gt]=p.useState(null),[Ae,ke]=p.useState({}),[Be,Xe]=p.useState([]),[Ke,Et]=p.useState([]),[ut,zt]=p.useState({cod_venta:"00000000",tipo_venta:"",cliente:"",clienteId:null,sede:"",metodo_pago:"",fecha_venta:new Date().toISOString().split("T")[0],fecha_entrega:"",fecha_registro:"",observaciones:""}),Gt=async()=>{try{const Ye=await Qs.obtenerProductos();console.log("Productos disponibles obtenidos:",Ye),Et(Ye)}catch(Ye){console.error("Error al obtener productos:",Ye),nt(Ye.message||"Error al obtener el catlogo de productos","error")}},mt=Ye=>{ke(ft=>({...ft,[Ye]:!ft[Ye]}))},nt=(Ye,ft="success")=>{h({visible:!0,mensaje:Ye,tipo:ft}),setTimeout(()=>{ht()},5e3)},ht=()=>{h({...v,visible:!1})},Kt=async()=>{try{n(!0);const Ye=await wo.obtenerVentas();console.log("Ventas obtenidas:",Ye),e(Ye)}catch(Ye){console.error("Error al obtener ventas:",Ye),nt(Ye.message||"Error al obtener las ventas","error"),cargarVentasMock()}finally{n(!1)}},bt=async()=>{try{const Ye=await wo.obtenerEstadosVenta();console.log("Estados obtenidos:",Ye),Xe(Ye)}catch(Ye){console.error("Error al obtener estados:",Ye),nt("Error al obtener los estados de venta","error"),Xe([{idestadoventa:1,nombre_estado:"Activa"},{idestadoventa:2,nombre_estado:"Pendiente"},{idestadoventa:3,nombre_estado:"En Proceso"},{idestadoventa:4,nombre_estado:"Completada"},{idestadoventa:5,nombre_estado:"Anulada"}])}};p.useEffect(()=>{Kt(),Gt(),bt()},[]);const Ar=p.useMemo(()=>{var ot;const Ye=(ot=Be.find($e=>$e.nombre_estado==="Anulada"))==null?void 0:ot.idestadoventa,ft=Be.filter($e=>$e.nombre_estado!=="Anulada").map($e=>$e.idestadoventa);return t.filter($e=>{const at=a===""||$e.nombreCliente&&$e.nombreCliente.toLowerCase().includes(a.toLowerCase())||$e.idVenta&&$e.idVenta.toString().includes(a);return oe==="directa"?at&&$e.tipoVenta==="directa"&&ft.includes($e.idEstadoVenta):oe==="pedido"?at&&$e.tipoVenta==="pedido"&&ft.includes($e.idEstadoVenta):oe==="anulado"?at&&$e.idEstadoVenta===Ye:!1}).sort(($e,at)=>$e.idEstadoVenta===Ye&&at.idEstadoVenta!==Ye?1:at.idEstadoVenta===Ye&&$e.idEstadoVenta!==Ye?-1:0)},[t,a,oe,Be]),Jt=(Ye,ft=null)=>{u(Ye),m(ft),l(!0)},Lr=()=>{l(!1),m(null),u(null)},mr=async Ye=>{m(Ye),P(!0);try{console.log("Obteniendo detalle completo de la venta:",Ye.idVenta);const ft=await wo.obtenerVentaPorId(Ye.idVenta);console.log("Venta completa obtenida:",ft),m(ft)}catch(ft){console.error("Error al obtener detalle:",ft),nt(ft.message||"No se pudo obtener informacin completa de la venta","error")}},wr=async Ye=>{if(console.log("Venta recibida para abonos:",Ye),!Ye||!Ye.idVenta){nt("Error: Venta no vlida","error");return}m(Ye),te(!0);try{console.log("Obteniendo detalle completo de la venta:",Ye.idVenta);const ft=await wo.obtenerVentaPorId(Ye.idVenta);console.log("Venta completa obtenida:",ft),m(ft)}catch(ft){console.error("Error al obtener abonos:",ft),nt("Error al obtener los abonos de la venta","error")}},Ur=async()=>{if(!(f!=null&&f.idVenta)){nt("No se pudo identificar la venta a anular","error");return}try{console.log("Anulando venta con ID:",f.idVenta),await wo.anularVenta(f.idVenta),e(Ye=>Ye.map(ft=>{var ot;return ft.idVenta===f.idVenta?{...ft,idEstadoVenta:(ot=Be.find($e=>$e.nombre_estado==="Anulada"))==null?void 0:ot.idestadoventa,nombreEstado:"Anulada"}:ft})),nt("Venta anulada correctamente","success"),Lr()}catch(Ye){console.error("Error al anular venta:",Ye),nt(Ye.message||"Error al anular la venta","error")}},Sr=async(Ye,ft)=>{try{console.log(` Cambiando estado de venta ${Ye} a ${ft}`);const ot=await wo.actualizarEstadoVenta(Ye,ft);e($e=>$e.map(at=>{var Rt;return at.idVenta===Ye?{...at,idEstadoVenta:ft,nombreEstado:((Rt=Be.find(Ht=>Ht.idestadoventa===ft))==null?void 0:Rt.nombre_estado)||at.nombreEstado}:at})),D&&await D(),ot.produccionCreada?(console.log(" Produccin creada:",ot.produccionCreada),nt(`Estado actualizado. Se cre la produccin #${ot.produccionCreada.idproduccion} automticamente`,"success"),z&&await z()):ft===2?nt("Estado de venta actualizado. La produccin ya existe.","success"):ft===4?(nt("Pedido marcado como entregado","success"),D&&await D()):ft===3?(nt("Pedido listo para entregar","success"),D&&await D()):nt("Estado de venta actualizado correctamente","success")}catch(ot){console.error("Error al cambiar estado:",ot),nt(ot.message||"Error al actualizar el estado","error")}},kt=Ye=>{console.log("Generando PDF para venta:",Ye.idVenta),nt("PDF generado correctamente","success")},Ee=Ye=>{var ot;const ft=(ot=Be.find($e=>$e.nombre_estado==="Anulada"))==null?void 0:ot.idestadoventa;return Ye.idEstadoVenta===ft?"row-anulado":""},Ne=p.useMemo(()=>b.reduce((Ye,ft)=>{var $e,at;const ot=ft.precio*ft.cantidad+((($e=ft.adiciones)==null?void 0:$e.slice(2).reduce((Rt,Ht)=>Rt+Ht.precio*(Ht.cantidad||1),0))||0)+(((at=ft.sabores)==null?void 0:at.reduce((Rt,Ht)=>Rt+Ht.precio*(Ht.cantidad||1),0))||0);return Ye+ot},0),[b]),qe=p.useMemo(()=>Ne*.16,[Ne]),Nt=p.useMemo(()=>Ne+qe,[Ne,qe]),St=async()=>{var ft;const Ye={};if(ut.tipo_venta||(Ye.tipo_venta="El tipo de venta es requerido"),ut.cliente||(Ye.cliente="El cliente es requerido"),ut.sede||(Ye.sede="La sede es requerida"),ut.metodo_pago||(Ye.metodo_pago="El mtodo de pago es requerido"),b.length===0&&(Ye.productos="Debe agregar al menos un producto"),ut.tipo_venta==="directa"||ut.tipo_venta==="venta directa")for(const ot of b){const $e=ot.disponible||0,at=ot.cantidad||1;if(at>$e){Ye.productos=`El producto "${ot.nombre}" excede la cantidad disponible. Disponible: ${$e}, Solicitado: ${at}`;break}}if(ut.tipo_venta==="pedido"&&!ut.fecha_entrega&&(Ye.fecha_entrega="La fecha de entrega es requerida para pedidos"),Object.keys(Ye).length>0){R(Ye),nt("Por favor corrija los errores en el formulario","error");return}try{console.log("Datos de venta antes de enviar:"),console.log("ventaData.cliente:",ut.cliente),console.log("ventaData.clienteId:",ut.clienteId);const ot=ut.sede==="San Pablo"?1:2,$e=((ft=Be.find(Ht=>Ht.nombre_estado==="Activa"))==null?void 0:ft.idestadoventa)||5,at={fechaventa:ut.fecha_venta,clienteId:ut.clienteId,idsede:ot,metodopago:ut.metodo_pago,tipoventa:ut.tipo_venta==="venta directa"?"directa":ut.tipo_venta,estadoVentaId:$e,total:Nt,clienteNombre:ut.cliente,sedeNombre:ut.sede,fechaentrega:ut.fecha_entrega||null,observaciones:ut.observaciones||null,productos:b.map(Ht=>{var Rr;const or=Ht.precio*(Ht.cantidad||1),qt=(((Rr=Ht.adiciones)==null?void 0:Rr.slice(2))||[]).reduce((Ze,ae)=>Ze+ae.precio*(ae.cantidad||1),0),br=(Ht.sabores||[]).reduce((Ze,ae)=>Ze+ae.precio*(ae.cantidad||1),0),Pr=or+qt+br;return{idproductogeneral:Ht.id,cantidad:Ht.cantidad||1,preciounitario:Ht.precio,subtotal:Pr,iva:Pr*.16}})};console.log("Enviando nueva venta a la API:",at);const Rt=await wo.crearVenta(at);console.log("Venta creada exitosamente:",Rt),e(Ht=>[Rt,...Ht]),nt("Venta creada exitosamente. Inventario actualizado.","success"),y(!1),x([]),zt({cod_venta:"00000000",tipo_venta:"",cliente:"",clienteId:null,sede:"",metodo_pago:"",fecha_venta:new Date().toISOString().split("T")[0],fecha_entrega:"",fecha_registro:"",observaciones:""}),R({})}catch(ot){console.error("Error al crear venta:",ot),ot.message.includes("inventario")||ot.message.includes("Inventario")?nt("Stock insuficiente: "+ot.message,"error"):ot.message.includes("INVENTARIO_INSUFICIENTE")?nt("No hay suficiente inventario para completar la venta","error"):nt(ot.message||"Error al crear la venta","error")}},Ot=Ye=>{const{name:ft,value:ot}=Ye.target;zt($e=>({...$e,[ft]:ot})),L[ft]&&R($e=>({...$e,[ft]:""}))},gr=(Ye,ft)=>{const ot=ut.tipo_venta==="directa"||ut.tipo_venta==="venta directa";x($e=>$e.map(at=>{if(at.id===Ye){if(ot){const Rt=at.disponible||0;if(ft>Rt)return nt(`Cantidad mxima disponible para ${at.nombre}: ${Rt} unidades`,"error"),{...at,cantidad:Math.min(Rt,Math.max(1,ft))}}return{...at,cantidad:Math.max(1,ft)}}return at}))},lr=Ye=>{gt(Ye),pe(!0)},zr=Ye=>{gt(Ye),_e(!0)},st=Ye=>{gt(Ye),Re(!0)},Ct=Ye=>{const ft=Ye.map(ot=>({...ot,cantidad:1,adiciones:[],salsas:[],sabores:[]}));x(ot=>[...ot,...ft])},_t=Ye=>{console.log(" Agregando adiciones:",Ye),x(ft=>ft.map(ot=>{if(ot.id===be){const $e=ot.adiciones||[],at=Ye.filter(Rt=>!$e.some(Ht=>Ht.id===Rt.id));return{...ot,adiciones:[...$e,...at]}}return ot}))},Kr=Ye=>{console.log(" Agregando salsas:",Ye),x(ft=>ft.map(ot=>{if(ot.id===be){const $e=ot.salsas||[],at=Ye.filter(Rt=>!$e.some(Ht=>Ht.id===Rt.id));return{...ot,salsas:[...$e,...at]}}return ot}))},yn=Ye=>{console.log(" Agregando rellenos:",Ye),x(ft=>ft.map(ot=>{if(ot.id===be){const $e=ot.sabores||[],at=Ye.filter(Rt=>!$e.some(Ht=>Ht.id===Rt.id));return{...ot,sabores:[...$e,...at]}}return ot}))},en=Ye=>{x(ft=>ft.filter(ot=>ot.id!==Ye))},pr=(Ye,ft)=>{x(ot=>ot.map($e=>$e.id===Ye?{...$e,adiciones:$e.adiciones.filter(at=>at.id!==ft)}:$e))},Tr=(Ye,ft)=>{x(ot=>ot.map($e=>$e.id===Ye?{...$e,salsas:$e.salsas.filter(at=>at.id!==ft)}:$e))},mn=(Ye,ft)=>{x(ot=>ot.map($e=>$e.id===Ye?{...$e,sabores:$e.sabores.filter(at=>at.id!==ft)}:$e))},rn=Ye=>{const ft=Ye.target.files[0];if(ft){if(console.log("Archivo seleccionado:",ft.name,ft.type,ft.size),!ft.type.startsWith("image/")){nt("Por favor selecciona solo archivos de imagen","error");return}if(ft.size>5*1024*1024){nt("La imagen es muy grande. Mximo 5MB permitido","error");return}U(ot=>({...ot,comprobante_imagen:ft}))}else U(ot=>({...ot,comprobante_imagen:null}))},er=async()=>{console.log("Iniciando creacin de abono:",j);const Ye={};if(j.metodo_pago||(Ye.metodo_pago="Mtodo de pago es requerido"),(!j.total_pagado||parseFloat(j.total_pagado)<=0)&&(Ye.total_pagado="El monto debe ser mayor a 0"),Object.keys(Ye).length>0){R(Ye),nt("Por favor corrija los errores en el formulario","error");return}const ft={idpedido:f.idVenta,metodopago:j.metodo_pago,cantidadpagar:parseFloat(j.total_pagado),TotalPagado:parseFloat(j.total_pagado)};try{console.log("Creando abono con datos:",ft),console.log("Imagen a subir:",j.comprobante_imagen?"S":"NO");const ot=await wo.crearAbono(ft,j.comprobante_imagen);if(nt("Abono agregado correctamente","success"),B(!1),U({metodo_pago:"",total_pagado:"",fecha:new Date().toISOString().split("T")[0],comprobante_imagen:null}),R({}),f!=null&&f.idVenta){const $e=await wo.obtenerVentaPorId(f.idVenta);m($e)}}catch(ot){console.error("Error al agregar abono:",ot),nt(ot.message||"Error al agregar abono","error")}},ct=Ye=>{console.log("Viendo detalle del abono:",Ye),Z(Ye),de(!0)},At=async Ye=>{if(!Ye){nt("ID de abono invlido","error");return}try{console.log("Anulando abono ID:",Ye),await wo.anularAbono(Ye),nt("Abono anulado correctamente","success"),de(!1),f!=null&&f.idVenta&&await wr(f)}catch(ft){console.error("Error al anular abono:",ft),nt(ft.message||"Error al anular el abono","error")}},Yt=()=>{P(!1),m(null)};return r?o.createElement("div",{className:"admin-container"},o.createElement("div",{className:"loading-container"},o.createElement(rc,null))):o.createElement("div",{className:"admin-container"},o.createElement(Fo,{visible:v.visible,mensaje:v.mensaje,tipo:v.tipo,onClose:ht}),I?o.createElement(sY,{ventaSeleccionada:f,onBackToList:Yt,productosDisponibles:Ke}):E?o.createElement(rY,{onBackToList:()=>y(!1),insumosSeleccionados:b,setInsumosSeleccionados:x,ventaData:ut,setVentaData:zt,handleChange:Ot,erroresValidacion:L,setErroresValidacion:R,guardarVenta:St,mostrarModalInsumos:w,setMostrarModalInsumos:N,toggleNestedDetails:mt,nestedDetailsVisible:Ae,handleCantidadChange:gr,abrirModalAdiciones:lr,abrirModalSalsas:zr,abrirModalRellenos:st,removeInsumo:en,removeAdicion:pr,removeSalsa:Tr,removeRelleno:mn,subtotal:Ne,iva:qe,total:Nt,setMostrarAgregarVenta:y,agregarInsumos:Ct,mostrarModalAdiciones:le,setMostrarModalAdiciones:pe,agregarAdiciones:_t,mostrarModalSalsas:ce,setMostrarModalSalsas:_e,agregarSalsas:Kr,mostrarModalRellenos:He,setMostrarModalRellenos:Re,agregarRellenos:yn,setProductoEditandoId:gt,productoEditandoId:be,abrirModalToppings:V,removeTopping:ie,mostrarModalToppings:O,setMostrarModalToppings:A,agregarToppings:J,configuraciones:T,setConfiguraciones:C,showNotification:nt}):o.createElement(YK,{ventasFiltradas:Ar,abrirModal:Jt,generarPDFVenta:kt,setVentaSeleccionada:m,setMostrarModalAbonos:wr,manejarCambioEstado:Sr,notification:v,hideNotification:ht,getRowClassName:Ee,filtroTipoVenta:oe,setFiltroTipoVenta:ee,verDetalleVenta:mr,estadosVenta:Be,setFiltro:i,setMostrarAgregarVenta:y}),o.createElement(nY,{visible:s&&c==="anular",onClose:Lr,ventaSeleccionada:f,anularVenta:Ur}),o.createElement(aY,{visible:G,onClose:()=>te(!1),ventaSeleccionada:f,abonos:(f==null?void 0:f.abonos)||[],setMostrarModalAgregarAbono:B,verDetalleAbono:ct,anularAbono:At}),o.createElement(oY,{visible:W,onClose:()=>{B(!1),R({}),U({metodo_pago:"",total_pagado:"",fecha:new Date().toISOString().split("T")[0],comprobante_imagen:null})},abonoData:j,handleAbonoChange:Ye=>{U({...j,[Ye.target.name]:Ye.target.value}),L[Ye.target.name]&&R(ft=>({...ft,[Ye.target.name]:""}))},erroresValidacion:L,handleImageUpload:rn,agregarAbono:er,ventaSeleccionada:f}),o.createElement(iY,{visible:me,onClose:()=>de(!1),abonoSeleccionado:X,anularAbono:()=>At(X==null?void 0:X.idAbono)}))}const ub=(t,e,r="Natural",n="CC")=>{let a="";switch(t){case"nombre":r==="Natural"&&(e.trim()?e.trim().length<3?a="El nombre debe tener al menos 3 caracteres":e.trim().length>50?a="El nombre no puede tener ms de 50 caracteres":/^[A-Za-z \s.]+$/.test(e)||(a="El nombre solo puede contener letras, espacios y puntos"):a="El nombre es obligatorio");break;case"nombreEmpresa":r==="Jurdico"&&(e.trim()?e.trim().length<3?a="El nombre de empresa debe tener al menos 3 caracteres":e.trim().length>50&&(a="El nombre de empresa no puede tener ms de 50 caracteres"):a="El nombre de empresa es obligatorio");break;case"nombreContacto":r==="Jurdico"&&(e.trim()?e.trim().length<3?a="El nombre del contacto debe tener al menos 3 caracteres":e.trim().length>50?a="El nombre del contacto no puede tener ms de 50 caracteres":/^[A-Za-z \s.]+$/.test(e)||(a="El nombre del contacto solo puede contener letras, espacios y puntos"):a="El nombre del contacto es obligatorio");break;case"contacto":e.trim()?/^\d+$/.test(e)?e.length<7?a="El telfono debe tener al menos 7 dgitos":e.length>10&&(a="El telfono no puede tener ms de 10 dgitos"):a="El telfono debe contener solo nmeros":a="El telfono es obligatorio";break;case"correo":e.trim()?e.length>50?a="El correo no puede tener ms de 50 caracteres":(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)||!e.includes("@"))&&(a="Correo no vlido"):a="El correo es obligatorio";break;case"direccion":e.trim()?e.trim().length<5?a="La direccin debe tener al menos 5 caracteres":e.trim().length>30&&(a="La direccin no puede tener ms de 30 caracteres"):a="La direccin es obligatoria";break;case"documentoONit":const i=r==="Natural"?"Documento":"NIT";e.trim()?/^\d+$/.test(e)?r==="Natural"?e.length<7?a="El documento debe tener al menos 7 dgitos":e.length>10&&(a="El documento no puede tener ms de 10 dgitos"):e.length<9?a="El NIT debe tener al menos 9 dgitos":e.length>12&&(a="El NIT no puede tener ms de 12 dgitos"):a=`${i} debe contener solo nmeros`:a=`${i} es obligatorio`;break}return a},cY=({tipo:t,proveedor:e,proveedores:r})=>{const[n,a]=p.useState({tipoProveedor:"Natural",nombre:"",contacto:"",correo:"",direccion:"",documentoONit:"",tipoDocumento:"CC",nombreEmpresa:"",nombreContacto:"",estadoProveedor:!0}),[i,s]=p.useState({}),[l,c]=p.useState({});return p.useEffect(()=>{t==="editar"&&e?(console.log(" Inicializando formulario para editar:",e),a({tipoProveedor:e.tipo,nombre:e.tipo==="Natural"&&e.nombreProveedor||"",nombreEmpresa:e.tipo==="Jurdico"&&e.nombreEmpresa||"",nombreContacto:e.tipo==="Jurdico"&&e.nombreProveedor||"",contacto:e.contacto.toString(),correo:e.correo,direccion:e.direccion,documentoONit:e.documento.toString(),tipoDocumento:e.tipoDocumento,estadoProveedor:e.estado})):t==="agregar"&&a({tipoProveedor:"Natural",nombre:"",contacto:"",correo:"",direccion:"",documentoONit:"",tipoDocumento:"CC",nombreEmpresa:"",nombreContacto:"",estadoProveedor:!0}),s({}),c({})},[t,e]),{formData:n,errors:i,touched:l,handleFieldChange:(v,h)=>{if(v==="tipoProveedor"){if(a(E=>({...E,tipoProveedor:h,tipoDocumento:h==="Natural"?"CC":"NIT",nombre:h==="Jurdico"?"":E.nombre,nombreEmpresa:h==="Natural"?"":E.nombreEmpresa,nombreContacto:h==="Natural"?"":E.nombreContacto})),n.documentoONit&&l.documentoONit){const E=ub("documentoONit",n.documentoONit,h);s(y=>({...y,documentoONit:E}))}}else a(E=>({...E,[v]:h}));if(l[v]){const E=ub(v,h,n.tipoProveedor,n.tipoDocumento);s(y=>({...y,[v]:E}))}},handleFieldBlur:(v,h)=>{c(y=>({...y,[v]:!0}));const E=ub(v,h,n.tipoProveedor,n.tipoDocumento);if(s(y=>({...y,[v]:E})),!E&&(t==="agregar"&&(v==="correo"&&r.some(b=>b.correo.toLowerCase()===h.toLowerCase())&&s(b=>({...b,correo:"Ya existe un proveedor con este correo"})),v==="contacto"&&r.some(b=>b.contacto.toString()===h.toString())&&s(b=>({...b,contacto:"Ya existe un proveedor con este telfono"})),v==="documentoONit"&&r.some(b=>b.documento.toString()===h.toString())&&s(b=>({...b,documentoONit:"Ya existe un proveedor con este documento"})),v==="nombre"&&n.tipoProveedor==="Natural"&&r.some(b=>b.nombre&&b.nombre.toLowerCase()===h.toLowerCase())&&s(b=>({...b,nombre:"Ya existe un proveedor con este nombre"})),v==="nombreEmpresa"&&n.tipoProveedor==="Jurdico"&&r.some(b=>b.nombreEmpresa&&b.nombreEmpresa.toLowerCase()===h.toLowerCase())&&s(b=>({...b,nombreEmpresa:"Ya existe un proveedor con este nombre de empresa"}))),t==="editar"&&e)){const y=e.idProveedor||e.idproveedor;v==="correo"&&r.some(x=>(x.idProveedor||x.idproveedor)!==y&&x.correo.toLowerCase()===h.toLowerCase())&&s(x=>({...x,correo:"Ya existe un proveedor con este correo"})),v==="contacto"&&r.some(x=>(x.idProveedor||x.idproveedor)!==y&&x.contacto.toString()===h.toString())&&s(x=>({...x,contacto:"Ya existe un proveedor con este telfono"})),v==="documentoONit"&&r.some(x=>(x.idProveedor||x.idproveedor)!==y&&x.documento.toString()===h.toString())&&s(x=>({...x,documentoONit:"Ya existe un proveedor con este documento"})),v==="nombre"&&n.tipoProveedor==="Natural"&&r.some(x=>(x.idProveedor||x.idproveedor)!==y&&x.nombre&&x.nombre.toLowerCase()===h.toLowerCase())&&s(x=>({...x,nombre:"Ya existe un proveedor con este nombre"})),v==="nombreEmpresa"&&n.tipoProveedor==="Jurdico"&&r.some(x=>(x.idProveedor||x.idproveedor)!==y&&x.nombreEmpresa&&x.nombreEmpresa.toLowerCase()===h.toLowerCase())&&s(x=>({...x,nombreEmpresa:"Ya existe un proveedor con este nombre de empresa"}))}},validarCampos:()=>{let v=["contacto","correo","direccion","documentoONit"];n.tipoProveedor==="Natural"?v=[...v,"nombre"]:v=[...v,"nombreEmpresa","nombreContacto"];let h=!1;const E={};if(v.forEach(y=>{let b=n[y];const x=ub(y,b,n.tipoProveedor,n.tipoDocumento);x&&(E[y]=x,h=!0)}),t==="agregar"&&(r.some(w=>w.correo.toLowerCase()===n.correo.toLowerCase())&&(E.correo="Ya existe un proveedor con este correo",h=!0),r.some(w=>w.contacto.toString()===n.contacto.toString())&&(E.contacto="Ya existe un proveedor con este telfono",h=!0),r.some(w=>w.documento.toString()===n.documentoONit.toString())&&(E.documentoONit="Ya existe un proveedor con este documento",h=!0),n.tipoProveedor==="Natural"&&r.some(N=>N.nombre&&N.nombre.toLowerCase()===n.nombre.toLowerCase())&&(E.nombre="Ya existe un proveedor con este nombre",h=!0),n.tipoProveedor==="Jurdico"&&r.some(N=>N.nombreEmpresa&&N.nombreEmpresa.toLowerCase()===n.nombreEmpresa.toLowerCase())&&(E.nombreEmpresa="Ya existe un proveedor con este nombre de empresa",h=!0)),t==="editar"&&e){const y=e.idProveedor||e.idproveedor;r.some(N=>(N.idProveedor||N.idproveedor)!==y&&N.correo.toLowerCase()===n.correo.toLowerCase())&&(E.correo="Ya existe un proveedor con este correo",h=!0),r.some(N=>(N.idProveedor||N.idproveedor)!==y&&N.contacto.toString()===n.contacto.toString())&&(E.contacto="Ya existe un proveedor con este telfono",h=!0),r.some(N=>(N.idProveedor||N.idproveedor)!==y&&N.documento.toString()===n.documentoONit.toString())&&(E.documentoONit="Ya existe un proveedor con este documento",h=!0),n.tipoProveedor==="Natural"&&r.some(I=>(I.idProveedor||I.idproveedor)!==y&&I.nombre&&I.nombre.toLowerCase()===n.nombre.toLowerCase())&&(E.nombre="Ya existe un proveedor con este nombre",h=!0),n.tipoProveedor==="Jurdico"&&r.some(I=>(I.idProveedor||I.idproveedor)!==y&&I.nombreEmpresa&&I.nombreEmpresa.toLowerCase()===n.nombreEmpresa.toLowerCase())&&(E.nombreEmpresa="Ya existe un proveedor con este nombre de empresa",h=!0)}return s(E),c(v.reduce((y,b)=>({...y,[b]:!0}),{})),!h}}};var yE={exports:{}},vg={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o6;function uY(){if(o6)return vg;o6=1;var t=n3(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function s(l,c,u){var f,m={},v=null,h=null;u!==void 0&&(v=""+u),c.key!==void 0&&(v=""+c.key),c.ref!==void 0&&(h=c.ref);for(f in c)n.call(c,f)&&!i.hasOwnProperty(f)&&(m[f]=c[f]);if(l&&l.defaultProps)for(f in c=l.defaultProps,c)m[f]===void 0&&(m[f]=c[f]);return{$$typeof:e,type:l,key:v,ref:h,props:m,_owner:a.current}}return vg.Fragment=r,vg.jsx=s,vg.jsxs=s,vg}var i6;function dY(){return i6||(i6=1,yE.exports=uY()),yE.exports}var Ol=dY();function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function fY(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mY(t){var e=fY(t,"string");return yh(e)=="symbol"?e:e+""}function Ut(t,e,r){return(e=mY(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F9(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var EE,s6;function pY(){if(s6)return EE;s6=1;var t=function(r,n,a,i,s,l,c,u){if(!r){var f;if(n===void 0)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var m=[a,i,s,l,c,u],v=0;f=new Error(n.replace(/%s/g,function(){return m[v++]})),f.name="Invariant Violation"}throw f.framesToPop=1,f}};return EE=t,EE}var gY=pY(),mi=F9(gY),Bn=p.createContext(null);function hY(){mi(!!p.useContext,"useGoogleMap is React hook and requires React version 16.8+");var t=p.useContext(Bn);return mi(!!t,"useGoogleMap needs a GoogleMap available up in the tree"),t}function vY(t,e,r){return Object.keys(t).reduce(function(a,i){return e(a,t[i],i)},r)}function bY(t,e){Object.keys(t).forEach(r=>e(t[r],r))}function yY(t,e,r,n){var a={},i=(s,l)=>{var c=r[l];c!==e[l]&&(a[l]=c,s(n,c))};return bY(t,i),a}function EY(t,e,r){var n=vY(r,function(i,s,l){return typeof t[l]=="function"&&i.push(google.maps.event.addListener(e,s,t[l])),i},[]);return n}function xY(t){google.maps.event.removeListener(t)}function ea(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];t.forEach(xY)}function Zn(t){var{updaterMap:e,eventMap:r,prevProps:n,nextProps:a,instance:i}=t,s=EY(a,i,r);return yY(e,n,a,i),s}function wY(t){var{children:e,options:r,id:n,mapContainerStyle:a,mapContainerClassName:i,center:s,onClick:l,onDblClick:c,onDrag:u,onDragEnd:f,onDragStart:m,onMouseMove:v,onMouseOut:h,onMouseOver:E,onMouseDown:y,onMouseUp:b,onRightClick:x,onCenterChanged:w,onLoad:N,onUnmount:I}=t,[P,L]=p.useState(null),R=p.useRef(null),[O,A]=p.useState(null),[T,C]=p.useState(null),[_,D]=p.useState(null),[z,V]=p.useState(null),[J,ie]=p.useState(null),[G,te]=p.useState(null),[W,B]=p.useState(null),[j,U]=p.useState(null),[X,Z]=p.useState(null),[me,de]=p.useState(null),[oe,ee]=p.useState(null),[le,pe]=p.useState(null);return p.useEffect(()=>{r&&P!==null&&P.setOptions(r)},[P,r]),p.useEffect(()=>{P!==null&&typeof s<"u"&&P.setCenter(s)},[P,s]),p.useEffect(()=>{P&&c&&(T!==null&&google.maps.event.removeListener(T),C(google.maps.event.addListener(P,"dblclick",c)))},[c]),p.useEffect(()=>{P&&f&&(_!==null&&google.maps.event.removeListener(_),D(google.maps.event.addListener(P,"dragend",f)))},[f]),p.useEffect(()=>{P&&m&&(z!==null&&google.maps.event.removeListener(z),V(google.maps.event.addListener(P,"dragstart",m)))},[m]),p.useEffect(()=>{P&&y&&(J!==null&&google.maps.event.removeListener(J),ie(google.maps.event.addListener(P,"mousedown",y)))},[y]),p.useEffect(()=>{P&&v&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(P,"mousemove",v)))},[v]),p.useEffect(()=>{P&&h&&(W!==null&&google.maps.event.removeListener(W),B(google.maps.event.addListener(P,"mouseout",h)))},[h]),p.useEffect(()=>{P&&E&&(j!==null&&google.maps.event.removeListener(j),U(google.maps.event.addListener(P,"mouseover",E)))},[E]),p.useEffect(()=>{P&&b&&(X!==null&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(P,"mouseup",b)))},[b]),p.useEffect(()=>{P&&x&&(me!==null&&google.maps.event.removeListener(me),de(google.maps.event.addListener(P,"rightclick",x)))},[x]),p.useEffect(()=>{P&&l&&(oe!==null&&google.maps.event.removeListener(oe),ee(google.maps.event.addListener(P,"click",l)))},[l]),p.useEffect(()=>{P&&u&&(le!==null&&google.maps.event.removeListener(le),pe(google.maps.event.addListener(P,"drag",u)))},[u]),p.useEffect(()=>{P&&w&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(P,"center_changed",w)))},[l]),p.useEffect(()=>{var ce=R.current===null?null:new google.maps.Map(R.current,r);return L(ce),ce!==null&&N&&N(ce),()=>{ce!==null&&I&&I(ce)}},[]),Ol.jsx("div",{id:n,ref:R,style:a,className:i,children:Ol.jsx(Bn.Provider,{value:P,children:P!==null?e:null})})}p.memo(wY);function l6(t,e,r,n,a,i,s){try{var l=t[i](s),c=l.value}catch(u){return void r(u)}l.done?e(c):Promise.resolve(c).then(n,a)}function $9(t){return function(){var e=this,r=arguments;return new Promise(function(n,a){var i=t.apply(e,r);function s(c){l6(i,n,a,s,l,"next",c)}function l(c){l6(i,n,a,s,l,"throw",c)}s(void 0)})}}function z9(t){var{googleMapsApiKey:e,googleMapsClientId:r,version:n="weekly",language:a,region:i,libraries:s,channel:l,mapIds:c,authReferrerPolicy:u,apiUrl:f="https://maps.googleapis.com"}=t,m=[];return mi(e&&r||!(e&&r),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),e?m.push("key=".concat(e)):r&&m.push("client=".concat(r)),n&&m.push("v=".concat(n)),a&&m.push("language=".concat(a)),i&&m.push("region=".concat(i)),s&&s.length&&m.push("libraries=".concat(s.sort().join(","))),l&&m.push("channel=".concat(l)),c&&c.length&&m.push("map_ids=".concat(c.join(","))),u&&m.push("auth_referrer_policy=".concat(u)),m.push("loading=async"),m.push("callback=initMap"),"".concat(f,"/maps/api/js?").concat(m.join("&"))}var Md=typeof document<"u";function B9(t){var{url:e,id:r,nonce:n}=t;return Md?new Promise(function(i,s){var l=document.getElementById(r),c=window;if(l){var u=l.getAttribute("data-state");if(l.src===e&&u!=="error"){if(u==="ready")return i(r);var f=c.initMap,m=l.onerror;c.initMap=function(){f&&f(),i(r)},l.onerror=function(h){m&&m(h),s(h)};return}else l.remove()}var v=document.createElement("script");v.type="text/javascript",v.src=e,v.id=r,v.async=!0,v.nonce=n||"",v.onerror=function(E){v.setAttribute("data-state","error"),s(E)},c.initMap=function(){v.setAttribute("data-state","ready"),i(r)},document.head.appendChild(v)}).catch(a=>{throw console.error("injectScript error: ",a),a}):Promise.reject(new Error("document is undefined"))}function c6(t){var e=t.href;return e&&(e.indexOf("https://fonts.googleapis.com/css?family=Roboto")===0||e.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text")===0)?!0:t.tagName.toLowerCase()==="style"&&t.styleSheet&&t.styleSheet.cssText&&t.styleSheet.cssText.replace(`\r
`,"").indexOf(".gm-style")===0?(t.styleSheet.cssText="",!0):t.tagName.toLowerCase()==="style"&&t.innerHTML&&t.innerHTML.replace(`\r
`,"").indexOf(".gm-style")===0?(t.innerHTML="",!0):t.tagName.toLowerCase()==="style"&&!t.styleSheet&&!t.innerHTML}function w3(){var t=document.getElementsByTagName("head")[0];if(t){var e=t.insertBefore.bind(t);t.insertBefore=function(a,i){return c6(a)||Reflect.apply(e,t,[a,i]),a};var r=t.appendChild.bind(t);t.appendChild=function(a){return c6(a)||Reflect.apply(r,t,[a]),a}}}var bg=!1;function U9(){return Ol.jsx("div",{children:"Loading..."})}var Eh={id:"script-loader",version:"weekly"};class SY extends p.PureComponent{constructor(){super(...arguments),Ut(this,"check",null),Ut(this,"state",{loaded:!1}),Ut(this,"cleanupCallback",()=>{delete window.google.maps,this.injectScript()}),Ut(this,"isCleaningUp",$9(function*(){function e(r){if(!bg)r();else if(Md)var n=window.setInterval(function(){bg||(window.clearInterval(n),r())},1)}return new Promise(e)})),Ut(this,"cleanup",()=>{bg=!0;var e=document.getElementById(this.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter(function(n){return typeof n.src=="string"&&n.src.includes("maps.googleapis")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("link")).filter(function(n){return n.href==="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)}),Array.prototype.slice.call(document.getElementsByTagName("style")).filter(function(n){return n.innerText!==void 0&&n.innerText.length>0&&n.innerText.includes(".gm-")}).forEach(function(n){n.parentNode&&n.parentNode.removeChild(n)})}),Ut(this,"injectScript",()=>{this.props.preventGoogleFontsLoading&&w3(),mi(!!this.props.id,'LoadScript requires "id" prop to be a string: %s',this.props.id);var e={id:this.props.id,nonce:this.props.nonce,url:z9(this.props)};B9(e).then(()=>{this.props.onLoad&&this.props.onLoad(),this.setState(function(){return{loaded:!0}})}).catch(r=>{this.props.onError&&this.props.onError(r),console.error(`
          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(this.props.googleMapsApiKey||"-",") or Client ID (").concat(this.props.googleMapsClientId||"-",`) to <LoadScript />
          Otherwise it is a Network issue.
        `))})}),Ut(this,"getRef",e=>{this.check=e})}componentDidMount(){if(Md){if(window.google&&window.google.maps&&!bg){console.error("google api is already presented");return}this.isCleaningUp().then(this.injectScript).catch(function(r){console.error("Error at injecting script after cleaning up: ",r)})}}componentDidUpdate(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),Md&&e.language!==this.props.language&&(this.cleanup(),this.setState(function(){return{loaded:!1}},this.cleanupCallback))}componentWillUnmount(){if(Md){this.cleanup();var e=()=>{this.check||(delete window.google,bg=!1)};window.setTimeout(e,1),this.props.onUnmount&&this.props.onUnmount()}}render(){return Ol.jsxs(Ol.Fragment,{children:[Ol.jsx("div",{ref:this.getRef}),this.state.loaded?this.props.children:this.props.loadingElement||Ol.jsx(U9,{})]})}}Ut(SY,"defaultProps",Eh);function CY(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.includes(n))continue;r[n]=t[n]}return r}function S3(t,e){if(t==null)return{};var r,n,a=CY(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.includes(r)||{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var u6;function PY(t){var{id:e=Eh.id,version:r=Eh.version,nonce:n,googleMapsApiKey:a,googleMapsClientId:i,language:s,region:l,libraries:c,preventGoogleFontsLoading:u,channel:f,mapIds:m,authReferrerPolicy:v,apiUrl:h="https://maps.googleapis.com"}=t,E=p.useRef(!1),[y,b]=p.useState(!1),[x,w]=p.useState(void 0);p.useEffect(function(){return E.current=!0,()=>{E.current=!1}},[]),p.useEffect(function(){Md&&u&&w3()},[u]),p.useEffect(function(){y&&mi(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")},[y]);var N=z9({version:r,googleMapsApiKey:a,googleMapsClientId:i,language:s,region:l,libraries:c,channel:f,mapIds:m,authReferrerPolicy:v,apiUrl:h});p.useEffect(function(){if(!Md)return;function L(){E.current&&(b(!0),u6=N)}if(window.google&&window.google.maps&&u6===N){L();return}B9({id:e,url:N,nonce:n}).then(L).catch(function(O){E.current&&w(O),console.warn(`
        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (`.concat(a||"-",") or Client ID (").concat(i||"-",`)
        Otherwise it is a Network issue.
      `)),console.error(O)})},[e,N,n]);var I=p.useRef(void 0);return p.useEffect(function(){I.current&&c!==I.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),I.current=c},[c]),{isLoaded:y,loadError:x,url:N}}var NY=["loadingElement","onLoad","onError","onUnmount","children"],kY=Ol.jsx(U9,{});function AY(t){var{loadingElement:e,onLoad:r,onError:n,onUnmount:a,children:i}=t,s=S3(t,NY),{isLoaded:l,loadError:c}=PY(s);return p.useEffect(function(){l&&typeof r=="function"&&r()},[l,r]),p.useEffect(function(){c&&typeof n=="function"&&n(c)},[c,n]),p.useEffect(function(){return()=>{a&&a()}},[a]),l?i:e||kY}p.memo(AY);function OY(t,e,r,n){function a(i){return i instanceof r?i:new r(function(s){s(i)})}return new(r||(r=Promise))(function(i,s){function l(f){try{u(n.next(f))}catch(m){s(m)}}function c(f){try{u(n.throw(f))}catch(m){s(m)}}function u(f){f.done?i(f.value):a(f.value).then(l,c)}u((n=n.apply(t,[])).next())})}function IY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _Y=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var s=i[a];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r},LY=IY(_Y),d6="__googleMapsScriptId",Wm;(function(t){t[t.INITIALIZED=0]="INITIALIZED",t[t.LOADING=1]="LOADING",t[t.SUCCESS=2]="SUCCESS",t[t.FAILURE=3]="FAILURE"})(Wm||(Wm={}));class If{constructor(e){var{apiKey:r,authReferrerPolicy:n,channel:a,client:i,id:s=d6,language:l,libraries:c=[],mapIds:u,nonce:f,region:m,retries:v=3,url:h="https://maps.googleapis.com/maps/api/js",version:E}=e;if(this.callbacks=[],this.done=!1,this.loading=!1,this.errors=[],this.apiKey=r,this.authReferrerPolicy=n,this.channel=a,this.client=i,this.id=s||d6,this.language=l,this.libraries=c,this.mapIds=u,this.nonce=f,this.region=m,this.retries=v,this.url=h,this.version=E,If.instance){if(!LY(this.options,If.instance.options))throw new Error("Loader must not be called again with different options. ".concat(JSON.stringify(this.options)," !== ").concat(JSON.stringify(If.instance.options)));return If.instance}If.instance=this}get options(){return{version:this.version,apiKey:this.apiKey,channel:this.channel,client:this.client,id:this.id,libraries:this.libraries,language:this.language,region:this.region,mapIds:this.mapIds,nonce:this.nonce,url:this.url,authReferrerPolicy:this.authReferrerPolicy}}get status(){return this.errors.length?Wm.FAILURE:this.done?Wm.SUCCESS:this.loading?Wm.LOADING:Wm.INITIALIZED}get failed(){return this.done&&!this.loading&&this.errors.length>=this.retries+1}createUrl(){var e=this.url;return e+="?callback=__googleMapsCallback&loading=async",this.apiKey&&(e+="&key=".concat(this.apiKey)),this.channel&&(e+="&channel=".concat(this.channel)),this.client&&(e+="&client=".concat(this.client)),this.libraries.length>0&&(e+="&libraries=".concat(this.libraries.join(","))),this.language&&(e+="&language=".concat(this.language)),this.region&&(e+="&region=".concat(this.region)),this.version&&(e+="&v=".concat(this.version)),this.mapIds&&(e+="&map_ids=".concat(this.mapIds.join(","))),this.authReferrerPolicy&&(e+="&auth_referrer_policy=".concat(this.authReferrerPolicy)),e}deleteScript(){var e=document.getElementById(this.id);e&&e.remove()}load(){return this.loadPromise()}loadPromise(){return new Promise((e,r)=>{this.loadCallback(n=>{n?r(n.error):e(window.google)})})}importLibrary(e){return this.execute(),google.maps.importLibrary(e)}loadCallback(e){this.callbacks.push(e),this.execute()}setScript(){var e,r;if(document.getElementById(this.id)){this.callback();return}var n={key:this.apiKey,channel:this.channel,client:this.client,libraries:this.libraries.length&&this.libraries,v:this.version,mapIds:this.mapIds,language:this.language,region:this.region,authReferrerPolicy:this.authReferrerPolicy};Object.keys(n).forEach(i=>!n[i]&&delete n[i]),!((r=(e=window==null?void 0:window.google)===null||e===void 0?void 0:e.maps)===null||r===void 0)&&r.importLibrary||(i=>{var s,l,c,u="The Google Maps JavaScript API",f="google",m="importLibrary",v="__ib__",h=document,E=window;E=E[f]||(E[f]={});var y=E.maps||(E.maps={}),b=new Set,x=new URLSearchParams,w=()=>s||(s=new Promise((N,I)=>OY(this,void 0,void 0,function*(){var P;yield l=h.createElement("script"),l.id=this.id,x.set("libraries",[...b]+"");for(c in i)x.set(c.replace(/[A-Z]/g,L=>"_"+L[0].toLowerCase()),i[c]);x.set("callback",f+".maps."+v),l.src=this.url+"?"+x,y[v]=N,l.onerror=()=>s=I(Error(u+" could not load.")),l.nonce=this.nonce||((P=h.querySelector("script[nonce]"))===null||P===void 0?void 0:P.nonce)||"",h.head.append(l)})));y[m]?console.warn(u+" only loads once. Ignoring:",i):y[m]=function(N){for(var I=arguments.length,P=new Array(I>1?I-1:0),L=1;L<I;L++)P[L-1]=arguments[L];return b.add(N)&&w().then(()=>y[m](N,...P))}})(n);var a=this.libraries.map(i=>this.importLibrary(i));a.length||a.push(this.importLibrary("core")),Promise.all(a).then(()=>this.callback(),i=>{var s=new ErrorEvent("error",{error:i});this.loadErrorCallback(s)})}reset(){this.deleteScript(),this.done=!1,this.loading=!1,this.errors=[],this.onerrorEvent=null}resetIfRetryingFailed(){this.failed&&this.reset()}loadErrorCallback(e){if(this.errors.push(e),this.errors.length<=this.retries){var r=this.errors.length*Math.pow(2,this.errors.length);console.error("Failed to load Google Maps script, retrying in ".concat(r," ms.")),setTimeout(()=>{this.deleteScript(),this.setScript()},r)}else this.onerrorEvent=e,this.callback()}callback(){this.done=!0,this.loading=!1,this.callbacks.forEach(e=>{e(this.onerrorEvent)}),this.callbacks=[]}execute(){if(this.resetIfRetryingFailed(),!this.loading)if(this.done)this.callback();else{if(window.google&&window.google.maps&&window.google.maps.version){console.warn("Google Maps already loaded outside @googlemaps/js-api-loader. This may result in undesirable behavior as options and script parameters may not match."),this.callback();return}this.loading=!0,this.setScript()}}}var TY=["maps"];function q9(t){var{id:e=Eh.id,version:r=Eh.version,nonce:n,googleMapsApiKey:a,language:i,region:s,libraries:l=TY,preventGoogleFontsLoading:c,mapIds:u,authReferrerPolicy:f}=t,m=p.useRef(!1),[v,h]=p.useState(!1),[E,y]=p.useState(void 0);p.useEffect(function(){return m.current=!0,()=>{m.current=!1}},[]);var b=p.useMemo(()=>new If({id:e,apiKey:a,version:r,libraries:l,language:i||"en",region:s||"US",mapIds:u||[],nonce:n||"",authReferrerPolicy:f||"origin"}),[e,a,r,l,i,s,u,n,f]);p.useEffect(function(){v||b.load().then(()=>{m.current&&h(!0)}).catch(N=>{y(N)})},[]),p.useEffect(()=>{Md&&c&&w3()},[c]);var x=p.useRef();return p.useEffect(()=>{x.current&&l!==x.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),x.current=l},[l]),{isLoaded:v,loadError:E}}function f6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Kb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f6(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var m6={},p6={options(t,e){t.setOptions(e)}};function RY(t){var{options:e,onLoad:r,onUnmount:n}=t,a=p.useContext(Bn),[i,s]=p.useState(null);return p.useEffect(()=>{i!==null&&i.setMap(a)},[a]),p.useEffect(()=>{e&&i!==null&&i.setOptions(e)},[i,e]),p.useEffect(()=>{var l=new google.maps.TrafficLayer(Kb(Kb({},e),{},{map:a}));return s(l),r&&r(l),()=>{i!==null&&(n&&n(i),i.setMap(null))}},[]),null}p.memo(RY);class MY extends p.PureComponent{constructor(){super(...arguments),Ut(this,"state",{trafficLayer:null}),Ut(this,"setTrafficLayerCallback",()=>{this.state.trafficLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.trafficLayer)}),Ut(this,"registeredEvents",[])}componentDidMount(){var e=new google.maps.TrafficLayer(Kb(Kb({},this.props.options),{},{map:this.context}));this.registeredEvents=Zn({updaterMap:p6,eventMap:m6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{trafficLayer:e}},this.setTrafficLayerCallback)}componentDidUpdate(e){this.state.trafficLayer!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:p6,eventMap:m6,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))}componentWillUnmount(){this.state.trafficLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),ea(this.registeredEvents),this.state.trafficLayer.setMap(null))}render(){return null}}Ut(MY,"contextType",Bn);function DY(t){var{onLoad:e,onUnmount:r}=t,n=p.useContext(Bn),[a,i]=p.useState(null);return p.useEffect(()=>{a!==null&&a.setMap(n)},[n]),p.useEffect(()=>{var s=new google.maps.BicyclingLayer;return i(s),s.setMap(n),e&&e(s),()=>{s!==null&&(r&&r(s),s.setMap(null))}},[]),null}p.memo(DY);class jY extends p.PureComponent{constructor(){super(...arguments),Ut(this,"state",{bicyclingLayer:null}),Ut(this,"setBicyclingLayerCallback",()=>{this.state.bicyclingLayer!==null&&(this.state.bicyclingLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.bicyclingLayer))})}componentDidMount(){var e=new google.maps.BicyclingLayer;this.setState(()=>({bicyclingLayer:e}),this.setBicyclingLayerCallback)}componentWillUnmount(){this.state.bicyclingLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))}render(){return null}}Ut(jY,"contextType",Bn);function FY(t){var{onLoad:e,onUnmount:r}=t,n=p.useContext(Bn),[a,i]=p.useState(null);return p.useEffect(()=>{a!==null&&a.setMap(n)},[n]),p.useEffect(()=>{var s=new google.maps.TransitLayer;return i(s),s.setMap(n),e&&e(s),()=>{a!==null&&(r&&r(a),a.setMap(null))}},[]),null}p.memo(FY);class $Y extends p.PureComponent{constructor(){super(...arguments),Ut(this,"state",{transitLayer:null}),Ut(this,"setTransitLayerCallback",()=>{this.state.transitLayer!==null&&(this.state.transitLayer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.transitLayer))})}componentDidMount(){var e=new google.maps.TransitLayer;this.setState(function(){return{transitLayer:e}},this.setTransitLayerCallback)}componentWillUnmount(){this.state.transitLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))}render(){return null}}Ut($Y,"contextType",Bn);function g6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?g6(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):g6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var h6={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},v6={drawingMode(t,e){t.setDrawingMode(e)},options(t,e){t.setOptions(e)}};function zY(t){var{options:e,drawingMode:r,onCircleComplete:n,onMarkerComplete:a,onOverlayComplete:i,onPolygonComplete:s,onPolylineComplete:l,onRectangleComplete:c,onLoad:u,onUnmount:f}=t,m=p.useContext(Bn),[v,h]=p.useState(null),[E,y]=p.useState(null),[b,x]=p.useState(null),[w,N]=p.useState(null),[I,P]=p.useState(null),[L,R]=p.useState(null),[O,A]=p.useState(null);return p.useEffect(()=>{v!==null&&v.setMap(m)},[m]),p.useEffect(()=>{e&&v!==null&&v.setOptions(e)},[v,e]),p.useEffect(()=>{v!==null&&v.setDrawingMode(r??null)},[v,r]),p.useEffect(()=>{v&&n&&(E!==null&&google.maps.event.removeListener(E),y(google.maps.event.addListener(v,"circlecomplete",n)))},[v,n]),p.useEffect(()=>{v&&a&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(v,"markercomplete",a)))},[v,a]),p.useEffect(()=>{v&&i&&(w!==null&&google.maps.event.removeListener(w),N(google.maps.event.addListener(v,"overlaycomplete",i)))},[v,i]),p.useEffect(()=>{v&&s&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(v,"polygoncomplete",s)))},[v,s]),p.useEffect(()=>{v&&l&&(L!==null&&google.maps.event.removeListener(L),R(google.maps.event.addListener(v,"polylinecomplete",l)))},[v,l]),p.useEffect(()=>{v&&c&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(v,"rectanglecomplete",c)))},[v,c]),p.useEffect(()=>{mi(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var T=new google.maps.drawing.DrawingManager(Yb(Yb({},e),{},{map:m}));return r&&T.setDrawingMode(r),n&&y(google.maps.event.addListener(T,"circlecomplete",n)),a&&x(google.maps.event.addListener(T,"markercomplete",a)),i&&N(google.maps.event.addListener(T,"overlaycomplete",i)),s&&P(google.maps.event.addListener(T,"polygoncomplete",s)),l&&R(google.maps.event.addListener(T,"polylinecomplete",l)),c&&A(google.maps.event.addListener(T,"rectanglecomplete",c)),h(T),u&&u(T),()=>{v!==null&&(E&&google.maps.event.removeListener(E),b&&google.maps.event.removeListener(b),w&&google.maps.event.removeListener(w),I&&google.maps.event.removeListener(I),L&&google.maps.event.removeListener(L),O&&google.maps.event.removeListener(O),f&&f(v),v.setMap(null))}},[]),null}p.memo(zY);class BY extends p.PureComponent{constructor(e){super(e),Ut(this,"registeredEvents",[]),Ut(this,"state",{drawingManager:null}),Ut(this,"setDrawingManagerCallback",()=>{this.state.drawingManager!==null&&this.props.onLoad&&this.props.onLoad(this.state.drawingManager)}),mi(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing)}componentDidMount(){var e=new google.maps.drawing.DrawingManager(Yb(Yb({},this.props.options),{},{map:this.context}));this.registeredEvents=Zn({updaterMap:v6,eventMap:h6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{drawingManager:e}},this.setDrawingManagerCallback)}componentDidUpdate(e){this.state.drawingManager!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:v6,eventMap:h6,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))}componentWillUnmount(){this.state.drawingManager!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),ea(this.registeredEvents),this.state.drawingManager.setMap(null))}render(){return null}}Ut(BY,"contextType",Bn);function b6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function np(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?b6(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):b6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var y6={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},E6={animation(t,e){t.setAnimation(e)},clickable(t,e){t.setClickable(e)},cursor(t,e){t.setCursor(e)},draggable(t,e){t.setDraggable(e)},icon(t,e){t.setIcon(e)},label(t,e){t.setLabel(e)},map(t,e){t.setMap(e)},opacity(t,e){t.setOpacity(e)},options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},shape(t,e){t.setShape(e)},title(t,e){t.setTitle(e)},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},Jb={};function UY(t){var{position:e,options:r,clusterer:n,noClustererRedraw:a,children:i,draggable:s,visible:l,animation:c,clickable:u,cursor:f,icon:m,label:v,opacity:h,shape:E,title:y,zIndex:b,onClick:x,onDblClick:w,onDrag:N,onDragEnd:I,onDragStart:P,onMouseOut:L,onMouseOver:R,onMouseUp:O,onMouseDown:A,onRightClick:T,onClickableChanged:C,onCursorChanged:_,onAnimationChanged:D,onDraggableChanged:z,onFlatChanged:V,onIconChanged:J,onPositionChanged:ie,onShapeChanged:G,onTitleChanged:te,onVisibleChanged:W,onZindexChanged:B,onLoad:j,onUnmount:U}=t,X=p.useContext(Bn),[Z,me]=p.useState(null),[de,oe]=p.useState(null),[ee,le]=p.useState(null),[pe,ce]=p.useState(null),[_e,He]=p.useState(null),[Re,be]=p.useState(null),[gt,Ae]=p.useState(null),[ke,Be]=p.useState(null),[Xe,Ke]=p.useState(null),[Et,ut]=p.useState(null),[zt,Gt]=p.useState(null),[mt,nt]=p.useState(null),[ht,Kt]=p.useState(null),[bt,Ar]=p.useState(null),[Jt,Lr]=p.useState(null),[mr,wr]=p.useState(null),[Ur,Sr]=p.useState(null),[kt,Ee]=p.useState(null),[Ne,qe]=p.useState(null),[Nt,St]=p.useState(null),[Ot,gr]=p.useState(null),[lr,zr]=p.useState(null);p.useEffect(()=>{Z!==null&&Z.setMap(X)},[X]),p.useEffect(()=>{typeof r<"u"&&Z!==null&&Z.setOptions(r)},[Z,r]),p.useEffect(()=>{typeof s<"u"&&Z!==null&&Z.setDraggable(s)},[Z,s]),p.useEffect(()=>{e&&Z!==null&&Z.setPosition(e)},[Z,e]),p.useEffect(()=>{typeof l<"u"&&Z!==null&&Z.setVisible(l)},[Z,l]),p.useEffect(()=>{Z==null||Z.setAnimation(c)},[Z,c]),p.useEffect(()=>{Z&&u!==void 0&&Z.setClickable(u)},[Z,u]),p.useEffect(()=>{Z&&f!==void 0&&Z.setCursor(f)},[Z,f]),p.useEffect(()=>{Z&&m!==void 0&&Z.setIcon(m)},[Z,m]),p.useEffect(()=>{Z&&v!==void 0&&Z.setLabel(v)},[Z,v]),p.useEffect(()=>{Z&&h!==void 0&&Z.setOpacity(h)},[Z,h]),p.useEffect(()=>{Z&&E!==void 0&&Z.setShape(E)},[Z,E]),p.useEffect(()=>{Z&&y!==void 0&&Z.setTitle(y)},[Z,y]),p.useEffect(()=>{Z&&b!==void 0&&Z.setZIndex(b)},[Z,b]),p.useEffect(()=>{Z&&w&&(de!==null&&google.maps.event.removeListener(de),oe(google.maps.event.addListener(Z,"dblclick",w)))},[w]),p.useEffect(()=>{Z&&I&&(ee!==null&&google.maps.event.removeListener(ee),le(google.maps.event.addListener(Z,"dragend",I)))},[I]),p.useEffect(()=>{Z&&P&&(pe!==null&&google.maps.event.removeListener(pe),ce(google.maps.event.addListener(Z,"dragstart",P)))},[P]),p.useEffect(()=>{Z&&A&&(_e!==null&&google.maps.event.removeListener(_e),He(google.maps.event.addListener(Z,"mousedown",A)))},[A]),p.useEffect(()=>{Z&&L&&(Re!==null&&google.maps.event.removeListener(Re),be(google.maps.event.addListener(Z,"mouseout",L)))},[L]),p.useEffect(()=>{Z&&R&&(gt!==null&&google.maps.event.removeListener(gt),Ae(google.maps.event.addListener(Z,"mouseover",R)))},[R]),p.useEffect(()=>{Z&&O&&(ke!==null&&google.maps.event.removeListener(ke),Be(google.maps.event.addListener(Z,"mouseup",O)))},[O]),p.useEffect(()=>{Z&&T&&(Xe!==null&&google.maps.event.removeListener(Xe),Ke(google.maps.event.addListener(Z,"rightclick",T)))},[T]),p.useEffect(()=>{Z&&x&&(Et!==null&&google.maps.event.removeListener(Et),ut(google.maps.event.addListener(Z,"click",x)))},[x]),p.useEffect(()=>{Z&&N&&(zt!==null&&google.maps.event.removeListener(zt),Gt(google.maps.event.addListener(Z,"drag",N)))},[N]),p.useEffect(()=>{Z&&C&&(mt!==null&&google.maps.event.removeListener(mt),nt(google.maps.event.addListener(Z,"clickable_changed",C)))},[C]),p.useEffect(()=>{Z&&_&&(ht!==null&&google.maps.event.removeListener(ht),Kt(google.maps.event.addListener(Z,"cursor_changed",_)))},[_]),p.useEffect(()=>{Z&&D&&(bt!==null&&google.maps.event.removeListener(bt),Ar(google.maps.event.addListener(Z,"animation_changed",D)))},[D]),p.useEffect(()=>{Z&&z&&(Jt!==null&&google.maps.event.removeListener(Jt),Lr(google.maps.event.addListener(Z,"draggable_changed",z)))},[z]),p.useEffect(()=>{Z&&V&&(mr!==null&&google.maps.event.removeListener(mr),wr(google.maps.event.addListener(Z,"flat_changed",V)))},[V]),p.useEffect(()=>{Z&&J&&(Ur!==null&&google.maps.event.removeListener(Ur),Sr(google.maps.event.addListener(Z,"icon_changed",J)))},[J]),p.useEffect(()=>{Z&&ie&&(kt!==null&&google.maps.event.removeListener(kt),Ee(google.maps.event.addListener(Z,"position_changed",ie)))},[ie]),p.useEffect(()=>{Z&&G&&(Ne!==null&&google.maps.event.removeListener(Ne),qe(google.maps.event.addListener(Z,"shape_changed",G)))},[G]),p.useEffect(()=>{Z&&te&&(Nt!==null&&google.maps.event.removeListener(Nt),St(google.maps.event.addListener(Z,"title_changed",te)))},[te]),p.useEffect(()=>{Z&&W&&(Ot!==null&&google.maps.event.removeListener(Ot),gr(google.maps.event.addListener(Z,"visible_changed",W)))},[W]),p.useEffect(()=>{Z&&B&&(lr!==null&&google.maps.event.removeListener(lr),zr(google.maps.event.addListener(Z,"zindex_changed",B)))},[B]),p.useEffect(()=>{var Ct=np(np(np({},r||Jb),n?Jb:{map:X}),{},{position:e}),_t=new google.maps.Marker(Ct);return n?n.addMarker(_t,!!a):_t.setMap(X),e&&_t.setPosition(e),typeof l<"u"&&_t.setVisible(l),typeof s<"u"&&_t.setDraggable(s),typeof u<"u"&&_t.setClickable(u),typeof f=="string"&&_t.setCursor(f),m&&_t.setIcon(m),typeof v<"u"&&_t.setLabel(v),typeof h<"u"&&_t.setOpacity(h),E&&_t.setShape(E),typeof y=="string"&&_t.setTitle(y),typeof b=="number"&&_t.setZIndex(b),w&&oe(google.maps.event.addListener(_t,"dblclick",w)),I&&le(google.maps.event.addListener(_t,"dragend",I)),P&&ce(google.maps.event.addListener(_t,"dragstart",P)),A&&He(google.maps.event.addListener(_t,"mousedown",A)),L&&be(google.maps.event.addListener(_t,"mouseout",L)),R&&Ae(google.maps.event.addListener(_t,"mouseover",R)),O&&Be(google.maps.event.addListener(_t,"mouseup",O)),T&&Ke(google.maps.event.addListener(_t,"rightclick",T)),x&&ut(google.maps.event.addListener(_t,"click",x)),N&&Gt(google.maps.event.addListener(_t,"drag",N)),C&&nt(google.maps.event.addListener(_t,"clickable_changed",C)),_&&Kt(google.maps.event.addListener(_t,"cursor_changed",_)),D&&Ar(google.maps.event.addListener(_t,"animation_changed",D)),z&&Lr(google.maps.event.addListener(_t,"draggable_changed",z)),V&&wr(google.maps.event.addListener(_t,"flat_changed",V)),J&&Sr(google.maps.event.addListener(_t,"icon_changed",J)),ie&&Ee(google.maps.event.addListener(_t,"position_changed",ie)),G&&qe(google.maps.event.addListener(_t,"shape_changed",G)),te&&St(google.maps.event.addListener(_t,"title_changed",te)),W&&gr(google.maps.event.addListener(_t,"visible_changed",W)),B&&zr(google.maps.event.addListener(_t,"zindex_changed",B)),me(_t),j&&j(_t),()=>{de!==null&&google.maps.event.removeListener(de),ee!==null&&google.maps.event.removeListener(ee),pe!==null&&google.maps.event.removeListener(pe),_e!==null&&google.maps.event.removeListener(_e),Re!==null&&google.maps.event.removeListener(Re),gt!==null&&google.maps.event.removeListener(gt),ke!==null&&google.maps.event.removeListener(ke),Xe!==null&&google.maps.event.removeListener(Xe),Et!==null&&google.maps.event.removeListener(Et),mt!==null&&google.maps.event.removeListener(mt),ht!==null&&google.maps.event.removeListener(ht),bt!==null&&google.maps.event.removeListener(bt),Jt!==null&&google.maps.event.removeListener(Jt),mr!==null&&google.maps.event.removeListener(mr),Ur!==null&&google.maps.event.removeListener(Ur),kt!==null&&google.maps.event.removeListener(kt),Nt!==null&&google.maps.event.removeListener(Nt),Ot!==null&&google.maps.event.removeListener(Ot),lr!==null&&google.maps.event.removeListener(lr),U&&U(_t),n?n.removeMarker(_t,!!a):_t&&_t.setMap(null)}},[]);var st=p.useMemo(()=>i?p.Children.map(i,Ct=>{if(!p.isValidElement(Ct))return Ct;var _t=Ct;return p.cloneElement(_t,{anchor:Z})}):null,[i,Z]);return Ol.jsx(Ol.Fragment,{children:st})||null}p.memo(UY);class qY extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[])}componentDidMount(){var e=this;return $9(function*(){var r=np(np(np({},e.props.options||Jb),e.props.clusterer?Jb:{map:e.context}),{},{position:e.props.position});e.marker=new google.maps.Marker(r),e.props.clusterer?e.props.clusterer.addMarker(e.marker,!!e.props.noClustererRedraw):e.marker.setMap(e.context),e.registeredEvents=Zn({updaterMap:E6,eventMap:y6,prevProps:{},nextProps:e.props,instance:e.marker}),e.props.onLoad&&e.props.onLoad(e.marker)})()}componentDidUpdate(e){this.marker&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:E6,eventMap:y6,prevProps:e,nextProps:this.props,instance:this.marker}))}componentWillUnmount(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),ea(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))}render(){var e=this.props.children?p.Children.map(this.props.children,r=>{if(!p.isValidElement(r))return r;var n=r;return p.cloneElement(n,{anchor:this.marker})}):null;return e||null}}Ut(qY,"contextType",Bn);var VY=function(){function t(e,r){e.getClusterer().extend(t,google.maps.OverlayView),this.cluster=e,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=r,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(e.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return t.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},t.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},t.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var r=this.cluster.getClusterer();if(google.maps.event.trigger(r,"click",this.cluster),google.maps.event.trigger(r,"clusterclick",this.cluster),r.getZoomOnClick()){var n=r.getMaxZoom(),a=this.cluster.getBounds(),i=r.getMap();i!==null&&"fitBounds"in i&&i.fitBounds(a),this.timeOut=window.setTimeout(function(){var s=r.getMap();if(s!==null){"fitBounds"in s&&s.fitBounds(a);var l=s.getZoom()||0;n!==null&&l>n&&s.setZoom(n+1)}},100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},t.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},t.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},t.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),(e=this.getPanes())===null||e===void 0||e.overlayMouseTarget.appendChild(this.div);var r=this.getMap();r!==null&&(this.boundsChangedListener=google.maps.event.addListener(r,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),this.boundsChangedListener!==null&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),this.timeOut!==null&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},t.prototype.draw=function(){if(this.visible&&this.div!==null&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=e!==null?"".concat(e.y,"px"):"0",this.div.style.left=e!==null?"".concat(e.x,"px"):"0"}},t.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},t.prototype.show=function(){var e,r,n,a,i,s;if(this.div&&this.center){var l=this.sums===null||typeof this.sums.title>"u"||this.sums.title===""?this.cluster.getClusterer().getTitle():this.sums.title,c=this.backgroundPosition.split(" "),u=parseInt(((e=c[0])===null||e===void 0?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),f=parseInt(((r=c[1])===null||r===void 0?void 0:r.replace(/^\s+|\s+$/g,""))||"0",10),m=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(m!==null?"".concat(m.y,"px"):"0","; left: ").concat(m!==null?"".concat(m.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var v=document.createElement("img");v.alt=l,v.src=this.url,v.width=this.width,v.height=this.height,v.setAttribute("style","position: absolute; top: ".concat(f,"px; left: ").concat(u,"px")),this.cluster.getClusterer().enableRetinaIcons||(v.style.clip="rect(-".concat(f,"px, -").concat(u+this.width,"px, -").concat(f+this.height,", -").concat(u,")"));var h=document.createElement("div");h.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),!((n=this.sums)===null||n===void 0)&&n.text&&(h.innerText="".concat((a=this.sums)===null||a===void 0?void 0:a.text)),!((i=this.sums)===null||i===void 0)&&i.html&&(h.innerHTML="".concat((s=this.sums)===null||s===void 0?void 0:s.html)),this.div.innerHTML="",this.div.appendChild(v),this.div.appendChild(h),this.div.title=l,this.div.style.display=""}this.visible=!0},t.prototype.useStyle=function(e){this.sums=e;var r=this.cluster.getClusterer().getStyles(),n=r[Math.min(r.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},t.prototype.setCenter=function(e){this.center=e},t.prototype.getPosFromLatLng=function(e){var r=this.getProjection().fromLatLngToDivPixel(e);return r!==null&&(r.x-=this.anchorIcon[1],r.y-=this.anchorIcon[0]),r},t}(),HY=function(){function t(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new VY(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return t.prototype.getSize=function(){return this.markers.length},t.prototype.getMarkers=function(){return this.markers},t.prototype.getCenter=function(){return this.center},t.prototype.getMap=function(){return this.map},t.prototype.getClusterer=function(){return this.markerClusterer},t.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),r=this.getMarkers(),n=0,a=r;n<a.length;n++){var i=a[n],s=i.getPosition();s&&e.extend(s)}return e},t.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},t.prototype.addMarker=function(e){var r;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter){var n=e.getPosition();if(n){var a=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(a-1)+n.lat())/a,(this.center.lng()*(a-1)+n.lng())/a),this.calculateBounds()}}}else{var n=e.getPosition();n&&(this.center=n,this.calculateBounds())}e.isAdded=!0,this.markers.push(e);var i=this.markers.length,s=this.markerClusterer.getMaxZoom(),l=(r=this.map)===null||r===void 0?void 0:r.getZoom();if(s!==null&&typeof l<"u"&&l>s)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var c=0,u=this.markers;c<u.length;c++){var f=u[c];f.setMap(null)}else e.setMap(null);return!0},t.prototype.isMarkerInClusterBounds=function(e){if(this.bounds!==null){var r=e.getPosition();if(r)return this.bounds.contains(r)}return!1},t.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},t.prototype.updateIcon=function(){var e,r=this.markers.length,n=this.markerClusterer.getMaxZoom(),a=(e=this.map)===null||e===void 0?void 0:e.getZoom();if(n!==null&&typeof a<"u"&&a>n){this.clusterIcon.hide();return}if(r<this.minClusterSize){this.clusterIcon.hide();return}this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show()},t.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var r=0;r<this.markers.length;r++)if(e===this.markers[r])return!0;return!1},t}();function WY(t,e){var r=t.length,n=r.toString().length,a=Math.min(n,e);return{text:r.toString(),index:a,title:""}}var GY=2e3,KY=500,YY="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",JY="png",XY=[53,56,66,78,90],ZY="cluster",V9=function(){function t(e,r,n){r===void 0&&(r=[]),n===void 0&&(n={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(t,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=n.gridSize||60,this.minClusterSize=n.minimumClusterSize||2,this.maxZoom=n.maxZoom||null,this.styles=n.styles||[],this.title=n.title||"",this.zoomOnClick=!0,n.zoomOnClick!==void 0&&(this.zoomOnClick=n.zoomOnClick),this.averageCenter=!1,n.averageCenter!==void 0&&(this.averageCenter=n.averageCenter),this.ignoreHidden=!1,n.ignoreHidden!==void 0&&(this.ignoreHidden=n.ignoreHidden),this.enableRetinaIcons=!1,n.enableRetinaIcons!==void 0&&(this.enableRetinaIcons=n.enableRetinaIcons),this.imagePath=n.imagePath||YY,this.imageExtension=n.imageExtension||JY,this.imageSizes=n.imageSizes||XY,this.calculator=n.calculator||WY,this.batchSize=n.batchSize||GY,this.batchSizeIE=n.batchSizeIE||KY,this.clusterClass=n.clusterClass||ZY,navigator.userAgent.toLowerCase().indexOf("msie")!==-1&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(r,!0),this.setMap(e)}return t.prototype.onZoomChanged=function(){var e,r;this.resetViewport(!1),(((e=this.getMap())===null||e===void 0?void 0:e.getZoom())===(this.get("minZoom")||0)||((r=this.getMap())===null||r===void 0?void 0:r.getZoom())===this.get("maxZoom"))&&google.maps.event.trigger(this,"idle")},t.prototype.onIdle=function(){this.redraw()},t.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),e!==null&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},t.prototype.onRemove=function(){for(var e=0,r=this.markers;e<r.length;e++){var n=r[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var a=0,i=this.clusters;a<i.length;a++){var s=i[a];s.remove()}this.clusters=[];for(var l=0,c=this.listeners;l<c.length;l++){var u=c[l];google.maps.event.removeListener(u)}this.listeners=[],this.activeMap=null,this.ready=!1},t.prototype.draw=function(){},t.prototype.getMap=function(){return null},t.prototype.getPanes=function(){return null},t.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},t.prototype.setMap=function(){},t.prototype.addListener=function(){return{remove:function(){}}},t.prototype.bindTo=function(){},t.prototype.get=function(){},t.prototype.notify=function(){},t.prototype.set=function(){},t.prototype.setValues=function(){},t.prototype.unbind=function(){},t.prototype.unbindAll=function(){},t.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},t.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),r=new google.maps.LatLngBounds,n=0,a=e;n<a.length;n++){var i=a[n],s=i.getPosition();s&&r.extend(s)}var l=this.getMap();l!==null&&"fitBounds"in l&&l.fitBounds(r)},t.prototype.getGridSize=function(){return this.gridSize},t.prototype.setGridSize=function(e){this.gridSize=e},t.prototype.getMinimumClusterSize=function(){return this.minClusterSize},t.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},t.prototype.getMaxZoom=function(){return this.maxZoom},t.prototype.setMaxZoom=function(e){this.maxZoom=e},t.prototype.getStyles=function(){return this.styles},t.prototype.setStyles=function(e){this.styles=e},t.prototype.getTitle=function(){return this.title},t.prototype.setTitle=function(e){this.title=e},t.prototype.getZoomOnClick=function(){return this.zoomOnClick},t.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},t.prototype.getAverageCenter=function(){return this.averageCenter},t.prototype.setAverageCenter=function(e){this.averageCenter=e},t.prototype.getIgnoreHidden=function(){return this.ignoreHidden},t.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},t.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},t.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},t.prototype.getImageExtension=function(){return this.imageExtension},t.prototype.setImageExtension=function(e){this.imageExtension=e},t.prototype.getImagePath=function(){return this.imagePath},t.prototype.setImagePath=function(e){this.imagePath=e},t.prototype.getImageSizes=function(){return this.imageSizes},t.prototype.setImageSizes=function(e){this.imageSizes=e},t.prototype.getCalculator=function(){return this.calculator},t.prototype.setCalculator=function(e){this.calculator=e},t.prototype.getBatchSizeIE=function(){return this.batchSizeIE},t.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},t.prototype.getClusterClass=function(){return this.clusterClass},t.prototype.setClusterClass=function(e){this.clusterClass=e},t.prototype.getMarkers=function(){return this.markers},t.prototype.getTotalMarkers=function(){return this.markers.length},t.prototype.getClusters=function(){return this.clusters},t.prototype.getTotalClusters=function(){return this.clusters.length},t.prototype.addMarker=function(e,r){this.pushMarkerTo(e),r||this.redraw()},t.prototype.addMarkers=function(e,r){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var a=e[n];a&&this.pushMarkerTo(a)}r||this.redraw()},t.prototype.pushMarkerTo=function(e){var r=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",function(){r.ready&&(e.isAdded=!1,r.repaint())}),e.isAdded=!1,this.markers.push(e)},t.prototype.removeMarker_=function(e){var r=-1;if(this.markers.indexOf)r=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){r=n;break}return r===-1?!1:(e.setMap(null),this.markers.splice(r,1),!0)},t.prototype.removeMarker=function(e,r){var n=this.removeMarker_(e);return!r&&n&&this.repaint(),n},t.prototype.removeMarkers=function(e,r){for(var n=!1,a=0,i=e;a<i.length;a++){var s=i[a];n=n||this.removeMarker_(s)}return!r&&n&&this.repaint(),n},t.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},t.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout(function(){for(var n=0,a=e;n<a.length;n++){var i=a[n];i.remove()}},0)},t.prototype.getExtendedBounds=function(e){var r=this.getProjection(),n=r.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));n!==null&&(n.x+=this.gridSize,n.y-=this.gridSize);var a=r.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(a!==null&&(a.x-=this.gridSize,a.y+=this.gridSize),n!==null){var i=r.fromDivPixelToLatLng(n);i!==null&&e.extend(i)}if(a!==null){var s=r.fromDivPixelToLatLng(a);s!==null&&e.extend(s)}return e},t.prototype.redraw=function(){this.createClusters(0)},t.prototype.resetViewport=function(e){for(var r=0,n=this.clusters;r<n.length;r++){var a=n[r];a.remove()}this.clusters=[];for(var i=0,s=this.markers;i<s.length;i++){var l=s[i];l.isAdded=!1,e&&l.setMap(null)}},t.prototype.distanceBetweenPoints=function(e,r){var n=6371,a=(r.lat()-e.lat())*Math.PI/180,i=(r.lng()-e.lng())*Math.PI/180,s=Math.sin(a/2)*Math.sin(a/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(r.lat()*Math.PI/180)*Math.sin(i/2)*Math.sin(i/2);return n*(2*Math.atan2(Math.sqrt(s),Math.sqrt(1-s)))},t.prototype.isMarkerInBounds=function(e,r){var n=e.getPosition();return n?r.contains(n):!1},t.prototype.addToClosestCluster=function(e){for(var r,n=4e4,a=null,i=0,s=this.clusters;i<s.length;i++){var l=s[i];r=l;var c=r.getCenter(),u=e.getPosition();if(c&&u){var f=this.distanceBetweenPoints(c,u);f<n&&(n=f,a=r)}}a&&a.isMarkerInClusterBounds(e)?a.addMarker(e):(r=new HY(this),r.addMarker(e),this.clusters.push(r))},t.prototype.createClusters=function(e){var r=this;if(this.ready){e===0&&(google.maps.event.trigger(this,"clusteringbegin",this),this.timerRefStatic!==null&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),a=n!==null&&("getBounds"in n)?n.getBounds():null,i=(n==null?void 0:n.getZoom())||0,s=i>3?new google.maps.LatLngBounds(a==null?void 0:a.getSouthWest(),a==null?void 0:a.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),l=this.getExtendedBounds(s),c=Math.min(e+this.batchSize,this.markers.length),u=e;u<c;u++){var f=this.markers[u];f&&!f.isAdded&&this.isMarkerInBounds(f,l)&&(!this.ignoreHidden||this.ignoreHidden&&f.getVisible())&&this.addToClosestCluster(f)}if(c<this.markers.length)this.timerRefStatic=window.setTimeout(function(){r.createClusters(c)},0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var m=0,v=this.clusters;m<v.length;m++){var h=v[m];h.updateIcon()}}}},t.prototype.extend=function(e,r){return(function(a){for(var i in a.prototype){var s=i;this.prototype[s]=a.prototype[s]}return this}).apply(e,[r])},t}();function x6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QY(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?x6(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):x6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Jl={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},va={averageCenter(t,e){t.setAverageCenter(e)},batchSizeIE(t,e){t.setBatchSizeIE(e)},calculator(t,e){t.setCalculator(e)},clusterClass(t,e){t.setClusterClass(e)},enableRetinaIcons(t,e){t.setEnableRetinaIcons(e)},gridSize(t,e){t.setGridSize(e)},ignoreHidden(t,e){t.setIgnoreHidden(e)},imageExtension(t,e){t.setImageExtension(e)},imagePath(t,e){t.setImagePath(e)},imageSizes(t,e){t.setImageSizes(e)},maxZoom(t,e){t.setMaxZoom(e)},minimumClusterSize(t,e){t.setMinimumClusterSize(e)},styles(t,e){t.setStyles(e)},title(t,e){t.setTitle(e)},zoomOnClick(t,e){t.setZoomOnClick(e)}},eJ={};function tJ(t){var{children:e,options:r,averageCenter:n,batchSizeIE:a,calculator:i,clusterClass:s,enableRetinaIcons:l,gridSize:c,ignoreHidden:u,imageExtension:f,imagePath:m,imageSizes:v,maxZoom:h,minimumClusterSize:E,styles:y,title:b,zoomOnClick:x,onClick:w,onClusteringBegin:N,onClusteringEnd:I,onMouseOver:P,onMouseOut:L,onLoad:R,onUnmount:O}=t,[A,T]=p.useState(null),C=p.useContext(Bn),[_,D]=p.useState(null),[z,V]=p.useState(null),[J,ie]=p.useState(null),[G,te]=p.useState(null),[W,B]=p.useState(null);return p.useEffect(()=>{A&&L&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(A,Jl.onMouseOut,L)))},[L]),p.useEffect(()=>{A&&P&&(W!==null&&google.maps.event.removeListener(W),B(google.maps.event.addListener(A,Jl.onMouseOver,P)))},[P]),p.useEffect(()=>{A&&w&&(_!==null&&google.maps.event.removeListener(_),D(google.maps.event.addListener(A,Jl.onClick,w)))},[w]),p.useEffect(()=>{A&&N&&(z!==null&&google.maps.event.removeListener(z),V(google.maps.event.addListener(A,Jl.onClusteringBegin,N)))},[N]),p.useEffect(()=>{A&&I&&(J!==null&&google.maps.event.removeListener(J),V(google.maps.event.addListener(A,Jl.onClusteringEnd,I)))},[I]),p.useEffect(()=>{typeof n<"u"&&A!==null&&va.averageCenter(A,n)},[A,n]),p.useEffect(()=>{typeof a<"u"&&A!==null&&va.batchSizeIE(A,a)},[A,a]),p.useEffect(()=>{typeof i<"u"&&A!==null&&va.calculator(A,i)},[A,i]),p.useEffect(()=>{typeof s<"u"&&A!==null&&va.clusterClass(A,s)},[A,s]),p.useEffect(()=>{typeof l<"u"&&A!==null&&va.enableRetinaIcons(A,l)},[A,l]),p.useEffect(()=>{typeof c<"u"&&A!==null&&va.gridSize(A,c)},[A,c]),p.useEffect(()=>{typeof u<"u"&&A!==null&&va.ignoreHidden(A,u)},[A,u]),p.useEffect(()=>{typeof f<"u"&&A!==null&&va.imageExtension(A,f)},[A,f]),p.useEffect(()=>{typeof m<"u"&&A!==null&&va.imagePath(A,m)},[A,m]),p.useEffect(()=>{typeof v<"u"&&A!==null&&va.imageSizes(A,v)},[A,v]),p.useEffect(()=>{typeof h<"u"&&A!==null&&va.maxZoom(A,h)},[A,h]),p.useEffect(()=>{typeof E<"u"&&A!==null&&va.minimumClusterSize(A,E)},[A,E]),p.useEffect(()=>{typeof y<"u"&&A!==null&&va.styles(A,y)},[A,y]),p.useEffect(()=>{typeof b<"u"&&A!==null&&va.title(A,b)},[A,b]),p.useEffect(()=>{typeof x<"u"&&A!==null&&va.zoomOnClick(A,x)},[A,x]),p.useEffect(()=>{if(C){var j=QY({},r||eJ),U=new V9(C,[],j);return n&&va.averageCenter(U,n),a&&va.batchSizeIE(U,a),i&&va.calculator(U,i),s&&va.clusterClass(U,s),l&&va.enableRetinaIcons(U,l),c&&va.gridSize(U,c),u&&va.ignoreHidden(U,u),f&&va.imageExtension(U,f),m&&va.imagePath(U,m),v&&va.imageSizes(U,v),h&&va.maxZoom(U,h),E&&va.minimumClusterSize(U,E),y&&va.styles(U,y),b&&va.title(U,b),x&&va.zoomOnClick(U,x),L&&te(google.maps.event.addListener(U,Jl.onMouseOut,L)),P&&B(google.maps.event.addListener(U,Jl.onMouseOver,P)),w&&D(google.maps.event.addListener(U,Jl.onClick,w)),N&&V(google.maps.event.addListener(U,Jl.onClusteringBegin,N)),I&&ie(google.maps.event.addListener(U,Jl.onClusteringEnd,I)),T(U),R&&R(U),()=>{G!==null&&google.maps.event.removeListener(G),W!==null&&google.maps.event.removeListener(W),_!==null&&google.maps.event.removeListener(_),z!==null&&google.maps.event.removeListener(z),J!==null&&google.maps.event.removeListener(J),O&&O(U)}}},[]),A!==null&&e(A)||null}p.memo(tJ);class rJ extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"state",{markerClusterer:null}),Ut(this,"setClustererCallback",()=>{this.state.markerClusterer!==null&&this.props.onLoad&&this.props.onLoad(this.state.markerClusterer)})}componentDidMount(){if(this.context){var e=new V9(this.context,[],this.props.options);this.registeredEvents=Zn({updaterMap:va,eventMap:Jl,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({markerClusterer:e}),this.setClustererCallback)}}componentDidUpdate(e){this.state.markerClusterer&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:va,eventMap:Jl,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))}componentWillUnmount(){this.state.markerClusterer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),ea(this.registeredEvents),this.state.markerClusterer.setMap(null))}render(){return this.state.markerClusterer!==null?this.props.children(this.state.markerClusterer):null}}Ut(rJ,"contextType",Bn);function w6(t){t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}var H9=function(){function t(e){e===void 0&&(e={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(t,google.maps.OverlayView),this.content=e.content||"",this.disableAutoPan=e.disableAutoPan||!1,this.maxWidth=e.maxWidth||0,this.pixelOffset=e.pixelOffset||new google.maps.Size(0,0),this.position=e.position||new google.maps.LatLng(0,0),this.zIndex=e.zIndex||null,this.boxClass=e.boxClass||"infoBox",this.boxStyle=e.boxStyle||{},this.closeBoxMargin=e.closeBoxMargin||"2px",this.closeBoxURL=e.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",e.closeBoxURL===""&&(this.closeBoxURL=""),this.infoBoxClearance=e.infoBoxClearance||new google.maps.Size(1,1),typeof e.visible>"u"&&(typeof e.isHidden>"u"?e.visible=!0:e.visible=!e.isHidden),this.isHidden=!e.visible,this.alignBottom=e.alignBottom||!1,this.pane=e.pane||"floatPane",this.enableEventPropagation=e.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return t.prototype.createInfoBoxDiv=function(){var e=this,r=function(f){f.returnValue=!1,f.preventDefault&&f.preventDefault(),e.enableEventPropagation||w6(f)};if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),typeof this.content=="string"?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var n=this.getPanes();if(n!==null&&n[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(this.maxWidth!==0&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var a=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-a.left-a.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"],s=0,l=i;s<l.length;s++){var c=l[s];this.eventListeners.push(google.maps.event.addListener(this.div,c,w6))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",function(){e.div&&(e.div.style.cursor="default")}))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",r),google.maps.event.trigger(this,"domready")}},t.prototype.getCloseBoxImg=function(){var e="";return this.closeBoxURL!==""&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},t.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&this.closeBoxURL!==""?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},t.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},t.prototype.getCloseClickHandler=function(){return this.closeClickHandler},t.prototype.panBox=function(e){if(this.div&&!e){var r=this.getMap();if(r instanceof google.maps.Map){var n=0,a=0,i=r.getBounds();i&&!i.contains(this.position)&&r.setCenter(this.position);var s=r.getDiv(),l=s.offsetWidth,c=s.offsetHeight,u=this.pixelOffset.width,f=this.pixelOffset.height,m=this.div.offsetWidth,v=this.div.offsetHeight,h=this.infoBoxClearance.width,E=this.infoBoxClearance.height,y=this.getProjection(),b=y.fromLatLngToContainerPixel(this.position);b!==null&&(b.x<-u+h?n=b.x+u-h:b.x+m+u+h>l&&(n=b.x+m+u+h-l),this.alignBottom?b.y<-f+E+v?a=b.y+f-E-v:b.y+f+E>c&&(a=b.y+f+E-c):b.y<-f+E?a=b.y+f-E:b.y+v+f+E>c&&(a=b.y+v+f+E-c)),n===0&&a===0||r.panBy(n,a)}}},t.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(this.div.style[r]=e[r]);if(this.div.style.webkitTransform="translateZ(0)",typeof this.div.style.opacity<"u"&&this.div.style.opacity!==""){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+n*100+')"',this.div.style.filter="alpha(opacity="+n*100+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",this.zIndex!==null&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},t.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var r=this.div.ownerDocument,n=r&&r.defaultView?r.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var a=this.div.currentStyle;a&&(e.top=parseInt(a.borderTopWidth||"",10)||0,e.bottom=parseInt(a.borderBottomWidth||"",10)||0,e.left=parseInt(a.borderLeftWidth||"",10)||0,e.right=parseInt(a.borderRightWidth||"",10)||0)}return e},t.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},t.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection(),r=e.fromLatLngToDivPixel(this.position);r!==null&&(this.div.style.left=r.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(r.y+this.pixelOffset.height)+"px":this.div.style.top=r.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},t.prototype.setOptions=function(e){e===void 0&&(e={}),typeof e.boxClass<"u"&&(this.boxClass=e.boxClass,this.setBoxStyle()),typeof e.boxStyle<"u"&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),typeof e.content<"u"&&this.setContent(e.content),typeof e.disableAutoPan<"u"&&(this.disableAutoPan=e.disableAutoPan),typeof e.maxWidth<"u"&&(this.maxWidth=e.maxWidth),typeof e.pixelOffset<"u"&&(this.pixelOffset=e.pixelOffset),typeof e.alignBottom<"u"&&(this.alignBottom=e.alignBottom),typeof e.position<"u"&&this.setPosition(e.position),typeof e.zIndex<"u"&&this.setZIndex(e.zIndex),typeof e.closeBoxMargin<"u"&&(this.closeBoxMargin=e.closeBoxMargin),typeof e.closeBoxURL<"u"&&(this.closeBoxURL=e.closeBoxURL),typeof e.infoBoxClearance<"u"&&(this.infoBoxClearance=e.infoBoxClearance),typeof e.isHidden<"u"&&(this.isHidden=e.isHidden),typeof e.visible<"u"&&(this.isHidden=!e.visible),typeof e.enableEventPropagation<"u"&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},t.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px",typeof e=="string"?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},t.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},t.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},t.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},t.prototype.getContent=function(){return this.content},t.prototype.getPosition=function(){return this.position},t.prototype.getZIndex=function(){return this.zIndex},t.prototype.getVisible=function(){var e=this.getMap();return typeof e>"u"||e===null?!1:!this.isHidden},t.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},t.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},t.prototype.open=function(e,r){var n=this;r&&(this.position=r.getPosition(),this.moveListener=google.maps.event.addListener(r,"position_changed",function(){var a=r.getPosition();n.setPosition(a)}),this.mapListener=google.maps.event.addListener(r,"map_changed",function(){n.setMap(r.map)})),this.setMap(e),this.div&&this.panBox()},t.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,r=this.eventListeners;e<r.length;e++){var n=r[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},t.prototype.extend=function(e,r){return(function(a){for(var i in a.prototype)Object.prototype.hasOwnProperty.call(this,i)||(this.prototype[i]=a.prototype[i]);return this}).apply(e,[r])},t}(),nJ=["position"],aJ=["position"];function S6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?S6(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var C6={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},P6={options(t,e){t.setOptions(e)},position(t,e){e instanceof google.maps.LatLng?t.setPosition(e):t.setPosition(new google.maps.LatLng(e.lat,e.lng))},visible(t,e){t.setVisible(e)},zIndex(t,e){t.setZIndex(e)}},oJ={};function iJ(t){var{children:e,anchor:r,options:n,position:a,zIndex:i,onCloseClick:s,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:f,onLoad:m,onUnmount:v}=t,h=p.useContext(Bn),[E,y]=p.useState(null),[b,x]=p.useState(null),[w,N]=p.useState(null),[I,P]=p.useState(null),[L,R]=p.useState(null),[O,A]=p.useState(null),T=p.useRef(null);return p.useEffect(()=>{h&&E!==null&&(E.close(),r?E.open(h,r):E.getPosition()&&E.open(h))},[h,E,r]),p.useEffect(()=>{n&&E!==null&&E.setOptions(n)},[E,n]),p.useEffect(()=>{if(a&&E!==null){var C=a instanceof google.maps.LatLng?a:new google.maps.LatLng(a.lat,a.lng);E.setPosition(C)}},[a]),p.useEffect(()=>{typeof i=="number"&&E!==null&&E.setZIndex(i)},[i]),p.useEffect(()=>{E&&s&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(E,"closeclick",s)))},[s]),p.useEffect(()=>{E&&l&&(w!==null&&google.maps.event.removeListener(w),N(google.maps.event.addListener(E,"domready",l)))},[l]),p.useEffect(()=>{E&&c&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(E,"content_changed",c)))},[c]),p.useEffect(()=>{E&&u&&(L!==null&&google.maps.event.removeListener(L),R(google.maps.event.addListener(E,"position_changed",u)))},[u]),p.useEffect(()=>{E&&f&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(E,"zindex_changed",f)))},[f]),p.useEffect(()=>{if(h){var C=n||oJ,{position:_}=C,D=S3(C,nJ),z;_&&!(_ instanceof google.maps.LatLng)&&(z=new google.maps.LatLng(_.lat,_.lng));var V=new H9(Xb(Xb({},D),z?{position:z}:{}));T.current=document.createElement("div"),y(V),s&&x(google.maps.event.addListener(V,"closeclick",s)),l&&N(google.maps.event.addListener(V,"domready",l)),c&&P(google.maps.event.addListener(V,"content_changed",c)),u&&R(google.maps.event.addListener(V,"position_changed",u)),f&&A(google.maps.event.addListener(V,"zindex_changed",f)),V.setContent(T.current),r?V.open(h,r):V.getPosition()?V.open(h):mi(!1,"You must provide either an anchor or a position prop for <InfoBox>."),m&&m(V)}return()=>{E!==null&&(b&&google.maps.event.removeListener(b),I&&google.maps.event.removeListener(I),w&&google.maps.event.removeListener(w),L&&google.maps.event.removeListener(L),O&&google.maps.event.removeListener(O),v&&v(E),E.close())}},[]),T.current?Zf.createPortal(p.Children.only(e),T.current):null}p.memo(iJ);class sJ extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"containerElement",null),Ut(this,"state",{infoBox:null}),Ut(this,"open",(e,r)=>{r?this.context!==null&&e.open(this.context,r):e.getPosition()?this.context!==null&&e.open(this.context):mi(!1,"You must provide either an anchor or a position prop for <InfoBox>.")}),Ut(this,"setInfoBoxCallback",()=>{this.state.infoBox!==null&&this.containerElement!==null&&(this.state.infoBox.setContent(this.containerElement),this.open(this.state.infoBox,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoBox))})}componentDidMount(){var e=this.props.options||{},{position:r}=e,n=S3(e,aJ),a;r&&!(r instanceof google.maps.LatLng)&&(a=new google.maps.LatLng(r.lat,r.lng));var i=new H9(Xb(Xb({},n),a?{position:a}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=Zn({updaterMap:P6,eventMap:C6,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)}componentDidUpdate(e){var{infoBox:r}=this.state;r!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:P6,eventMap:C6,prevProps:e,nextProps:this.props,instance:r}))}componentWillUnmount(){var{onUnmount:e}=this.props,{infoBox:r}=this.state;r!==null&&(e&&e(r),ea(this.registeredEvents),r.close())}render(){return this.containerElement?Zf.createPortal(p.Children.only(this.props.children),this.containerElement):null}}Ut(sJ,"contextType",Bn);var xE,N6;function lJ(){return N6||(N6=1,xE=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[a]))return!1;for(a=n;a--!==0;){var s=i[a];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r}),xE}var cJ=lJ(),k6=F9(cJ),A6=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array],wE=1,yg=8;class C3{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");var[r,n]=new Uint8Array(e,0,2);if(r!==219)throw new Error("Data does not appear to be in a KDBush format.");var a=n>>4;if(a!==wE)throw new Error("Got v".concat(a," data when expected v").concat(wE,"."));var i=A6[n&15];if(!i)throw new Error("Unrecognized array type.");var[s]=new Uint16Array(e,2,1),[l]=new Uint32Array(e,4,1);return new C3(l,s,i,e)}constructor(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:64,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Float64Array,a=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+r,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;var i=A6.indexOf(this.ArrayType),s=e*2*this.ArrayType.BYTES_PER_ELEMENT,l=e*this.IndexArrayType.BYTES_PER_ELEMENT,c=(8-l%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(n,"."));a&&a instanceof ArrayBuffer?(this.data=a,this.ids=new this.IndexArrayType(this.data,yg,e),this.coords=new this.ArrayType(this.data,yg+l+c,e*2),this._pos=e*2,this._finished=!0):(this.data=new ArrayBuffer(yg+s+l+c),this.ids=new this.IndexArrayType(this.data,yg,e),this.coords=new this.ArrayType(this.data,yg+l+c,e*2),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,(wE<<4)+i]),new Uint16Array(this.data,2,1)[0]=r,new Uint32Array(this.data,4,1)[0]=e)}add(e,r){var n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=r,n}finish(){var e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return MS(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,r,n,a){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:i,coords:s,nodeSize:l}=this,c=[0,i.length-1,0],u=[];c.length;){var f=c.pop()||0,m=c.pop()||0,v=c.pop()||0;if(m-v<=l){for(var h=v;h<=m;h++){var E=s[2*h],y=s[2*h+1];E>=e&&E<=n&&y>=r&&y<=a&&u.push(i[h])}continue}var b=v+m>>1,x=s[2*b],w=s[2*b+1];x>=e&&x<=n&&w>=r&&w<=a&&u.push(i[b]),(f===0?e<=x:r<=w)&&(c.push(v),c.push(b-1),c.push(1-f)),(f===0?n>=x:a>=w)&&(c.push(b+1),c.push(m),c.push(1-f))}return u}within(e,r,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");for(var{ids:a,coords:i,nodeSize:s}=this,l=[0,a.length-1,0],c=[],u=n*n;l.length;){var f=l.pop()||0,m=l.pop()||0,v=l.pop()||0;if(m-v<=s){for(var h=v;h<=m;h++)O6(i[2*h],i[2*h+1],e,r)<=u&&c.push(a[h]);continue}var E=v+m>>1,y=i[2*E],b=i[2*E+1];O6(y,b,e,r)<=u&&c.push(a[E]),(f===0?e-n<=y:r-n<=b)&&(l.push(v),l.push(E-1),l.push(1-f)),(f===0?e+n>=y:r+n>=b)&&(l.push(E+1),l.push(m),l.push(1-f))}return c}}function MS(t,e,r,n,a,i){if(!(a-n<=r)){var s=n+a>>1;W9(t,e,s,n,a,i),MS(t,e,r,n,s-1,1-i),MS(t,e,r,s+1,a,1-i)}}function W9(t,e,r,n,a,i){for(;a>n;){if(a-n>600){var s=a-n+1,l=r-n+1,c=Math.log(s),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2<0?-1:1),m=Math.max(n,Math.floor(r-l*u/s+f)),v=Math.min(a,Math.floor(r+(s-l)*u/s+f));W9(t,e,r,m,v,i)}var h=e[2*r+i],E=n,y=a;for(Eg(t,e,n,r),e[2*a+i]>h&&Eg(t,e,n,a);E<y;){for(Eg(t,e,E,y),E++,y--;e[2*E+i]<h;)E++;for(;e[2*y+i]>h;)y--}e[2*n+i]===h?Eg(t,e,n,y):(y++,Eg(t,e,y,a)),y<=r&&(n=y+1),r<=y&&(a=y-1)}}function Eg(t,e,r,n){SE(t,r,n),SE(e,2*r,2*n),SE(e,2*r+1,2*n+1)}function SE(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function O6(t,e,r,n){var a=t-r,i=e-n;return a*a+i*i}var uJ={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:t=>t},I6=Math.fround||(t=>e=>(t[0]=+e,t[0]))(new Float32Array(1)),hf=2,Ad=3,CE=4,kd=5,G9=6;class dJ{constructor(e){this.options=Object.assign(Object.create(uJ),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){var{log:r,minZoom:n,maxZoom:a}=this.options;r&&console.time("total time");var i="prepare ".concat(e.length," points");r&&console.time(i),this.points=e;for(var s=[],l=0;l<e.length;l++){var c=e[l];if(c.geometry){var[u,f]=c.geometry.coordinates,m=I6(db(u)),v=I6(fb(f));s.push(m,v,1/0,l,-1,1),this.options.reduce&&s.push(0)}}var h=this.trees[a+1]=this._createTree(s);r&&console.timeEnd(i);for(var E=a;E>=n;E--){var y=+Date.now();h=this.trees[E]=this._createTree(this._cluster(h,E)),r&&console.log("z%d: %d clusters in %dms",E,h.numItems,+Date.now()-y)}return r&&console.timeEnd("total time"),this}getClusters(e,r){var n=((e[0]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,e[1])),i=e[2]===180?180:((e[2]+180)%360+360)%360-180,s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){var l=this.getClusters([n,a,180,s],r),c=this.getClusters([-180,a,i,s],r);return l.concat(c)}var u=this.trees[this._limitZoom(r)],f=u.range(db(n),fb(s),db(i),fb(a)),m=u.data,v=[];for(var h of f){var E=this.stride*h;v.push(m[E+kd]>1?_6(m,E,this.clusterProps):this.points[m[E+Ad]])}return v}getChildren(e){var r=this._getOriginId(e),n=this._getOriginZoom(e),a="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(a);var s=i.data;if(r*this.stride>=s.length)throw new Error(a);var l=this.options.radius/(this.options.extent*Math.pow(2,n-1)),c=s[r*this.stride],u=s[r*this.stride+1],f=i.within(c,u,l),m=[];for(var v of f){var h=v*this.stride;s[h+CE]===e&&m.push(s[h+kd]>1?_6(s,h,this.clusterProps):this.points[s[h+Ad]])}if(m.length===0)throw new Error(a);return m}getLeaves(e,r,n){r=r||10,n=n||0;var a=[];return this._appendLeaves(a,e,r,n,0),a}getTile(e,r,n){var a=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:s,radius:l}=this.options,c=l/s,u=(n-c)/i,f=(n+1+c)/i,m={features:[]};return this._addTileFeatures(a.range((r-c)/i,u,(r+1+c)/i,f),a.data,r,n,i,m),r===0&&this._addTileFeatures(a.range(1-c/i,u,1,f),a.data,i,n,i,m),r===i-1&&this._addTileFeatures(a.range(0,u,c/i,f),a.data,-1,n,i,m),m.features.length?m:null}getClusterExpansionZoom(e){for(var r=this._getOriginZoom(e)-1;r<=this.options.maxZoom;){var n=this.getChildren(e);if(r++,n.length!==1)break;e=n[0].properties.cluster_id}return r}_appendLeaves(e,r,n,a,i){var s=this.getChildren(r);for(var l of s){var c=l.properties;if(c&&c.cluster?i+c.point_count<=a?i+=c.point_count:i=this._appendLeaves(e,c.cluster_id,n,a,i):i<a?i++:e.push(l),e.length===n)break}return i}_createTree(e){for(var r=new C3(e.length/this.stride|0,this.options.nodeSize,Float32Array),n=0;n<e.length;n+=this.stride)r.add(e[n],e[n+1]);return r.finish(),r.data=e,r}_addTileFeatures(e,r,n,a,i,s){for(var l of e){var c=l*this.stride,u=r[c+kd]>1,f=void 0,m=void 0,v=void 0;if(u)f=K9(r,c,this.clusterProps),m=r[c],v=r[c+1];else{var h=this.points[r[c+Ad]];f=h.properties;var[E,y]=h.geometry.coordinates;m=db(E),v=fb(y)}var b={type:1,geometry:[[Math.round(this.options.extent*(m*i-n)),Math.round(this.options.extent*(v*i-a))]],tags:f},x=void 0;u||this.options.generateId?x=r[c+Ad]:x=this.points[r[c+Ad]].id,x!==void 0&&(b.id=x),s.features.push(b)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,r){for(var{radius:n,extent:a,reduce:i,minPoints:s}=this.options,l=n/(a*Math.pow(2,r)),c=e.data,u=[],f=this.stride,m=0;m<c.length;m+=f)if(!(c[m+hf]<=r)){c[m+hf]=r;var v=c[m],h=c[m+1],E=e.within(c[m],c[m+1],l),y=c[m+kd],b=y;for(var x of E){var w=x*f;c[w+hf]>r&&(b+=c[w+kd])}if(b>y&&b>=s){var N=v*y,I=h*y,P=void 0,L=-1,R=((m/f|0)<<5)+(r+1)+this.points.length;for(var O of E){var A=O*f;if(!(c[A+hf]<=r)){c[A+hf]=r;var T=c[A+kd];N+=c[A]*T,I+=c[A+1]*T,c[A+CE]=R,i&&(P||(P=this._map(c,m,!0),L=this.clusterProps.length,this.clusterProps.push(P)),i(P,this._map(c,A)))}}c[m+CE]=R,u.push(N/b,I/b,1/0,R,-1,b),i&&u.push(L)}else{for(var C=0;C<f;C++)u.push(c[m+C]);if(b>1)for(var _ of E){var D=_*f;if(!(c[D+hf]<=r)){c[D+hf]=r;for(var z=0;z<f;z++)u.push(c[D+z])}}}}return u}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,r,n){if(e[r+kd]>1){var a=this.clusterProps[e[r+G9]];return n?Object.assign({},a):a}var i=this.points[e[r+Ad]].properties,s=this.options.map(i);return n&&s===i?Object.assign({},s):s}}function _6(t,e,r){return{type:"Feature",id:t[e+Ad],properties:K9(t,e,r),geometry:{type:"Point",coordinates:[fJ(t[e]),mJ(t[e+1])]}}}function K9(t,e,r){var n=t[e+kd],a=n>=1e4?"".concat(Math.round(n/1e3),"k"):n>=1e3?"".concat(Math.round(n/100)/10,"k"):n,i=t[e+G9],s=i===-1?{}:Object.assign({},r[i]);return Object.assign(s,{cluster:!0,cluster_id:t[e+Ad],point_count:n,point_count_abbreviated:a})}function db(t){return t/360+.5}function fb(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r<0?0:r>1?1:r}function fJ(t){return(t-.5)*360}function mJ(t){var e=(180-t*360)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function pJ(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}class Nl{static isAdvancedMarkerAvailable(e){return google.maps.marker&&e.getMapCapabilities().isAdvancedMarkersAvailable===!0}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,r){this.isAdvancedMarker(e)?e.map=r:e.setMap(r)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return this.isAdvancedMarker(e)?!0:e.getVisible()}}class DS{constructor(e){var{markers:r,position:n}=e;this.markers=r,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(!(this.markers.length===0&&!this._position)){var e=new google.maps.LatLngBounds(this._position,this._position);for(var r of this.markers)e.extend(Nl.getPosition(r));return e}}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter(e=>Nl.getVisible(e)).length}push(e){this.markers.push(e)}delete(){this.marker&&(Nl.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class gJ{constructor(e){var{maxZoom:r=16}=e;this.maxZoom=r}noop(e){var{markers:r}=e;return hJ(r)}}var hJ=t=>{var e=t.map(r=>new DS({position:Nl.getPosition(r),markers:[r]}));return e};class vJ extends gJ{constructor(e){var{maxZoom:r,radius:n=60}=e,a=pJ(e,["maxZoom","radius"]);super({maxZoom:r}),this.state={zoom:-1},this.superCluster=new dJ(Object.assign({maxZoom:this.maxZoom,radius:n},a))}calculate(e){var r=!1,n={zoom:e.map.getZoom()};if(!k6(e.markers,this.markers)){r=!0,this.markers=[...e.markers];var a=this.markers.map(i=>{var s=Nl.getPosition(i),l=[s.lng(),s.lat()];return{type:"Feature",geometry:{type:"Point",coordinates:l},properties:{marker:i}}});this.superCluster.load(a)}return r||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(r=!k6(this.state,n)),this.state=n,r&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:r}}cluster(e){var{map:r}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(r.getZoom())).map(n=>this.transformCluster(n))}transformCluster(e){var{geometry:{coordinates:[r,n]},properties:a}=e;if(a.cluster)return new DS({markers:this.superCluster.getLeaves(a.cluster_id,1/0).map(s=>s.properties.marker),position:{lat:n,lng:r}});var i=a.marker;return new DS({markers:[i],position:Nl.getPosition(i)})}}class bJ{constructor(e,r){this.markers={sum:e.length};var n=r.map(i=>i.count),a=n.reduce((i,s)=>i+s,0);this.clusters={count:r.length,markers:{mean:a/r.length,sum:a,min:Math.min(...n),max:Math.max(...n)}}}}class yJ{render(e,r,n){var{count:a,position:i}=e,s=a>Math.max(10,r.clusters.markers.mean)?"#ff0000":"#0000ff",l='<svg fill="'.concat(s,`" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">
<circle cx="120" cy="120" opacity=".6" r="70" />
<circle cx="120" cy="120" opacity=".3" r="90" />
<circle cx="120" cy="120" opacity=".2" r="110" />
<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">`).concat(a,`</text>
</svg>`),c="Cluster of ".concat(a," markers"),u=Number(google.maps.Marker.MAX_ZINDEX)+a;if(Nl.isAdvancedMarkerAvailable(n)){var f=new DOMParser,m=f.parseFromString(l,"image/svg+xml").documentElement;m.setAttribute("transform","translate(0 25)");var v={map:n,position:i,zIndex:u,title:c,content:m};return new google.maps.marker.AdvancedMarkerElement(v)}var h={position:i,zIndex:u,title:c,icon:{url:"data:image/svg+xml;base64,".concat(btoa(l)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(h)}}function EJ(t,e){for(var r in e.prototype)t.prototype[r]=e.prototype[r]}class P3{constructor(){EJ(P3,google.maps.OverlayView)}}var Kg;(function(t){t.CLUSTERING_BEGIN="clusteringbegin",t.CLUSTERING_END="clusteringend",t.CLUSTER_CLICK="click"})(Kg||(Kg={}));var xJ=(t,e,r)=>{r.fitBounds(e.bounds)};class wJ extends P3{constructor(e){var{map:r,markers:n=[],algorithmOptions:a={},algorithm:i=new vJ(a),renderer:s=new yJ,onClusterClick:l=xJ}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=l,r&&this.setMap(r)}addMarker(e,r){this.markers.includes(e)||(this.markers.push(e),r||this.render())}addMarkers(e,r){e.forEach(n=>{this.addMarker(n,!0)}),r||this.render()}removeMarker(e,r){var n=this.markers.indexOf(e);return n===-1?!1:(Nl.setMap(e,null),this.markers.splice(n,1),r||this.render(),!0)}removeMarkers(e,r){var n=!1;return e.forEach(a=>{n=this.removeMarker(a,!0)||n}),n&&!r&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){var e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,Kg.CLUSTERING_BEGIN,this);var{clusters:r,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||n==null){var a=new Set;for(var i of r)i.markers.length==1&&a.add(i.markers[0]);var s=[];for(var l of this.clusters)l.marker!=null&&(l.markers.length==1?a.has(l.marker)||Nl.setMap(l.marker,null):s.push(l.marker));this.clusters=r,this.renderClusters(),requestAnimationFrame(()=>s.forEach(c=>Nl.setMap(c,null)))}google.maps.event.trigger(this,Kg.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach(e=>Nl.setMap(e,null)),this.clusters.forEach(e=>e.delete()),this.clusters=[]}renderClusters(){var e=new bJ(this.markers,this.clusters),r=this.getMap();this.clusters.forEach(n=>{n.markers.length===1?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,r),n.markers.forEach(a=>Nl.setMap(a,null)),this.onClusterClick&&n.marker.addListener("click",a=>{google.maps.event.trigger(this,Kg.CLUSTER_CLICK,n),this.onClusterClick(a,n,r)})),Nl.setMap(n.marker,r)})}}function L6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function T6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L6(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SJ(t){var e=hY(),[r,n]=p.useState(null);return p.useEffect(()=>{if(e&&r===null){var a=new wJ(T6(T6({},t),{},{map:e}));n(a)}},[e]),r}function CJ(t){var{children:e,options:r}=t,n=SJ(r);return n!==null?e(n):null}p.memo(CJ);var R6={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},M6={options(t,e){t.setOptions(e)},position(t,e){t.setPosition(e)},zIndex(t,e){t.setZIndex(e)}};function PJ(t){var{children:e,anchor:r,options:n,position:a,zIndex:i,onCloseClick:s,onDomReady:l,onContentChanged:c,onPositionChanged:u,onZindexChanged:f,onLoad:m,onUnmount:v}=t,h=p.useContext(Bn),[E,y]=p.useState(null),[b,x]=p.useState(null),[w,N]=p.useState(null),[I,P]=p.useState(null),[L,R]=p.useState(null),[O,A]=p.useState(null),T=p.useRef(null);return p.useEffect(()=>{E!==null&&(E.close(),r?E.open(h,r):E.getPosition()&&E.open(h))},[h,E,r]),p.useEffect(()=>{n&&E!==null&&E.setOptions(n)},[E,n]),p.useEffect(()=>{a&&E!==null&&E.setPosition(a)},[a]),p.useEffect(()=>{typeof i=="number"&&E!==null&&E.setZIndex(i)},[i]),p.useEffect(()=>{E&&s&&(b!==null&&google.maps.event.removeListener(b),x(google.maps.event.addListener(E,"closeclick",s)))},[s]),p.useEffect(()=>{E&&l&&(w!==null&&google.maps.event.removeListener(w),N(google.maps.event.addListener(E,"domready",l)))},[l]),p.useEffect(()=>{E&&c&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(E,"content_changed",c)))},[c]),p.useEffect(()=>{E&&u&&(L!==null&&google.maps.event.removeListener(L),R(google.maps.event.addListener(E,"position_changed",u)))},[u]),p.useEffect(()=>{E&&f&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(E,"zindex_changed",f)))},[f]),p.useEffect(()=>{var C=new google.maps.InfoWindow(n);return y(C),T.current=document.createElement("div"),s&&x(google.maps.event.addListener(C,"closeclick",s)),l&&N(google.maps.event.addListener(C,"domready",l)),c&&P(google.maps.event.addListener(C,"content_changed",c)),u&&R(google.maps.event.addListener(C,"position_changed",u)),f&&A(google.maps.event.addListener(C,"zindex_changed",f)),C.setContent(T.current),a&&C.setPosition(a),i&&C.setZIndex(i),r?C.open(h,r):C.getPosition()?C.open(h):mi(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),m&&m(C),()=>{b&&google.maps.event.removeListener(b),I&&google.maps.event.removeListener(I),w&&google.maps.event.removeListener(w),L&&google.maps.event.removeListener(L),O&&google.maps.event.removeListener(O),v&&v(C),C.close()}},[]),T.current?Zf.createPortal(p.Children.only(e),T.current):null}p.memo(PJ);class NJ extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"containerElement",null),Ut(this,"state",{infoWindow:null}),Ut(this,"open",(e,r)=>{r?e.open(this.context,r):e.getPosition()?e.open(this.context):mi(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")}),Ut(this,"setInfoWindowCallback",()=>{this.state.infoWindow!==null&&this.containerElement!==null&&(this.state.infoWindow.setContent(this.containerElement),this.open(this.state.infoWindow,this.props.anchor),this.props.onLoad&&this.props.onLoad(this.state.infoWindow))})}componentDidMount(){var e=new google.maps.InfoWindow(this.props.options);this.containerElement=document.createElement("div"),this.registeredEvents=Zn({updaterMap:M6,eventMap:R6,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({infoWindow:e}),this.setInfoWindowCallback)}componentDidUpdate(e){this.state.infoWindow!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:M6,eventMap:R6,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))}componentWillUnmount(){this.state.infoWindow!==null&&(ea(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())}render(){return this.containerElement?Zf.createPortal(p.Children.only(this.props.children),this.containerElement):null}}Ut(NJ,"contextType",Bn);function D6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D6(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var j6={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},F6={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},visible(t,e){t.setVisible(e)}},kJ={};function AJ(t){var{options:e,draggable:r,editable:n,visible:a,path:i,onDblClick:s,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:f,onMouseOut:m,onMouseOver:v,onMouseUp:h,onRightClick:E,onClick:y,onDrag:b,onLoad:x,onUnmount:w}=t,N=p.useContext(Bn),[I,P]=p.useState(null),[L,R]=p.useState(null),[O,A]=p.useState(null),[T,C]=p.useState(null),[_,D]=p.useState(null),[z,V]=p.useState(null),[J,ie]=p.useState(null),[G,te]=p.useState(null),[W,B]=p.useState(null),[j,U]=p.useState(null),[X,Z]=p.useState(null),[me,de]=p.useState(null);return p.useEffect(()=>{I!==null&&I.setMap(N)},[N]),p.useEffect(()=>{typeof e<"u"&&I!==null&&I.setOptions(e)},[I,e]),p.useEffect(()=>{typeof r<"u"&&I!==null&&I.setDraggable(r)},[I,r]),p.useEffect(()=>{typeof n<"u"&&I!==null&&I.setEditable(n)},[I,n]),p.useEffect(()=>{typeof a<"u"&&I!==null&&I.setVisible(a)},[I,a]),p.useEffect(()=>{typeof i<"u"&&I!==null&&I.setPath(i)},[I,i]),p.useEffect(()=>{I&&s&&(L!==null&&google.maps.event.removeListener(L),R(google.maps.event.addListener(I,"dblclick",s)))},[s]),p.useEffect(()=>{I&&l&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(I,"dragend",l)))},[l]),p.useEffect(()=>{I&&c&&(T!==null&&google.maps.event.removeListener(T),C(google.maps.event.addListener(I,"dragstart",c)))},[c]),p.useEffect(()=>{I&&u&&(_!==null&&google.maps.event.removeListener(_),D(google.maps.event.addListener(I,"mousedown",u)))},[u]),p.useEffect(()=>{I&&f&&(z!==null&&google.maps.event.removeListener(z),V(google.maps.event.addListener(I,"mousemove",f)))},[f]),p.useEffect(()=>{I&&m&&(J!==null&&google.maps.event.removeListener(J),ie(google.maps.event.addListener(I,"mouseout",m)))},[m]),p.useEffect(()=>{I&&v&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(I,"mouseover",v)))},[v]),p.useEffect(()=>{I&&h&&(W!==null&&google.maps.event.removeListener(W),B(google.maps.event.addListener(I,"mouseup",h)))},[h]),p.useEffect(()=>{I&&E&&(j!==null&&google.maps.event.removeListener(j),U(google.maps.event.addListener(I,"rightclick",E)))},[E]),p.useEffect(()=>{I&&y&&(X!==null&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(I,"click",y)))},[y]),p.useEffect(()=>{I&&b&&(me!==null&&google.maps.event.removeListener(me),de(google.maps.event.addListener(I,"drag",b)))},[b]),p.useEffect(()=>{var oe=new google.maps.Polyline(Zb(Zb({},e||kJ),{},{map:N}));return i&&oe.setPath(i),typeof a<"u"&&oe.setVisible(a),typeof n<"u"&&oe.setEditable(n),typeof r<"u"&&oe.setDraggable(r),s&&R(google.maps.event.addListener(oe,"dblclick",s)),l&&A(google.maps.event.addListener(oe,"dragend",l)),c&&C(google.maps.event.addListener(oe,"dragstart",c)),u&&D(google.maps.event.addListener(oe,"mousedown",u)),f&&V(google.maps.event.addListener(oe,"mousemove",f)),m&&ie(google.maps.event.addListener(oe,"mouseout",m)),v&&te(google.maps.event.addListener(oe,"mouseover",v)),h&&B(google.maps.event.addListener(oe,"mouseup",h)),E&&U(google.maps.event.addListener(oe,"rightclick",E)),y&&Z(google.maps.event.addListener(oe,"click",y)),b&&de(google.maps.event.addListener(oe,"drag",b)),P(oe),x&&x(oe),()=>{L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),T!==null&&google.maps.event.removeListener(T),_!==null&&google.maps.event.removeListener(_),z!==null&&google.maps.event.removeListener(z),J!==null&&google.maps.event.removeListener(J),G!==null&&google.maps.event.removeListener(G),W!==null&&google.maps.event.removeListener(W),j!==null&&google.maps.event.removeListener(j),X!==null&&google.maps.event.removeListener(X),w&&w(oe),oe.setMap(null)}},[]),null}p.memo(AJ);class OJ extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"state",{polyline:null}),Ut(this,"setPolylineCallback",()=>{this.state.polyline!==null&&this.props.onLoad&&this.props.onLoad(this.state.polyline)})}componentDidMount(){var e=new google.maps.Polyline(Zb(Zb({},this.props.options),{},{map:this.context}));this.registeredEvents=Zn({updaterMap:F6,eventMap:j6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{polyline:e}},this.setPolylineCallback)}componentDidUpdate(e){this.state.polyline!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:F6,eventMap:j6,prevProps:e,nextProps:this.props,instance:this.state.polyline}))}componentWillUnmount(){this.state.polyline!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),ea(this.registeredEvents),this.state.polyline.setMap(null))}render(){return null}}Ut(OJ,"contextType",Bn);function $6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function z6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$6(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var B6={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},U6={draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},path(t,e){t.setPath(e)},paths(t,e){t.setPaths(e)},visible(t,e){t.setVisible(e)}};function IJ(t){var{options:e,draggable:r,editable:n,visible:a,path:i,paths:s,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:f,onMouseMove:m,onMouseOut:v,onMouseOver:h,onMouseUp:E,onRightClick:y,onClick:b,onDrag:x,onLoad:w,onUnmount:N,onEdit:I}=t,P=p.useContext(Bn),[L,R]=p.useState(null),[O,A]=p.useState(null),[T,C]=p.useState(null),[_,D]=p.useState(null),[z,V]=p.useState(null),[J,ie]=p.useState(null),[G,te]=p.useState(null),[W,B]=p.useState(null),[j,U]=p.useState(null),[X,Z]=p.useState(null),[me,de]=p.useState(null),[oe,ee]=p.useState(null);return p.useEffect(()=>{L!==null&&L.setMap(P)},[P]),p.useEffect(()=>{typeof e<"u"&&L!==null&&L.setOptions(e)},[L,e]),p.useEffect(()=>{typeof r<"u"&&L!==null&&L.setDraggable(r)},[L,r]),p.useEffect(()=>{typeof n<"u"&&L!==null&&L.setEditable(n)},[L,n]),p.useEffect(()=>{typeof a<"u"&&L!==null&&L.setVisible(a)},[L,a]),p.useEffect(()=>{typeof i<"u"&&L!==null&&L.setPath(i)},[L,i]),p.useEffect(()=>{typeof s<"u"&&L!==null&&L.setPaths(s)},[L,s]),p.useEffect(()=>{L&&typeof l=="function"&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(L,"dblclick",l)))},[l]),p.useEffect(()=>{L&&(google.maps.event.addListener(L.getPath(),"insert_at",()=>{I==null||I(L)}),google.maps.event.addListener(L.getPath(),"set_at",()=>{I==null||I(L)}),google.maps.event.addListener(L.getPath(),"remove_at",()=>{I==null||I(L)}))},[L,I]),p.useEffect(()=>{L&&typeof c=="function"&&(T!==null&&google.maps.event.removeListener(T),C(google.maps.event.addListener(L,"dragend",c)))},[c]),p.useEffect(()=>{L&&typeof u=="function"&&(_!==null&&google.maps.event.removeListener(_),D(google.maps.event.addListener(L,"dragstart",u)))},[u]),p.useEffect(()=>{L&&typeof f=="function"&&(z!==null&&google.maps.event.removeListener(z),V(google.maps.event.addListener(L,"mousedown",f)))},[f]),p.useEffect(()=>{L&&typeof m=="function"&&(J!==null&&google.maps.event.removeListener(J),ie(google.maps.event.addListener(L,"mousemove",m)))},[m]),p.useEffect(()=>{L&&typeof v=="function"&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(L,"mouseout",v)))},[v]),p.useEffect(()=>{L&&typeof h=="function"&&(W!==null&&google.maps.event.removeListener(W),B(google.maps.event.addListener(L,"mouseover",h)))},[h]),p.useEffect(()=>{L&&typeof E=="function"&&(j!==null&&google.maps.event.removeListener(j),U(google.maps.event.addListener(L,"mouseup",E)))},[E]),p.useEffect(()=>{L&&typeof y=="function"&&(X!==null&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(L,"rightclick",y)))},[y]),p.useEffect(()=>{L&&typeof b=="function"&&(me!==null&&google.maps.event.removeListener(me),de(google.maps.event.addListener(L,"click",b)))},[b]),p.useEffect(()=>{L&&typeof x=="function"&&(oe!==null&&google.maps.event.removeListener(oe),ee(google.maps.event.addListener(L,"drag",x)))},[x]),p.useEffect(()=>{var le=new google.maps.Polygon(z6(z6({},e),{},{map:P}));return i&&le.setPath(i),s&&le.setPaths(s),typeof a<"u"&&le.setVisible(a),typeof n<"u"&&le.setEditable(n),typeof r<"u"&&le.setDraggable(r),l&&A(google.maps.event.addListener(le,"dblclick",l)),c&&C(google.maps.event.addListener(le,"dragend",c)),u&&D(google.maps.event.addListener(le,"dragstart",u)),f&&V(google.maps.event.addListener(le,"mousedown",f)),m&&ie(google.maps.event.addListener(le,"mousemove",m)),v&&te(google.maps.event.addListener(le,"mouseout",v)),h&&B(google.maps.event.addListener(le,"mouseover",h)),E&&U(google.maps.event.addListener(le,"mouseup",E)),y&&Z(google.maps.event.addListener(le,"rightclick",y)),b&&de(google.maps.event.addListener(le,"click",b)),x&&ee(google.maps.event.addListener(le,"drag",x)),R(le),w&&w(le),()=>{O!==null&&google.maps.event.removeListener(O),T!==null&&google.maps.event.removeListener(T),_!==null&&google.maps.event.removeListener(_),z!==null&&google.maps.event.removeListener(z),J!==null&&google.maps.event.removeListener(J),G!==null&&google.maps.event.removeListener(G),W!==null&&google.maps.event.removeListener(W),j!==null&&google.maps.event.removeListener(j),X!==null&&google.maps.event.removeListener(X),me!==null&&google.maps.event.removeListener(me),N&&N(le),le.setMap(null)}},[]),null}p.memo(IJ);let _J=class extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[])}componentDidMount(){var e=this.props.options||{};this.polygon=new google.maps.Polygon(e),this.polygon.setMap(this.context),this.registeredEvents=Zn({updaterMap:U6,eventMap:B6,prevProps:{},nextProps:this.props,instance:this.polygon}),this.props.onLoad&&this.props.onLoad(this.polygon)}componentDidUpdate(e){this.polygon&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:U6,eventMap:B6,prevProps:e,nextProps:this.props,instance:this.polygon}))}componentWillUnmount(){this.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.polygon),ea(this.registeredEvents),this.polygon&&this.polygon.setMap(null))}render(){return null}};Ut(_J,"contextType",Bn);function q6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q6(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var V6={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},H6={bounds(t,e){t.setBounds(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},visible(t,e){t.setVisible(e)}};function LJ(t){var{options:e,bounds:r,draggable:n,editable:a,visible:i,onDblClick:s,onDragEnd:l,onDragStart:c,onMouseDown:u,onMouseMove:f,onMouseOut:m,onMouseOver:v,onMouseUp:h,onRightClick:E,onClick:y,onDrag:b,onBoundsChanged:x,onLoad:w,onUnmount:N}=t,I=p.useContext(Bn),[P,L]=p.useState(null),[R,O]=p.useState(null),[A,T]=p.useState(null),[C,_]=p.useState(null),[D,z]=p.useState(null),[V,J]=p.useState(null),[ie,G]=p.useState(null),[te,W]=p.useState(null),[B,j]=p.useState(null),[U,X]=p.useState(null),[Z,me]=p.useState(null),[de,oe]=p.useState(null),[ee,le]=p.useState(null);return p.useEffect(()=>{P!==null&&P.setMap(I)},[I]),p.useEffect(()=>{typeof e<"u"&&P!==null&&P.setOptions(e)},[P,e]),p.useEffect(()=>{typeof n<"u"&&P!==null&&P.setDraggable(n)},[P,n]),p.useEffect(()=>{typeof a<"u"&&P!==null&&P.setEditable(a)},[P,a]),p.useEffect(()=>{typeof i<"u"&&P!==null&&P.setVisible(i)},[P,i]),p.useEffect(()=>{typeof r<"u"&&P!==null&&P.setBounds(r)},[P,r]),p.useEffect(()=>{P&&s&&(R!==null&&google.maps.event.removeListener(R),O(google.maps.event.addListener(P,"dblclick",s)))},[s]),p.useEffect(()=>{P&&l&&(A!==null&&google.maps.event.removeListener(A),T(google.maps.event.addListener(P,"dragend",l)))},[l]),p.useEffect(()=>{P&&c&&(C!==null&&google.maps.event.removeListener(C),_(google.maps.event.addListener(P,"dragstart",c)))},[c]),p.useEffect(()=>{P&&u&&(D!==null&&google.maps.event.removeListener(D),z(google.maps.event.addListener(P,"mousedown",u)))},[u]),p.useEffect(()=>{P&&f&&(V!==null&&google.maps.event.removeListener(V),J(google.maps.event.addListener(P,"mousemove",f)))},[f]),p.useEffect(()=>{P&&m&&(ie!==null&&google.maps.event.removeListener(ie),G(google.maps.event.addListener(P,"mouseout",m)))},[m]),p.useEffect(()=>{P&&v&&(te!==null&&google.maps.event.removeListener(te),W(google.maps.event.addListener(P,"mouseover",v)))},[v]),p.useEffect(()=>{P&&h&&(B!==null&&google.maps.event.removeListener(B),j(google.maps.event.addListener(P,"mouseup",h)))},[h]),p.useEffect(()=>{P&&E&&(U!==null&&google.maps.event.removeListener(U),X(google.maps.event.addListener(P,"rightclick",E)))},[E]),p.useEffect(()=>{P&&y&&(Z!==null&&google.maps.event.removeListener(Z),me(google.maps.event.addListener(P,"click",y)))},[y]),p.useEffect(()=>{P&&b&&(de!==null&&google.maps.event.removeListener(de),oe(google.maps.event.addListener(P,"drag",b)))},[b]),p.useEffect(()=>{P&&x&&(ee!==null&&google.maps.event.removeListener(ee),le(google.maps.event.addListener(P,"bounds_changed",x)))},[x]),p.useEffect(()=>{var pe=new google.maps.Rectangle(Qb(Qb({},e),{},{map:I}));return typeof i<"u"&&pe.setVisible(i),typeof a<"u"&&pe.setEditable(a),typeof n<"u"&&pe.setDraggable(n),typeof r<"u"&&pe.setBounds(r),s&&O(google.maps.event.addListener(pe,"dblclick",s)),l&&T(google.maps.event.addListener(pe,"dragend",l)),c&&_(google.maps.event.addListener(pe,"dragstart",c)),u&&z(google.maps.event.addListener(pe,"mousedown",u)),f&&J(google.maps.event.addListener(pe,"mousemove",f)),m&&G(google.maps.event.addListener(pe,"mouseout",m)),v&&W(google.maps.event.addListener(pe,"mouseover",v)),h&&j(google.maps.event.addListener(pe,"mouseup",h)),E&&X(google.maps.event.addListener(pe,"rightclick",E)),y&&me(google.maps.event.addListener(pe,"click",y)),b&&oe(google.maps.event.addListener(pe,"drag",b)),x&&le(google.maps.event.addListener(pe,"bounds_changed",x)),L(pe),w&&w(pe),()=>{R!==null&&google.maps.event.removeListener(R),A!==null&&google.maps.event.removeListener(A),C!==null&&google.maps.event.removeListener(C),D!==null&&google.maps.event.removeListener(D),V!==null&&google.maps.event.removeListener(V),ie!==null&&google.maps.event.removeListener(ie),te!==null&&google.maps.event.removeListener(te),B!==null&&google.maps.event.removeListener(B),U!==null&&google.maps.event.removeListener(U),Z!==null&&google.maps.event.removeListener(Z),de!==null&&google.maps.event.removeListener(de),ee!==null&&google.maps.event.removeListener(ee),N&&N(pe),pe.setMap(null)}},[]),null}p.memo(LJ);let TJ=class extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"state",{rectangle:null}),Ut(this,"setRectangleCallback",()=>{this.state.rectangle!==null&&this.props.onLoad&&this.props.onLoad(this.state.rectangle)})}componentDidMount(){var e=new google.maps.Rectangle(Qb(Qb({},this.props.options),{},{map:this.context}));this.registeredEvents=Zn({updaterMap:H6,eventMap:V6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{rectangle:e}},this.setRectangleCallback)}componentDidUpdate(e){this.state.rectangle!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:H6,eventMap:V6,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))}componentWillUnmount(){this.state.rectangle!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),ea(this.registeredEvents),this.state.rectangle.setMap(null))}render(){return null}};Ut(TJ,"contextType",Bn);function W6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function e0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W6(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var G6={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},K6={center(t,e){t.setCenter(e)},draggable(t,e){t.setDraggable(e)},editable(t,e){t.setEditable(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},radius(t,e){t.setRadius(e)},visible(t,e){t.setVisible(e)}},RJ={};function MJ(t){var{options:e,center:r,radius:n,draggable:a,editable:i,visible:s,onDblClick:l,onDragEnd:c,onDragStart:u,onMouseDown:f,onMouseMove:m,onMouseOut:v,onMouseOver:h,onMouseUp:E,onRightClick:y,onClick:b,onDrag:x,onCenterChanged:w,onRadiusChanged:N,onLoad:I,onUnmount:P}=t,L=p.useContext(Bn),[R,O]=p.useState(null),[A,T]=p.useState(null),[C,_]=p.useState(null),[D,z]=p.useState(null),[V,J]=p.useState(null),[ie,G]=p.useState(null),[te,W]=p.useState(null),[B,j]=p.useState(null),[U,X]=p.useState(null),[Z,me]=p.useState(null),[de,oe]=p.useState(null),[ee,le]=p.useState(null),[pe,ce]=p.useState(null),[_e,He]=p.useState(null);return p.useEffect(()=>{R!==null&&R.setMap(L)},[L]),p.useEffect(()=>{typeof e<"u"&&R!==null&&R.setOptions(e)},[R,e]),p.useEffect(()=>{typeof a<"u"&&R!==null&&R.setDraggable(a)},[R,a]),p.useEffect(()=>{typeof i<"u"&&R!==null&&R.setEditable(i)},[R,i]),p.useEffect(()=>{typeof s<"u"&&R!==null&&R.setVisible(s)},[R,s]),p.useEffect(()=>{typeof n=="number"&&R!==null&&R.setRadius(n)},[R,n]),p.useEffect(()=>{typeof r<"u"&&R!==null&&R.setCenter(r)},[R,r]),p.useEffect(()=>{R&&l&&(A!==null&&google.maps.event.removeListener(A),T(google.maps.event.addListener(R,"dblclick",l)))},[l]),p.useEffect(()=>{R&&c&&(C!==null&&google.maps.event.removeListener(C),_(google.maps.event.addListener(R,"dragend",c)))},[c]),p.useEffect(()=>{R&&u&&(D!==null&&google.maps.event.removeListener(D),z(google.maps.event.addListener(R,"dragstart",u)))},[u]),p.useEffect(()=>{R&&f&&(V!==null&&google.maps.event.removeListener(V),J(google.maps.event.addListener(R,"mousedown",f)))},[f]),p.useEffect(()=>{R&&m&&(ie!==null&&google.maps.event.removeListener(ie),G(google.maps.event.addListener(R,"mousemove",m)))},[m]),p.useEffect(()=>{R&&v&&(te!==null&&google.maps.event.removeListener(te),W(google.maps.event.addListener(R,"mouseout",v)))},[v]),p.useEffect(()=>{R&&h&&(B!==null&&google.maps.event.removeListener(B),j(google.maps.event.addListener(R,"mouseover",h)))},[h]),p.useEffect(()=>{R&&E&&(U!==null&&google.maps.event.removeListener(U),X(google.maps.event.addListener(R,"mouseup",E)))},[E]),p.useEffect(()=>{R&&y&&(Z!==null&&google.maps.event.removeListener(Z),me(google.maps.event.addListener(R,"rightclick",y)))},[y]),p.useEffect(()=>{R&&b&&(de!==null&&google.maps.event.removeListener(de),oe(google.maps.event.addListener(R,"click",b)))},[b]),p.useEffect(()=>{R&&x&&(ee!==null&&google.maps.event.removeListener(ee),le(google.maps.event.addListener(R,"drag",x)))},[x]),p.useEffect(()=>{R&&w&&(pe!==null&&google.maps.event.removeListener(pe),ce(google.maps.event.addListener(R,"center_changed",w)))},[b]),p.useEffect(()=>{R&&N&&(_e!==null&&google.maps.event.removeListener(_e),He(google.maps.event.addListener(R,"radius_changed",N)))},[N]),p.useEffect(()=>{var Re=new google.maps.Circle(e0(e0({},e||RJ),{},{map:L}));return typeof n=="number"&&Re.setRadius(n),typeof r<"u"&&Re.setCenter(r),typeof n=="number"&&Re.setRadius(n),typeof s<"u"&&Re.setVisible(s),typeof i<"u"&&Re.setEditable(i),typeof a<"u"&&Re.setDraggable(a),l&&T(google.maps.event.addListener(Re,"dblclick",l)),c&&_(google.maps.event.addListener(Re,"dragend",c)),u&&z(google.maps.event.addListener(Re,"dragstart",u)),f&&J(google.maps.event.addListener(Re,"mousedown",f)),m&&G(google.maps.event.addListener(Re,"mousemove",m)),v&&W(google.maps.event.addListener(Re,"mouseout",v)),h&&j(google.maps.event.addListener(Re,"mouseover",h)),E&&X(google.maps.event.addListener(Re,"mouseup",E)),y&&me(google.maps.event.addListener(Re,"rightclick",y)),b&&oe(google.maps.event.addListener(Re,"click",b)),x&&le(google.maps.event.addListener(Re,"drag",x)),w&&ce(google.maps.event.addListener(Re,"center_changed",w)),N&&He(google.maps.event.addListener(Re,"radius_changed",N)),O(Re),I&&I(Re),()=>{A!==null&&google.maps.event.removeListener(A),C!==null&&google.maps.event.removeListener(C),D!==null&&google.maps.event.removeListener(D),V!==null&&google.maps.event.removeListener(V),ie!==null&&google.maps.event.removeListener(ie),te!==null&&google.maps.event.removeListener(te),B!==null&&google.maps.event.removeListener(B),U!==null&&google.maps.event.removeListener(U),Z!==null&&google.maps.event.removeListener(Z),de!==null&&google.maps.event.removeListener(de),pe!==null&&google.maps.event.removeListener(pe),_e!==null&&google.maps.event.removeListener(_e),P&&P(Re),Re.setMap(null)}},[]),null}p.memo(MJ);class DJ extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"state",{circle:null}),Ut(this,"setCircleCallback",()=>{this.state.circle!==null&&this.props.onLoad&&this.props.onLoad(this.state.circle)})}componentDidMount(){var e=new google.maps.Circle(e0(e0({},this.props.options),{},{map:this.context}));this.registeredEvents=Zn({updaterMap:K6,eventMap:G6,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{circle:e}},this.setCircleCallback)}componentDidUpdate(e){this.state.circle!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:K6,eventMap:G6,prevProps:e,nextProps:this.props,instance:this.state.circle}))}componentWillUnmount(){if(this.state.circle!==null){var e;this.props.onUnmount&&this.props.onUnmount(this.state.circle),ea(this.registeredEvents),(e=this.state.circle)===null||e===void 0||e.setMap(null)}}render(){return null}}Ut(DJ,"contextType",Bn);function Y6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function t0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Y6(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Y6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var J6={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},X6={add(t,e){t.add(e)},addgeojson(t,e,r){t.addGeoJson(e,r)},contains(t,e){t.contains(e)},foreach(t,e){t.forEach(e)},loadgeojson(t,e,r,n){t.loadGeoJson(e,r,n)},overridestyle(t,e,r){t.overrideStyle(e,r)},remove(t,e){t.remove(e)},revertstyle(t,e){t.revertStyle(e)},controlposition(t,e){t.setControlPosition(e)},controls(t,e){t.setControls(e)},drawingmode(t,e){t.setDrawingMode(e)},map(t,e){t.setMap(e)},style(t,e){t.setStyle(e)},togeojson(t,e){t.toGeoJson(e)}};function jJ(t){var{options:e,onClick:r,onDblClick:n,onMouseDown:a,onMouseMove:i,onMouseOut:s,onMouseOver:l,onMouseUp:c,onRightClick:u,onAddFeature:f,onRemoveFeature:m,onRemoveProperty:v,onSetGeometry:h,onSetProperty:E,onLoad:y,onUnmount:b}=t,x=p.useContext(Bn),[w,N]=p.useState(null),[I,P]=p.useState(null),[L,R]=p.useState(null),[O,A]=p.useState(null),[T,C]=p.useState(null),[_,D]=p.useState(null),[z,V]=p.useState(null),[J,ie]=p.useState(null),[G,te]=p.useState(null),[W,B]=p.useState(null),[j,U]=p.useState(null),[X,Z]=p.useState(null),[me,de]=p.useState(null),[oe,ee]=p.useState(null);return p.useEffect(()=>{w!==null&&w.setMap(x)},[x]),p.useEffect(()=>{w&&n&&(I!==null&&google.maps.event.removeListener(I),P(google.maps.event.addListener(w,"dblclick",n)))},[n]),p.useEffect(()=>{w&&a&&(L!==null&&google.maps.event.removeListener(L),R(google.maps.event.addListener(w,"mousedown",a)))},[a]),p.useEffect(()=>{w&&i&&(O!==null&&google.maps.event.removeListener(O),A(google.maps.event.addListener(w,"mousemove",i)))},[i]),p.useEffect(()=>{w&&s&&(T!==null&&google.maps.event.removeListener(T),C(google.maps.event.addListener(w,"mouseout",s)))},[s]),p.useEffect(()=>{w&&l&&(_!==null&&google.maps.event.removeListener(_),D(google.maps.event.addListener(w,"mouseover",l)))},[l]),p.useEffect(()=>{w&&c&&(z!==null&&google.maps.event.removeListener(z),V(google.maps.event.addListener(w,"mouseup",c)))},[c]),p.useEffect(()=>{w&&u&&(J!==null&&google.maps.event.removeListener(J),ie(google.maps.event.addListener(w,"rightclick",u)))},[u]),p.useEffect(()=>{w&&r&&(G!==null&&google.maps.event.removeListener(G),te(google.maps.event.addListener(w,"click",r)))},[r]),p.useEffect(()=>{w&&f&&(W!==null&&google.maps.event.removeListener(W),B(google.maps.event.addListener(w,"addfeature",f)))},[f]),p.useEffect(()=>{w&&m&&(j!==null&&google.maps.event.removeListener(j),U(google.maps.event.addListener(w,"removefeature",m)))},[m]),p.useEffect(()=>{w&&v&&(X!==null&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(w,"removeproperty",v)))},[v]),p.useEffect(()=>{w&&h&&(me!==null&&google.maps.event.removeListener(me),de(google.maps.event.addListener(w,"setgeometry",h)))},[h]),p.useEffect(()=>{w&&E&&(oe!==null&&google.maps.event.removeListener(oe),ee(google.maps.event.addListener(w,"setproperty",E)))},[E]),p.useEffect(()=>{if(x!==null){var le=new google.maps.Data(t0(t0({},e),{},{map:x}));n&&P(google.maps.event.addListener(le,"dblclick",n)),a&&R(google.maps.event.addListener(le,"mousedown",a)),i&&A(google.maps.event.addListener(le,"mousemove",i)),s&&C(google.maps.event.addListener(le,"mouseout",s)),l&&D(google.maps.event.addListener(le,"mouseover",l)),c&&V(google.maps.event.addListener(le,"mouseup",c)),u&&ie(google.maps.event.addListener(le,"rightclick",u)),r&&te(google.maps.event.addListener(le,"click",r)),f&&B(google.maps.event.addListener(le,"addfeature",f)),m&&U(google.maps.event.addListener(le,"removefeature",m)),v&&Z(google.maps.event.addListener(le,"removeproperty",v)),h&&de(google.maps.event.addListener(le,"setgeometry",h)),E&&ee(google.maps.event.addListener(le,"setproperty",E)),N(le),y&&y(le)}return()=>{w&&(I!==null&&google.maps.event.removeListener(I),L!==null&&google.maps.event.removeListener(L),O!==null&&google.maps.event.removeListener(O),T!==null&&google.maps.event.removeListener(T),_!==null&&google.maps.event.removeListener(_),z!==null&&google.maps.event.removeListener(z),J!==null&&google.maps.event.removeListener(J),G!==null&&google.maps.event.removeListener(G),W!==null&&google.maps.event.removeListener(W),j!==null&&google.maps.event.removeListener(j),X!==null&&google.maps.event.removeListener(X),me!==null&&google.maps.event.removeListener(me),oe!==null&&google.maps.event.removeListener(oe),b&&b(w),w.setMap(null))}},[]),null}p.memo(jJ);class FJ extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"state",{data:null}),Ut(this,"setDataCallback",()=>{this.state.data!==null&&this.props.onLoad&&this.props.onLoad(this.state.data)})}componentDidMount(){if(this.context!==null){var e=new google.maps.Data(t0(t0({},this.props.options),{},{map:this.context}));this.registeredEvents=Zn({updaterMap:X6,eventMap:J6,prevProps:{},nextProps:this.props,instance:e}),this.setState(()=>({data:e}),this.setDataCallback)}}componentDidUpdate(e){this.state.data!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:X6,eventMap:J6,prevProps:e,nextProps:this.props,instance:this.state.data}))}componentWillUnmount(){this.state.data!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),ea(this.registeredEvents),this.state.data&&this.state.data.setMap(null))}render(){return null}}Ut(FJ,"contextType",Bn);function Z6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Q6(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Z6(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Z6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var eA={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},tA={options(t,e){t.setOptions(e)},url(t,e){t.setUrl(e)},zIndex(t,e){t.setZIndex(e)}};class $J extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"state",{kmlLayer:null}),Ut(this,"setKmlLayerCallback",()=>{this.state.kmlLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.kmlLayer)})}componentDidMount(){var e=new google.maps.KmlLayer(Q6(Q6({},this.props.options),{},{map:this.context}));this.registeredEvents=Zn({updaterMap:tA,eventMap:eA,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{kmlLayer:e}},this.setKmlLayerCallback)}componentDidUpdate(e){this.state.kmlLayer!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:tA,eventMap:eA,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))}componentWillUnmount(){this.state.kmlLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),ea(this.registeredEvents),this.state.kmlLayer.setMap(null))}render(){return null}}Ut($J,"contextType",Bn);function Y9(t,e){return typeof e=="function"?e(t.offsetWidth,t.offsetHeight):{x:0,y:0}}function zJ(t,e){return new e(t.lat,t.lng)}function BJ(t,e){return new e(new google.maps.LatLng(t.ne.lat,t.ne.lng),new google.maps.LatLng(t.sw.lat,t.sw.lng))}function UJ(t,e,r){return t instanceof e?t:r(t,e)}function qJ(t,e,r){return t instanceof e?t:r(t,e)}function VJ(t,e,r){var n=t&&t.fromLatLngToDivPixel(r.getNorthEast()),a=t&&t.fromLatLngToDivPixel(r.getSouthWest());return n&&a?{left:"".concat(a.x+e.x,"px"),top:"".concat(n.y+e.y,"px"),width:"".concat(n.x-a.x-e.x,"px"),height:"".concat(a.y-n.y-e.y,"px")}:{left:"-9999px",top:"-9999px"}}function HJ(t,e,r){var n=t&&t.fromLatLngToDivPixel(r);if(n){var{x:a,y:i}=n;return{left:"".concat(a+e.x,"px"),top:"".concat(i+e.y,"px")}}return{left:"-9999px",top:"-9999px"}}function J9(t,e,r,n){return r!==void 0?VJ(t,e,qJ(r,google.maps.LatLngBounds,BJ)):HJ(t,e,UJ(n,google.maps.LatLng,zJ))}function WJ(t,e){return t.left===e.left&&t.top===e.top&&t.width===e.height&&t.height===e.height}function rA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function GJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rA(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KJ(t,e,r,n,a){class i extends google.maps.OverlayView{constructor(l,c,u,f){super(),this.container=l,this.pane=c,this.position=u,this.bounds=f}onAdd(){var l,c=(l=this.getPanes())===null||l===void 0?void 0:l[this.pane];c==null||c.appendChild(this.container)}draw(){var l=this.getProjection(),c=GJ({},this.container?Y9(this.container,a):{x:0,y:0}),u=J9(l,c,this.bounds,this.position);for(var[f,m]of Object.entries(u))this.container.style[f]=m}onRemove(){this.container.parentNode!==null&&this.container.parentNode.removeChild(this.container)}}return new i(t,e,r,n)}function nA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function YJ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nA(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aA(t){if(!t)return"";var e=t instanceof google.maps.LatLng?t:new google.maps.LatLng(t.lat,t.lng);return e+""}function oA(t){if(!t)return"";var e=t instanceof google.maps.LatLngBounds?t:new google.maps.LatLngBounds(new google.maps.LatLng(t.south,t.east),new google.maps.LatLng(t.north,t.west));return e+""}function JJ(t){var{position:e,bounds:r,mapPaneName:n,zIndex:a,onLoad:i,onUnmount:s,getPixelPositionOffset:l,children:c}=t,u=p.useContext(Bn),f=p.useMemo(()=>{var v=document.createElement("div");return v.style.position="absolute",v},[]),m=p.useMemo(()=>KJ(f,n,e,r,l),[f,n,e,r]);return p.useEffect(()=>(i==null||i(m),m==null||m.setMap(u),()=>{s==null||s(m),m==null||m.setMap(null)}),[u,m]),p.useEffect(()=>{f.style.zIndex="".concat(a)},[a,f]),Zf.createPortal(c,f)}p.memo(JJ);class Fp extends p.PureComponent{constructor(e){super(e),Ut(this,"state",{paneEl:null,containerStyle:{position:"absolute"}}),Ut(this,"updatePane",()=>{var n=this.props.mapPaneName,a=this.overlayView.getPanes();mi(!!n,"OverlayView requires props.mapPaneName but got %s",n),a?this.setState({paneEl:a[n]}):this.setState({paneEl:null})}),Ut(this,"onAdd",()=>{var n,a;this.updatePane(),(n=(a=this.props).onLoad)===null||n===void 0||n.call(a,this.overlayView)}),Ut(this,"onPositionElement",()=>{var n=this.overlayView.getProjection(),a=YJ({x:0,y:0},this.containerRef.current?Y9(this.containerRef.current,this.props.getPixelPositionOffset):{}),i=J9(n,a,this.props.bounds,this.props.position);if(!WJ(i,{left:this.state.containerStyle.left,top:this.state.containerStyle.top,width:this.state.containerStyle.width,height:this.state.containerStyle.height})){var s,l,c,u;this.setState({containerStyle:{top:(s=i.top)!==null&&s!==void 0?s:0,left:(l=i.left)!==null&&l!==void 0?l:0,width:(c=i.width)!==null&&c!==void 0?c:0,height:(u=i.height)!==null&&u!==void 0?u:0,position:"absolute"}})}}),Ut(this,"draw",()=>{this.onPositionElement()}),Ut(this,"onRemove",()=>{var n,a;this.setState(()=>({paneEl:null})),(n=(a=this.props).onUnmount)===null||n===void 0||n.call(a,this.overlayView)}),this.containerRef=p.createRef();var r=new google.maps.OverlayView;r.onAdd=this.onAdd,r.draw=this.draw,r.onRemove=this.onRemove,this.overlayView=r}componentDidMount(){this.overlayView.setMap(this.context)}componentDidUpdate(e){var r=aA(e.position),n=aA(this.props.position),a=oA(e.bounds),i=oA(this.props.bounds);(r!==n||a!==i)&&this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()}componentWillUnmount(){this.overlayView.setMap(null)}render(){var e=this.state.paneEl;return e?Zf.createPortal(Ol.jsx("div",{ref:this.containerRef,style:this.state.containerStyle,children:p.Children.only(this.props.children)}),e):null}}Ut(Fp,"FLOAT_PANE","floatPane");Ut(Fp,"MAP_PANE","mapPane");Ut(Fp,"MARKER_LAYER","markerLayer");Ut(Fp,"OVERLAY_LAYER","overlayLayer");Ut(Fp,"OVERLAY_MOUSE_TARGET","overlayMouseTarget");Ut(Fp,"contextType",Bn);function XJ(){}function iA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function sA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iA(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var lA={onDblClick:"dblclick",onClick:"click"},cA={opacity(t,e){t.setOpacity(e)}};function ZJ(t){var{url:e,bounds:r,options:n,visible:a}=t,i=p.useContext(Bn),s=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east)),l=p.useMemo(()=>new google.maps.GroundOverlay(e,s,n),[]);return p.useEffect(()=>{l!==null&&l.setMap(i)},[i]),p.useEffect(()=>{typeof e<"u"&&l!==null&&(l.set("url",e),l.setMap(i))},[l,e]),p.useEffect(()=>{typeof a<"u"&&l!==null&&l.setOpacity(a?1:0)},[l,a]),p.useEffect(()=>{var c=new google.maps.LatLngBounds(new google.maps.LatLng(r.south,r.west),new google.maps.LatLng(r.north,r.east));typeof r<"u"&&l!==null&&(l.set("bounds",c),l.setMap(i))},[l,r]),null}p.memo(ZJ);class X9 extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"state",{groundOverlay:null}),Ut(this,"setGroundOverlayCallback",()=>{this.state.groundOverlay!==null&&this.props.onLoad&&this.props.onLoad(this.state.groundOverlay)})}componentDidMount(){mi(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,sA(sA({},this.props.options),{},{map:this.context}));this.registeredEvents=Zn({updaterMap:cA,eventMap:lA,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{groundOverlay:e}},this.setGroundOverlayCallback)}componentDidUpdate(e){this.state.groundOverlay!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:cA,eventMap:lA,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))}componentWillUnmount(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))}render(){return null}}Ut(X9,"defaultProps",{onLoad:XJ});Ut(X9,"contextType",Bn);function uA(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function r0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uA(Object(r),!0).forEach(function(n){Ut(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uA(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var dA={},fA={data(t,e){t.setData(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)}};function QJ(t){var{data:e,onLoad:r,onUnmount:n,options:a}=t,i=p.useContext(Bn),[s,l]=p.useState(null);return p.useEffect(()=>{google.maps.visualization||mi(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)},[]),p.useEffect(()=>{mi(!!e,"data property is required in HeatmapLayer %s",e)},[e]),p.useEffect(()=>{s!==null&&s.setMap(i)},[i]),p.useEffect(()=>{a&&s!==null&&s.setOptions(a)},[s,a]),p.useEffect(()=>{var c=new google.maps.visualization.HeatmapLayer(r0(r0({},a),{},{data:e,map:i}));return l(c),r&&r(c),()=>{s!==null&&(n&&n(s),s.setMap(null))}},[]),null}p.memo(QJ);class eX extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"state",{heatmapLayer:null}),Ut(this,"setHeatmapLayerCallback",()=>{this.state.heatmapLayer!==null&&this.props.onLoad&&this.props.onLoad(this.state.heatmapLayer)})}componentDidMount(){mi(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),mi(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(r0(r0({},this.props.options),{},{data:this.props.data,map:this.context}));this.registeredEvents=Zn({updaterMap:fA,eventMap:dA,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{heatmapLayer:e}},this.setHeatmapLayerCallback)}componentDidUpdate(e){ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:fA,eventMap:dA,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})}componentWillUnmount(){this.state.heatmapLayer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),ea(this.registeredEvents),this.state.heatmapLayer.setMap(null))}render(){return null}}Ut(eX,"contextType",Bn);var mA={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},pA={register(t,e,r){t.registerPanoProvider(e,r)},links(t,e){t.setLinks(e)},motionTracking(t,e){t.setMotionTracking(e)},options(t,e){t.setOptions(e)},pano(t,e){t.setPano(e)},position(t,e){t.setPosition(e)},pov(t,e){t.setPov(e)},visible(t,e){t.setVisible(e)},zoom(t,e){t.setZoom(e)}};class tX extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"state",{streetViewPanorama:null}),Ut(this,"setStreetViewPanoramaCallback",()=>{this.state.streetViewPanorama!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewPanorama)})}componentDidMount(){var e,r,n=(e=(r=this.context)===null||r===void 0?void 0:r.getStreetView())!==null&&e!==void 0?e:null;this.registeredEvents=Zn({updaterMap:pA,eventMap:mA,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({streetViewPanorama:n}),this.setStreetViewPanoramaCallback)}componentDidUpdate(e){this.state.streetViewPanorama!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:pA,eventMap:mA,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))}componentWillUnmount(){this.state.streetViewPanorama!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),ea(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))}render(){return null}}Ut(tX,"contextType",Bn);class rX extends p.PureComponent{constructor(){super(...arguments),Ut(this,"state",{streetViewService:null}),Ut(this,"setStreetViewServiceCallback",()=>{this.state.streetViewService!==null&&this.props.onLoad&&this.props.onLoad(this.state.streetViewService)})}componentDidMount(){var e=new google.maps.StreetViewService;this.setState(function(){return{streetViewService:e}},this.setStreetViewServiceCallback)}componentWillUnmount(){this.state.streetViewService!==null&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)}render(){return null}}Ut(rX,"contextType",Bn);var gA={onDirectionsChanged:"directions_changed"},hA={directions(t,e){t.setDirections(e)},map(t,e){t.setMap(e)},options(t,e){t.setOptions(e)},panel(t,e){t.setPanel(e)},routeIndex(t,e){t.setRouteIndex(e)}};class nX extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"state",{directionsRenderer:null}),Ut(this,"setDirectionsRendererCallback",()=>{this.state.directionsRenderer!==null&&(this.state.directionsRenderer.setMap(this.context),this.props.onLoad&&this.props.onLoad(this.state.directionsRenderer))})}componentDidMount(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=Zn({updaterMap:hA,eventMap:gA,prevProps:{},nextProps:this.props,instance:e}),this.setState(function(){return{directionsRenderer:e}},this.setDirectionsRendererCallback)}componentDidUpdate(e){this.state.directionsRenderer!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:hA,eventMap:gA,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))}componentWillUnmount(){this.state.directionsRenderer!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),ea(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))}render(){return null}}Ut(nX,"contextType",Bn);var vA={onPlacesChanged:"places_changed"},bA={bounds(t,e){t.setBounds(e)}};class aX extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"containerElement",p.createRef()),Ut(this,"state",{searchBox:null}),Ut(this,"setSearchBoxCallback",()=>{this.state.searchBox!==null&&this.props.onLoad&&this.props.onLoad(this.state.searchBox)})}componentDidMount(){if(mi(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),this.containerElement!==null&&this.containerElement.current!==null){var e=this.containerElement.current.querySelector("input");if(e!==null){var r=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=Zn({updaterMap:bA,eventMap:vA,prevProps:{},nextProps:this.props,instance:r}),this.setState(function(){return{searchBox:r}},this.setSearchBoxCallback)}}}componentDidUpdate(e){this.state.searchBox!==null&&(ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:bA,eventMap:vA,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))}componentWillUnmount(){this.state.searchBox!==null&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),ea(this.registeredEvents))}render(){return Ol.jsx("div",{ref:this.containerElement,children:p.Children.only(this.props.children)})}}Ut(aX,"contextType",Bn);var yA={onPlaceChanged:"place_changed"},EA={bounds(t,e){t.setBounds(e)},restrictions(t,e){t.setComponentRestrictions(e)},fields(t,e){t.setFields(e)},options(t,e){t.setOptions(e)},types(t,e){t.setTypes(e)}};class dy extends p.PureComponent{constructor(){super(...arguments),Ut(this,"registeredEvents",[]),Ut(this,"containerElement",p.createRef()),Ut(this,"state",{autocomplete:null}),Ut(this,"setAutocompleteCallback",()=>{this.state.autocomplete!==null&&this.props.onLoad&&this.props.onLoad(this.state.autocomplete)})}componentDidMount(){var e;mi(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var r=(e=this.containerElement.current)===null||e===void 0?void 0:e.querySelector("input");if(r){var n=new google.maps.places.Autocomplete(r,this.props.options);this.registeredEvents=Zn({updaterMap:EA,eventMap:yA,prevProps:{},nextProps:this.props,instance:n}),this.setState(()=>({autocomplete:n}),this.setAutocompleteCallback)}}componentDidUpdate(e){ea(this.registeredEvents),this.registeredEvents=Zn({updaterMap:EA,eventMap:yA,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})}componentWillUnmount(){this.state.autocomplete!==null&&ea(this.registeredEvents)}render(){return Ol.jsx("div",{ref:this.containerElement,className:this.props.className,children:p.Children.only(this.props.children)})}}Ut(dy,"defaultProps",{className:""});Ut(dy,"contextType",Bn);const oX=["places"],iX=({tipo:t,proveedor:e,proveedores:r,onSave:n,onCancel:a,loading:i})=>{const{formData:s,errors:l,handleFieldChange:c,handleFieldBlur:u,validarCampos:f}=cY({tipo:t,proveedor:e,proveedores:r}),m="AIzaSyChcaitO44DwrtStITwPnMCNLI89JoIA4M",{isLoaded:v}=q9({googleMapsApiKey:m,libraries:oX}),h=p.useRef(null),E=x=>{h.current=x},y=()=>{if(h.current){const x=h.current.getPlace();if(x&&x.formatted_address){const w=x.formatted_address.slice(0,30);c("direccion",w)}}},b=()=>{f()&&n(s)};return o.createElement(o.Fragment,null,o.createElement("h2",{className:"modal-title"},t==="agregar"?"Agregar Proveedor":"Editar Proveedor"),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"modal-form-grid-wide"},o.createElement("label",null,"Tipo de Proveedor*",o.createElement("select",{value:s.tipoProveedor,onChange:x=>c("tipoProveedor",x.target.value),className:"modal-input",disabled:i},o.createElement("option",{value:"Natural"},"Natural"),o.createElement("option",{value:"Jurdico"},"Jurdico"))),o.createElement("label",null,"Tipo de Documento*",o.createElement("select",{value:s.tipoDocumento,onChange:x=>c("tipoDocumento",x.target.value),className:"modal-input",disabled:i},s.tipoProveedor==="Natural"?o.createElement(o.Fragment,null,o.createElement("option",{value:"CC"},"Cdula de Ciudadana"),o.createElement("option",{value:"CE"},"Cdula de Extranjera"),o.createElement("option",{value:"TI"},"Tarjeta de Identidad")):o.createElement(o.Fragment,null,o.createElement("option",{value:"NIT"},"NIT"),o.createElement("option",{value:"RUT"},"RUT")))),o.createElement("label",null,s.tipoProveedor==="Natural"?"Nmero de Documento*":s.tipoDocumento==="RUT"?"RUT*":"NIT*",o.createElement("input",{type:"text",value:s.documentoONit,onChange:x=>c("documentoONit",x.target.value),onBlur:x=>u("documentoONit",x.target.value),className:`modal-input ${l.documentoONit?"error":""}`,placeholder:s.tipoProveedor==="Natural"?"Nmero de documento":s.tipoDocumento==="RUT"?"Nmero de RUT":"Nmero de NIT",maxLength:s.tipoProveedor==="Natural"||s.tipoDocumento==="RUT"?"10":"12",disabled:i}),l.documentoONit&&o.createElement("span",{className:"error-message"},l.documentoONit)),s.tipoProveedor==="Natural"?o.createElement("label",null,"Nombre Completo*",o.createElement("input",{type:"text",value:s.nombre,onChange:x=>c("nombre",x.target.value),onBlur:x=>u("nombre",x.target.value),className:`modal-input ${l.nombre?"error":""}`,placeholder:"Ingrese el nombre completo",disabled:i}),l.nombre&&o.createElement("span",{className:"error-message"},l.nombre)):o.createElement(o.Fragment,null,o.createElement("label",null,"Razn Social*",o.createElement("input",{type:"text",value:s.nombreEmpresa,onChange:x=>c("nombreEmpresa",x.target.value),onBlur:x=>u("nombreEmpresa",x.target.value),className:`modal-input ${l.nombreEmpresa?"error":""}`,placeholder:"Ingrese la razn social",disabled:i}),l.nombreEmpresa&&o.createElement("span",{className:"error-message"},l.nombreEmpresa)),o.createElement("label",null,"Nombre del Contacto*",o.createElement("input",{type:"text",value:s.nombreContacto,onChange:x=>c("nombreContacto",x.target.value),onBlur:x=>u("nombreContacto",x.target.value),className:`modal-input ${l.nombreContacto?"error":""}`,placeholder:"Ingrese el nombre del contacto",disabled:i}),l.nombreContacto&&o.createElement("span",{className:"error-message"},l.nombreContacto))),o.createElement("label",null,"Telfono*",o.createElement("input",{type:"text",value:s.contacto,onChange:x=>c("contacto",x.target.value),onBlur:x=>u("contacto",x.target.value),className:`modal-input ${l.contacto?"error":""}`,placeholder:"Nmero de telfono (7-10 dgitos)",maxLength:"10",disabled:i}),l.contacto&&o.createElement("span",{className:"error-message"},l.contacto)),o.createElement("label",null,"Correo Electrnico*",o.createElement("input",{type:"email",value:s.correo,onChange:x=>c("correo",x.target.value),onBlur:x=>u("correo",x.target.value),className:`modal-input ${l.correo?"error":""}`,placeholder:"ejemplo@correo.com",disabled:i}),l.correo&&o.createElement("span",{className:"error-message"},l.correo)),o.createElement("label",null,"Direccin*",v?o.createElement(dy,{onLoad:E,onPlaceChanged:y},o.createElement("input",{type:"text",value:s.direccion,onChange:x=>c("direccion",x.target.value),onBlur:x=>u("direccion",x.target.value),className:`modal-input ${l.direccion?"error":""}`,placeholder:"Busca una direccin vlida...",disabled:i})):o.createElement("input",{type:"text",value:s.direccion,onChange:x=>c("direccion",x.target.value),onBlur:x=>u("direccion",x.target.value),className:`modal-input ${l.direccion?"error":""}`,placeholder:"Direccin completa",disabled:i}),l.direccion&&o.createElement("span",{className:"error-message"},l.direccion)),t==="editar"&&o.createElement("label",null,"Estado",o.createElement("div",{className:"switch-container",style:{display:"flex",alignItems:"center",gap:"10px",marginTop:"5px"}},o.createElement("span",{style:{color:s.estadoProveedor?"#4CAF50":"#f44336",fontWeight:"bold"}},s.estadoProveedor?"Activo":"Inactivo"),o.createElement(Xo,{checked:s.estadoProveedor,onChange:x=>c("estadoProveedor",x.value),disabled:i}))))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:a,disabled:i},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:b,disabled:i},i?"Guardando...":"Guardar")))},sX=({proveedor:t,onClose:e})=>t?o.createElement(o.Fragment,null,o.createElement("h2",{className:"modal-title"},"Detalles del Proveedor"),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"modal-form-grid-wide"},o.createElement("label",null,"Tipo de Proveedor*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.tipo)),o.createElement("label",null,"Tipo de Documento*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.tipoDocumento)),o.createElement("label",null,t.tipo==="Natural"?"Nmero de Documento*":t.tipoDocumento==="RUT"?"RUT*":"NIT*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.documento||t.extra)),t.tipo==="Natural"?o.createElement("label",null,"Nombre Completo*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.nombreProveedor||t.nombre)):o.createElement(o.Fragment,null,o.createElement("label",null,"Razn Social*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.nombreEmpresa)),o.createElement("label",null,"Nombre del Contacto*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.nombreProveedor||t.nombreContacto))),o.createElement("label",null,"Telfono*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.contacto)),o.createElement("label",null,"Correo Electrnico*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.correo)),o.createElement("label",null,"Direccin*",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},t.direccion)),o.createElement("label",null,"Estado",o.createElement("div",{className:"modal-input",style:{backgroundColor:"#f8f9fa",cursor:"default",pointerEvents:"none"}},o.createElement("span",{style:{color:t.estado?"#4CAF50":"#f44336",fontWeight:"bold"}},t.estado?"Activo":"Inactivo"))))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e},"Cerrar"))):null,lX=({mensaje:t,tipo:e,visible:r,onClose:n})=>{if(!r||!t)return null;const a={contenedor:{position:"fixed",top:"20px",right:"20px",backgroundColor:e==="success"?"#d1fae5":"#fee2e2",borderLeft:e==="success"?"4px solid #10b981":"4px solid #ef4444",borderRadius:"8px",padding:"20px 24px",minWidth:"300px",maxWidth:"500px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)",zIndex:1e4,animation:"slideInRight 0.3s ease-out"},contenido:{display:"flex",alignItems:"center",gap:"12px"},icono:{fontSize:"24px",flexShrink:0},mensaje:{flex:1,color:e==="success"?"#065f46":"#991b1b",fontSize:"14px",fontWeight:"500",lineHeight:"1.5"},botonCerrar:{background:"none",border:"none",fontSize:"24px",color:e==="success"?"#065f46":"#991b1b",cursor:"pointer",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",opacity:.6,transition:"opacity 0.2s",flexShrink:0}};return o.createElement(o.Fragment,null,o.createElement("style",null,`
        @keyframes fadeIn {
          from { opacity: 0; }
          to { opacity: 1; }
        }
        @keyframes slideDown {
          from { 
            transform: translateY(-20px);
            opacity: 0;
          }
          to { 
            transform: translateY(0);
            opacity: 1;
          }
        }
      `),o.createElement("div",{style:a.overlay,onClick:n},o.createElement("div",{style:a.contenedor,onClick:i=>i.stopPropagation()},o.createElement("div",{style:a.contenido},o.createElement("span",{style:a.icono},e==="success"?"":""),o.createElement("span",{style:a.mensaje},t),o.createElement("button",{style:a.botonCerrar,onClick:n,onMouseEnter:i=>i.target.style.opacity="1",onMouseLeave:i=>i.target.style.opacity="0.6"},"")))))},cX=({proveedor:t,onConfirm:e,onCancel:r,loading:n,alerta:a={visible:!1,mensaje:"",tipo:"success"},cerrarAlerta:i=()=>{}})=>{if(!t)return null;const s=()=>t.tipo==="Natural"?t.nombreProveedor||t.nombre||"Sin nombre":t.nombreEmpresa||"Sin nombre de empresa";return o.createElement(o.Fragment,null,a&&o.createElement(lX,{mensaje:a.mensaje,tipo:a.tipo,visible:a.visible,onClose:i}),o.createElement("h2",{className:"modal-title"},"Confirmar Eliminacin"),o.createElement("p",null,"Ests seguro de que quieres eliminar al proveedor"," ",o.createElement("strong",null,s()),"?"),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:r,disabled:n},"Cancelar"),o.createElement("button",{className:"modal-btn",onClick:e,disabled:n,style:{backgroundColor:"#ff4081",color:"white",border:"none",padding:"8px 16px",borderRadius:"6px",cursor:n?"not-allowed":"pointer",fontWeight:"600",transition:"background-color 0.2s ease"},onMouseEnter:l=>{n||(l.target.style.backgroundColor="#fbbf24")},onMouseLeave:l=>{l.target.style.backgroundColor="#ff4081"}},n?"Eliminando...":"Eliminar")))},uX=({tipo:t,proveedor:e,proveedores:r,onClose:n,onSuccess:a})=>{const[i,s]=p.useState(!1),[l,c]=p.useState("Cargando..."),[u,f]=p.useState({visible:!1,mensaje:"",tipo:"success"}),m=(y,b="success")=>{f({visible:!0,mensaje:y,tipo:b}),setTimeout(()=>{f({visible:!1,mensaje:"",tipo:"success"})},3e3)};return{loading:i,mensajeCarga:l,guardarProveedor:async y=>{c(t==="agregar"?"Agregando proveedor...":"Actualizando proveedor..."),s(!0);try{const b={tipodocumento:y.tipoDocumento,documento:y.documentoONit,contacto:y.contacto,correo:y.correo,direccion:y.direccion,estado:y.estadoProveedor,TipoProveedor:y.tipoProveedor,...y.tipoProveedor==="Natural"?{nombreproveedor:y.nombre,nombreempresa:null}:{nombreempresa:y.nombreEmpresa,nombreproveedor:y.nombreContacto}};if(console.log(" Datos del proveedor a guardar:",b),t==="agregar")await Uf.crearProveedor(b),m("Proveedor agregado exitosamente","success");else if(t==="editar"){const x=e.idProveedor||e.idproveedor;await Uf.actualizarProveedor(x,b),m("Proveedor actualizado exitosamente","success")}setTimeout(()=>{a(),n()},1500)}catch(b){console.error(" Error al guardar proveedor:",b);let x="Error al guardar el proveedor";b.message&&b.message.includes("integer")&&(x="El telfono o documento contiene caracteres invlidos"),m(x,"error")}finally{s(!1)}},confirmarEliminar:async()=>{var y;c("Eliminando proveedor..."),s(!0);try{const b=e.idProveedor||e.idproveedor;await Uf.eliminarProveedor(b),m("Proveedor eliminado exitosamente","success"),setTimeout(()=>{a(),n()},1500)}catch(b){console.error(" Error al eliminar proveedor:",b);const x=JSON.stringify(b).toLowerCase(),w=((y=b.message)==null?void 0:y.toLowerCase())||"";x.includes("foreign key")||x.includes("fkey")||x.includes("compra_idproveedor")||w.includes("foreign key")||w.includes("constraint"),m("No es posible eliminar este proveedor porque est asociado a una o ms compras registradas en el sistema","error")}finally{s(!1)}},alerta:u,cerrarAlerta:()=>{f({visible:!1,mensaje:"",tipo:"success"})}}},dX=({visible:t,tipo:e,proveedor:r,proveedores:n,onClose:a,onSuccess:i,loading:s})=>{const l=uX({tipo:e,proveedor:r,proveedores:n,onClose:a,onSuccess:i});if(!t)return null;const c=()=>{switch(e){case"agregar":case"editar":return o.createElement(iX,{tipo:e,proveedor:r,proveedores:n,onSave:l.guardarProveedor,onCancel:a,loading:l.loading});case"visualizar":return o.createElement(sX,{proveedor:r,onClose:a});case"eliminar":return o.createElement(cX,{proveedor:r,onConfirm:l.confirmarEliminar,onCancel:a,loading:l.loading,alerta:l.alerta,cerrarAlerta:l.cerrarAlerta});default:return null}};return o.createElement(Ta,{visible:t,onClose:a,className:e==="eliminar"?"":"modal-wide"},c())},fX=()=>{const[t,e]=p.useState([]),[r,n]=p.useState(""),[a,i]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[s,l]=p.useState(!1),c=(v,h="success")=>{i({visible:!0,mensaje:v,tipo:h})};return{proveedores:t,setProveedores:e,filtro:r,setFiltro:n,notification:a,loading:s,setLoading:l,showNotification:c,hideNotification:()=>{i({visible:!1,mensaje:"",tipo:"success"})},cargarProveedores:async()=>{l(!0);try{const h=(await Uf.obtenerProveedores()).sort((E,y)=>{const b=E.idProveedor||E.idproveedor||0;return(y.idProveedor||y.idproveedor||0)-b});e(h)}catch(v){console.error("Error cargando proveedores:",v),c("Error al cargar los proveedores","error")}finally{l(!1)}},toggleEstado:async v=>{var h,E;l(!0);try{console.log(" Cambiando estado de proveedor:",v);const y=v.idProveedor||v.idproveedor;await Uf.cambiarEstadoProveedor(y,!v.estado);const b=t.map(x=>x.idProveedor===y||x.idproveedor===y?{...x,estado:!x.estado}:x);e(b),c(`Proveedor ${v.estado?"desactivado":"activado"} exitosamente`)}catch(y){console.error("Error al cambiar estado:",y);const b=((E=(h=y.response)==null?void 0:h.data)==null?void 0:E.message)||y.message||"Error al cambiar el estado del proveedor";c(b,"error")}finally{l(!1)}}}};function mX(){const{proveedores:t,loading:e,filtro:r,setFiltro:n,notification:a,hideNotification:i,toggleEstado:s,cargarProveedores:l}=fX(),[c,u]=p.useState(!1),[f,m]=p.useState(null),[v,h]=p.useState(null);p.useEffect(()=>{l()},[]);const E=(x,w=null)=>{m(x),h(w),u(!0)},y=()=>{u(!1),h(null),m(null)},b=t.filter(x=>{var D,z,V,J,ie,G,te,W,B;const w=r.toLowerCase(),N=((D=x.nombre)==null?void 0:D.toLowerCase())||"",I=((z=x.tipo)==null?void 0:z.toLowerCase())||"",P=((V=x.contacto)==null?void 0:V.toLowerCase())||"",L=((J=x.correo)==null?void 0:J.toLowerCase())||"",R=((ie=x.direccion)==null?void 0:ie.toLowerCase())||"",O=((G=x.tipoDocumento)==null?void 0:G.toLowerCase())||"",A=((te=x.extra)==null?void 0:te.toLowerCase())||"",T=x.estado?"activo":"inactivo",C=((W=x.nombreEmpresa)==null?void 0:W.toLowerCase())||"",_=((B=x.nombreContacto)==null?void 0:B.toLowerCase())||"";return N.includes(w)||I.includes(w)||P.includes(w)||L.includes(w)||R.includes(w)||O.includes(w)||A.includes(w)||T.includes(w)||C.includes(w)||_.includes(w)});return e?o.createElement(rc,null):o.createElement("div",{className:"admin-wrapper"},o.createElement(Fo,{visible:a.visible,mensaje:a.mensaje,tipo:a.tipo,onClose:i}),o.createElement("div",{className:"admin-toolbar"},o.createElement(tc,{placeholder:"Buscar proveedor...",value:r,onChange:n}),o.createElement("button",{className:"admin-button pink",onClick:()=>E("agregar"),disabled:e,type:"button"},o.createElement("i",{className:"fas fa-plus"})," Agregar")),o.createElement("h2",{className:"admin-section-title"},"Gestin de Proveedores"),o.createElement(_s,{value:b,className:"admin-table compact-paginator",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"},emptyMessage:"No se encontraron proveedores"},o.createElement(cr,{header:"N",body:(x,{rowIndex:w})=>w+1,style:{width:"50px"}}),o.createElement(cr,{field:"nombre",header:"Nombre"}),o.createElement(cr,{field:"tipo",header:"Tipo Proveedor"}),o.createElement(cr,{field:"contacto",header:"Contacto"}),o.createElement(cr,{field:"correo",header:"Correo"}),o.createElement(cr,{field:"direccion",header:"Direccin"}),o.createElement(cr,{header:"Estado",body:x=>o.createElement(Xo,{checked:x.estado,onChange:()=>s(x),disabled:e}),style:{width:"80px"}}),o.createElement(cr,{header:"Acciones",body:x=>o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"3px"}},o.createElement(qn,{text:"Visualizar"},o.createElement("button",{className:"admin-button",onClick:()=>E("visualizar",x),disabled:e,style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-eye",style:{fontSize:"11px"}}))),o.createElement(qn,{text:x.estado?"Editar":"Proveedor inactivo"},o.createElement("button",{className:"admin-button",onClick:()=>E("editar",x),disabled:e||!x.estado,style:{background:x.estado?"#fff8e1":"#f5f5f5",color:x.estado?"#f57c00":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:x.estado?"pointer":"not-allowed",opacity:x.estado?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-pen",style:{fontSize:"11px"}}))),o.createElement(qn,{text:x.estado?"Eliminar":"Proveedor inactivo"},o.createElement("button",{className:"admin-button",onClick:()=>E("eliminar",x),disabled:e||!x.estado,style:{background:x.estado?"#ffebee":"#f5f5f5",color:x.estado?"#d32f2f":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:x.estado?"pointer":"not-allowed",opacity:x.estado?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-trash",style:{fontSize:"11px"}})))),style:{width:"100px"}})),o.createElement(dX,{visible:c,tipo:f,proveedor:v,proveedores:t,onClose:y,onSuccess:l,loading:e}))}function Z9(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=Z9(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Kn(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=Z9(t))&&(n&&(n+=" "),n+=e);return n}var PE,xA;function tl(){if(xA)return PE;xA=1;var t=Array.isArray;return PE=t,PE}var NE,wA;function Q9(){if(wA)return NE;wA=1;var t=typeof Bv=="object"&&Bv&&Bv.Object===Object&&Bv;return NE=t,NE}var kE,SA;function yu(){if(SA)return kE;SA=1;var t=Q9(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return kE=r,kE}var AE,CA;function sv(){if(CA)return AE;CA=1;var t=yu(),e=t.Symbol;return AE=e,AE}var OE,PA;function pX(){if(PA)return OE;PA=1;var t=sv(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function i(s){var l=r.call(s,a),c=s[a];try{s[a]=void 0;var u=!0}catch{}var f=n.call(s);return u&&(l?s[a]=c:delete s[a]),f}return OE=i,OE}var IE,NA;function gX(){if(NA)return IE;NA=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return IE=r,IE}var _E,kA;function Qu(){if(kA)return _E;kA=1;var t=sv(),e=pX(),r=gX(),n="[object Null]",a="[object Undefined]",i=t?t.toStringTag:void 0;function s(l){return l==null?l===void 0?a:n:i&&i in Object(l)?e(l):r(l)}return _E=s,_E}var LE,AA;function ed(){if(AA)return LE;AA=1;function t(e){return e!=null&&typeof e=="object"}return LE=t,LE}var TE,OA;function $p(){if(OA)return TE;OA=1;var t=Qu(),e=ed(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return TE=n,TE}var RE,IA;function N3(){if(IA)return RE;IA=1;var t=tl(),e=$p(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(i,s){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||s!=null&&i in Object(s)}return RE=a,RE}var ME,_A;function Gd(){if(_A)return ME;_A=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return ME=t,ME}var DE,LA;function k3(){if(LA)return DE;LA=1;var t=Qu(),e=Gd(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",i="[object Proxy]";function s(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==i}return DE=s,DE}var jE,TA;function hX(){if(TA)return jE;TA=1;var t=yu(),e=t["__core-js_shared__"];return jE=e,jE}var FE,RA;function vX(){if(RA)return FE;RA=1;var t=hX(),e=function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}();function r(n){return!!e&&e in n}return FE=r,FE}var $E,MA;function eM(){if(MA)return $E;MA=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return $E=r,$E}var zE,DA;function bX(){if(DA)return zE;DA=1;var t=k3(),e=vX(),r=Gd(),n=eM(),a=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,f=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(v){if(!r(v)||e(v))return!1;var h=t(v)?f:i;return h.test(n(v))}return zE=m,zE}var BE,jA;function yX(){if(jA)return BE;jA=1;function t(e,r){return e==null?void 0:e[r]}return BE=t,BE}var UE,FA;function tm(){if(FA)return UE;FA=1;var t=bX(),e=yX();function r(n,a){var i=e(n,a);return t(i)?i:void 0}return UE=r,UE}var qE,$A;function fy(){if($A)return qE;$A=1;var t=tm(),e=t(Object,"create");return qE=e,qE}var VE,zA;function EX(){if(zA)return VE;zA=1;var t=fy();function e(){this.__data__=t?t(null):{},this.size=0}return VE=e,VE}var HE,BA;function xX(){if(BA)return HE;BA=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return HE=t,HE}var WE,UA;function wX(){if(UA)return WE;UA=1;var t=fy(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(i){var s=this.__data__;if(t){var l=s[i];return l===e?void 0:l}return n.call(s,i)?s[i]:void 0}return WE=a,WE}var GE,qA;function SX(){if(qA)return GE;qA=1;var t=fy(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var i=this.__data__;return t?i[a]!==void 0:r.call(i,a)}return GE=n,GE}var KE,VA;function CX(){if(VA)return KE;VA=1;var t=fy(),e="__lodash_hash_undefined__";function r(n,a){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&a===void 0?e:a,this}return KE=r,KE}var YE,HA;function PX(){if(HA)return YE;HA=1;var t=EX(),e=xX(),r=wX(),n=SX(),a=CX();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,YE=i,YE}var JE,WA;function NX(){if(WA)return JE;WA=1;function t(){this.__data__=[],this.size=0}return JE=t,JE}var XE,GA;function A3(){if(GA)return XE;GA=1;function t(e,r){return e===r||e!==e&&r!==r}return XE=t,XE}var ZE,KA;function my(){if(KA)return ZE;KA=1;var t=A3();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return ZE=e,ZE}var QE,YA;function kX(){if(YA)return QE;YA=1;var t=my(),e=Array.prototype,r=e.splice;function n(a){var i=this.__data__,s=t(i,a);if(s<0)return!1;var l=i.length-1;return s==l?i.pop():r.call(i,s,1),--this.size,!0}return QE=n,QE}var ex,JA;function AX(){if(JA)return ex;JA=1;var t=my();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return ex=e,ex}var tx,XA;function OX(){if(XA)return tx;XA=1;var t=my();function e(r){return t(this.__data__,r)>-1}return tx=e,tx}var rx,ZA;function IX(){if(ZA)return rx;ZA=1;var t=my();function e(r,n){var a=this.__data__,i=t(a,r);return i<0?(++this.size,a.push([r,n])):a[i][1]=n,this}return rx=e,rx}var nx,QA;function py(){if(QA)return nx;QA=1;var t=NX(),e=kX(),r=AX(),n=OX(),a=IX();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,nx=i,nx}var ax,eO;function O3(){if(eO)return ax;eO=1;var t=tm(),e=yu(),r=t(e,"Map");return ax=r,ax}var ox,tO;function _X(){if(tO)return ox;tO=1;var t=PX(),e=py(),r=O3();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return ox=n,ox}var ix,rO;function LX(){if(rO)return ix;rO=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return ix=t,ix}var sx,nO;function gy(){if(nO)return sx;nO=1;var t=LX();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return sx=e,sx}var lx,aO;function TX(){if(aO)return lx;aO=1;var t=gy();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return lx=e,lx}var cx,oO;function RX(){if(oO)return cx;oO=1;var t=gy();function e(r){return t(this,r).get(r)}return cx=e,cx}var ux,iO;function MX(){if(iO)return ux;iO=1;var t=gy();function e(r){return t(this,r).has(r)}return ux=e,ux}var dx,sO;function DX(){if(sO)return dx;sO=1;var t=gy();function e(r,n){var a=t(this,r),i=a.size;return a.set(r,n),this.size+=a.size==i?0:1,this}return dx=e,dx}var fx,lO;function I3(){if(lO)return fx;lO=1;var t=_X(),e=TX(),r=RX(),n=MX(),a=DX();function i(s){var l=-1,c=s==null?0:s.length;for(this.clear();++l<c;){var u=s[l];this.set(u[0],u[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=a,fx=i,fx}var mx,cO;function tM(){if(cO)return mx;cO=1;var t=I3(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var i=function(){var s=arguments,l=a?a.apply(this,s):s[0],c=i.cache;if(c.has(l))return c.get(l);var u=n.apply(this,s);return i.cache=c.set(l,u)||c,u};return i.cache=new(r.Cache||t),i}return r.Cache=t,mx=r,mx}var px,uO;function jX(){if(uO)return px;uO=1;var t=tM(),e=500;function r(n){var a=t(n,function(s){return i.size===e&&i.clear(),s}),i=a.cache;return a}return px=r,px}var gx,dO;function FX(){if(dO)return gx;dO=1;var t=jX(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var i=[];return a.charCodeAt(0)===46&&i.push(""),a.replace(e,function(s,l,c,u){i.push(c?u.replace(r,"$1"):l||s)}),i});return gx=n,gx}var hx,fO;function _3(){if(fO)return hx;fO=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=Array(a);++n<a;)i[n]=r(e[n],n,e);return i}return hx=t,hx}var vx,mO;function $X(){if(mO)return vx;mO=1;var t=sv(),e=_3(),r=tl(),n=$p(),a=t?t.prototype:void 0,i=a?a.toString:void 0;function s(l){if(typeof l=="string")return l;if(r(l))return e(l,s)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return vx=s,vx}var bx,pO;function rM(){if(pO)return bx;pO=1;var t=$X();function e(r){return r==null?"":t(r)}return bx=e,bx}var yx,gO;function nM(){if(gO)return yx;gO=1;var t=tl(),e=N3(),r=FX(),n=rM();function a(i,s){return t(i)?i:e(i,s)?[i]:r(n(i))}return yx=a,yx}var Ex,hO;function hy(){if(hO)return Ex;hO=1;var t=$p();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return Ex=e,Ex}var xx,vO;function L3(){if(vO)return xx;vO=1;var t=nM(),e=hy();function r(n,a){a=t(a,n);for(var i=0,s=a.length;n!=null&&i<s;)n=n[e(a[i++])];return i&&i==s?n:void 0}return xx=r,xx}var wx,bO;function aM(){if(bO)return wx;bO=1;var t=L3();function e(r,n,a){var i=r==null?void 0:t(r,n);return i===void 0?a:i}return wx=e,wx}var zX=aM();const Il=wa(zX);var Sx,yO;function BX(){if(yO)return Sx;yO=1;function t(e){return e==null}return Sx=t,Sx}var UX=BX();const Jn=wa(UX);var Cx,EO;function qX(){if(EO)return Cx;EO=1;var t=Qu(),e=tl(),r=ed(),n="[object String]";function a(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return Cx=a,Cx}var VX=qX();const Wf=wa(VX);var HX=k3();const kn=wa(HX);var WX=Gd();const zp=wa(WX);var Px={exports:{}},ka={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xO;function GX(){if(xO)return ka;xO=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),s=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),E;E=Symbol.for("react.module.reference");function y(b){if(typeof b=="object"&&b!==null){var x=b.$$typeof;switch(x){case t:switch(b=b.type,b){case r:case a:case n:case u:case f:return b;default:switch(b=b&&b.$$typeof,b){case l:case s:case c:case v:case m:case i:return b;default:return x}}case e:return x}}}return ka.ContextConsumer=s,ka.ContextProvider=i,ka.Element=t,ka.ForwardRef=c,ka.Fragment=r,ka.Lazy=v,ka.Memo=m,ka.Portal=e,ka.Profiler=a,ka.StrictMode=n,ka.Suspense=u,ka.SuspenseList=f,ka.isAsyncMode=function(){return!1},ka.isConcurrentMode=function(){return!1},ka.isContextConsumer=function(b){return y(b)===s},ka.isContextProvider=function(b){return y(b)===i},ka.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},ka.isForwardRef=function(b){return y(b)===c},ka.isFragment=function(b){return y(b)===r},ka.isLazy=function(b){return y(b)===v},ka.isMemo=function(b){return y(b)===m},ka.isPortal=function(b){return y(b)===e},ka.isProfiler=function(b){return y(b)===a},ka.isStrictMode=function(b){return y(b)===n},ka.isSuspense=function(b){return y(b)===u},ka.isSuspenseList=function(b){return y(b)===f},ka.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===u||b===f||b===h||typeof b=="object"&&b!==null&&(b.$$typeof===v||b.$$typeof===m||b.$$typeof===i||b.$$typeof===s||b.$$typeof===c||b.$$typeof===E||b.getModuleId!==void 0)},ka.typeOf=y,ka}var wO;function KX(){return wO||(wO=1,Px.exports=GX()),Px.exports}var YX=KX(),Nx,SO;function oM(){if(SO)return Nx;SO=1;var t=Qu(),e=ed(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return Nx=n,Nx}var kx,CO;function JX(){if(CO)return kx;CO=1;var t=oM();function e(r){return t(r)&&r!=+r}return kx=e,kx}var XX=JX();const lv=wa(XX);var ZX=oM();const QX=wa(ZX);var ks=function(e){return e===0?0:e>0?1:-1},Mf=function(e){return Wf(e)&&e.indexOf("%")===e.length-1},hr=function(e){return QX(e)&&!lv(e)},fi=function(e){return hr(e)||Wf(e)},eZ=0,cv=function(e){var r=++eZ;return"".concat(e||"").concat(r)},As=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!hr(e)&&!Wf(e))return n;var i;if(Mf(e)){var s=e.indexOf("%");i=r*parseFloat(e.slice(0,s))/100}else i=+e;return lv(i)&&(i=n),a&&i>r&&(i=r),i},Ld=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},tZ=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},Od=function(e,r){return hr(e)&&hr(r)?function(n){return e+n*(r-e)}:function(){return r}};function jS(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Il(n,e))===r})}var rZ=function(e,r){return hr(e)&&hr(r)?e-r:Wf(e)&&Wf(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function ap(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function FS(t){"@babel/helpers - typeof";return FS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},FS(t)}var nZ=["viewBox","children"],aZ=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],PO=["points","pathLength"],Ax={svg:nZ,polygon:PO,polyline:PO},T3=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],n0=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(p.isValidElement(e)&&(n=e.props),!zp(n))return null;var a={};return Object.keys(n).forEach(function(i){T3.includes(i)&&(a[i]=r||function(s){return n[i](n,s)})}),a},oZ=function(e,r,n){return function(a){return e(r,n,a),null}},Gf=function(e,r,n){if(!zp(e)||FS(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(i){var s=e[i];T3.includes(i)&&typeof s=="function"&&(a||(a={}),a[i]=oZ(s,r,n))}),a},iZ=["children"],sZ=["children"];function NO(t,e){if(t==null)return{};var r=lZ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kO={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Vu=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},AO=null,Ox=null,R3=function t(e){if(e===AO&&Array.isArray(Ox))return Ox;var r=[];return p.Children.forEach(e,function(n){Jn(n)||(YX.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Ox=r,AO=e,r};function Ql(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Vu(a)}):n=[Vu(e)],R3(t).forEach(function(a){var i=Il(a,"type.displayName")||Il(a,"type.name");n.indexOf(i)!==-1&&r.push(a)}),r}function Pl(t,e){var r=Ql(t,e);return r&&r[0]}var OO=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!hr(n)||n<=0||!hr(a)||a<=0)},cZ=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],uZ=function(e){return e&&e.type&&Wf(e.type)&&cZ.indexOf(e.type)>=0},dZ=function(e,r,n,a){var i,s=(i=Ax==null?void 0:Ax[a])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!kn(e)&&(a&&s.includes(r)||aZ.includes(r))||n&&T3.includes(r)},wn=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(p.isValidElement(e)&&(a=e.props),!zp(a))return null;var i={};return Object.keys(a).forEach(function(s){var l;dZ((l=a)===null||l===void 0?void 0:l[s],s,r,n)&&(i[s]=a[s])}),i},$S=function t(e,r){if(e===r)return!0;var n=p.Children.count(e);if(n!==p.Children.count(r))return!1;if(n===0)return!0;if(n===1)return IO(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var i=e[a],s=r[a];if(Array.isArray(i)||Array.isArray(s)){if(!t(i,s))return!1}else if(!IO(i,s))return!1}return!0},IO=function(e,r){if(Jn(e)&&Jn(r))return!0;if(!Jn(e)&&!Jn(r)){var n=e.props||{},a=n.children,i=NO(n,iZ),s=r.props||{},l=s.children,c=NO(s,sZ);return a&&l?ap(i,c)&&$S(a,l):!a&&!l?ap(i,c):!1}return!1},_O=function(e,r){var n=[],a={};return R3(e).forEach(function(i,s){if(uZ(i))n.push(i);else if(i){var l=Vu(i.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var m=u(i,l,s);n.push(m),a[l]=!0}}}),n},fZ=function(e){var r=e&&e.type;return r&&kO[r]?kO[r]:null},mZ=function(e,r){return R3(r).indexOf(e)},pZ=["children","width","height","viewBox","className","style","title","desc"];function zS(){return zS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zS.apply(this,arguments)}function gZ(t,e){if(t==null)return{};var r=hZ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function BS(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,i=t.className,s=t.style,l=t.title,c=t.desc,u=gZ(t,pZ),f=a||{width:r,height:n,x:0,y:0},m=Kn("recharts-surface",i);return o.createElement("svg",zS({},wn(u,!0,"svg"),{className:m,width:r,height:n,style:s,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),o.createElement("title",null,l),o.createElement("desc",null,c),e)}var vZ=["children","className"];function US(){return US=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},US.apply(this,arguments)}function bZ(t,e){if(t==null)return{};var r=yZ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function yZ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var La=o.forwardRef(function(t,e){var r=t.children,n=t.className,a=bZ(t,vZ),i=Kn("recharts-layer",n);return o.createElement("g",US({className:i},wn(a,!0),{ref:e}),r)}),zc=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i]},Ix,LO;function EZ(){if(LO)return Ix;LO=1;function t(e,r,n){var a=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(i);++a<i;)s[a]=e[a+r];return s}return Ix=t,Ix}var _x,TO;function xZ(){if(TO)return _x;TO=1;var t=EZ();function e(r,n,a){var i=r.length;return a=a===void 0?i:a,!n&&a>=i?r:t(r,n,a)}return _x=e,_x}var Lx,RO;function iM(){if(RO)return Lx;RO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="\\u200d",l=RegExp("["+s+t+a+i+"]");function c(u){return l.test(u)}return Lx=c,Lx}var Tx,MO;function wZ(){if(MO)return Tx;MO=1;function t(e){return e.split("")}return Tx=t,Tx}var Rx,DO;function SZ(){if(DO)return Rx;DO=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,i="\\ufe0e\\ufe0f",s="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",f="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",h="\\u200d",E=u+"?",y="["+i+"]?",b="(?:"+h+"(?:"+[f,m,v].join("|")+")"+y+E+")*",x=y+E+b,w="(?:"+[f+l+"?",l,m,v,s].join("|")+")",N=RegExp(c+"(?="+c+")|"+w+x,"g");function I(P){return P.match(N)||[]}return Rx=I,Rx}var Mx,jO;function CZ(){if(jO)return Mx;jO=1;var t=wZ(),e=iM(),r=SZ();function n(a){return e(a)?r(a):t(a)}return Mx=n,Mx}var Dx,FO;function PZ(){if(FO)return Dx;FO=1;var t=xZ(),e=iM(),r=CZ(),n=rM();function a(i){return function(s){s=n(s);var l=e(s)?r(s):void 0,c=l?l[0]:s.charAt(0),u=l?t(l,1).join(""):s.slice(1);return c[i]()+u}}return Dx=a,Dx}var jx,$O;function NZ(){if($O)return jx;$O=1;var t=PZ(),e=t("toUpperCase");return jx=e,jx}var kZ=NZ();const vy=wa(kZ);function eo(t){return function(){return t}}const sM=Math.cos,a0=Math.sin,Vc=Math.sqrt,o0=Math.PI,by=2*o0,qS=Math.PI,VS=2*qS,Nf=1e-6,AZ=VS-Nf;function lM(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function OZ(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return lM;const r=10**e;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class IZ{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?lM:OZ(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,i,s){this._append`C${+e},${+r},${+n},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,r,n,a,i){if(e=+e,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,l=this._y1,c=n-e,u=a-r,f=s-e,m=l-r,v=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(v>Nf)if(!(Math.abs(m*c-u*f)>Nf)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let h=n-s,E=a-l,y=c*c+u*u,b=h*h+E*E,x=Math.sqrt(y),w=Math.sqrt(v),N=i*Math.tan((qS-Math.acos((y+v-b)/(2*x*w)))/2),I=N/w,P=N/x;Math.abs(I-1)>Nf&&this._append`L${e+I*f},${r+I*m}`,this._append`A${i},${i},0,0,${+(m*h>f*E)},${this._x1=e+P*c},${this._y1=r+P*u}`}}arc(e,r,n,a,i,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,f=r+c,m=1^s,v=s?a-i:i-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Nf||Math.abs(this._y1-f)>Nf)&&this._append`L${u},${f}`,n&&(v<0&&(v=v%VS+VS),v>AZ?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=u},${this._y1=f}`:v>Nf&&this._append`A${n},${n},0,${+(v>=qS)},${m},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function M3(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new IZ(e)}function D3(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function cM(t){this._context=t}cM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yy(t){return new cM(t)}function uM(t){return t[0]}function dM(t){return t[1]}function fM(t,e){var r=eo(!0),n=null,a=yy,i=null,s=M3(l);t=typeof t=="function"?t:t===void 0?uM:eo(t),e=typeof e=="function"?e:e===void 0?dM:eo(e);function l(c){var u,f=(c=D3(c)).length,m,v=!1,h;for(n==null&&(i=a(h=s())),u=0;u<=f;++u)!(u<f&&r(m=c[u],u,c))===v&&((v=!v)?i.lineStart():i.lineEnd()),v&&i.point(+t(m,u,c),+e(m,u,c));if(h)return i=null,h+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:eo(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:eo(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:eo(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(i=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=i=null:i=a(n=c),l):n},l}function mb(t,e,r){var n=null,a=eo(!0),i=null,s=yy,l=null,c=M3(u);t=typeof t=="function"?t:t===void 0?uM:eo(+t),e=typeof e=="function"?e:eo(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?dM:eo(+r);function u(m){var v,h,E,y=(m=D3(m)).length,b,x=!1,w,N=new Array(y),I=new Array(y);for(i==null&&(l=s(w=c())),v=0;v<=y;++v){if(!(v<y&&a(b=m[v],v,m))===x)if(x=!x)h=v,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),E=v-1;E>=h;--E)l.point(N[E],I[E]);l.lineEnd(),l.areaEnd()}x&&(N[v]=+t(b,v,m),I[v]=+e(b,v,m),l.point(n?+n(b,v,m):N[v],r?+r(b,v,m):I[v]))}if(w)return l=null,w+""||null}function f(){return fM().defined(a).curve(s).context(i)}return u.x=function(m){return arguments.length?(t=typeof m=="function"?m:eo(+m),n=null,u):t},u.x0=function(m){return arguments.length?(t=typeof m=="function"?m:eo(+m),u):t},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:eo(+m),u):n},u.y=function(m){return arguments.length?(e=typeof m=="function"?m:eo(+m),r=null,u):e},u.y0=function(m){return arguments.length?(e=typeof m=="function"?m:eo(+m),u):e},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:eo(+m),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:eo(!!m),u):a},u.curve=function(m){return arguments.length?(s=m,i!=null&&(l=s(i)),u):s},u.context=function(m){return arguments.length?(m==null?i=l=null:l=s(i=m),u):i},u}class mM{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function _Z(t){return new mM(t,!0)}function LZ(t){return new mM(t,!1)}const j3={draw(t,e){const r=Vc(e/o0);t.moveTo(r,0),t.arc(0,0,r,0,by)}},TZ={draw(t,e){const r=Vc(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},pM=Vc(1/3),RZ=pM*2,MZ={draw(t,e){const r=Vc(e/RZ),n=r*pM;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},DZ={draw(t,e){const r=Vc(e),n=-r/2;t.rect(n,n,r,r)}},jZ=.8908130915292852,gM=a0(o0/10)/a0(7*o0/10),FZ=a0(by/10)*gM,$Z=-sM(by/10)*gM,zZ={draw(t,e){const r=Vc(e*jZ),n=FZ*r,a=$Z*r;t.moveTo(0,-r),t.lineTo(n,a);for(let i=1;i<5;++i){const s=by*i/5,l=sM(s),c=a0(s);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},Fx=Vc(3),BZ={draw(t,e){const r=-Vc(e/(Fx*3));t.moveTo(0,r*2),t.lineTo(-Fx*r,-r),t.lineTo(Fx*r,-r),t.closePath()}},Kl=-.5,Yl=Vc(3)/2,HS=1/Vc(12),UZ=(HS/2+1)*3,qZ={draw(t,e){const r=Vc(e/UZ),n=r/2,a=r*HS,i=n,s=r*HS+r,l=-i,c=s;t.moveTo(n,a),t.lineTo(i,s),t.lineTo(l,c),t.lineTo(Kl*n-Yl*a,Yl*n+Kl*a),t.lineTo(Kl*i-Yl*s,Yl*i+Kl*s),t.lineTo(Kl*l-Yl*c,Yl*l+Kl*c),t.lineTo(Kl*n+Yl*a,Kl*a-Yl*n),t.lineTo(Kl*i+Yl*s,Kl*s-Yl*i),t.lineTo(Kl*l+Yl*c,Kl*c-Yl*l),t.closePath()}};function VZ(t,e){let r=null,n=M3(a);t=typeof t=="function"?t:eo(t||j3),e=typeof e=="function"?e:eo(e===void 0?64:+e);function a(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return a.type=function(i){return arguments.length?(t=typeof i=="function"?i:eo(i),a):t},a.size=function(i){return arguments.length?(e=typeof i=="function"?i:eo(+i),a):e},a.context=function(i){return arguments.length?(r=i??null,a):r},a}function i0(){}function s0(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function hM(t){this._context=t}hM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:s0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:s0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function HZ(t){return new hM(t)}function vM(t){this._context=t}vM.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:s0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WZ(t){return new vM(t)}function bM(t){this._context=t}bM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:s0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GZ(t){return new bM(t)}function yM(t){this._context=t}yM.prototype={areaStart:i0,areaEnd:i0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function KZ(t){return new yM(t)}function zO(t){return t<0?-1:1}function BO(t,e,r){var n=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(n||a<0&&-0),s=(r-t._y1)/(a||n<0&&-0),l=(i*a+s*n)/(n+a);return(zO(i)+zO(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(l))||0}function UO(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function $x(t,e,r){var n=t._x0,a=t._y0,i=t._x1,s=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,a+l*e,i-l,s-l*r,i,s)}function l0(t){this._context=t}l0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:$x(this,this._t0,UO(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,$x(this,UO(this,r=BO(this,t,e)),r);break;default:$x(this,this._t0,r=BO(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function EM(t){this._context=new xM(t)}(EM.prototype=Object.create(l0.prototype)).point=function(t,e){l0.prototype.point.call(this,e,t)};function xM(t){this._context=t}xM.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,i){this._context.bezierCurveTo(e,t,n,r,i,a)}};function YZ(t){return new l0(t)}function JZ(t){return new EM(t)}function wM(t){this._context=t}wM.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=qO(t),a=qO(e),i=0,s=1;s<r;++i,++s)this._context.bezierCurveTo(n[0][i],a[0][i],n[1][i],a[1][i],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function qO(t){var e,r=t.length-1,n,a=new Array(r),i=new Array(r),s=new Array(r);for(a[0]=0,i[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,i[e]=4,s[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,i[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/i[e-1],i[e]-=n,s[e]-=n*s[e-1];for(a[r-1]=s[r-1]/i[r-1],e=r-2;e>=0;--e)a[e]=(s[e]-a[e+1])/i[e];for(i[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-a[e+1];return[a,i]}function XZ(t){return new wM(t)}function Ey(t,e){this._context=t,this._t=e}Ey.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function ZZ(t){return new Ey(t,.5)}function QZ(t){return new Ey(t,0)}function eQ(t){return new Ey(t,1)}function up(t,e){if((s=t.length)>1)for(var r=1,n,a,i=t[e[0]],s,l=i.length;r<s;++r)for(a=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function WS(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function tQ(t,e){return t[e]}function rQ(t){const e=[];return e.key=t,e}function nQ(){var t=eo([]),e=WS,r=up,n=tQ;function a(i){var s=Array.from(t.apply(this,arguments),rQ),l,c=s.length,u=-1,f;for(const m of i)for(l=0,++u;l<c;++l)(s[l][u]=[0,+n(m,s[l].key,u,i)]).data=m;for(l=0,f=D3(e(s));l<c;++l)s[f[l]].index=l;return r(s,f),s}return a.keys=function(i){return arguments.length?(t=typeof i=="function"?i:eo(Array.from(i)),a):t},a.value=function(i){return arguments.length?(n=typeof i=="function"?i:eo(+i),a):n},a.order=function(i){return arguments.length?(e=i==null?WS:typeof i=="function"?i:eo(Array.from(i)),a):e},a.offset=function(i){return arguments.length?(r=i??up,a):r},a}function aQ(t,e){if((n=t.length)>0){for(var r,n,a=0,i=t[0].length,s;a<i;++a){for(s=r=0;r<n;++r)s+=t[r][a][1]||0;if(s)for(r=0;r<n;++r)t[r][a][1]/=s}up(t,e)}}function oQ(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,i=n.length;r<i;++r){for(var s=0,l=0;s<a;++s)l+=t[s][r][1]||0;n[r][1]+=n[r][0]=-l/2}up(t,e)}}function iQ(t,e){if(!(!((s=t.length)>0)||!((i=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,i,s;n<i;++n){for(var l=0,c=0,u=0;l<s;++l){for(var f=t[e[l]],m=f[n][1]||0,v=f[n-1][1]||0,h=(m-v)/2,E=0;E<l;++E){var y=t[e[E]],b=y[n][1]||0,x=y[n-1][1]||0;h+=b-x}c+=m,u+=h*m}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,up(t,e)}}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}var sQ=["type","size","sizeType"];function GS(){return GS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},GS.apply(this,arguments)}function VO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VO(Object(r),!0).forEach(function(n){lQ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lQ(t,e,r){return e=cQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cQ(t){var e=uQ(t,"string");return xh(e)=="symbol"?e:e+""}function uQ(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dQ(t,e){if(t==null)return{};var r=fQ(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fQ(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var SM={symbolCircle:j3,symbolCross:TZ,symbolDiamond:MZ,symbolSquare:DZ,symbolStar:zZ,symbolTriangle:BZ,symbolWye:qZ},mQ=Math.PI/180,pQ=function(e){var r="symbol".concat(vy(e));return SM[r]||j3},gQ=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*mQ;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},hQ=function(e,r){SM["symbol".concat(vy(e))]=r},F3=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,i=a===void 0?64:a,s=e.sizeType,l=s===void 0?"area":s,c=dQ(e,sQ),u=HO(HO({},c),{},{type:n,size:i,sizeType:l}),f=function(){var b=pQ(n),x=VZ().type(b).size(gQ(i,l,n));return x()},m=u.className,v=u.cx,h=u.cy,E=wn(u,!0);return v===+v&&h===+h&&i===+i?o.createElement("path",GS({},E,{className:Kn("recharts-symbols",m),transform:"translate(".concat(v,", ").concat(h,")"),d:f()})):null};F3.registerSymbol=hQ;function dp(t){"@babel/helpers - typeof";return dp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dp(t)}function KS(){return KS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KS.apply(this,arguments)}function WO(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vQ(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WO(Object(r),!0).forEach(function(n){wh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WO(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yQ(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PM(n.key),n)}}function EQ(t,e,r){return e&&yQ(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function xQ(t,e,r){return e=c0(e),wQ(t,CM()?Reflect.construct(e,r||[],c0(t).constructor):e.apply(t,r))}function wQ(t,e){if(e&&(dp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SQ(t)}function SQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CM=function(){return!!t})()}function c0(t){return c0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},c0(t)}function CQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YS(t,e)}function YS(t,e){return YS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},YS(t,e)}function wh(t,e,r){return e=PM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PM(t){var e=PQ(t,"string");return dp(e)=="symbol"?e:e+""}function PQ(t,e){if(dp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rc=32,$3=function(t){function e(){return bQ(this,e),xQ(this,e,arguments)}return CQ(e,t),EQ(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,i=Rc/2,s=Rc/6,l=Rc/3,c=n.inactive?a:n.color;if(n.type==="plainline")return o.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:Rc,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return o.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(Rc,"M").concat(2*l,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return o.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(Rc/8,"h").concat(Rc,"v").concat(Rc*3/4,"h").concat(-32,"z"),className:"recharts-legend-icon"});if(o.isValidElement(n.legendIcon)){var u=vQ({},n);return delete u.legendIcon,o.cloneElement(n.legendIcon,u)}return o.createElement(F3,{fill:c,cx:i,cy:i,size:Rc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,i=a.payload,s=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:Rc,height:Rc},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},v={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(h,E){var y=h.formatter||c,b=Kn(wh(wh({"recharts-legend-item":!0},"legend-item-".concat(E),!0),"inactive",h.inactive));if(h.type==="none")return null;var x=kn(h.value)?null:h.value;zc(!kn(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?u:h.color;return o.createElement("li",KS({className:b,style:m,key:"legend-item-".concat(E)},Gf(n.props,h,E)),o.createElement(BS,{width:s,height:s,viewBox:f,style:v},n.renderIcon(h)),o.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},y?y(x,h,E):x))})}},{key:"render",value:function(){var n=this.props,a=n.payload,i=n.layout,s=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?s:"left"};return o.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])}(p.PureComponent);wh($3,"displayName","Legend");wh($3,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var zx,GO;function NQ(){if(GO)return zx;GO=1;var t=py();function e(){this.__data__=new t,this.size=0}return zx=e,zx}var Bx,KO;function kQ(){if(KO)return Bx;KO=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return Bx=t,Bx}var Ux,YO;function AQ(){if(YO)return Ux;YO=1;function t(e){return this.__data__.get(e)}return Ux=t,Ux}var qx,JO;function OQ(){if(JO)return qx;JO=1;function t(e){return this.__data__.has(e)}return qx=t,qx}var Vx,XO;function IQ(){if(XO)return Vx;XO=1;var t=py(),e=O3(),r=I3(),n=200;function a(i,s){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,s]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,s),this.size=l.size,this}return Vx=a,Vx}var Hx,ZO;function NM(){if(ZO)return Hx;ZO=1;var t=py(),e=NQ(),r=kQ(),n=AQ(),a=OQ(),i=IQ();function s(l){var c=this.__data__=new t(l);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=a,s.prototype.set=i,Hx=s,Hx}var Wx,QO;function _Q(){if(QO)return Wx;QO=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Wx=e,Wx}var Gx,eI;function LQ(){if(eI)return Gx;eI=1;function t(e){return this.__data__.has(e)}return Gx=t,Gx}var Kx,tI;function kM(){if(tI)return Kx;tI=1;var t=I3(),e=_Q(),r=LQ();function n(a){var i=-1,s=a==null?0:a.length;for(this.__data__=new t;++i<s;)this.add(a[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Kx=n,Kx}var Yx,rI;function AM(){if(rI)return Yx;rI=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return Yx=t,Yx}var Jx,nI;function OM(){if(nI)return Jx;nI=1;function t(e,r){return e.has(r)}return Jx=t,Jx}var Xx,aI;function IM(){if(aI)return Xx;aI=1;var t=kM(),e=AM(),r=OM(),n=1,a=2;function i(s,l,c,u,f,m){var v=c&n,h=s.length,E=l.length;if(h!=E&&!(v&&E>h))return!1;var y=m.get(s),b=m.get(l);if(y&&b)return y==l&&b==s;var x=-1,w=!0,N=c&a?new t:void 0;for(m.set(s,l),m.set(l,s);++x<h;){var I=s[x],P=l[x];if(u)var L=v?u(P,I,x,l,s,m):u(I,P,x,s,l,m);if(L!==void 0){if(L)continue;w=!1;break}if(N){if(!e(l,function(R,O){if(!r(N,O)&&(I===R||f(I,R,c,u,m)))return N.push(O)})){w=!1;break}}else if(!(I===P||f(I,P,c,u,m))){w=!1;break}}return m.delete(s),m.delete(l),w}return Xx=i,Xx}var Zx,oI;function TQ(){if(oI)return Zx;oI=1;var t=yu(),e=t.Uint8Array;return Zx=e,Zx}var Qx,iI;function RQ(){if(iI)return Qx;iI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,i){n[++r]=[i,a]}),n}return Qx=t,Qx}var e2,sI;function z3(){if(sI)return e2;sI=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return e2=t,e2}var t2,lI;function MQ(){if(lI)return t2;lI=1;var t=sv(),e=TQ(),r=A3(),n=IM(),a=RQ(),i=z3(),s=1,l=2,c="[object Boolean]",u="[object Date]",f="[object Error]",m="[object Map]",v="[object Number]",h="[object RegExp]",E="[object Set]",y="[object String]",b="[object Symbol]",x="[object ArrayBuffer]",w="[object DataView]",N=t?t.prototype:void 0,I=N?N.valueOf:void 0;function P(L,R,O,A,T,C,_){switch(O){case w:if(L.byteLength!=R.byteLength||L.byteOffset!=R.byteOffset)return!1;L=L.buffer,R=R.buffer;case x:return!(L.byteLength!=R.byteLength||!C(new e(L),new e(R)));case c:case u:case v:return r(+L,+R);case f:return L.name==R.name&&L.message==R.message;case h:case y:return L==R+"";case m:var D=a;case E:var z=A&s;if(D||(D=i),L.size!=R.size&&!z)return!1;var V=_.get(L);if(V)return V==R;A|=l,_.set(L,R);var J=n(D(L),D(R),A,T,C,_);return _.delete(L),J;case b:if(I)return I.call(L)==I.call(R)}return!1}return t2=P,t2}var r2,cI;function _M(){if(cI)return r2;cI=1;function t(e,r){for(var n=-1,a=r.length,i=e.length;++n<a;)e[i+n]=r[n];return e}return r2=t,r2}var n2,uI;function DQ(){if(uI)return n2;uI=1;var t=_M(),e=tl();function r(n,a,i){var s=a(n);return e(n)?s:t(s,i(n))}return n2=r,n2}var a2,dI;function jQ(){if(dI)return a2;dI=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,i=0,s=[];++n<a;){var l=e[n];r(l,n,e)&&(s[i++]=l)}return s}return a2=t,a2}var o2,fI;function FQ(){if(fI)return o2;fI=1;function t(){return[]}return o2=t,o2}var i2,mI;function $Q(){if(mI)return i2;mI=1;var t=jQ(),e=FQ(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,i=a?function(s){return s==null?[]:(s=Object(s),t(a(s),function(l){return n.call(s,l)}))}:e;return i2=i,i2}var s2,pI;function zQ(){if(pI)return s2;pI=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return s2=t,s2}var l2,gI;function BQ(){if(gI)return l2;gI=1;var t=Qu(),e=ed(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return l2=n,l2}var c2,hI;function B3(){if(hI)return c2;hI=1;var t=BQ(),e=ed(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,i=t(function(){return arguments}())?t:function(s){return e(s)&&n.call(s,"callee")&&!a.call(s,"callee")};return c2=i,c2}var Tg={exports:{}},u2,vI;function UQ(){if(vI)return u2;vI=1;function t(){return!1}return u2=t,u2}Tg.exports;var bI;function LM(){return bI||(bI=1,function(t,e){var r=yu(),n=UQ(),a=e&&!e.nodeType&&e,i=a&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===a,l=s?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u}(Tg,Tg.exports)),Tg.exports}var d2,yI;function U3(){if(yI)return d2;yI=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var i=typeof n;return a=a??t,!!a&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return d2=r,d2}var f2,EI;function q3(){if(EI)return f2;EI=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return f2=e,f2}var m2,xI;function qQ(){if(xI)return m2;xI=1;var t=Qu(),e=q3(),r=ed(),n="[object Arguments]",a="[object Array]",i="[object Boolean]",s="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",m="[object Object]",v="[object RegExp]",h="[object Set]",E="[object String]",y="[object WeakMap]",b="[object ArrayBuffer]",x="[object DataView]",w="[object Float32Array]",N="[object Float64Array]",I="[object Int8Array]",P="[object Int16Array]",L="[object Int32Array]",R="[object Uint8Array]",O="[object Uint8ClampedArray]",A="[object Uint16Array]",T="[object Uint32Array]",C={};C[w]=C[N]=C[I]=C[P]=C[L]=C[R]=C[O]=C[A]=C[T]=!0,C[n]=C[a]=C[b]=C[i]=C[x]=C[s]=C[l]=C[c]=C[u]=C[f]=C[m]=C[v]=C[h]=C[E]=C[y]=!1;function _(D){return r(D)&&e(D.length)&&!!C[t(D)]}return m2=_,m2}var p2,wI;function TM(){if(wI)return p2;wI=1;function t(e){return function(r){return e(r)}}return p2=t,p2}var Rg={exports:{}};Rg.exports;var SI;function VQ(){return SI||(SI=1,function(t,e){var r=Q9(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,i=a&&a.exports===n,s=i&&r.process,l=function(){try{var c=a&&a.require&&a.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}}();t.exports=l}(Rg,Rg.exports)),Rg.exports}var g2,CI;function RM(){if(CI)return g2;CI=1;var t=qQ(),e=TM(),r=VQ(),n=r&&r.isTypedArray,a=n?e(n):t;return g2=a,g2}var h2,PI;function HQ(){if(PI)return h2;PI=1;var t=zQ(),e=B3(),r=tl(),n=LM(),a=U3(),i=RM(),s=Object.prototype,l=s.hasOwnProperty;function c(u,f){var m=r(u),v=!m&&e(u),h=!m&&!v&&n(u),E=!m&&!v&&!h&&i(u),y=m||v||h||E,b=y?t(u.length,String):[],x=b.length;for(var w in u)(f||l.call(u,w))&&!(y&&(w=="length"||h&&(w=="offset"||w=="parent")||E&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||a(w,x)))&&b.push(w);return b}return h2=c,h2}var v2,NI;function WQ(){if(NI)return v2;NI=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return v2=e,v2}var b2,kI;function MM(){if(kI)return b2;kI=1;function t(e,r){return function(n){return e(r(n))}}return b2=t,b2}var y2,AI;function GQ(){if(AI)return y2;AI=1;var t=MM(),e=t(Object.keys,Object);return y2=e,y2}var E2,OI;function KQ(){if(OI)return E2;OI=1;var t=WQ(),e=GQ(),r=Object.prototype,n=r.hasOwnProperty;function a(i){if(!t(i))return e(i);var s=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&s.push(l);return s}return E2=a,E2}var x2,II;function uv(){if(II)return x2;II=1;var t=k3(),e=q3();function r(n){return n!=null&&e(n.length)&&!t(n)}return x2=r,x2}var w2,_I;function xy(){if(_I)return w2;_I=1;var t=HQ(),e=KQ(),r=uv();function n(a){return r(a)?t(a):e(a)}return w2=n,w2}var S2,LI;function YQ(){if(LI)return S2;LI=1;var t=DQ(),e=$Q(),r=xy();function n(a){return t(a,r,e)}return S2=n,S2}var C2,TI;function JQ(){if(TI)return C2;TI=1;var t=YQ(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(i,s,l,c,u,f){var m=l&e,v=t(i),h=v.length,E=t(s),y=E.length;if(h!=y&&!m)return!1;for(var b=h;b--;){var x=v[b];if(!(m?x in s:n.call(s,x)))return!1}var w=f.get(i),N=f.get(s);if(w&&N)return w==s&&N==i;var I=!0;f.set(i,s),f.set(s,i);for(var P=m;++b<h;){x=v[b];var L=i[x],R=s[x];if(c)var O=m?c(R,L,x,s,i,f):c(L,R,x,i,s,f);if(!(O===void 0?L===R||u(L,R,l,c,f):O)){I=!1;break}P||(P=x=="constructor")}if(I&&!P){var A=i.constructor,T=s.constructor;A!=T&&"constructor"in i&&"constructor"in s&&!(typeof A=="function"&&A instanceof A&&typeof T=="function"&&T instanceof T)&&(I=!1)}return f.delete(i),f.delete(s),I}return C2=a,C2}var P2,RI;function XQ(){if(RI)return P2;RI=1;var t=tm(),e=yu(),r=t(e,"DataView");return P2=r,P2}var N2,MI;function ZQ(){if(MI)return N2;MI=1;var t=tm(),e=yu(),r=t(e,"Promise");return N2=r,N2}var k2,DI;function DM(){if(DI)return k2;DI=1;var t=tm(),e=yu(),r=t(e,"Set");return k2=r,k2}var A2,jI;function QQ(){if(jI)return A2;jI=1;var t=tm(),e=yu(),r=t(e,"WeakMap");return A2=r,A2}var O2,FI;function eee(){if(FI)return O2;FI=1;var t=XQ(),e=O3(),r=ZQ(),n=DM(),a=QQ(),i=Qu(),s=eM(),l="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",m="[object WeakMap]",v="[object DataView]",h=s(t),E=s(e),y=s(r),b=s(n),x=s(a),w=i;return(t&&w(new t(new ArrayBuffer(1)))!=v||e&&w(new e)!=l||r&&w(r.resolve())!=u||n&&w(new n)!=f||a&&w(new a)!=m)&&(w=function(N){var I=i(N),P=I==c?N.constructor:void 0,L=P?s(P):"";if(L)switch(L){case h:return v;case E:return l;case y:return u;case b:return f;case x:return m}return I}),O2=w,O2}var I2,$I;function tee(){if($I)return I2;$I=1;var t=NM(),e=IM(),r=MQ(),n=JQ(),a=eee(),i=tl(),s=LM(),l=RM(),c=1,u="[object Arguments]",f="[object Array]",m="[object Object]",v=Object.prototype,h=v.hasOwnProperty;function E(y,b,x,w,N,I){var P=i(y),L=i(b),R=P?f:a(y),O=L?f:a(b);R=R==u?m:R,O=O==u?m:O;var A=R==m,T=O==m,C=R==O;if(C&&s(y)){if(!s(b))return!1;P=!0,A=!1}if(C&&!A)return I||(I=new t),P||l(y)?e(y,b,x,w,N,I):r(y,b,R,x,w,N,I);if(!(x&c)){var _=A&&h.call(y,"__wrapped__"),D=T&&h.call(b,"__wrapped__");if(_||D){var z=_?y.value():y,V=D?b.value():b;return I||(I=new t),N(z,V,x,w,I)}}return C?(I||(I=new t),n(y,b,x,w,N,I)):!1}return I2=E,I2}var _2,zI;function V3(){if(zI)return _2;zI=1;var t=tee(),e=ed();function r(n,a,i,s,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,i,s,r,l)}return _2=r,_2}var L2,BI;function ree(){if(BI)return L2;BI=1;var t=NM(),e=V3(),r=1,n=2;function a(i,s,l,c){var u=l.length,f=u,m=!c;if(i==null)return!f;for(i=Object(i);u--;){var v=l[u];if(m&&v[2]?v[1]!==i[v[0]]:!(v[0]in i))return!1}for(;++u<f;){v=l[u];var h=v[0],E=i[h],y=v[1];if(m&&v[2]){if(E===void 0&&!(h in i))return!1}else{var b=new t;if(c)var x=c(E,y,h,i,s,b);if(!(x===void 0?e(y,E,r|n,c,b):x))return!1}}return!0}return L2=a,L2}var T2,UI;function jM(){if(UI)return T2;UI=1;var t=Gd();function e(r){return r===r&&!t(r)}return T2=e,T2}var R2,qI;function nee(){if(qI)return R2;qI=1;var t=jM(),e=xy();function r(n){for(var a=e(n),i=a.length;i--;){var s=a[i],l=n[s];a[i]=[s,l,t(l)]}return a}return R2=r,R2}var M2,VI;function FM(){if(VI)return M2;VI=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return M2=t,M2}var D2,HI;function aee(){if(HI)return D2;HI=1;var t=ree(),e=nee(),r=FM();function n(a){var i=e(a);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(s){return s===a||t(s,a,i)}}return D2=n,D2}var j2,WI;function oee(){if(WI)return j2;WI=1;function t(e,r){return e!=null&&r in Object(e)}return j2=t,j2}var F2,GI;function iee(){if(GI)return F2;GI=1;var t=nM(),e=B3(),r=tl(),n=U3(),a=q3(),i=hy();function s(l,c,u){c=t(c,l);for(var f=-1,m=c.length,v=!1;++f<m;){var h=i(c[f]);if(!(v=l!=null&&u(l,h)))break;l=l[h]}return v||++f!=m?v:(m=l==null?0:l.length,!!m&&a(m)&&n(h,m)&&(r(l)||e(l)))}return F2=s,F2}var $2,KI;function see(){if(KI)return $2;KI=1;var t=oee(),e=iee();function r(n,a){return n!=null&&e(n,a,t)}return $2=r,$2}var z2,YI;function lee(){if(YI)return z2;YI=1;var t=V3(),e=aM(),r=see(),n=N3(),a=jM(),i=FM(),s=hy(),l=1,c=2;function u(f,m){return n(f)&&a(m)?i(s(f),m):function(v){var h=e(v,f);return h===void 0&&h===m?r(v,f):t(m,h,l|c)}}return z2=u,z2}var B2,JI;function Bp(){if(JI)return B2;JI=1;function t(e){return e}return B2=t,B2}var U2,XI;function cee(){if(XI)return U2;XI=1;function t(e){return function(r){return r==null?void 0:r[e]}}return U2=t,U2}var q2,ZI;function uee(){if(ZI)return q2;ZI=1;var t=L3();function e(r){return function(n){return t(n,r)}}return q2=e,q2}var V2,QI;function dee(){if(QI)return V2;QI=1;var t=cee(),e=uee(),r=N3(),n=hy();function a(i){return r(i)?t(n(i)):e(i)}return V2=a,V2}var H2,e8;function Eu(){if(e8)return H2;e8=1;var t=aee(),e=lee(),r=Bp(),n=tl(),a=dee();function i(s){return typeof s=="function"?s:s==null?r:typeof s=="object"?n(s)?e(s[0],s[1]):t(s):a(s)}return H2=i,H2}var W2,t8;function $M(){if(t8)return W2;t8=1;function t(e,r,n,a){for(var i=e.length,s=n+(a?1:-1);a?s--:++s<i;)if(r(e[s],s,e))return s;return-1}return W2=t,W2}var G2,r8;function fee(){if(r8)return G2;r8=1;function t(e){return e!==e}return G2=t,G2}var K2,n8;function mee(){if(n8)return K2;n8=1;function t(e,r,n){for(var a=n-1,i=e.length;++a<i;)if(e[a]===r)return a;return-1}return K2=t,K2}var Y2,a8;function pee(){if(a8)return Y2;a8=1;var t=$M(),e=fee(),r=mee();function n(a,i,s){return i===i?r(a,i,s):t(a,e,s)}return Y2=n,Y2}var J2,o8;function gee(){if(o8)return J2;o8=1;var t=pee();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return J2=e,J2}var X2,i8;function hee(){if(i8)return X2;i8=1;function t(e,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;)if(n(r,e[a]))return!0;return!1}return X2=t,X2}var Z2,s8;function vee(){if(s8)return Z2;s8=1;function t(){}return Z2=t,Z2}var Q2,l8;function bee(){if(l8)return Q2;l8=1;var t=DM(),e=vee(),r=z3(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return Q2=a,Q2}var ew,c8;function yee(){if(c8)return ew;c8=1;var t=kM(),e=gee(),r=hee(),n=OM(),a=bee(),i=z3(),s=200;function l(c,u,f){var m=-1,v=e,h=c.length,E=!0,y=[],b=y;if(f)E=!1,v=r;else if(h>=s){var x=u?null:a(c);if(x)return i(x);E=!1,v=n,b=new t}else b=u?[]:y;e:for(;++m<h;){var w=c[m],N=u?u(w):w;if(w=f||w!==0?w:0,E&&N===N){for(var I=b.length;I--;)if(b[I]===N)continue e;u&&b.push(N),y.push(w)}else v(b,N,f)||(b!==y&&b.push(N),y.push(w))}return y}return ew=l,ew}var tw,u8;function Eee(){if(u8)return tw;u8=1;var t=Eu(),e=yee();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return tw=r,tw}var xee=Eee();const d8=wa(xee);function zM(t,e,r){return e===!0?d8(t,r):kn(e)?d8(t,e):t}function fp(t){"@babel/helpers - typeof";return fp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fp(t)}var wee=["ref"];function f8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Tu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f8(Object(r),!0).forEach(function(n){wy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function See(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function m8(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,UM(n.key),n)}}function Cee(t,e,r){return e&&m8(t.prototype,e),r&&m8(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Pee(t,e,r){return e=u0(e),Nee(t,BM()?Reflect.construct(e,r||[],u0(t).constructor):e.apply(t,r))}function Nee(t,e){if(e&&(fp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kee(t)}function kee(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function BM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BM=function(){return!!t})()}function u0(t){return u0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},u0(t)}function Aee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JS(t,e)}function JS(t,e){return JS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JS(t,e)}function wy(t,e,r){return e=UM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UM(t){var e=Oee(t,"string");return fp(e)=="symbol"?e:e+""}function Oee(t,e){if(fp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Iee(t,e){if(t==null)return{};var r=_ee(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function _ee(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Lee(t){return t.value}function Tee(t,e){if(o.isValidElement(t))return o.cloneElement(t,e);if(typeof t=="function")return o.createElement(t,e);e.ref;var r=Iee(e,wee);return o.createElement($3,r)}var p8=1,qf=function(t){function e(){var r;See(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=Pee(this,e,[].concat(a)),wy(r,"lastBoundingBox",{width:-1,height:-1}),r}return Aee(e,t),Cee(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>p8||Math.abs(a.height-this.lastBoundingBox.height)>p8)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Tu({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,i=a.layout,s=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,m,v;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(s==="center"&&i==="vertical"){var h=this.getBBoxSnapshot();m={left:((u||0)-h.width)/2}}else m=s==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var E=this.getBBoxSnapshot();v={top:((f||0)-E.height)/2}}else v=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Tu(Tu({},m),v)}},{key:"render",value:function(){var n=this,a=this.props,i=a.content,s=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,m=Tu(Tu({position:"absolute",width:s||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return o.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(h){n.wrapperNode=h}},Tee(i,Tu(Tu({},this.props),{},{payload:zM(f,u,Lee)})))}}],[{key:"getWithHeight",value:function(n,a){var i=Tu(Tu({},this.defaultProps),n.props),s=i.layout;return s==="vertical"&&hr(n.props.height)?{height:n.props.height}:s==="horizontal"?{width:n.props.width||a}:null}}])}(p.PureComponent);wy(qf,"displayName","Legend");wy(qf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var rw,g8;function Ree(){if(g8)return rw;g8=1;var t=sv(),e=B3(),r=tl(),n=t?t.isConcatSpreadable:void 0;function a(i){return r(i)||e(i)||!!(n&&i&&i[n])}return rw=a,rw}var nw,h8;function qM(){if(h8)return nw;h8=1;var t=_M(),e=Ree();function r(n,a,i,s,l){var c=-1,u=n.length;for(i||(i=e),l||(l=[]);++c<u;){var f=n[c];a>0&&i(f)?a>1?r(f,a-1,i,s,l):t(l,f):s||(l[l.length]=f)}return l}return nw=r,nw}var aw,v8;function Mee(){if(v8)return aw;v8=1;function t(e){return function(r,n,a){for(var i=-1,s=Object(r),l=a(r),c=l.length;c--;){var u=l[e?c:++i];if(n(s[u],u,s)===!1)break}return r}}return aw=t,aw}var ow,b8;function Dee(){if(b8)return ow;b8=1;var t=Mee(),e=t();return ow=e,ow}var iw,y8;function VM(){if(y8)return iw;y8=1;var t=Dee(),e=xy();function r(n,a){return n&&t(n,a,e)}return iw=r,iw}var sw,E8;function jee(){if(E8)return sw;E8=1;var t=uv();function e(r,n){return function(a,i){if(a==null)return a;if(!t(a))return r(a,i);for(var s=a.length,l=n?s:-1,c=Object(a);(n?l--:++l<s)&&i(c[l],l,c)!==!1;);return a}}return sw=e,sw}var lw,x8;function H3(){if(x8)return lw;x8=1;var t=VM(),e=jee(),r=e(t);return lw=r,lw}var cw,w8;function HM(){if(w8)return cw;w8=1;var t=H3(),e=uv();function r(n,a){var i=-1,s=e(n)?Array(n.length):[];return t(n,function(l,c,u){s[++i]=a(l,c,u)}),s}return cw=r,cw}var uw,S8;function Fee(){if(S8)return uw;S8=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return uw=t,uw}var dw,C8;function $ee(){if(C8)return dw;C8=1;var t=$p();function e(r,n){if(r!==n){var a=r!==void 0,i=r===null,s=r===r,l=t(r),c=n!==void 0,u=n===null,f=n===n,m=t(n);if(!u&&!m&&!l&&r>n||l&&c&&f&&!u&&!m||i&&c&&f||!a&&f||!s)return 1;if(!i&&!l&&!m&&r<n||m&&a&&s&&!i&&!l||u&&a&&s||!c&&s||!f)return-1}return 0}return dw=e,dw}var fw,P8;function zee(){if(P8)return fw;P8=1;var t=$ee();function e(r,n,a){for(var i=-1,s=r.criteria,l=n.criteria,c=s.length,u=a.length;++i<c;){var f=t(s[i],l[i]);if(f){if(i>=u)return f;var m=a[i];return f*(m=="desc"?-1:1)}}return r.index-n.index}return fw=e,fw}var mw,N8;function Bee(){if(N8)return mw;N8=1;var t=_3(),e=L3(),r=Eu(),n=HM(),a=Fee(),i=TM(),s=zee(),l=Bp(),c=tl();function u(f,m,v){m.length?m=t(m,function(y){return c(y)?function(b){return e(b,y.length===1?y[0]:y)}:y}):m=[l];var h=-1;m=t(m,i(r));var E=n(f,function(y,b,x){var w=t(m,function(N){return N(y)});return{criteria:w,index:++h,value:y}});return a(E,function(y,b){return s(y,b,v)})}return mw=u,mw}var pw,k8;function Uee(){if(k8)return pw;k8=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return pw=t,pw}var gw,A8;function qee(){if(A8)return gw;A8=1;var t=Uee(),e=Math.max;function r(n,a,i){return a=e(a===void 0?n.length-1:a,0),function(){for(var s=arguments,l=-1,c=e(s.length-a,0),u=Array(c);++l<c;)u[l]=s[a+l];l=-1;for(var f=Array(a+1);++l<a;)f[l]=s[l];return f[a]=i(u),t(n,this,f)}}return gw=r,gw}var hw,O8;function Vee(){if(O8)return hw;O8=1;function t(e){return function(){return e}}return hw=t,hw}var vw,I8;function WM(){if(I8)return vw;I8=1;var t=tm(),e=function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}}();return vw=e,vw}var bw,_8;function Hee(){if(_8)return bw;_8=1;var t=Vee(),e=WM(),r=Bp(),n=e?function(a,i){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return bw=n,bw}var yw,L8;function Wee(){if(L8)return yw;L8=1;var t=800,e=16,r=Date.now;function n(a){var i=0,s=0;return function(){var l=r(),c=e-(l-s);if(s=l,c>0){if(++i>=t)return arguments[0]}else i=0;return a.apply(void 0,arguments)}}return yw=n,yw}var Ew,T8;function Gee(){if(T8)return Ew;T8=1;var t=Hee(),e=Wee(),r=e(t);return Ew=r,Ew}var xw,R8;function Kee(){if(R8)return xw;R8=1;var t=Bp(),e=qee(),r=Gee();function n(a,i){return r(e(a,i,t),a+"")}return xw=n,xw}var ww,M8;function Sy(){if(M8)return ww;M8=1;var t=A3(),e=uv(),r=U3(),n=Gd();function a(i,s,l){if(!n(l))return!1;var c=typeof s;return(c=="number"?e(l)&&r(s,l.length):c=="string"&&s in l)?t(l[s],i):!1}return ww=a,ww}var Sw,D8;function Yee(){if(D8)return Sw;D8=1;var t=qM(),e=Bee(),r=Kee(),n=Sy(),a=r(function(i,s){if(i==null)return[];var l=s.length;return l>1&&n(i,s[0],s[1])?s=[]:l>2&&n(s[0],s[1],s[2])&&(s=[s[0]]),e(i,t(s,1),[])});return Sw=a,Sw}var Jee=Yee();const W3=wa(Jee);function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function XS(){return XS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XS.apply(this,arguments)}function Xee(t,e){return tte(t)||ete(t,e)||Qee(t,e)||Zee()}function Zee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Qee(t,e){if(t){if(typeof t=="string")return j8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return j8(t,e)}}function j8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ete(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function tte(t){if(Array.isArray(t))return t}function F8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F8(Object(r),!0).forEach(function(n){rte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rte(t,e,r){return e=nte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nte(t){var e=ate(t,"string");return Sh(e)=="symbol"?e:e+""}function ate(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ote(t){return Array.isArray(t)&&fi(t[0])&&fi(t[1])?t.join(" ~ "):t}var ite=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,i=a===void 0?{}:a,s=e.itemStyle,l=s===void 0?{}:s,c=e.labelStyle,u=c===void 0?{}:c,f=e.payload,m=e.formatter,v=e.itemSorter,h=e.wrapperClassName,E=e.labelClassName,y=e.label,b=e.labelFormatter,x=e.accessibilityLayer,w=x===void 0?!1:x,N=function(){if(f&&f.length){var _={padding:0,margin:0},D=(v?W3(f,v):f).map(function(z,V){if(z.type==="none")return null;var J=Cw({display:"block",paddingTop:4,paddingBottom:4,color:z.color||"#000"},l),ie=z.formatter||m||ote,G=z.value,te=z.name,W=G,B=te;if(ie&&W!=null&&B!=null){var j=ie(G,te,z,V,f);if(Array.isArray(j)){var U=Xee(j,2);W=U[0],B=U[1]}else W=j}return o.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:J},fi(B)?o.createElement("span",{className:"recharts-tooltip-item-name"},B):null,fi(B)?o.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,o.createElement("span",{className:"recharts-tooltip-item-value"},W),o.createElement("span",{className:"recharts-tooltip-item-unit"},z.unit||""))});return o.createElement("ul",{className:"recharts-tooltip-item-list",style:_},D)}return null},I=Cw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),P=Cw({margin:0},u),L=!Jn(y),R=L?y:"",O=Kn("recharts-default-tooltip",h),A=Kn("recharts-tooltip-label",E);L&&b&&f!==void 0&&f!==null&&(R=b(y,f));var T=w?{role:"status","aria-live":"assertive"}:{};return o.createElement("div",XS({className:O,style:I},T),o.createElement("p",{className:A,style:P},o.isValidElement(R)?R:"".concat(R)),N())};function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function pb(t,e,r){return e=ste(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ste(t){var e=lte(t,"string");return Ch(e)=="symbol"?e:e+""}function lte(t,e){if(Ch(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ch(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xg="recharts-tooltip-wrapper",cte={visibility:"hidden"};function ute(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Kn(xg,pb(pb(pb(pb({},"".concat(xg,"-right"),hr(r)&&e&&hr(e.x)&&r>=e.x),"".concat(xg,"-left"),hr(r)&&e&&hr(e.x)&&r<e.x),"".concat(xg,"-bottom"),hr(n)&&e&&hr(e.y)&&n>=e.y),"".concat(xg,"-top"),hr(n)&&e&&hr(e.y)&&n<e.y))}function $8(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,i=t.position,s=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(i&&hr(i[n]))return i[n];var f=r[n]-l-a,m=r[n]+a;if(e[n])return s[n]?f:m;if(s[n]){var v=f,h=c[n];return v<h?Math.max(m,c[n]):Math.max(f,c[n])}var E=m+l,y=c[n]+u;return E>y?Math.max(f,c[n]):Math.max(m,c[n])}function dte(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function fte(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,i=t.reverseDirection,s=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,f,m;return s.height>0&&s.width>0&&r?(f=$8({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),m=$8({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:i,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=dte({translateX:f,translateY:m,useTranslate3d:l})):u=cte,{cssProperties:u,cssClasses:ute({translateX:f,translateY:m,coordinate:r})}}function mp(t){"@babel/helpers - typeof";return mp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mp(t)}function z8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function B8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z8(Object(r),!0).forEach(function(n){QS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KM(n.key),n)}}function gte(t,e,r){return e&&pte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hte(t,e,r){return e=d0(e),vte(t,GM()?Reflect.construct(e,r||[],d0(t).constructor):e.apply(t,r))}function vte(t,e){if(e&&(mp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bte(t)}function bte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function GM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(GM=function(){return!!t})()}function d0(t){return d0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},d0(t)}function yte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZS(t,e)}function ZS(t,e){return ZS=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},ZS(t,e)}function QS(t,e,r){return e=KM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KM(t){var e=Ete(t,"string");return mp(e)=="symbol"?e:e+""}function Ete(t,e){if(mp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var U8=1,xte=function(t){function e(){var r;mte(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=hte(this,e,[].concat(a)),QS(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),QS(r,"handleKeyDown",function(s){if(s.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return yte(e,t),gte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>U8||Math.abs(n.height-this.state.lastBoundingBox.height)>U8)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,m=a.hasPayload,v=a.isAnimationActive,h=a.offset,E=a.position,y=a.reverseDirection,b=a.useTranslate3d,x=a.viewBox,w=a.wrapperStyle,N=fte({allowEscapeViewBox:s,coordinate:f,offsetTopLeft:h,position:E,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:x}),I=N.cssClasses,P=N.cssProperties,L=B8(B8({transition:v&&i?"transform ".concat(l,"ms ").concat(c):void 0},P),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},w);return o.createElement("div",{tabIndex:-1,className:I,style:L,ref:function(O){n.wrapperNode=O}},u)}}])}(p.PureComponent),wte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Up={isSsr:wte()};function pp(t){"@babel/helpers - typeof";return pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pp(t)}function q8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function V8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q8(Object(r),!0).forEach(function(n){G3(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ste(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cte(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JM(n.key),n)}}function Pte(t,e,r){return e&&Cte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nte(t,e,r){return e=f0(e),kte(t,YM()?Reflect.construct(e,r||[],f0(t).constructor):e.apply(t,r))}function kte(t,e){if(e&&(pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ate(t)}function Ate(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function YM(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(YM=function(){return!!t})()}function f0(t){return f0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},f0(t)}function Ote(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eC(t,e)}function eC(t,e){return eC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},eC(t,e)}function G3(t,e,r){return e=JM(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JM(t){var e=Ite(t,"string");return pp(e)=="symbol"?e:e+""}function Ite(t,e){if(pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function _te(t){return t.dataKey}function Lte(t,e){return o.isValidElement(t)?o.cloneElement(t,e):typeof t=="function"?o.createElement(t,e):o.createElement(ite,e)}var jc=function(t){function e(){return Ste(this,e),Nte(this,e,arguments)}return Ote(e,t),Pte(e,[{key:"render",value:function(){var n=this,a=this.props,i=a.active,s=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,m=a.filterNull,v=a.isAnimationActive,h=a.offset,E=a.payload,y=a.payloadUniqBy,b=a.position,x=a.reverseDirection,w=a.useTranslate3d,N=a.viewBox,I=a.wrapperStyle,P=E??[];m&&P.length&&(P=zM(E.filter(function(R){return R.value!=null&&(R.hide!==!0||n.props.includeHidden)}),y,_te));var L=P.length>0;return o.createElement(xte,{allowEscapeViewBox:s,animationDuration:l,animationEasing:c,isAnimationActive:v,active:i,coordinate:f,hasPayload:L,offset:h,position:b,reverseDirection:x,useTranslate3d:w,viewBox:N,wrapperStyle:I},Lte(u,V8(V8({},this.props),{},{payload:P})))}}])}(p.PureComponent);G3(jc,"displayName","Tooltip");G3(jc,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Up.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var Pw,H8;function Tte(){if(H8)return Pw;H8=1;var t=yu(),e=function(){return t.Date.now()};return Pw=e,Pw}var Nw,W8;function Rte(){if(W8)return Nw;W8=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return Nw=e,Nw}var kw,G8;function Mte(){if(G8)return kw;G8=1;var t=Rte(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return kw=r,kw}var Aw,K8;function XM(){if(K8)return Aw;K8=1;var t=Mte(),e=Gd(),r=$p(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,s=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var m=i.test(u);return m||s.test(u)?l(u.slice(2),m?2:8):a.test(u)?n:+u}return Aw=c,Aw}var Ow,Y8;function Dte(){if(Y8)return Ow;Y8=1;var t=Gd(),e=Tte(),r=XM(),n="Expected a function",a=Math.max,i=Math.min;function s(l,c,u){var f,m,v,h,E,y,b=0,x=!1,w=!1,N=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(x=!!u.leading,w="maxWait"in u,v=w?a(r(u.maxWait)||0,c):v,N="trailing"in u?!!u.trailing:N);function I(D){var z=f,V=m;return f=m=void 0,b=D,h=l.apply(V,z),h}function P(D){return b=D,E=setTimeout(O,c),x?I(D):h}function L(D){var z=D-y,V=D-b,J=c-z;return w?i(J,v-V):J}function R(D){var z=D-y,V=D-b;return y===void 0||z>=c||z<0||w&&V>=v}function O(){var D=e();if(R(D))return A(D);E=setTimeout(O,L(D))}function A(D){return E=void 0,N&&f?I(D):(f=m=void 0,h)}function T(){E!==void 0&&clearTimeout(E),b=0,f=y=m=E=void 0}function C(){return E===void 0?h:A(e())}function _(){var D=e(),z=R(D);if(f=arguments,m=this,y=D,z){if(E===void 0)return P(y);if(w)return clearTimeout(E),E=setTimeout(O,c),I(y)}return E===void 0&&(E=setTimeout(O,c)),h}return _.cancel=T,_.flush=C,_}return Ow=s,Ow}var Iw,J8;function jte(){if(J8)return Iw;J8=1;var t=Dte(),e=Gd(),r="Expected a function";function n(a,i,s){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(s)&&(l="leading"in s?!!s.leading:l,c="trailing"in s?!!s.trailing:c),t(a,i,{leading:l,maxWait:i,trailing:c})}return Iw=n,Iw}var Fte=jte();const ZM=wa(Fte);function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function X8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function gb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X8(Object(r),!0).forEach(function(n){$te(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $te(t,e,r){return e=zte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zte(t){var e=Bte(t,"string");return Ph(e)=="symbol"?e:e+""}function Bte(t,e){if(Ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ute(t,e){return Wte(t)||Hte(t,e)||Vte(t,e)||qte()}function qte(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Vte(t,e){if(t){if(typeof t=="string")return Z8(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Z8(t,e)}}function Z8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Hte(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Wte(t){if(Array.isArray(t))return t}var QM=p.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,i=t.width,s=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,f=u===void 0?0:u,m=t.minHeight,v=t.maxHeight,h=t.children,E=t.debounce,y=E===void 0?0:E,b=t.id,x=t.className,w=t.onResize,N=t.style,I=N===void 0?{}:N,P=p.useRef(null),L=p.useRef();L.current=w,p.useImperativeHandle(e,function(){return Object.defineProperty(P.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),P.current},configurable:!0})});var R=p.useState({containerWidth:a.width,containerHeight:a.height}),O=Ute(R,2),A=O[0],T=O[1],C=p.useCallback(function(D,z){T(function(V){var J=Math.round(D),ie=Math.round(z);return V.containerWidth===J&&V.containerHeight===ie?V:{containerWidth:J,containerHeight:ie}})},[]);p.useEffect(function(){var D=function(te){var W,B=te[0].contentRect,j=B.width,U=B.height;C(j,U),(W=L.current)===null||W===void 0||W.call(L,j,U)};y>0&&(D=ZM(D,y,{trailing:!0,leading:!1}));var z=new ResizeObserver(D),V=P.current.getBoundingClientRect(),J=V.width,ie=V.height;return C(J,ie),z.observe(P.current),function(){z.disconnect()}},[C,y]);var _=p.useMemo(function(){var D=A.containerWidth,z=A.containerHeight;if(D<0||z<0)return null;zc(Mf(s)||Mf(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,c),zc(!r||r>0,"The aspect(%s) must be greater than zero.",r);var V=Mf(s)?D:s,J=Mf(c)?z:c;r&&r>0&&(V?J=V/r:J&&(V=J*r),v&&J>v&&(J=v)),zc(V>0||J>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,J,s,c,f,m,r);var ie=!Array.isArray(h)&&Vu(h.type).endsWith("Chart");return o.Children.map(h,function(G){return o.isValidElement(G)?p.cloneElement(G,gb({width:V,height:J},ie?{style:gb({height:"100%",width:"100%",maxHeight:J,maxWidth:V},G.props.style)}:{})):G})},[r,h,c,v,m,f,A,s]);return o.createElement("div",{id:b?"".concat(b):void 0,className:Kn("recharts-responsive-container",x),style:gb(gb({},I),{},{width:s,height:c,minWidth:f,minHeight:m,maxHeight:v}),ref:P},_)}),Cy=function(e){return null};Cy.displayName="Cell";function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function Q8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function tC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Q8(Object(r),!0).forEach(function(n){Gte(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Q8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gte(t,e,r){return e=Kte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kte(t){var e=Yte(t,"string");return Nh(e)=="symbol"?e:e+""}function Yte(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tm={widthCache:{},cacheCount:0},Jte=2e3,Xte={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},e_="recharts_measurement_span";function Zte(t){var e=tC({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Yg=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Up.isSsr)return{width:0,height:0};var n=Zte(r),a=JSON.stringify({text:e,copyStyle:n});if(Tm.widthCache[a])return Tm.widthCache[a];try{var i=document.getElementById(e_);i||(i=document.createElement("span"),i.setAttribute("id",e_),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var s=tC(tC({},Xte),n);Object.assign(i.style,s),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Tm.widthCache[a]=c,++Tm.cacheCount>Jte&&(Tm.cacheCount=0,Tm.widthCache={}),c}catch{return{width:0,height:0}}},Qte=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function m0(t,e){return nre(t)||rre(t,e)||tre(t,e)||ere()}function ere(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function tre(t,e){if(t){if(typeof t=="string")return t_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t_(t,e)}}function t_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function rre(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function nre(t){if(Array.isArray(t))return t}function are(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r_(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ire(n.key),n)}}function ore(t,e,r){return e&&r_(t.prototype,e),r&&r_(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ire(t){var e=sre(t,"string");return kh(e)=="symbol"?e:e+""}function sre(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var n_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,a_=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,lre=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,cre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,eD={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ure=Object.keys(eD),Gm="NaN";function dre(t,e){return t*eD[e]}var hb=function(){function t(e,r){are(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!lre.test(r)&&(this.num=NaN,this.unit=""),ure.includes(r)&&(this.num=dre(e,r),this.unit="px")}return ore(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=cre.exec(r))!==null&&n!==void 0?n:[],i=m0(a,3),s=i[1],l=i[2];return new t(parseFloat(s),l??"")}}])}();function tD(t){if(t.includes(Gm))return Gm;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=n_.exec(e))!==null&&r!==void 0?r:[],a=m0(n,4),i=a[1],s=a[2],l=a[3],c=hb.parse(i??""),u=hb.parse(l??""),f=s==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return Gm;e=e.replace(n_,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,v=(m=a_.exec(e))!==null&&m!==void 0?m:[],h=m0(v,4),E=h[1],y=h[2],b=h[3],x=hb.parse(E??""),w=hb.parse(b??""),N=y==="+"?x.add(w):x.subtract(w);if(N.isNaN())return Gm;e=e.replace(a_,N.toString())}return e}var o_=/\(([^()]*)\)/;function fre(t){for(var e=t;e.includes("(");){var r=o_.exec(e),n=m0(r,2),a=n[1];e=e.replace(o_,tD(a))}return e}function mre(t){var e=t.replace(/\s+/g,"");return e=fre(e),e=tD(e),e}function pre(t){try{return mre(t)}catch{return Gm}}function _w(t){var e=pre(t.slice(5,-1));return e===Gm?"":e}var gre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],hre=["dx","dy","angle","className","breakAll"];function rC(){return rC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rC.apply(this,arguments)}function i_(t,e){if(t==null)return{};var r=vre(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function s_(t,e){return xre(t)||Ere(t,e)||yre(t,e)||bre()}function bre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yre(t,e){if(t){if(typeof t=="string")return l_(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l_(t,e)}}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ere(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function xre(t){if(Array.isArray(t))return t}var rD=/[ \f\n\r\t\v\u2028\u2029]+/,nD=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var i=[];Jn(r)||(n?i=r.toString().split(""):i=r.toString().split(rD));var s=i.map(function(c){return{word:c,width:Yg(c,a).width}}),l=n?0:Yg("",a).width;return{wordsWithComputedWidth:s,spaceWidth:l}}catch{return null}},wre=function(e,r,n,a,i){var s=e.maxLines,l=e.children,c=e.style,u=e.breakAll,f=hr(s),m=l,v=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(J,ie){var G=ie.word,te=ie.width,W=J[J.length-1];if(W&&(a==null||i||W.width+te+n<Number(a)))W.words.push(G),W.width+=te+n;else{var B={words:[G],width:te};J.push(B)}return J},[])},h=v(r),E=function(V){return V.reduce(function(J,ie){return J.width>ie.width?J:ie})};if(!f)return h;for(var y="",b=function(V){var J=m.slice(0,V),ie=nD({breakAll:u,style:c,children:J+y}).wordsWithComputedWidth,G=v(ie),te=G.length>s||E(G).width>Number(a);return[te,G]},x=0,w=m.length-1,N=0,I;x<=w&&N<=m.length-1;){var P=Math.floor((x+w)/2),L=P-1,R=b(L),O=s_(R,2),A=O[0],T=O[1],C=b(P),_=s_(C,1),D=_[0];if(!A&&!D&&(x=P+1),A&&D&&(w=P-1),!A&&D){I=T;break}N++}return I||h},c_=function(e){var r=Jn(e)?[]:e.toString().split(rD);return[{words:r}]},Sre=function(e){var r=e.width,n=e.scaleToFit,a=e.children,i=e.style,s=e.breakAll,l=e.maxLines;if((r||n)&&!Up.isSsr){var c,u,f=nD({breakAll:s,children:a,style:i});if(f){var m=f.wordsWithComputedWidth,v=f.spaceWidth;c=m,u=v}else return c_(a);return wre({breakAll:s,children:a,maxLines:l,style:i},c,u,r,n)}return c_(a)},u_="#808080",Kf=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.lineHeight,l=s===void 0?"1em":s,c=e.capHeight,u=c===void 0?"0.71em":c,f=e.scaleToFit,m=f===void 0?!1:f,v=e.textAnchor,h=v===void 0?"start":v,E=e.verticalAnchor,y=E===void 0?"end":E,b=e.fill,x=b===void 0?u_:b,w=i_(e,gre),N=p.useMemo(function(){return Sre({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:m,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,m,w.style,w.width]),I=w.dx,P=w.dy,L=w.angle,R=w.className,O=w.breakAll,A=i_(w,hre);if(!fi(n)||!fi(i))return null;var T=n+(hr(I)?I:0),C=i+(hr(P)?P:0),_;switch(y){case"start":_=_w("calc(".concat(u,")"));break;case"middle":_=_w("calc(".concat((N.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:_=_w("calc(".concat(N.length-1," * -").concat(l,")"));break}var D=[];if(m){var z=N[0].width,V=w.width;D.push("scale(".concat((hr(V)?V/z:1)/z,")"))}return L&&D.push("rotate(".concat(L,", ").concat(T,", ").concat(C,")")),D.length&&(A.transform=D.join(" ")),o.createElement("text",rC({},wn(A,!0),{x:T,y:C,className:Kn("recharts-text",R),textAnchor:h,fill:x.includes("url")?u_:x}),N.map(function(J,ie){var G=J.words.join(O?"":" ");return o.createElement("tspan",{x:T,dy:ie===0?_:l,key:"".concat(G,"-").concat(ie)},G)}))};function $d(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Cre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function K3(t){let e,r,n;t.length!==2?(e=$d,r=(l,c)=>$d(t(l),c),n=(l,c)=>t(l)-c):(e=t===$d||t===Cre?t:Pre,r=t,n=t);function a(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const m=u+f>>>1;r(l[m],c)<0?u=m+1:f=m}while(u<f)}return u}function i(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const m=u+f>>>1;r(l[m],c)<=0?u=m+1:f=m}while(u<f)}return u}function s(l,c,u=0,f=l.length){const m=a(l,c,u,f-1);return m>u&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:a,center:s,right:i}}function Pre(){return 0}function aD(t){return t===null?NaN:+t}function*Nre(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const kre=K3($d),dv=kre.right;K3(aD).center;class d_ extends Map{constructor(e,r=Ire){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(f_(this,e))}has(e){return super.has(f_(this,e))}set(e,r){return super.set(Are(this,e),r)}delete(e){return super.delete(Ore(this,e))}}function f_({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function Are({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function Ore({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function Ire(t){return t!==null&&typeof t=="object"?t.valueOf():t}function _re(t=$d){if(t===$d)return oD;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function oD(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Lre=Math.sqrt(50),Tre=Math.sqrt(10),Rre=Math.sqrt(2);function p0(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),s=i>=Lre?10:i>=Tre?5:i>=Rre?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/s,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*s,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?p0(t,e,r*2):[l,c,u]}function nC(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,i,s]=n?p0(e,t,r):p0(t,e,r);if(!(i>=a))return[];const l=i-a+1,c=new Array(l);if(n)if(s<0)for(let u=0;u<l;++u)c[u]=(i-u)/-s;else for(let u=0;u<l;++u)c[u]=(i-u)*s;else if(s<0)for(let u=0;u<l;++u)c[u]=(a+u)/-s;else for(let u=0;u<l;++u)c[u]=(a+u)*s;return c}function aC(t,e,r){return e=+e,t=+t,r=+r,p0(t,e,r)[2]}function oC(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?aC(e,t,r):aC(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function m_(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function p_(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function iD(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?oD:_re(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,f=Math.log(c),m=.5*Math.exp(2*f/3),v=.5*Math.sqrt(f*m*(c-m)/c)*(u-c/2<0?-1:1),h=Math.max(r,Math.floor(e-u*m/c+v)),E=Math.min(n,Math.floor(e+(c-u)*m/c+v));iD(t,e,h,E,a)}const i=t[e];let s=r,l=n;for(wg(t,r,e),a(t[n],i)>0&&wg(t,r,n);s<l;){for(wg(t,s,l),++s,--l;a(t[s],i)<0;)++s;for(;a(t[l],i)>0;)--l}a(t[r],i)===0?wg(t,r,l):(++l,wg(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function wg(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Mre(t,e,r){if(t=Float64Array.from(Nre(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return p_(t);if(e>=1)return m_(t);var n,a=(n-1)*e,i=Math.floor(a),s=m_(iD(t,i).subarray(0,i+1)),l=p_(t.subarray(i+1));return s+(l-s)*(a-i)}}function Dre(t,e,r=aD){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,i=Math.floor(a),s=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return s+(l-s)*(a-i)}}function jre(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(a);++n<a;)i[n]=t+n*r;return i}function nc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function td(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const iC=Symbol("implicit");function Y3(){var t=new d_,e=[],r=[],n=iC;function a(i){let s=t.get(i);if(s===void 0){if(n!==iC)return n;t.set(i,s=e.push(i)-1)}return r[s%r.length]}return a.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new d_;for(const s of i)t.has(s)||t.set(s,e.push(s)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return Y3(e,r).unknown(n)},nc.apply(a,arguments),a}function Ah(){var t=Y3().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,i,s,l=!1,c=0,u=0,f=.5;delete t.unknown;function m(){var v=e().length,h=a<n,E=h?a:n,y=h?n:a;i=(y-E)/Math.max(1,v-c+u*2),l&&(i=Math.floor(i)),E+=(y-E-i*(v-c))*f,s=i*(1-c),l&&(E=Math.round(E),s=Math.round(s));var b=jre(v).map(function(x){return E+i*x});return r(h?b.reverse():b)}return t.domain=function(v){return arguments.length?(e(v),m()):e()},t.range=function(v){return arguments.length?([n,a]=v,n=+n,a=+a,m()):[n,a]},t.rangeRound=function(v){return[n,a]=v,n=+n,a=+a,l=!0,m()},t.bandwidth=function(){return s},t.step=function(){return i},t.round=function(v){return arguments.length?(l=!!v,m()):l},t.padding=function(v){return arguments.length?(c=Math.min(1,u=+v),m()):c},t.paddingInner=function(v){return arguments.length?(c=Math.min(1,v),m()):c},t.paddingOuter=function(v){return arguments.length?(u=+v,m()):u},t.align=function(v){return arguments.length?(f=Math.max(0,Math.min(1,v)),m()):f},t.copy=function(){return Ah(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},nc.apply(m(),arguments)}function sD(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return sD(e())},t}function Jg(){return sD(Ah.apply(null,arguments).paddingInner(1))}function J3(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function lD(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function fv(){}var Oh=.7,g0=1/Oh,op="\\s*([+-]?\\d+)\\s*",Ih="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",gu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Fre=/^#([0-9a-f]{3,8})$/,$re=new RegExp(`^rgb\\(${op},${op},${op}\\)$`),zre=new RegExp(`^rgb\\(${gu},${gu},${gu}\\)$`),Bre=new RegExp(`^rgba\\(${op},${op},${op},${Ih}\\)$`),Ure=new RegExp(`^rgba\\(${gu},${gu},${gu},${Ih}\\)$`),qre=new RegExp(`^hsl\\(${Ih},${gu},${gu}\\)$`),Vre=new RegExp(`^hsla\\(${Ih},${gu},${gu},${Ih}\\)$`),g_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};J3(fv,_h,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:h_,formatHex:h_,formatHex8:Hre,formatHsl:Wre,formatRgb:v_,toString:v_});function h_(){return this.rgb().formatHex()}function Hre(){return this.rgb().formatHex8()}function Wre(){return cD(this).formatHsl()}function v_(){return this.rgb().formatRgb()}function _h(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Fre.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?b_(e):r===3?new Zs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?vb(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?vb(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=$re.exec(t))?new Zs(e[1],e[2],e[3],1):(e=zre.exec(t))?new Zs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Bre.exec(t))?vb(e[1],e[2],e[3],e[4]):(e=Ure.exec(t))?vb(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qre.exec(t))?x_(e[1],e[2]/100,e[3]/100,1):(e=Vre.exec(t))?x_(e[1],e[2]/100,e[3]/100,e[4]):g_.hasOwnProperty(t)?b_(g_[t]):t==="transparent"?new Zs(NaN,NaN,NaN,0):null}function b_(t){return new Zs(t>>16&255,t>>8&255,t&255,1)}function vb(t,e,r,n){return n<=0&&(t=e=r=NaN),new Zs(t,e,r,n)}function Gre(t){return t instanceof fv||(t=_h(t)),t?(t=t.rgb(),new Zs(t.r,t.g,t.b,t.opacity)):new Zs}function sC(t,e,r,n){return arguments.length===1?Gre(t):new Zs(t,e,r,n??1)}function Zs(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}J3(Zs,sC,lD(fv,{brighter(t){return t=t==null?g0:Math.pow(g0,t),new Zs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Oh:Math.pow(Oh,t),new Zs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Zs(Vf(this.r),Vf(this.g),Vf(this.b),h0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:y_,formatHex:y_,formatHex8:Kre,formatRgb:E_,toString:E_}));function y_(){return`#${Df(this.r)}${Df(this.g)}${Df(this.b)}`}function Kre(){return`#${Df(this.r)}${Df(this.g)}${Df(this.b)}${Df((isNaN(this.opacity)?1:this.opacity)*255)}`}function E_(){const t=h0(this.opacity);return`${t===1?"rgb(":"rgba("}${Vf(this.r)}, ${Vf(this.g)}, ${Vf(this.b)}${t===1?")":`, ${t})`}`}function h0(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vf(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Df(t){return t=Vf(t),(t<16?"0":"")+t.toString(16)}function x_(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new $c(t,e,r,n)}function cD(t){if(t instanceof $c)return new $c(t.h,t.s,t.l,t.opacity);if(t instanceof fv||(t=_h(t)),!t)return new $c;if(t instanceof $c)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),i=Math.max(e,r,n),s=NaN,l=i-a,c=(i+a)/2;return l?(e===i?s=(r-n)/l+(r<n)*6:r===i?s=(n-e)/l+2:s=(e-r)/l+4,l/=c<.5?i+a:2-i-a,s*=60):l=c>0&&c<1?0:s,new $c(s,l,c,t.opacity)}function Yre(t,e,r,n){return arguments.length===1?cD(t):new $c(t,e,r,n??1)}function $c(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}J3($c,Yre,lD(fv,{brighter(t){return t=t==null?g0:Math.pow(g0,t),new $c(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Oh:Math.pow(Oh,t),new $c(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new Zs(Lw(t>=240?t-240:t+120,a,n),Lw(t,a,n),Lw(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new $c(w_(this.h),bb(this.s),bb(this.l),h0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=h0(this.opacity);return`${t===1?"hsl(":"hsla("}${w_(this.h)}, ${bb(this.s)*100}%, ${bb(this.l)*100}%${t===1?")":`, ${t})`}`}}));function w_(t){return t=(t||0)%360,t<0?t+360:t}function bb(t){return Math.max(0,Math.min(1,t||0))}function Lw(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const X3=t=>()=>t;function Jre(t,e){return function(r){return t+r*e}}function Xre(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Zre(t){return(t=+t)==1?uD:function(e,r){return r-e?Xre(e,r,t):X3(isNaN(e)?r:e)}}function uD(t,e){var r=e-t;return r?Jre(t,r):X3(isNaN(t)?e:t)}const S_=function t(e){var r=Zre(e);function n(a,i){var s=r((a=sC(a)).r,(i=sC(i)).r),l=r(a.g,i.g),c=r(a.b,i.b),u=uD(a.opacity,i.opacity);return function(f){return a.r=s(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=t,n}(1);function Qre(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=t[a]*(1-i)+e[a]*i;return n}}function ene(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function tne(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),i=new Array(r),s;for(s=0;s<n;++s)a[s]=qp(t[s],e[s]);for(;s<r;++s)i[s]=e[s];return function(l){for(s=0;s<n;++s)i[s]=a[s](l);return i}}function rne(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function v0(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function nne(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=qp(t[a],e[a]):n[a]=e[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var lC=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Tw=new RegExp(lC.source,"g");function ane(t){return function(){return t}}function one(t){return function(e){return t(e)+""}}function ine(t,e){var r=lC.lastIndex=Tw.lastIndex=0,n,a,i,s=-1,l=[],c=[];for(t=t+"",e=e+"";(n=lC.exec(t))&&(a=Tw.exec(e));)(i=a.index)>r&&(i=e.slice(r,i),l[s]?l[s]+=i:l[++s]=i),(n=n[0])===(a=a[0])?l[s]?l[s]+=a:l[++s]=a:(l[++s]=null,c.push({i:s,x:v0(n,a)})),r=Tw.lastIndex;return r<e.length&&(i=e.slice(r),l[s]?l[s]+=i:l[++s]=i),l.length<2?c[0]?one(c[0].x):ane(e):(e=c.length,function(u){for(var f=0,m;f<e;++f)l[(m=c[f]).i]=m.x(u);return l.join("")})}function qp(t,e){var r=typeof e,n;return e==null||r==="boolean"?X3(e):(r==="number"?v0:r==="string"?(n=_h(e))?(e=n,S_):ine:e instanceof _h?S_:e instanceof Date?rne:ene(e)?Qre:Array.isArray(e)?tne:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?nne:v0)(t,e)}function Z3(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function sne(t,e){e===void 0&&(e=t,t=qp);for(var r=0,n=e.length-1,a=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(a,a=e[++r]);return function(s){var l=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return i[l](s-l)}}function lne(t){return function(){return t}}function b0(t){return+t}var C_=[0,1];function Os(t){return t}function cC(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:lne(isNaN(e)?NaN:.5)}function cne(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function une(t,e,r){var n=t[0],a=t[1],i=e[0],s=e[1];return a<n?(n=cC(a,n),i=r(s,i)):(n=cC(n,a),i=r(i,s)),function(l){return i(n(l))}}function dne(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),i=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)a[s]=cC(t[s],t[s+1]),i[s]=r(e[s],e[s+1]);return function(l){var c=dv(t,l,1,n)-1;return i[c](a[c](l))}}function mv(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Py(){var t=C_,e=C_,r=qp,n,a,i,s=Os,l,c,u;function f(){var v=Math.min(t.length,e.length);return s!==Os&&(s=cne(t[0],t[v-1])),l=v>2?dne:une,c=u=null,m}function m(v){return v==null||isNaN(v=+v)?i:(c||(c=l(t.map(n),e,r)))(n(s(v)))}return m.invert=function(v){return s(a((u||(u=l(e,t.map(n),v0)))(v)))},m.domain=function(v){return arguments.length?(t=Array.from(v,b0),f()):t.slice()},m.range=function(v){return arguments.length?(e=Array.from(v),f()):e.slice()},m.rangeRound=function(v){return e=Array.from(v),r=Z3,f()},m.clamp=function(v){return arguments.length?(s=v?!0:Os,f()):s!==Os},m.interpolate=function(v){return arguments.length?(r=v,f()):r},m.unknown=function(v){return arguments.length?(i=v,m):i},function(v,h){return n=v,a=h,f()}}function Q3(){return Py()(Os,Os)}function fne(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function y0(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function gp(t){return t=y0(Math.abs(t)),t?t[1]:NaN}function mne(t,e){return function(r,n){for(var a=r.length,i=[],s=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[s=(s+1)%t.length];return i.reverse().join(e)}}function pne(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var gne=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Lh(t){if(!(e=gne.exec(t)))throw new Error("invalid format: "+t);var e;return new eP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Lh.prototype=eP.prototype;function eP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}eP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function hne(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var dD;function vne(t,e){var r=y0(t,e);if(!r)return t+"";var n=r[0],a=r[1],i=a-(dD=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=n.length;return i===s?n:i>s?n+new Array(i-s+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+y0(t,Math.max(0,e+i-1))[0]}function P_(t,e){var r=y0(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const N_={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:fne,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>P_(t*100,e),r:P_,s:vne,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function k_(t){return t}var A_=Array.prototype.map,O_=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function bne(t){var e=t.grouping===void 0||t.thousands===void 0?k_:mne(A_.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?k_:pne(A_.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(m){m=Lh(m);var v=m.fill,h=m.align,E=m.sign,y=m.symbol,b=m.zero,x=m.width,w=m.comma,N=m.precision,I=m.trim,P=m.type;P==="n"?(w=!0,P="g"):N_[P]||(N===void 0&&(N=12),I=!0,P="g"),(b||v==="0"&&h==="=")&&(b=!0,v="0",h="=");var L=y==="$"?r:y==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",R=y==="$"?n:/[%p]/.test(P)?s:"",O=N_[P],A=/[defgprs%]/.test(P);N=N===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function T(C){var _=L,D=R,z,V,J;if(P==="c")D=O(C)+D,C="";else{C=+C;var ie=C<0||1/C<0;if(C=isNaN(C)?c:O(Math.abs(C),N),I&&(C=hne(C)),ie&&+C==0&&E!=="+"&&(ie=!1),_=(ie?E==="("?E:l:E==="-"||E==="("?"":E)+_,D=(P==="s"?O_[8+dD/3]:"")+D+(ie&&E==="("?")":""),A){for(z=-1,V=C.length;++z<V;)if(J=C.charCodeAt(z),48>J||J>57){D=(J===46?a+C.slice(z+1):C.slice(z))+D,C=C.slice(0,z);break}}}w&&!b&&(C=e(C,1/0));var G=_.length+C.length+D.length,te=G<x?new Array(x-G+1).join(v):"";switch(w&&b&&(C=e(te+C,te.length?x-D.length:1/0),te=""),h){case"<":C=_+C+D+te;break;case"=":C=_+te+C+D;break;case"^":C=te.slice(0,G=te.length>>1)+_+C+D+te.slice(G);break;default:C=te+_+C+D;break}return i(C)}return T.toString=function(){return m+""},T}function f(m,v){var h=u((m=Lh(m),m.type="f",m)),E=Math.max(-8,Math.min(8,Math.floor(gp(v)/3)))*3,y=Math.pow(10,-E),b=O_[8+E/3];return function(x){return h(y*x)+b}}return{format:u,formatPrefix:f}}var yb,tP,fD;yne({thousands:",",grouping:[3],currency:["$",""]});function yne(t){return yb=bne(t),tP=yb.format,fD=yb.formatPrefix,yb}function Ene(t){return Math.max(0,-gp(Math.abs(t)))}function xne(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gp(e)/3)))*3-gp(Math.abs(t)))}function wne(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,gp(e)-gp(t))+1}function mD(t,e,r,n){var a=oC(t,e,r),i;switch(n=Lh(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=xne(a,s))&&(n.precision=i),fD(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=wne(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=Ene(a))&&(n.precision=i-(n.type==="%")*2);break}}return tP(n)}function Kd(t){var e=t.domain;return t.ticks=function(r){var n=e();return nC(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return mD(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,i=n.length-1,s=n[a],l=n[i],c,u,f=10;for(l<s&&(u=s,s=l,l=u,u=a,a=i,i=u);f-- >0;){if(u=aC(s,l,r),u===c)return n[a]=s,n[i]=l,e(n);if(u>0)s=Math.floor(s/u)*u,l=Math.ceil(l/u)*u;else if(u<0)s=Math.ceil(s*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function E0(){var t=Q3();return t.copy=function(){return mv(t,E0())},nc.apply(t,arguments),Kd(t)}function pD(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,b0),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return pD(t).unknown(e)},t=arguments.length?Array.from(t,b0):[0,1],Kd(r)}function gD(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],i=t[n],s;return i<a&&(s=r,r=n,n=s,s=a,a=i,i=s),t[r]=e.floor(a),t[n]=e.ceil(i),t}function I_(t){return Math.log(t)}function __(t){return Math.exp(t)}function Sne(t){return-Math.log(-t)}function Cne(t){return-Math.exp(-t)}function Pne(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Nne(t){return t===10?Pne:t===Math.E?Math.exp:e=>Math.pow(t,e)}function kne(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function L_(t){return(e,r)=>-t(-e,r)}function rP(t){const e=t(I_,__),r=e.domain;let n=10,a,i;function s(){return a=kne(n),i=Nne(n),r()[0]<0?(a=L_(a),i=L_(i),t(Sne,Cne)):t(I_,__),e}return e.base=function(l){return arguments.length?(n=+l,s()):n},e.domain=function(l){return arguments.length?(r(l),s()):r()},e.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const m=f<u;m&&([u,f]=[f,u]);let v=a(u),h=a(f),E,y;const b=l==null?10:+l;let x=[];if(!(n%1)&&h-v<b){if(v=Math.floor(v),h=Math.ceil(h),u>0){for(;v<=h;++v)for(E=1;E<n;++E)if(y=v<0?E/i(-v):E*i(v),!(y<u)){if(y>f)break;x.push(y)}}else for(;v<=h;++v)for(E=n-1;E>=1;--E)if(y=v>0?E/i(-v):E*i(v),!(y<u)){if(y>f)break;x.push(y)}x.length*2<b&&(x=nC(u,f,b))}else x=nC(v,h,Math.min(h-v,b)).map(i);return m?x.reverse():x},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Lh(c)).precision==null&&(c.trim=!0),c=tP(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return f=>{let m=f/i(Math.round(a(f)));return m*n<n-.5&&(m*=n),m<=u?c(f):""}},e.nice=()=>r(gD(r(),{floor:l=>i(Math.floor(a(l))),ceil:l=>i(Math.ceil(a(l)))})),e}function hD(){const t=rP(Py()).domain([1,10]);return t.copy=()=>mv(t,hD()).base(t.base()),nc.apply(t,arguments),t}function T_(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function R_(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function nP(t){var e=1,r=t(T_(e),R_(e));return r.constant=function(n){return arguments.length?t(T_(e=+n),R_(e)):e},Kd(r)}function vD(){var t=nP(Py());return t.copy=function(){return mv(t,vD()).constant(t.constant())},nc.apply(t,arguments)}function M_(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Ane(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function One(t){return t<0?-t*t:t*t}function aP(t){var e=t(Os,Os),r=1;function n(){return r===1?t(Os,Os):r===.5?t(Ane,One):t(M_(r),M_(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},Kd(e)}function oP(){var t=aP(Py());return t.copy=function(){return mv(t,oP()).exponent(t.exponent())},nc.apply(t,arguments),t}function Ine(){return oP.apply(null,arguments).exponent(.5)}function D_(t){return Math.sign(t)*t*t}function _ne(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function bD(){var t=Q3(),e=[0,1],r=!1,n;function a(i){var s=_ne(t(i));return isNaN(s)?n:r?Math.round(s):s}return a.invert=function(i){return t.invert(D_(i))},a.domain=function(i){return arguments.length?(t.domain(i),a):t.domain()},a.range=function(i){return arguments.length?(t.range((e=Array.from(i,b0)).map(D_)),a):e.slice()},a.rangeRound=function(i){return a.range(i).round(!0)},a.round=function(i){return arguments.length?(r=!!i,a):r},a.clamp=function(i){return arguments.length?(t.clamp(i),a):t.clamp()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return bD(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},nc.apply(a,arguments),Kd(a)}function yD(){var t=[],e=[],r=[],n;function a(){var s=0,l=Math.max(1,e.length);for(r=new Array(l-1);++s<l;)r[s-1]=Dre(t,s/l);return i}function i(s){return s==null||isNaN(s=+s)?n:e[dv(r,s)]}return i.invertExtent=function(s){var l=e.indexOf(s);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let l of s)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort($d),a()},i.range=function(s){return arguments.length?(e=Array.from(s),a()):e.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return yD().domain(t).range(e).unknown(n)},nc.apply(i,arguments)}function ED(){var t=0,e=1,r=1,n=[.5],a=[0,1],i;function s(c){return c!=null&&c<=c?a[dv(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},s.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},s.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},s.unknown=function(c){return arguments.length&&(i=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return ED().domain([t,e]).range(a).unknown(i)},nc.apply(Kd(s),arguments)}function xD(){var t=[.5],e=[0,1],r,n=1;function a(i){return i!=null&&i<=i?e[dv(t,i,0,n)]:r}return a.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(i){var s=e.indexOf(i);return[t[s-1],t[s]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return xD().domain(t).range(e).unknown(r)},nc.apply(a,arguments)}const Rw=new Date,Mw=new Date;function gi(t,e,r,n){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),l=a.ceil(i);return i-s<l-i?s:l},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,l)=>{const c=[];if(i=a.ceil(i),l=l==null?1:Math.floor(l),!(i<s)||!(l>0))return c;let u;do c.push(u=new Date(+i)),e(i,l),t(i);while(u<i&&i<s);return c},a.filter=i=>gi(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,l)=>{if(s>=s)if(l<0)for(;++l<=0;)for(;e(s,-1),!i(s););else for(;--l>=0;)for(;e(s,1),!i(s););}),r&&(a.count=(i,s)=>(Rw.setTime(+i),Mw.setTime(+s),t(Rw),t(Mw),Math.floor(r(Rw,Mw))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?s=>n(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const x0=gi(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);x0.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gi(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):x0);x0.range;const Bu=1e3,Zl=Bu*60,Uu=Zl*60,Gu=Uu*24,iP=Gu*7,j_=Gu*30,Dw=Gu*365,jf=gi(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Bu)},(t,e)=>(e-t)/Bu,t=>t.getUTCSeconds());jf.range;const sP=gi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bu)},(t,e)=>{t.setTime(+t+e*Zl)},(t,e)=>(e-t)/Zl,t=>t.getMinutes());sP.range;const lP=gi(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Zl)},(t,e)=>(e-t)/Zl,t=>t.getUTCMinutes());lP.range;const cP=gi(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Bu-t.getMinutes()*Zl)},(t,e)=>{t.setTime(+t+e*Uu)},(t,e)=>(e-t)/Uu,t=>t.getHours());cP.range;const uP=gi(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Uu)},(t,e)=>(e-t)/Uu,t=>t.getUTCHours());uP.range;const pv=gi(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Zl)/Gu,t=>t.getDate()-1);pv.range;const Ny=gi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gu,t=>t.getUTCDate()-1);Ny.range;const wD=gi(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Gu,t=>Math.floor(t/Gu));wD.range;function rm(t){return gi(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Zl)/iP)}const ky=rm(0),w0=rm(1),Lne=rm(2),Tne=rm(3),hp=rm(4),Rne=rm(5),Mne=rm(6);ky.range;w0.range;Lne.range;Tne.range;hp.range;Rne.range;Mne.range;function nm(t){return gi(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/iP)}const Ay=nm(0),S0=nm(1),Dne=nm(2),jne=nm(3),vp=nm(4),Fne=nm(5),$ne=nm(6);Ay.range;S0.range;Dne.range;jne.range;vp.range;Fne.range;$ne.range;const dP=gi(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());dP.range;const fP=gi(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());fP.range;const Ku=gi(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Ku.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gi(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Ku.range;const Yu=gi(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Yu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gi(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Yu.range;function SD(t,e,r,n,a,i){const s=[[jf,1,Bu],[jf,5,5*Bu],[jf,15,15*Bu],[jf,30,30*Bu],[i,1,Zl],[i,5,5*Zl],[i,15,15*Zl],[i,30,30*Zl],[a,1,Uu],[a,3,3*Uu],[a,6,6*Uu],[a,12,12*Uu],[n,1,Gu],[n,2,2*Gu],[r,1,iP],[e,1,j_],[e,3,3*j_],[t,1,Dw]];function l(u,f,m){const v=f<u;v&&([u,f]=[f,u]);const h=m&&typeof m.range=="function"?m:c(u,f,m),E=h?h.range(u,+f+1):[];return v?E.reverse():E}function c(u,f,m){const v=Math.abs(f-u)/m,h=K3(([,,b])=>b).right(s,v);if(h===s.length)return t.every(oC(u/Dw,f/Dw,m));if(h===0)return x0.every(Math.max(oC(u,f,m),1));const[E,y]=s[v/s[h-1][2]<s[h][2]/v?h-1:h];return E.every(y)}return[l,c]}const[zne,Bne]=SD(Yu,fP,Ay,wD,uP,lP),[Une,qne]=SD(Ku,dP,ky,pv,cP,sP);function jw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Fw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Sg(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Vne(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,i=t.days,s=t.shortDays,l=t.months,c=t.shortMonths,u=Cg(a),f=Pg(a),m=Cg(i),v=Pg(i),h=Cg(s),E=Pg(s),y=Cg(l),b=Pg(l),x=Cg(c),w=Pg(c),N={a:ie,A:G,b:te,B:W,c:null,d:q_,e:q_,f:mae,g:Sae,G:Pae,H:uae,I:dae,j:fae,L:CD,m:pae,M:gae,p:B,q:j,Q:W_,s:G_,S:hae,u:vae,U:bae,V:yae,w:Eae,W:xae,x:null,X:null,y:wae,Y:Cae,Z:Nae,"%":H_},I={a:U,A:X,b:Z,B:me,c:null,d:V_,e:V_,f:Iae,g:zae,G:Uae,H:kae,I:Aae,j:Oae,L:ND,m:_ae,M:Lae,p:de,q:oe,Q:W_,s:G_,S:Tae,u:Rae,U:Mae,V:Dae,w:jae,W:Fae,x:null,X:null,y:$ae,Y:Bae,Z:qae,"%":H_},P={a:T,A:C,b:_,B:D,c:z,d:B_,e:B_,f:iae,g:z_,G:$_,H:U_,I:U_,j:rae,L:oae,m:tae,M:nae,p:A,q:eae,Q:lae,s:cae,S:aae,u:Yne,U:Jne,V:Xne,w:Kne,W:Zne,x:V,X:J,y:z_,Y:$_,Z:Qne,"%":sae};N.x=L(r,N),N.X=L(n,N),N.c=L(e,N),I.x=L(r,I),I.X=L(n,I),I.c=L(e,I);function L(ee,le){return function(pe){var ce=[],_e=-1,He=0,Re=ee.length,be,gt,Ae;for(pe instanceof Date||(pe=new Date(+pe));++_e<Re;)ee.charCodeAt(_e)===37&&(ce.push(ee.slice(He,_e)),(gt=F_[be=ee.charAt(++_e)])!=null?be=ee.charAt(++_e):gt=be==="e"?" ":"0",(Ae=le[be])&&(be=Ae(pe,gt)),ce.push(be),He=_e+1);return ce.push(ee.slice(He,_e)),ce.join("")}}function R(ee,le){return function(pe){var ce=Sg(1900,void 0,1),_e=O(ce,ee,pe+="",0),He,Re;if(_e!=pe.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(le&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(He=Fw(Sg(ce.y,0,1)),Re=He.getUTCDay(),He=Re>4||Re===0?S0.ceil(He):S0(He),He=Ny.offset(He,(ce.V-1)*7),ce.y=He.getUTCFullYear(),ce.m=He.getUTCMonth(),ce.d=He.getUTCDate()+(ce.w+6)%7):(He=jw(Sg(ce.y,0,1)),Re=He.getDay(),He=Re>4||Re===0?w0.ceil(He):w0(He),He=pv.offset(He,(ce.V-1)*7),ce.y=He.getFullYear(),ce.m=He.getMonth(),ce.d=He.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Re="Z"in ce?Fw(Sg(ce.y,0,1)).getUTCDay():jw(Sg(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Re+5)%7:ce.w+ce.U*7-(Re+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,Fw(ce)):jw(ce)}}function O(ee,le,pe,ce){for(var _e=0,He=le.length,Re=pe.length,be,gt;_e<He;){if(ce>=Re)return-1;if(be=le.charCodeAt(_e++),be===37){if(be=le.charAt(_e++),gt=P[be in F_?le.charAt(_e++):be],!gt||(ce=gt(ee,pe,ce))<0)return-1}else if(be!=pe.charCodeAt(ce++))return-1}return ce}function A(ee,le,pe){var ce=u.exec(le.slice(pe));return ce?(ee.p=f.get(ce[0].toLowerCase()),pe+ce[0].length):-1}function T(ee,le,pe){var ce=h.exec(le.slice(pe));return ce?(ee.w=E.get(ce[0].toLowerCase()),pe+ce[0].length):-1}function C(ee,le,pe){var ce=m.exec(le.slice(pe));return ce?(ee.w=v.get(ce[0].toLowerCase()),pe+ce[0].length):-1}function _(ee,le,pe){var ce=x.exec(le.slice(pe));return ce?(ee.m=w.get(ce[0].toLowerCase()),pe+ce[0].length):-1}function D(ee,le,pe){var ce=y.exec(le.slice(pe));return ce?(ee.m=b.get(ce[0].toLowerCase()),pe+ce[0].length):-1}function z(ee,le,pe){return O(ee,e,le,pe)}function V(ee,le,pe){return O(ee,r,le,pe)}function J(ee,le,pe){return O(ee,n,le,pe)}function ie(ee){return s[ee.getDay()]}function G(ee){return i[ee.getDay()]}function te(ee){return c[ee.getMonth()]}function W(ee){return l[ee.getMonth()]}function B(ee){return a[+(ee.getHours()>=12)]}function j(ee){return 1+~~(ee.getMonth()/3)}function U(ee){return s[ee.getUTCDay()]}function X(ee){return i[ee.getUTCDay()]}function Z(ee){return c[ee.getUTCMonth()]}function me(ee){return l[ee.getUTCMonth()]}function de(ee){return a[+(ee.getUTCHours()>=12)]}function oe(ee){return 1+~~(ee.getUTCMonth()/3)}return{format:function(ee){var le=L(ee+="",N);return le.toString=function(){return ee},le},parse:function(ee){var le=R(ee+="",!1);return le.toString=function(){return ee},le},utcFormat:function(ee){var le=L(ee+="",I);return le.toString=function(){return ee},le},utcParse:function(ee){var le=R(ee+="",!0);return le.toString=function(){return ee},le}}}var F_={"-":"",_:" ",0:"0"},Oi=/^\s*\d+/,Hne=/^%/,Wne=/[\\^$*+?|[\]().{}]/g;function Ea(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(e)+a:a)}function Gne(t){return t.replace(Wne,"\\$&")}function Cg(t){return new RegExp("^(?:"+t.map(Gne).join("|")+")","i")}function Pg(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function Kne(t,e,r){var n=Oi.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Yne(t,e,r){var n=Oi.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function Jne(t,e,r){var n=Oi.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function Xne(t,e,r){var n=Oi.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Zne(t,e,r){var n=Oi.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function $_(t,e,r){var n=Oi.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function z_(t,e,r){var n=Oi.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Qne(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function eae(t,e,r){var n=Oi.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function tae(t,e,r){var n=Oi.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function B_(t,e,r){var n=Oi.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function rae(t,e,r){var n=Oi.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function U_(t,e,r){var n=Oi.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function nae(t,e,r){var n=Oi.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function aae(t,e,r){var n=Oi.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function oae(t,e,r){var n=Oi.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function iae(t,e,r){var n=Oi.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function sae(t,e,r){var n=Hne.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function lae(t,e,r){var n=Oi.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function cae(t,e,r){var n=Oi.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function q_(t,e){return Ea(t.getDate(),e,2)}function uae(t,e){return Ea(t.getHours(),e,2)}function dae(t,e){return Ea(t.getHours()%12||12,e,2)}function fae(t,e){return Ea(1+pv.count(Ku(t),t),e,3)}function CD(t,e){return Ea(t.getMilliseconds(),e,3)}function mae(t,e){return CD(t,e)+"000"}function pae(t,e){return Ea(t.getMonth()+1,e,2)}function gae(t,e){return Ea(t.getMinutes(),e,2)}function hae(t,e){return Ea(t.getSeconds(),e,2)}function vae(t){var e=t.getDay();return e===0?7:e}function bae(t,e){return Ea(ky.count(Ku(t)-1,t),e,2)}function PD(t){var e=t.getDay();return e>=4||e===0?hp(t):hp.ceil(t)}function yae(t,e){return t=PD(t),Ea(hp.count(Ku(t),t)+(Ku(t).getDay()===4),e,2)}function Eae(t){return t.getDay()}function xae(t,e){return Ea(w0.count(Ku(t)-1,t),e,2)}function wae(t,e){return Ea(t.getFullYear()%100,e,2)}function Sae(t,e){return t=PD(t),Ea(t.getFullYear()%100,e,2)}function Cae(t,e){return Ea(t.getFullYear()%1e4,e,4)}function Pae(t,e){var r=t.getDay();return t=r>=4||r===0?hp(t):hp.ceil(t),Ea(t.getFullYear()%1e4,e,4)}function Nae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Ea(e/60|0,"0",2)+Ea(e%60,"0",2)}function V_(t,e){return Ea(t.getUTCDate(),e,2)}function kae(t,e){return Ea(t.getUTCHours(),e,2)}function Aae(t,e){return Ea(t.getUTCHours()%12||12,e,2)}function Oae(t,e){return Ea(1+Ny.count(Yu(t),t),e,3)}function ND(t,e){return Ea(t.getUTCMilliseconds(),e,3)}function Iae(t,e){return ND(t,e)+"000"}function _ae(t,e){return Ea(t.getUTCMonth()+1,e,2)}function Lae(t,e){return Ea(t.getUTCMinutes(),e,2)}function Tae(t,e){return Ea(t.getUTCSeconds(),e,2)}function Rae(t){var e=t.getUTCDay();return e===0?7:e}function Mae(t,e){return Ea(Ay.count(Yu(t)-1,t),e,2)}function kD(t){var e=t.getUTCDay();return e>=4||e===0?vp(t):vp.ceil(t)}function Dae(t,e){return t=kD(t),Ea(vp.count(Yu(t),t)+(Yu(t).getUTCDay()===4),e,2)}function jae(t){return t.getUTCDay()}function Fae(t,e){return Ea(S0.count(Yu(t)-1,t),e,2)}function $ae(t,e){return Ea(t.getUTCFullYear()%100,e,2)}function zae(t,e){return t=kD(t),Ea(t.getUTCFullYear()%100,e,2)}function Bae(t,e){return Ea(t.getUTCFullYear()%1e4,e,4)}function Uae(t,e){var r=t.getUTCDay();return t=r>=4||r===0?vp(t):vp.ceil(t),Ea(t.getUTCFullYear()%1e4,e,4)}function qae(){return"+0000"}function H_(){return"%"}function W_(t){return+t}function G_(t){return Math.floor(+t/1e3)}var Rm,AD,OD;Vae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Vae(t){return Rm=Vne(t),AD=Rm.format,Rm.parse,OD=Rm.utcFormat,Rm.utcParse,Rm}function Hae(t){return new Date(t)}function Wae(t){return t instanceof Date?+t:+new Date(+t)}function mP(t,e,r,n,a,i,s,l,c,u){var f=Q3(),m=f.invert,v=f.domain,h=u(".%L"),E=u(":%S"),y=u("%I:%M"),b=u("%I %p"),x=u("%a %d"),w=u("%b %d"),N=u("%B"),I=u("%Y");function P(L){return(c(L)<L?h:l(L)<L?E:s(L)<L?y:i(L)<L?b:n(L)<L?a(L)<L?x:w:r(L)<L?N:I)(L)}return f.invert=function(L){return new Date(m(L))},f.domain=function(L){return arguments.length?v(Array.from(L,Wae)):v().map(Hae)},f.ticks=function(L){var R=v();return t(R[0],R[R.length-1],L??10)},f.tickFormat=function(L,R){return R==null?P:u(R)},f.nice=function(L){var R=v();return(!L||typeof L.range!="function")&&(L=e(R[0],R[R.length-1],L??10)),L?v(gD(R,L)):f},f.copy=function(){return mv(f,mP(t,e,r,n,a,i,s,l,c,u))},f}function Gae(){return nc.apply(mP(Une,qne,Ku,dP,ky,pv,cP,sP,jf,AD).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Kae(){return nc.apply(mP(zne,Bne,Yu,fP,Ay,Ny,uP,lP,jf,OD).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Oy(){var t=0,e=1,r,n,a,i,s=Os,l=!1,c;function u(m){return m==null||isNaN(m=+m)?c:s(a===0?.5:(m=(i(m)-r)*a,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([t,e]=m,r=i(t=+t),n=i(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(s=m,u):s};function f(m){return function(v){var h,E;return arguments.length?([h,E]=v,s=m(h,E),u):[s(0),s(1)]}}return u.range=f(qp),u.rangeRound=f(Z3),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return i=m,r=m(t),n=m(e),a=r===n?0:1/(n-r),u}}function Yd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function ID(){var t=Kd(Oy()(Os));return t.copy=function(){return Yd(t,ID())},td.apply(t,arguments)}function _D(){var t=rP(Oy()).domain([1,10]);return t.copy=function(){return Yd(t,_D()).base(t.base())},td.apply(t,arguments)}function LD(){var t=nP(Oy());return t.copy=function(){return Yd(t,LD()).constant(t.constant())},td.apply(t,arguments)}function pP(){var t=aP(Oy());return t.copy=function(){return Yd(t,pP()).exponent(t.exponent())},td.apply(t,arguments)}function Yae(){return pP.apply(null,arguments).exponent(.5)}function TD(){var t=[],e=Os;function r(n){if(n!=null&&!isNaN(n=+n))return e((dv(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort($d),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,i)=>Mre(t,i/n))},r.copy=function(){return TD(e).domain(t)},td.apply(r,arguments)}function Iy(){var t=0,e=.5,r=1,n=1,a,i,s,l,c,u=Os,f,m=!1,v;function h(y){return isNaN(y=+y)?v:(y=.5+((y=+f(y))-i)*(n*y<n*i?l:c),u(m?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([t,e,r]=y,a=f(t=+t),i=f(e=+e),s=f(r=+r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h):[t,e,r]},h.clamp=function(y){return arguments.length?(m=!!y,h):m},h.interpolator=function(y){return arguments.length?(u=y,h):u};function E(y){return function(b){var x,w,N;return arguments.length?([x,w,N]=b,u=sne(y,[x,w,N]),h):[u(0),u(.5),u(1)]}}return h.range=E(qp),h.rangeRound=E(Z3),h.unknown=function(y){return arguments.length?(v=y,h):v},function(y){return f=y,a=y(t),i=y(e),s=y(r),l=a===i?0:.5/(i-a),c=i===s?0:.5/(s-i),n=i<a?-1:1,h}}function RD(){var t=Kd(Iy()(Os));return t.copy=function(){return Yd(t,RD())},td.apply(t,arguments)}function MD(){var t=rP(Iy()).domain([.1,1,10]);return t.copy=function(){return Yd(t,MD()).base(t.base())},td.apply(t,arguments)}function DD(){var t=nP(Iy());return t.copy=function(){return Yd(t,DD()).constant(t.constant())},td.apply(t,arguments)}function gP(){var t=aP(Iy());return t.copy=function(){return Yd(t,gP()).exponent(t.exponent())},td.apply(t,arguments)}function Jae(){return gP.apply(null,arguments).exponent(.5)}const K_=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Ah,scaleDiverging:RD,scaleDivergingLog:MD,scaleDivergingPow:gP,scaleDivergingSqrt:Jae,scaleDivergingSymlog:DD,scaleIdentity:pD,scaleImplicit:iC,scaleLinear:E0,scaleLog:hD,scaleOrdinal:Y3,scalePoint:Jg,scalePow:oP,scaleQuantile:yD,scaleQuantize:ED,scaleRadial:bD,scaleSequential:ID,scaleSequentialLog:_D,scaleSequentialPow:pP,scaleSequentialQuantile:TD,scaleSequentialSqrt:Yae,scaleSequentialSymlog:LD,scaleSqrt:Ine,scaleSymlog:vD,scaleThreshold:xD,scaleTime:Gae,scaleUtc:Kae,tickFormat:mD},Symbol.toStringTag,{value:"Module"}));var $w,Y_;function _y(){if(Y_)return $w;Y_=1;var t=$p();function e(r,n,a){for(var i=-1,s=r.length;++i<s;){var l=r[i],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,f=l}return f}return $w=e,$w}var zw,J_;function jD(){if(J_)return zw;J_=1;function t(e,r){return e>r}return zw=t,zw}var Bw,X_;function Xae(){if(X_)return Bw;X_=1;var t=_y(),e=jD(),r=Bp();function n(a){return a&&a.length?t(a,r,e):void 0}return Bw=n,Bw}var Zae=Xae();const Ly=wa(Zae);var Uw,Z_;function FD(){if(Z_)return Uw;Z_=1;function t(e,r){return e<r}return Uw=t,Uw}var qw,Q_;function Qae(){if(Q_)return qw;Q_=1;var t=_y(),e=FD(),r=Bp();function n(a){return a&&a.length?t(a,r,e):void 0}return qw=n,qw}var eoe=Qae();const Ty=wa(eoe);var Vw,eL;function toe(){if(eL)return Vw;eL=1;var t=_3(),e=Eu(),r=HM(),n=tl();function a(i,s){var l=n(i)?t:r;return l(i,e(s,3))}return Vw=a,Vw}var Hw,tL;function roe(){if(tL)return Hw;tL=1;var t=qM(),e=toe();function r(n,a){return t(e(n,a),1)}return Hw=r,Hw}var noe=roe();const aoe=wa(noe);var Ww,rL;function ooe(){if(rL)return Ww;rL=1;var t=V3();function e(r,n){return t(r,n)}return Ww=e,Ww}var ioe=ooe();const Ry=wa(ioe);var Vp=1e9,soe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},vP,co=!0,ec="[DecimalError] ",Hf=ec+"Invalid argument: ",hP=ec+"Exponent out of range: ",Hp=Math.floor,kf=Math.pow,loe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kl,Ci=1e7,no=7,$D=9007199254740991,C0=Hp($D/no),$r={};$r.absoluteValue=$r.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};$r.comparedTo=$r.cmp=function(t){var e,r,n,a,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===a?0:n>a^i.s<0?1:-1};$r.decimalPlaces=$r.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*no;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};$r.dividedBy=$r.div=function(t){return Hu(this,new this.constructor(t))};$r.dividedToIntegerBy=$r.idiv=function(t){var e=this,r=e.constructor;return Va(Hu(e,new r(t),0,1),r.precision)};$r.equals=$r.eq=function(t){return!this.cmp(t)};$r.exponent=function(){return Jo(this)};$r.greaterThan=$r.gt=function(t){return this.cmp(t)>0};$r.greaterThanOrEqualTo=$r.gte=function(t){return this.cmp(t)>=0};$r.isInteger=$r.isint=function(){return this.e>this.d.length-2};$r.isNegative=$r.isneg=function(){return this.s<0};$r.isPositive=$r.ispos=function(){return this.s>0};$r.isZero=function(){return this.s===0};$r.lessThan=$r.lt=function(t){return this.cmp(t)<0};$r.lessThanOrEqualTo=$r.lte=function(t){return this.cmp(t)<1};$r.logarithm=$r.log=function(t){var e,r=this,n=r.constructor,a=n.precision,i=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(kl))throw Error(ec+"NaN");if(r.s<1)throw Error(ec+(r.s?"NaN":"-Infinity"));return r.eq(kl)?new n(0):(co=!1,e=Hu(Th(r,i),Th(t,i),i),co=!0,Va(e,a))};$r.minus=$r.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?UD(e,t):zD(e,(t.s=-t.s,t))};$r.modulo=$r.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(ec+"NaN");return r.s?(co=!1,e=Hu(r,t,0,1).times(t),co=!0,r.minus(e)):Va(new n(r),a)};$r.naturalExponential=$r.exp=function(){return BD(this)};$r.naturalLogarithm=$r.ln=function(){return Th(this)};$r.negated=$r.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};$r.plus=$r.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?zD(e,t):UD(e,(t.s=-t.s,t))};$r.precision=$r.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Hf+t);if(e=Jo(a)+1,n=a.d.length-1,r=n*no+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};$r.squareRoot=$r.sqrt=function(){var t,e,r,n,a,i,s,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(ec+"NaN")}for(t=Jo(l),co=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=mu(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Hp((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=s=r+3;;)if(i=n,n=i.plus(Hu(l,i,s+2)).times(.5),mu(i.d).slice(0,s)===(e=mu(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),a==s&&e=="4999"){if(Va(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;s+=4}return co=!0,Va(n,r)};$r.times=$r.mul=function(t){var e,r,n,a,i,s,l,c,u,f=this,m=f.constructor,v=f.d,h=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,r=f.e+t.e,c=v.length,u=h.length,c<u&&(i=v,v=h,h=i,s=c,c=u,u=s),i=[],s=c+u,n=s;n--;)i.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=i[a]+h[n]*v[a-n-1]+e,i[a--]=l%Ci|0,e=l/Ci|0;i[a]=(i[a]+e)%Ci|0}for(;!i[--s];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,co?Va(t,m.precision):t};$r.toDecimalPlaces=$r.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(vu(t,0,Vp),e===void 0?e=n.rounding:vu(e,0,8),Va(r,t+Jo(r)+1,e))};$r.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Yf(n,!0):(vu(t,0,Vp),e===void 0?e=a.rounding:vu(e,0,8),n=Va(new a(n),t+1,e),r=Yf(n,!0,t+1)),r};$r.toFixed=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?Yf(a):(vu(t,0,Vp),e===void 0?e=i.rounding:vu(e,0,8),n=Va(new i(a),t+Jo(a)+1,e),r=Yf(n.abs(),!1,t+Jo(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};$r.toInteger=$r.toint=function(){var t=this,e=t.constructor;return Va(new e(t),Jo(t)+1,e.rounding)};$r.toNumber=function(){return+this};$r.toPower=$r.pow=function(t){var e,r,n,a,i,s,l=this,c=l.constructor,u=12,f=+(t=new c(t));if(!t.s)return new c(kl);if(l=new c(l),!l.s){if(t.s<1)throw Error(ec+"Infinity");return l}if(l.eq(kl))return l;if(n=c.precision,t.eq(kl))return Va(l,n);if(e=t.e,r=t.d.length-1,s=e>=r,i=l.s,s){if((r=f<0?-f:f)<=$D){for(a=new c(kl),e=Math.ceil(n/no+4),co=!1;r%2&&(a=a.times(l),aL(a.d,e)),r=Hp(r/2),r!==0;)l=l.times(l),aL(l.d,e);return co=!0,t.s<0?new c(kl).div(a):Va(a,n)}}else if(i<0)throw Error(ec+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,co=!1,a=t.times(Th(l,n+u)),co=!0,a=BD(a),a.s=i,a};$r.toPrecision=function(t,e){var r,n,a=this,i=a.constructor;return t===void 0?(r=Jo(a),n=Yf(a,r<=i.toExpNeg||r>=i.toExpPos)):(vu(t,1,Vp),e===void 0?e=i.rounding:vu(e,0,8),a=Va(new i(a),t,e),r=Jo(a),n=Yf(a,t<=r||r<=i.toExpNeg,t)),n};$r.toSignificantDigits=$r.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(vu(t,1,Vp),e===void 0?e=n.rounding:vu(e,0,8)),Va(new n(r),t,e)};$r.toString=$r.valueOf=$r.val=$r.toJSON=$r[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Jo(t),r=t.constructor;return Yf(t,e<=r.toExpNeg||e>=r.toExpPos)};function zD(t,e){var r,n,a,i,s,l,c,u,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),co?Va(e,m):e;if(c=t.d,u=e.d,s=t.e,a=e.e,c=c.slice(),i=s-a,i){for(i<0?(n=c,i=-i,l=u.length):(n=u,a=s,l=c.length),s=Math.ceil(m/no),l=s>l?s+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=u.length,l-i<0&&(i=l,n=u,u=c,c=n),r=0;i;)r=(c[--i]=c[i]+u[i]+r)/Ci|0,c[i]%=Ci;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,co?Va(e,m):e}function vu(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Hf+t)}function mu(t){var e,r,n,a=t.length-1,i="",s=t[0];if(a>0){for(i+=s,e=1;e<a;e++)n=t[e]+"",r=no-n.length,r&&(i+=Id(r)),i+=n;s=t[e],n=s+"",r=no-n.length,r&&(i+=Id(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return i+s}var Hu=function(){function t(n,a){var i,s=0,l=n.length;for(n=n.slice();l--;)i=n[l]*a+s,n[l]=i%Ci|0,s=i/Ci|0;return s&&n.unshift(s),n}function e(n,a,i,s){var l,c;if(i!=s)c=i>s?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,i){for(var s=0;i--;)n[i]-=s,s=n[i]<a[i]?1:0,n[i]=s*Ci+n[i]-a[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,i,s){var l,c,u,f,m,v,h,E,y,b,x,w,N,I,P,L,R,O,A=n.constructor,T=n.s==a.s?1:-1,C=n.d,_=a.d;if(!n.s)return new A(n);if(!a.s)throw Error(ec+"Division by zero");for(c=n.e-a.e,R=_.length,P=C.length,h=new A(T),E=h.d=[],u=0;_[u]==(C[u]||0);)++u;if(_[u]>(C[u]||0)&&--c,i==null?w=i=A.precision:s?w=i+(Jo(n)-Jo(a))+1:w=i,w<0)return new A(0);if(w=w/no+2|0,u=0,R==1)for(f=0,_=_[0],w++;(u<P||f)&&w--;u++)N=f*Ci+(C[u]||0),E[u]=N/_|0,f=N%_|0;else{for(f=Ci/(_[0]+1)|0,f>1&&(_=t(_,f),C=t(C,f),R=_.length,P=C.length),I=R,y=C.slice(0,R),b=y.length;b<R;)y[b++]=0;O=_.slice(),O.unshift(0),L=_[0],_[1]>=Ci/2&&++L;do f=0,l=e(_,y,R,b),l<0?(x=y[0],R!=b&&(x=x*Ci+(y[1]||0)),f=x/L|0,f>1?(f>=Ci&&(f=Ci-1),m=t(_,f),v=m.length,b=y.length,l=e(m,y,v,b),l==1&&(f--,r(m,R<v?O:_,v))):(f==0&&(l=f=1),m=_.slice()),v=m.length,v<b&&m.unshift(0),r(y,m,b),l==-1&&(b=y.length,l=e(_,y,R,b),l<1&&(f++,r(y,R<b?O:_,b))),b=y.length):l===0&&(f++,y=[0]),E[u++]=f,l&&y[0]?y[b++]=C[I]||0:(y=[C[I]],b=1);while((I++<P||y[0]!==void 0)&&w--)}return E[0]||E.shift(),h.e=c,Va(h,s?i+Jo(h)+1:i)}}();function BD(t,e){var r,n,a,i,s,l,c=0,u=0,f=t.constructor,m=f.precision;if(Jo(t)>16)throw Error(hP+Jo(t));if(!t.s)return new f(kl);for(co=!1,l=m,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),u+=5;for(n=Math.log(kf(2,u))/Math.LN10*2+5|0,l+=n,r=a=i=new f(kl),f.precision=l;;){if(a=Va(a.times(t),l),r=r.times(++c),s=i.plus(Hu(a,r,l)),mu(s.d).slice(0,l)===mu(i.d).slice(0,l)){for(;u--;)i=Va(i.times(i),l);return f.precision=m,e==null?(co=!0,Va(i,m)):i}i=s}}function Jo(t){for(var e=t.e*no,r=t.d[0];r>=10;r/=10)e++;return e}function Gw(t,e,r){if(e>t.LN10.sd())throw co=!0,r&&(t.precision=r),Error(ec+"LN10 precision limit exceeded");return Va(new t(t.LN10),e)}function Id(t){for(var e="";t--;)e+="0";return e}function Th(t,e){var r,n,a,i,s,l,c,u,f,m=1,v=10,h=t,E=h.d,y=h.constructor,b=y.precision;if(h.s<1)throw Error(ec+(h.s?"NaN":"-Infinity"));if(h.eq(kl))return new y(0);if(e==null?(co=!1,u=b):u=e,h.eq(10))return e==null&&(co=!0),Gw(y,u);if(u+=v,y.precision=u,r=mu(E),n=r.charAt(0),i=Jo(h),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)h=h.times(t),r=mu(h.d),n=r.charAt(0),m++;i=Jo(h),n>1?(h=new y("0."+r),i++):h=new y(n+"."+r.slice(1))}else return c=Gw(y,u+2,b).times(i+""),h=Th(new y(n+"."+r.slice(1)),u-v).plus(c),y.precision=b,e==null?(co=!0,Va(h,b)):h;for(l=s=h=Hu(h.minus(kl),h.plus(kl),u),f=Va(h.times(h),u),a=3;;){if(s=Va(s.times(f),u),c=l.plus(Hu(s,new y(a),u)),mu(c.d).slice(0,u)===mu(l.d).slice(0,u))return l=l.times(2),i!==0&&(l=l.plus(Gw(y,u+2,b).times(i+""))),l=Hu(l,new y(m),u),y.precision=b,e==null?(co=!0,Va(l,b)):l;l=c,a+=2}}function nL(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Hp(r/no),t.d=[],n=(r+1)%no,r<0&&(n+=no),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=no;n<a;)t.d.push(+e.slice(n,n+=no));e=e.slice(n),n=no-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),co&&(t.e>C0||t.e<-C0))throw Error(hP+r)}else t.s=0,t.e=0,t.d=[0];return t}function Va(t,e,r){var n,a,i,s,l,c,u,f,m=t.d;for(s=1,i=m[0];i>=10;i/=10)s++;if(n=e-s,n<0)n+=no,a=e,u=m[f=0];else{if(f=Math.ceil((n+1)/no),i=m.length,f>=i)return t;for(u=i=m[f],s=1;i>=10;i/=10)s++;n%=no,a=n-no+s}if(r!==void 0&&(i=kf(10,s-a-1),l=u/i%10|0,c=e<0||m[f+1]!==void 0||u%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/kf(10,s-a):0:m[f-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(i=Jo(t),m.length=1,e=e-i-1,m[0]=kf(10,(no-e%no)%no),t.e=Hp(-e/no)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=f,i=1,f--):(m.length=f+1,i=kf(10,no-n),m[f]=a>0?(u/kf(10,s-a)%kf(10,a)|0)*i:0),c)for(;;)if(f==0){(m[0]+=i)==Ci&&(m[0]=1,++t.e);break}else{if(m[f]+=i,m[f]!=Ci)break;m[f--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(co&&(t.e>C0||t.e<-C0))throw Error(hP+Jo(t));return t}function UD(t,e){var r,n,a,i,s,l,c,u,f,m,v=t.constructor,h=v.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new v(t),co?Va(e,h):e;if(c=t.d,m=e.d,n=e.e,u=t.e,c=c.slice(),s=u-n,s){for(f=s<0,f?(r=c,s=-s,l=m.length):(r=m,n=u,l=c.length),a=Math.max(Math.ceil(h/no),l)+2,s>a&&(s=a,r.length=1),r.reverse(),a=s;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=m.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=m[a]){f=c[a]<m[a];break}s=0}for(f&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,a=m.length-l;a>0;--a)c[l++]=0;for(a=m.length;a>s;){if(c[--a]<m[a]){for(i=a;i&&c[--i]===0;)c[i]=Ci-1;--c[i],c[a]+=Ci}c[a]-=m[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,co?Va(e,h):e):new v(0)}function Yf(t,e,r){var n,a=Jo(t),i=mu(t.d),s=i.length;return e?(r&&(n=r-s)>0?i=i.charAt(0)+"."+i.slice(1)+Id(n):s>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(a<0?"e":"e+")+a):a<0?(i="0."+Id(-a-1)+i,r&&(n=r-s)>0&&(i+=Id(n))):a>=s?(i+=Id(a+1-s),r&&(n=r-a-1)>0&&(i=i+"."+Id(n))):((n=a+1)<s&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-s)>0&&(a+1===s&&(i+="."),i+=Id(n))),t.s<0?"-"+i:i}function aL(t,e){if(t.length>e)return t.length=e,!0}function qD(t){var e,r,n;function a(i){var s=this;if(!(s instanceof a))return new a(i);if(s.constructor=a,i instanceof a){s.s=i.s,s.e=i.e,s.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Hf+i);if(i>0)s.s=1;else if(i<0)i=-i,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(i===~~i&&i<1e7){s.e=0,s.d=[i];return}return nL(s,i.toString())}else if(typeof i!="string")throw Error(Hf+i);if(i.charCodeAt(0)===45?(i=i.slice(1),s.s=-1):s.s=1,loe.test(i))nL(s,i);else throw Error(Hf+i)}if(a.prototype=$r,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=qD,a.config=a.set=coe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function coe(t){if(!t||typeof t!="object")throw Error(ec+"Object expected");var e,r,n,a=["precision",1,Vp,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Hp(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(Hf+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Hf+r+": "+n);return this}var vP=qD(soe);kl=new vP(1);const Fa=vP;function uoe(t){return poe(t)||moe(t)||foe(t)||doe()}function doe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function foe(t,e){if(t){if(typeof t=="string")return uC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uC(t,e)}}function moe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function poe(t){if(Array.isArray(t))return uC(t)}function uC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var goe=function(e){return e},VD={},HD=function(e){return e===VD},oL=function(e){return function r(){return arguments.length===0||arguments.length===1&&HD(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},hoe=function t(e,r){return e===1?r:oL(function(){for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];var s=a.filter(function(l){return l!==VD}).length;return s>=e?r.apply(void 0,a):t(e-s,oL(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(m){return HD(m)?c.shift():m});return r.apply(void 0,uoe(f).concat(c))}))})},My=function(e){return hoe(e.length,e)},dC=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},voe=My(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),boe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return goe;var a=r.reverse(),i=a[0],s=a.slice(1);return function(){return s.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},fC=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},WD=function(e){var r=null,n=null;return function(){for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function yoe(t){var e;return t===0?e=1:e=Math.floor(new Fa(t).abs().log(10).toNumber())+1,e}function Eoe(t,e,r){for(var n=new Fa(t),a=0,i=[];n.lt(e)&&a<1e5;)i.push(n.toNumber()),n=n.add(r),a++;return i}var xoe=My(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),woe=My(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),Soe=My(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const Dy={rangeStep:Eoe,getDigitCount:yoe,interpolateNumber:xoe,uninterpolateNumber:woe,uninterpolateTruncation:Soe};function mC(t){return Noe(t)||Poe(t)||GD(t)||Coe()}function Coe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Poe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Noe(t){if(Array.isArray(t))return pC(t)}function Rh(t,e){return Ooe(t)||Aoe(t,e)||GD(t,e)||koe()}function koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GD(t,e){if(t){if(typeof t=="string")return pC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pC(t,e)}}function pC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Aoe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,i=void 0;try{for(var s=t[Symbol.iterator](),l;!(n=(l=s.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,i=c}finally{try{!n&&s.return!=null&&s.return()}finally{if(a)throw i}}return r}}function Ooe(t){if(Array.isArray(t))return t}function KD(t){var e=Rh(t,2),r=e[0],n=e[1],a=r,i=n;return r>n&&(a=n,i=r),[a,i]}function YD(t,e,r){if(t.lte(0))return new Fa(0);var n=Dy.getDigitCount(t.toNumber()),a=new Fa(10).pow(n),i=t.div(a),s=n!==1?.05:.1,l=new Fa(Math.ceil(i.div(s).toNumber())).add(r).mul(s),c=l.mul(a);return e?c:new Fa(Math.ceil(c))}function Ioe(t,e,r){var n=1,a=new Fa(t);if(!a.isint()&&r){var i=Math.abs(t);i<1?(n=new Fa(10).pow(Dy.getDigitCount(t)-1),a=new Fa(Math.floor(a.div(n).toNumber())).mul(n)):i>1&&(a=new Fa(Math.floor(t)))}else t===0?a=new Fa(Math.floor((e-1)/2)):r||(a=new Fa(Math.floor(t)));var s=Math.floor((e-1)/2),l=boe(voe(function(c){return a.add(new Fa(c-s).mul(n)).toNumber()}),dC);return l(0,e)}function JD(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Fa(0),tickMin:new Fa(0),tickMax:new Fa(0)};var i=YD(new Fa(e).sub(t).div(r-1),n,a),s;t<=0&&e>=0?s=new Fa(0):(s=new Fa(t).add(e).div(2),s=s.sub(new Fa(s).mod(i)));var l=Math.ceil(s.sub(t).div(i).toNumber()),c=Math.ceil(new Fa(e).sub(s).div(i).toNumber()),u=l+c+1;return u>r?JD(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:i,tickMin:s.sub(new Fa(l).mul(i)),tickMax:s.add(new Fa(c).mul(i))})}function _oe(t){var e=Rh(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(a,2),l=KD([r,n]),c=Rh(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var m=f===1/0?[u].concat(mC(dC(0,a-1).map(function(){return 1/0}))):[].concat(mC(dC(0,a-1).map(function(){return-1/0})),[f]);return r>n?fC(m):m}if(u===f)return Ioe(u,a,i);var v=JD(u,f,s,i),h=v.step,E=v.tickMin,y=v.tickMax,b=Dy.rangeStep(E,y.add(new Fa(.1).mul(h)),h);return r>n?fC(b):b}function Loe(t,e){var r=Rh(t,2),n=r[0],a=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=KD([n,a]),l=Rh(s,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(e,2),m=YD(new Fa(u).sub(c).div(f-1),i,0),v=[].concat(mC(Dy.rangeStep(new Fa(c),new Fa(u).sub(new Fa(.99).mul(m)),m)),[u]);return n>a?fC(v):v}var Toe=WD(_oe),Roe=WD(Loe),Moe="Invariant failed";function Jf(t,e){throw new Error(Moe)}var Doe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function bp(t){"@babel/helpers - typeof";return bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bp(t)}function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P0.apply(this,arguments)}function joe(t,e){return Boe(t)||zoe(t,e)||$oe(t,e)||Foe()}function Foe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $oe(t,e){if(t){if(typeof t=="string")return iL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return iL(t,e)}}function iL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zoe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Boe(t){if(Array.isArray(t))return t}function Uoe(t,e){if(t==null)return{};var r=qoe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qoe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Voe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hoe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QD(n.key),n)}}function Woe(t,e,r){return e&&Hoe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Goe(t,e,r){return e=N0(e),Koe(t,XD()?Reflect.construct(e,r||[],N0(t).constructor):e.apply(t,r))}function Koe(t,e){if(e&&(bp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Yoe(t)}function Yoe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XD(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XD=function(){return!!t})()}function N0(t){return N0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N0(t)}function Joe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gC(t,e)}function gC(t,e){return gC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},gC(t,e)}function ZD(t,e,r){return e=QD(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QD(t){var e=Xoe(t,"string");return bp(e)=="symbol"?e:e+""}function Xoe(t,e){if(bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jy=function(t){function e(){return Voe(this,e),Goe(this,e,arguments)}return Joe(e,t),Woe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,i=n.layout,s=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,m=n.yAxis,v=Uoe(n,Doe),h=wn(v,!1);this.props.direction==="x"&&f.type!=="number"&&Jf();var E=c.map(function(y){var b=u(y,l),x=b.x,w=b.y,N=b.value,I=b.errorVal;if(!I)return null;var P=[],L,R;if(Array.isArray(I)){var O=joe(I,2);L=O[0],R=O[1]}else L=R=I;if(i==="vertical"){var A=f.scale,T=w+a,C=T+s,_=T-s,D=A(N-L),z=A(N+R);P.push({x1:z,y1:C,x2:z,y2:_}),P.push({x1:D,y1:T,x2:z,y2:T}),P.push({x1:D,y1:C,x2:D,y2:_})}else if(i==="horizontal"){var V=m.scale,J=x+a,ie=J-s,G=J+s,te=V(N-L),W=V(N+R);P.push({x1:ie,y1:W,x2:G,y2:W}),P.push({x1:J,y1:te,x2:J,y2:W}),P.push({x1:ie,y1:te,x2:G,y2:te})}return o.createElement(La,P0({className:"recharts-errorBar",key:"bar-".concat(P.map(function(B){return"".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))},h),P.map(function(B){return o.createElement("line",P0({},B,{key:"line-".concat(B.x1,"-").concat(B.x2,"-").concat(B.y1,"-").concat(B.y2)}))}))});return o.createElement(La,{className:"recharts-errorBars"},E)}}])}(o.Component);ZD(jy,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ZD(jy,"displayName","ErrorBar");function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function sL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function vf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sL(Object(r),!0).forEach(function(n){Zoe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zoe(t,e,r){return e=Qoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qoe(t){var e=eie(t,"string");return Mh(e)=="symbol"?e:e+""}function eie(t,e){if(Mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ej=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,i=e.legendContent,s=Pl(r,qf);if(!s)return null;var l=qf.defaultProps,c=l!==void 0?vf(vf({},l),s.props):{},u;return s.props&&s.props.payload?u=s.props&&s.props.payload:i==="children"?u=(n||[]).reduce(function(f,m){var v=m.item,h=m.props,E=h.sectors||h.data||[];return f.concat(E.map(function(y){return{type:s.props.iconType||v.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(n||[]).map(function(f){var m=f.item,v=m.type.defaultProps,h=v!==void 0?vf(vf({},v),m.props):{},E=h.dataKey,y=h.name,b=h.legendType,x=h.hide;return{inactive:x,dataKey:E,type:c.iconType||b||"square",color:bP(m),value:y||E,payload:h}}),vf(vf(vf({},c),qf.getWithHeight(s,a)),{},{payload:u,item:s})};function Dh(t){"@babel/helpers - typeof";return Dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dh(t)}function lL(t){return aie(t)||nie(t)||rie(t)||tie()}function tie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rie(t,e){if(t){if(typeof t=="string")return hC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hC(t,e)}}function nie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function aie(t){if(Array.isArray(t))return hC(t)}function hC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function So(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cL(Object(r),!0).forEach(function(n){ip(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ip(t,e,r){return e=oie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oie(t){var e=iie(t,"string");return Dh(e)=="symbol"?e:e+""}function iie(t,e){if(Dh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ms(t,e,r){return Jn(t)||Jn(e)?r:fi(e)?Il(t,e,r):kn(e)?e(t):r}function Xg(t,e,r,n){var a=aoe(t,function(l){return ms(l,e)});if(r==="number"){var i=a.filter(function(l){return hr(l)||parseFloat(l)});return i.length?[Ty(i),Ly(i)]:[1/0,-1/0]}var s=n?a.filter(function(l){return!Jn(l)}):a;return s.map(function(l){return fi(l)||l instanceof Date?l:""})}var sie=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,s=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,m=a[u].coordinate,v=u>=l-1?a[0].coordinate:a[u+1].coordinate,h=void 0;if(ks(m-f)!==ks(v-m)){var E=[];if(ks(v-m)===ks(c[1]-c[0])){h=v;var y=m+c[1]-c[0];E[0]=Math.min(y,(y+f)/2),E[1]=Math.max(y,(y+f)/2)}else{h=f;var b=v+c[1]-c[0];E[0]=Math.min(m,(b+m)/2),E[1]=Math.max(m,(b+m)/2)}var x=[Math.min(m,(h+m)/2),Math.max(m,(h+m)/2)];if(e>x[0]&&e<=x[1]||e>=E[0]&&e<=E[1]){s=a[u].index;break}}else{var w=Math.min(f,v),N=Math.max(f,v);if(e>(w+m)/2&&e<=(N+m)/2){s=a[u].index;break}}}else for(var I=0;I<l;I++)if(I===0&&e<=(n[I].coordinate+n[I+1].coordinate)/2||I>0&&I<l-1&&e>(n[I].coordinate+n[I-1].coordinate)/2&&e<=(n[I].coordinate+n[I+1].coordinate)/2||I===l-1&&e>(n[I].coordinate+n[I-1].coordinate)/2){s=n[I].index;break}return s},bP=function(e){var r,n=e,a=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?So(So({},e.type.defaultProps),e.props):e.props,s=i.stroke,l=i.fill,c;switch(a){case"Line":c=s;break;case"Area":case"Radar":c=s&&s!=="none"?s:l;break;default:c=l;break}return c},lie=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,i=a===void 0?{}:a;if(!i)return{};for(var s={},l=Object.keys(i),c=0,u=l.length;c<u;c++)for(var f=i[l[c]].stackGroups,m=Object.keys(f),v=0,h=m.length;v<h;v++){var E=f[m[v]],y=E.items,b=E.cateAxisId,x=y.filter(function(R){return Vu(R.type).indexOf("Bar")>=0});if(x&&x.length){var w=x[0].type.defaultProps,N=w!==void 0?So(So({},w),x[0].props):x[0].props,I=N.barSize,P=N[b];s[P]||(s[P]=[]);var L=Jn(I)?r:I;s[P].push({item:x[0],stackList:x.slice(1),barSize:Jn(L)?void 0:As(L,n,0)})}}return s},cie=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,i=e.sizeList,s=i===void 0?[]:i,l=e.maxBarSize,c=s.length;if(c<1)return null;var u=As(r,a,0,!0),f,m=[];if(s[0].barSize===+s[0].barSize){var v=!1,h=a/c,E=s.reduce(function(I,P){return I+P.barSize||0},0);E+=(c-1)*u,E>=a&&(E-=(c-1)*u,u=0),E>=a&&h>0&&(v=!0,h*=.9,E=c*h);var y=(a-E)/2>>0,b={offset:y-u,size:0};f=s.reduce(function(I,P){var L={item:P.item,position:{offset:b.offset+b.size+u,size:v?h:P.barSize}},R=[].concat(lL(I),[L]);return b=R[R.length-1].position,P.stackList&&P.stackList.length&&P.stackList.forEach(function(O){R.push({item:O,position:b})}),R},m)}else{var x=As(n,a,0,!0);a-2*x-(c-1)*u<=0&&(u=0);var w=(a-2*x-(c-1)*u)/c;w>1&&(w>>=0);var N=l===+l?Math.min(w,l):w;f=s.reduce(function(I,P,L){var R=[].concat(lL(I),[{item:P.item,position:{offset:x+(w+u)*L+(w-N)/2,size:N}}]);return P.stackList&&P.stackList.length&&P.stackList.forEach(function(O){R.push({item:O,position:R[R.length-1].position})}),R},m)}return f},uie=function(e,r,n,a){var i=n.children,s=n.width,l=n.margin,c=s-(l.left||0)-(l.right||0),u=ej({children:i,legendWidth:c});if(u){var f=a||{},m=f.width,v=f.height,h=u.align,E=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&E==="middle")&&h!=="center"&&hr(e[h]))return So(So({},e),{},ip({},h,e[h]+(m||0)));if((y==="horizontal"||y==="vertical"&&h==="center")&&E!=="middle"&&hr(e[E]))return So(So({},e),{},ip({},E,e[E]+(v||0)))}return e},die=function(e,r,n){return Jn(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},tj=function(e,r,n,a,i){var s=r.props.children,l=Ql(s,jy).filter(function(u){return die(a,i,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var m=ms(f,n);if(Jn(m))return u;var v=Array.isArray(m)?[Ty(m),Ly(m)]:[m,m],h=c.reduce(function(E,y){var b=ms(f,y,0),x=v[0]-Math.abs(Array.isArray(b)?b[0]:b),w=v[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(x,E[0]),Math.max(w,E[1])]},[1/0,-1/0]);return[Math.min(h[0],u[0]),Math.max(h[1],u[1])]},[1/0,-1/0])}return null},fie=function(e,r,n,a,i){var s=r.map(function(l){return tj(e,l,n,i,a)}).filter(function(l){return!Jn(l)});return s&&s.length?s.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},rj=function(e,r,n,a,i){var s=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&tj(e,c,u,a)||Xg(e,u,n,i)});if(n==="number")return s.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return s.reduce(function(c,u){for(var f=0,m=u.length;f<m;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},nj=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},aj=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var i,s,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(s=!0),c.coordinate});return i||l.push(r),s||l.push(n),l},qu=function(e,r,n){if(!e)return null;var a=e.scale,i=e.duplicateDomain,s=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&s==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?ks(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(m){var v=i?i.indexOf(m):m;return{coordinate:a(v)+u,value:m,offset:u}});return f.filter(function(m){return!lv(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,v){return{coordinate:a(m)+u,value:m,index:v,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+u,value:m,offset:u}}):a.domain().map(function(m,v){return{coordinate:a(m)+u,value:i?i[m]:m,index:v,offset:u}})},Kw=new WeakMap,Eb=function(e,r){if(typeof r!="function")return e;Kw.has(e)||Kw.set(e,new WeakMap);var n=Kw.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},oj=function(e,r,n){var a=e.scale,i=e.type,s=e.layout,l=e.axisType;if(a==="auto")return s==="radial"&&l==="radiusAxis"?{scale:Ah(),realScaleType:"band"}:s==="radial"&&l==="angleAxis"?{scale:E0(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Jg(),realScaleType:"point"}:i==="category"?{scale:Ah(),realScaleType:"band"}:{scale:E0(),realScaleType:"linear"};if(Wf(a)){var c="scale".concat(vy(a));return{scale:(K_[c]||Jg)(),realScaleType:K_[c]?c:"point"}}return kn(a)?{scale:a}:{scale:Jg(),realScaleType:"point"}},uL=1e-4,ij=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),i=Math.min(a[0],a[1])-uL,s=Math.max(a[0],a[1])+uL,l=e(r[0]),c=e(r[n-1]);(l<i||l>s||c<i||c>s)&&e.domain([r[0],r[n-1]])}},mie=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},pie=function(e,r){if(!r||r.length!==2||!hr(r[0])||!hr(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!hr(e[0])||e[0]<n)&&(i[0]=n),(!hr(e[1])||e[1]>a)&&(i[1]=a),i[0]>a&&(i[0]=a),i[1]<n&&(i[1]=n),i},gie=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0,l=0;l<r;++l){var c=lv(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1])}},hie=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var i=0,s=0;s<r;++s){var l=lv(e[s][n][1])?e[s][n][0]:e[s][n][1];l>=0?(e[s][n][0]=i,e[s][n][1]=i+l,i=e[s][n][1]):(e[s][n][0]=0,e[s][n][1]=0)}},vie={sign:gie,expand:aQ,none:up,silhouette:oQ,wiggle:iQ,positive:hie},bie=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),i=vie[n],s=nQ().keys(a).value(function(l,c){return+ms(l,c,0)}).order(WS).offset(i);return s(e)},yie=function(e,r,n,a,i,s){if(!e)return null;var l=s?r.reverse():r,c={},u=l.reduce(function(m,v){var h,E=(h=v.type)!==null&&h!==void 0&&h.defaultProps?So(So({},v.type.defaultProps),v.props):v.props,y=E.stackId,b=E.hide;if(b)return m;var x=E[n],w=m[x]||{hasStack:!1,stackGroups:{}};if(fi(y)){var N=w.stackGroups[y]||{numericAxisId:n,cateAxisId:a,items:[]};N.items.push(v),w.hasStack=!0,w.stackGroups[y]=N}else w.stackGroups[cv("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[v]};return So(So({},m),{},ip({},x,w))},c),f={};return Object.keys(u).reduce(function(m,v){var h=u[v];if(h.hasStack){var E={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(y,b){var x=h.stackGroups[b];return So(So({},y),{},ip({},b,{numericAxisId:n,cateAxisId:a,items:x.items,stackedData:bie(e,x.items,i)}))},E)}return So(So({},m),{},ip({},v,h))},f)},sj=function(e,r){var n=r.realScaleType,a=r.type,i=r.tickCount,s=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&a==="number"&&s&&(s[0]==="auto"||s[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=Toe(u,i,l);return e.domain([Ty(f),Ly(f)]),{niceTicks:f}}if(i&&a==="number"){var m=e.domain(),v=Roe(m,i,l);return{niceTicks:v}}return null},dL=function(e){var r=e.axis,n=e.ticks,a=e.offset,i=e.bandSize,s=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=ms(s,r.dataKey,r.domain[l]);return Jn(c)?null:r.scale(c)-i/2+a},Eie=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return a<=0&&i>=0?0:i<0?i:a}return n[0]},xie=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?So(So({},e.type.defaultProps),e.props):e.props,i=a.stackId;if(fi(i)){var s=r[i];if(s){var l=s.items.indexOf(e);return l>=0?s.stackedData[l]:null}}return null},wie=function(e){return e.reduce(function(r,n){return[Ty(n.concat([r[0]]).filter(hr)),Ly(n.concat([r[1]]).filter(hr))]},[1/0,-1/0])},lj=function(e,r,n){return Object.keys(e).reduce(function(a,i){var s=e[i],l=s.stackedData,c=l.reduce(function(u,f){var m=wie(f.slice(r,n+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},fL=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,mL=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,vC=function(e,r,n){if(kn(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(hr(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(fL.test(e[0])){var i=+fL.exec(e[0])[1];a[0]=r[0]-i}else kn(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(hr(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(mL.test(e[1])){var s=+mL.exec(e[1])[1];a[1]=r[1]+s}else kn(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},k0=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var i=W3(r,function(m){return m.coordinate}),s=1/0,l=1,c=i.length;l<c;l++){var u=i[l],f=i[l-1];s=Math.min((u.coordinate||0)-(f.coordinate||0),s)}return s===1/0?0:s}return n?void 0:0},pL=function(e,r,n){return!e||!e.length||Ry(e,Il(n,"type.defaultProps.domain"))?r:e},cj=function(e,r){var n=e.type.defaultProps?So(So({},e.type.defaultProps),e.props):e.props,a=n.dataKey,i=n.name,s=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return So(So({},wn(e,!1)),{},{dataKey:a,unit:s,formatter:l,name:i||a,color:bP(e),value:ms(r,a),type:c,payload:r,chartType:u,hide:f})};function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function gL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gL(Object(r),!0).forEach(function(n){uj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uj(t,e,r){return e=Sie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Sie(t){var e=Cie(t,"string");return jh(e)=="symbol"?e:e+""}function Cie(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pie(t,e){return Oie(t)||Aie(t,e)||kie(t,e)||Nie()}function Nie(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kie(t,e){if(t){if(typeof t=="string")return hL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hL(t,e)}}function hL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Aie(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Oie(t){if(Array.isArray(t))return t}var A0=Math.PI/180,Iie=function(e){return e*180/Math.PI},to=function(e,r,n,a){return{x:e+Math.cos(-A0*a)*n,y:r+Math.sin(-A0*a)*n}},dj=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},_ie=function(e,r,n,a,i){var s=e.width,l=e.height,c=e.startAngle,u=e.endAngle,f=As(e.cx,s,s/2),m=As(e.cy,l,l/2),v=dj(s,l,n),h=As(e.innerRadius,v,0),E=As(e.outerRadius,v,v*.8),y=Object.keys(r);return y.reduce(function(b,x){var w=r[x],N=w.domain,I=w.reversed,P;if(Jn(w.range))a==="angleAxis"?P=[c,u]:a==="radiusAxis"&&(P=[h,E]),I&&(P=[P[1],P[0]]);else{P=w.range;var L=P,R=Pie(L,2);c=R[0],u=R[1]}var O=oj(w,i),A=O.realScaleType,T=O.scale;T.domain(N).range(P),ij(T);var C=sj(T,Mu(Mu({},w),{},{realScaleType:A})),_=Mu(Mu(Mu({},w),C),{},{range:P,radius:E,realScaleType:A,scale:T,cx:f,cy:m,innerRadius:h,outerRadius:E,startAngle:c,endAngle:u});return Mu(Mu({},b),{},uj({},x,_))},{})},Lie=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(a-s,2))},Tie=function(e,r){var n=e.x,a=e.y,i=r.cx,s=r.cy,l=Lie({x:n,y:a},{x:i,y:s});if(l<=0)return{radius:l};var c=(n-i)/l,u=Math.acos(c);return a>s&&(u=2*Math.PI-u),{radius:l,angle:Iie(u),angleInRadian:u}},Rie=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),i=Math.floor(n/360),s=Math.min(a,i);return{startAngle:r-s*360,endAngle:n-s*360}},Mie=function(e,r){var n=r.startAngle,a=r.endAngle,i=Math.floor(n/360),s=Math.floor(a/360),l=Math.min(i,s);return e+l*360},vL=function(e,r){var n=e.x,a=e.y,i=Tie({x:n,y:a},r),s=i.radius,l=i.angle,c=r.innerRadius,u=r.outerRadius;if(s<c||s>u)return!1;if(s===0)return!0;var f=Rie(r),m=f.startAngle,v=f.endAngle,h=l,E;if(m<=v){for(;h>v;)h-=360;for(;h<m;)h+=360;E=h>=m&&h<=v}else{for(;h>m;)h-=360;for(;h<v;)h+=360;E=h>=v&&h<=m}return E?Mu(Mu({},r),{},{radius:s,angle:Mie(h,r)}):null},fj=function(e){return!p.isValidElement(e)&&!kn(e)&&typeof e!="boolean"?e.className:""};function Fh(t){"@babel/helpers - typeof";return Fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fh(t)}var Die=["offset"];function jie(t){return Bie(t)||zie(t)||$ie(t)||Fie()}function Fie(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $ie(t,e){if(t){if(typeof t=="string")return bC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return bC(t,e)}}function zie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Bie(t){if(Array.isArray(t))return bC(t)}function bC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Uie(t,e){if(t==null)return{};var r=qie(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function qie(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function bL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ci(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bL(Object(r),!0).forEach(function(n){Vie(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vie(t,e,r){return e=Hie(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hie(t){var e=Wie(t,"string");return Fh(e)=="symbol"?e:e+""}function Wie(t,e){if(Fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$h.apply(this,arguments)}var Gie=function(e){var r=e.value,n=e.formatter,a=Jn(e.children)?r:e.children;return kn(n)?n(a):a},Kie=function(e,r){var n=ks(r-e),a=Math.min(Math.abs(r-e),360);return n*a},Yie=function(e,r,n){var a=e.position,i=e.viewBox,s=e.offset,l=e.className,c=i,u=c.cx,f=c.cy,m=c.innerRadius,v=c.outerRadius,h=c.startAngle,E=c.endAngle,y=c.clockWise,b=(m+v)/2,x=Kie(h,E),w=x>=0?1:-1,N,I;a==="insideStart"?(N=h+w*s,I=y):a==="insideEnd"?(N=E-w*s,I=!y):a==="end"&&(N=E+w*s,I=y),I=x<=0?I:!I;var P=to(u,f,b,N),L=to(u,f,b,N+(I?1:-1)*359),R="M".concat(P.x,",").concat(P.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(I?0:1,`,
    `).concat(L.x,",").concat(L.y),O=Jn(e.id)?cv("recharts-radial-line-"):e.id;return o.createElement("text",$h({},n,{dominantBaseline:"central",className:Kn("recharts-radial-bar-label",l)}),o.createElement("defs",null,o.createElement("path",{id:O,d:R})),o.createElement("textPath",{xlinkHref:"#".concat(O)},r))},Jie=function(e){var r=e.viewBox,n=e.offset,a=e.position,i=r,s=i.cx,l=i.cy,c=i.innerRadius,u=i.outerRadius,f=i.startAngle,m=i.endAngle,v=(f+m)/2;if(a==="outside"){var h=to(s,l,u+n,v),E=h.x,y=h.y;return{x:E,y,textAnchor:E>=s?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:s,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,x=to(s,l,b,v),w=x.x,N=x.y;return{x:w,y:N,textAnchor:"middle",verticalAnchor:"middle"}},Xie=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,i=e.position,s=r,l=s.x,c=s.y,u=s.width,f=s.height,m=f>=0?1:-1,v=m*a,h=m>0?"end":"start",E=m>0?"start":"end",y=u>=0?1:-1,b=y*a,x=y>0?"end":"start",w=y>0?"start":"end";if(i==="top"){var N={x:l+u/2,y:c-m*a,textAnchor:"middle",verticalAnchor:h};return ci(ci({},N),n?{height:Math.max(c-n.y,0),width:u}:{})}if(i==="bottom"){var I={x:l+u/2,y:c+f+v,textAnchor:"middle",verticalAnchor:E};return ci(ci({},I),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(i==="left"){var P={x:l-b,y:c+f/2,textAnchor:x,verticalAnchor:"middle"};return ci(ci({},P),n?{width:Math.max(P.x-n.x,0),height:f}:{})}if(i==="right"){var L={x:l+u+b,y:c+f/2,textAnchor:w,verticalAnchor:"middle"};return ci(ci({},L),n?{width:Math.max(n.x+n.width-L.x,0),height:f}:{})}var R=n?{width:u,height:f}:{};return i==="insideLeft"?ci({x:l+b,y:c+f/2,textAnchor:w,verticalAnchor:"middle"},R):i==="insideRight"?ci({x:l+u-b,y:c+f/2,textAnchor:x,verticalAnchor:"middle"},R):i==="insideTop"?ci({x:l+u/2,y:c+v,textAnchor:"middle",verticalAnchor:E},R):i==="insideBottom"?ci({x:l+u/2,y:c+f-v,textAnchor:"middle",verticalAnchor:h},R):i==="insideTopLeft"?ci({x:l+b,y:c+v,textAnchor:w,verticalAnchor:E},R):i==="insideTopRight"?ci({x:l+u-b,y:c+v,textAnchor:x,verticalAnchor:E},R):i==="insideBottomLeft"?ci({x:l+b,y:c+f-v,textAnchor:w,verticalAnchor:h},R):i==="insideBottomRight"?ci({x:l+u-b,y:c+f-v,textAnchor:x,verticalAnchor:h},R):zp(i)&&(hr(i.x)||Mf(i.x))&&(hr(i.y)||Mf(i.y))?ci({x:l+As(i.x,u),y:c+As(i.y,f),textAnchor:"end",verticalAnchor:"end"},R):ci({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},R)},Zie=function(e){return"cx"in e&&hr(e.cx)};function Ai(t){var e=t.offset,r=e===void 0?5:e,n=Uie(t,Die),a=ci({offset:r},n),i=a.viewBox,s=a.position,l=a.value,c=a.children,u=a.content,f=a.className,m=f===void 0?"":f,v=a.textBreakAll;if(!i||Jn(l)&&Jn(c)&&!p.isValidElement(u)&&!kn(u))return null;if(p.isValidElement(u))return p.cloneElement(u,a);var h;if(kn(u)){if(h=p.createElement(u,a),p.isValidElement(h))return h}else h=Gie(a);var E=Zie(i),y=wn(a,!0);if(E&&(s==="insideStart"||s==="insideEnd"||s==="end"))return Yie(a,h,y);var b=E?Jie(a):Xie(a);return o.createElement(Kf,$h({className:Kn("recharts-label",m)},y,b,{breakAll:v}),h)}Ai.displayName="Label";var mj=function(e){var r=e.cx,n=e.cy,a=e.angle,i=e.startAngle,s=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,f=e.outerRadius,m=e.x,v=e.y,h=e.top,E=e.left,y=e.width,b=e.height,x=e.clockWise,w=e.labelViewBox;if(w)return w;if(hr(y)&&hr(b)){if(hr(m)&&hr(v))return{x:m,y:v,width:y,height:b};if(hr(h)&&hr(E))return{x:h,y:E,width:y,height:b}}return hr(m)&&hr(v)?{x:m,y:v,width:0,height:0}:hr(r)&&hr(n)?{cx:r,cy:n,startAngle:i||a||0,endAngle:s||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:x}:e.viewBox?e.viewBox:{}},Qie=function(e,r){return e?e===!0?o.createElement(Ai,{key:"label-implicit",viewBox:r}):fi(e)?o.createElement(Ai,{key:"label-implicit",viewBox:r,value:e}):p.isValidElement(e)?e.type===Ai?p.cloneElement(e,{key:"label-implicit",viewBox:r}):o.createElement(Ai,{key:"label-implicit",content:e,viewBox:r}):kn(e)?o.createElement(Ai,{key:"label-implicit",content:e,viewBox:r}):zp(e)?o.createElement(Ai,$h({viewBox:r},e,{key:"label-implicit"})):null:null},ese=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,i=mj(e),s=Ql(a,Ai).map(function(c,u){return p.cloneElement(c,{viewBox:r||i,key:"label-".concat(u)})});if(!n)return s;var l=Qie(e.label,r||i);return[l].concat(jie(s))};Ai.parseViewBox=mj;Ai.renderCallByParent=ese;var Yw,yL;function tse(){if(yL)return Yw;yL=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Yw=t,Yw}var rse=tse();const nse=wa(rse);function zh(t){"@babel/helpers - typeof";return zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zh(t)}var ase=["valueAccessor"],ose=["data","dataKey","clockWise","id","textBreakAll"];function ise(t){return use(t)||cse(t)||lse(t)||sse()}function sse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lse(t,e){if(t){if(typeof t=="string")return yC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yC(t,e)}}function cse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function use(t){if(Array.isArray(t))return yC(t)}function yC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O0.apply(this,arguments)}function EL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function xL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EL(Object(r),!0).forEach(function(n){dse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dse(t,e,r){return e=fse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fse(t){var e=mse(t,"string");return zh(e)=="symbol"?e:e+""}function mse(t,e){if(zh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wL(t,e){if(t==null)return{};var r=pse(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pse(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var gse=function(e){return Array.isArray(e.value)?nse(e.value):e.value};function zd(t){var e=t.valueAccessor,r=e===void 0?gse:e,n=wL(t,ase),a=n.data,i=n.dataKey,s=n.clockWise,l=n.id,c=n.textBreakAll,u=wL(n,ose);return!a||!a.length?null:o.createElement(La,{className:"recharts-label-list"},a.map(function(f,m){var v=Jn(i)?r(f,m):ms(f&&f.payload,i),h=Jn(l)?{}:{id:"".concat(l,"-").concat(m)};return o.createElement(Ai,O0({},wn(f,!0),u,h,{parentViewBox:f.parentViewBox,value:v,textBreakAll:c,viewBox:Ai.parseViewBox(Jn(s)?f:xL(xL({},f),{},{clockWise:s})),key:"label-".concat(m),index:m}))}))}zd.displayName="LabelList";function hse(t,e){return t?t===!0?o.createElement(zd,{key:"labelList-implicit",data:e}):o.isValidElement(t)||kn(t)?o.createElement(zd,{key:"labelList-implicit",data:e,content:t}):zp(t)?o.createElement(zd,O0({data:e},t,{key:"labelList-implicit"})):null:null}function vse(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Ql(n,zd).map(function(s,l){return p.cloneElement(s,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var i=hse(t.label,e);return[i].concat(ise(a))}zd.renderCallByParent=vse;function Bh(t){"@babel/helpers - typeof";return Bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bh(t)}function EC(){return EC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EC.apply(this,arguments)}function SL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function CL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(r),!0).forEach(function(n){bse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bse(t,e,r){return e=yse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yse(t){var e=Ese(t,"string");return Bh(e)=="symbol"?e:e+""}function Ese(t,e){if(Bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xse=function(e,r){var n=ks(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},xb=function(e){var r=e.cx,n=e.cy,a=e.radius,i=e.angle,s=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,f=c*(l?1:-1)+a,m=Math.asin(c/f)/A0,v=u?i:i+s*m,h=to(r,n,f,v),E=to(r,n,a,v),y=u?i-s*m:i,b=to(r,n,f*Math.cos(m*A0),y);return{center:h,circleTangency:E,lineTangency:b,theta:m}},pj=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.startAngle,l=e.endAngle,c=xse(s,l),u=s+c,f=to(r,n,i,s),m=to(r,n,i,u),v="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(s>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var h=to(r,n,a,s),E=to(r,n,a,u);v+="L ".concat(E.x,",").concat(E.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(s<=u),`,
            `).concat(h.x,",").concat(h.y," Z")}else v+="L ".concat(r,",").concat(n," Z");return v},wse=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,i=e.outerRadius,s=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,m=ks(f-u),v=xb({cx:r,cy:n,radius:i,angle:u,sign:m,cornerRadius:s,cornerIsExternal:c}),h=v.circleTangency,E=v.lineTangency,y=v.theta,b=xb({cx:r,cy:n,radius:i,angle:f,sign:-m,cornerRadius:s,cornerIsExternal:c}),x=b.circleTangency,w=b.lineTangency,N=b.theta,I=c?Math.abs(u-f):Math.abs(u-f)-y-N;if(I<0)return l?"M ".concat(E.x,",").concat(E.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):pj({cx:r,cy:n,innerRadius:a,outerRadius:i,startAngle:u,endAngle:f});var P="M ".concat(E.x,",").concat(E.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(w.x,",").concat(w.y,`
  `);if(a>0){var L=xb({cx:r,cy:n,radius:a,angle:u,sign:m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),R=L.circleTangency,O=L.lineTangency,A=L.theta,T=xb({cx:r,cy:n,radius:a,angle:f,sign:-m,isExternal:!0,cornerRadius:s,cornerIsExternal:c}),C=T.circleTangency,_=T.lineTangency,D=T.theta,z=c?Math.abs(u-f):Math.abs(u-f)-A-D;if(z<0&&s===0)return"".concat(P,"L").concat(r,",").concat(n,"Z");P+="L".concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(C.x,",").concat(C.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(z>180),",").concat(+(m>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(m<0),",").concat(O.x,",").concat(O.y,"Z")}else P+="L".concat(r,",").concat(n,"Z");return P},Sse={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gj=function(e){var r=CL(CL({},Sse),e),n=r.cx,a=r.cy,i=r.innerRadius,s=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,m=r.endAngle,v=r.className;if(s<i||f===m)return null;var h=Kn("recharts-sector",v),E=s-i,y=As(l,E,0,!0),b;return y>0&&Math.abs(f-m)<360?b=wse({cx:n,cy:a,innerRadius:i,outerRadius:s,cornerRadius:Math.min(y,E/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}):b=pj({cx:n,cy:a,innerRadius:i,outerRadius:s,startAngle:f,endAngle:m}),o.createElement("path",EC({},wn(r,!0),{className:h,d:b,role:"img"}))};function Uh(t){"@babel/helpers - typeof";return Uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Uh(t)}function xC(){return xC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xC.apply(this,arguments)}function PL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function NL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PL(Object(r),!0).forEach(function(n){Cse(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cse(t,e,r){return e=Pse(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pse(t){var e=Nse(t,"string");return Uh(e)=="symbol"?e:e+""}function Nse(t,e){if(Uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kL={curveBasisClosed:WZ,curveBasisOpen:GZ,curveBasis:HZ,curveBumpX:_Z,curveBumpY:LZ,curveLinearClosed:KZ,curveLinear:yy,curveMonotoneX:YZ,curveMonotoneY:JZ,curveNatural:XZ,curveStep:ZZ,curveStepAfter:eQ,curveStepBefore:QZ},wb=function(e){return e.x===+e.x&&e.y===+e.y},Ng=function(e){return e.x},kg=function(e){return e.y},kse=function(e,r){if(kn(e))return e;var n="curve".concat(vy(e));return(n==="curveMonotone"||n==="curveBump")&&r?kL["".concat(n).concat(r==="vertical"?"Y":"X")]:kL[n]||yy},Ase=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,i=a===void 0?[]:a,s=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,f=kse(n,l),m=u?i.filter(function(y){return wb(y)}):i,v;if(Array.isArray(s)){var h=u?s.filter(function(y){return wb(y)}):s,E=m.map(function(y,b){return NL(NL({},y),{},{base:h[b]})});return l==="vertical"?v=mb().y(kg).x1(Ng).x0(function(y){return y.base.x}):v=mb().x(Ng).y1(kg).y0(function(y){return y.base.y}),v.defined(wb).curve(f),v(E)}return l==="vertical"&&hr(s)?v=mb().y(kg).x1(Ng).x0(s):hr(s)?v=mb().x(Ng).y1(kg).y0(s):v=fM().x(Ng).y(kg),v.defined(wb).curve(f),v(m)},wC=function(e){var r=e.className,n=e.points,a=e.path,i=e.pathRef;if((!n||!n.length)&&!a)return null;var s=n&&n.length?Ase(e):a;return o.createElement("path",xC({},wn(e,!1),n0(e),{className:Kn("recharts-curve",r),d:s,ref:i}))},Ose=Object.getOwnPropertyNames,Ise=Object.getOwnPropertySymbols,_se=Object.prototype.hasOwnProperty;function AL(t,e){return function(n,a,i){return t(n,a,i)&&e(n,a,i)}}function Sb(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var i=a.cache,s=i.get(r),l=i.get(n);if(s&&l)return s===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,a);return i.delete(r),i.delete(n),c}}function OL(t){return Ose(t).concat(Ise(t))}var Lse=Object.hasOwn||function(t,e){return _se.call(t,e)};function am(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Tse="__v",Rse="__o",Mse="_owner",IL=Object.getOwnPropertyDescriptor,_L=Object.keys;function Dse(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function jse(t,e){return am(t.getTime(),e.getTime())}function Fse(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function $se(t,e){return t===e}function LL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.entries(),s,l,c=0;(s=i.next())&&!s.done;){for(var u=e.entries(),f=!1,m=0;(l=u.next())&&!l.done;){if(a[m]){m++;continue}var v=s.value,h=l.value;if(r.equals(v[0],h[0],c,m,t,e,r)&&r.equals(v[1],h[1],v[0],h[0],t,e,r)){f=a[m]=!0;break}m++}if(!f)return!1;c++}return!0}var zse=am;function Bse(t,e,r){var n=_L(t),a=n.length;if(_L(e).length!==a)return!1;for(;a-- >0;)if(!hj(t,e,r,n[a]))return!1;return!0}function Ag(t,e,r){var n=OL(t),a=n.length;if(OL(e).length!==a)return!1;for(var i,s,l;a-- >0;)if(i=n[a],!hj(t,e,r,i)||(s=IL(t,i),l=IL(e,i),(s||l)&&(!s||!l||s.configurable!==l.configurable||s.enumerable!==l.enumerable||s.writable!==l.writable)))return!1;return!0}function Use(t,e){return am(t.valueOf(),e.valueOf())}function qse(t,e){return t.source===e.source&&t.flags===e.flags}function TL(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),i=t.values(),s,l;(s=i.next())&&!s.done;){for(var c=e.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(s.value,l.value,s.value,l.value,t,e,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function Vse(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function Hse(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function hj(t,e,r,n){return(n===Mse||n===Rse||n===Tse)&&(t.$$typeof||e.$$typeof)?!0:Lse(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var Wse="[object Arguments]",Gse="[object Boolean]",Kse="[object Date]",Yse="[object Error]",Jse="[object Map]",Xse="[object Number]",Zse="[object Object]",Qse="[object RegExp]",ele="[object Set]",tle="[object String]",rle="[object URL]",nle=Array.isArray,RL=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,ML=Object.assign,ale=Object.prototype.toString.call.bind(Object.prototype.toString);function ole(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,i=t.areMapsEqual,s=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,m=t.areTypedArraysEqual,v=t.areUrlsEqual;return function(E,y,b){if(E===y)return!0;if(E==null||y==null)return!1;var x=typeof E;if(x!==typeof y)return!1;if(x!=="object")return x==="number"?s(E,y,b):x==="function"?a(E,y,b):!1;var w=E.constructor;if(w!==y.constructor)return!1;if(w===Object)return l(E,y,b);if(nle(E))return e(E,y,b);if(RL!=null&&RL(E))return m(E,y,b);if(w===Date)return r(E,y,b);if(w===RegExp)return u(E,y,b);if(w===Map)return i(E,y,b);if(w===Set)return f(E,y,b);var N=ale(E);return N===Kse?r(E,y,b):N===Qse?u(E,y,b):N===Jse?i(E,y,b):N===ele?f(E,y,b):N===Zse?typeof E.then!="function"&&typeof y.then!="function"&&l(E,y,b):N===rle?v(E,y,b):N===Yse?n(E,y,b):N===Wse?l(E,y,b):N===Gse||N===Xse||N===tle?c(E,y,b):!1}}function ile(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Ag:Dse,areDatesEqual:jse,areErrorsEqual:Fse,areFunctionsEqual:$se,areMapsEqual:n?AL(LL,Ag):LL,areNumbersEqual:zse,areObjectsEqual:n?Ag:Bse,arePrimitiveWrappersEqual:Use,areRegExpsEqual:qse,areSetsEqual:n?AL(TL,Ag):TL,areTypedArraysEqual:n?Ag:Vse,areUrlsEqual:Hse};if(r&&(a=ML({},a,r(a))),e){var i=Sb(a.areArraysEqual),s=Sb(a.areMapsEqual),l=Sb(a.areObjectsEqual),c=Sb(a.areSetsEqual);a=ML({},a,{areArraysEqual:i,areMapsEqual:s,areObjectsEqual:l,areSetsEqual:c})}return a}function sle(t){return function(e,r,n,a,i,s,l){return t(e,r,l)}}function lle(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,i=t.strict;if(n)return function(c,u){var f=n(),m=f.cache,v=m===void 0?e?new WeakMap:void 0:m,h=f.meta;return r(c,u,{cache:v,equals:a,meta:h,strict:i})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:i})};var s={cache:void 0,equals:a,meta:void 0,strict:i};return function(c,u){return r(c,u,s)}}var cle=Jd();Jd({strict:!0});Jd({circular:!0});Jd({circular:!0,strict:!0});Jd({createInternalComparator:function(){return am}});Jd({strict:!0,createInternalComparator:function(){return am}});Jd({circular:!0,createInternalComparator:function(){return am}});Jd({circular:!0,createInternalComparator:function(){return am},strict:!0});function Jd(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,i=t.strict,s=i===void 0?!1:i,l=ile(t),c=ole(l),u=n?n(c):sle(c);return lle({circular:r,comparator:c,createState:a,equals:u,strict:s})}function ule(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function DL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(i){r<0&&(r=i),i-r>e?(t(i),r=-1):ule(a)};requestAnimationFrame(n)}function SC(t){"@babel/helpers - typeof";return SC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SC(t)}function dle(t){return gle(t)||ple(t)||mle(t)||fle()}function fle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mle(t,e){if(t){if(typeof t=="string")return jL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jL(t,e)}}function jL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ple(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gle(t){if(Array.isArray(t))return t}function hle(){var t={},e=function(){return null},r=!1,n=function a(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var s=i,l=dle(s),c=l[0],u=l.slice(1);if(typeof c=="number"){DL(a.bind(null,u),c);return}a(c),DL(a.bind(null,u));return}SC(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function qh(t){"@babel/helpers - typeof";return qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qh(t)}function FL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function $L(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FL(Object(r),!0).forEach(function(n){vj(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vj(t,e,r){return e=vle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vle(t){var e=ble(t,"string");return qh(e)==="symbol"?e:String(e)}function ble(t,e){if(qh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(qh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yle=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(i){return a.includes(i)})})},Ele=function(e){return e},xle=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Zg=function(e,r){return Object.keys(r).reduce(function(n,a){return $L($L({},n),{},vj({},a,e(a,r[a])))},{})},zL=function(e,r,n){return e.map(function(a){return"".concat(xle(a)," ").concat(r,"ms ").concat(n)}).join(",")};function wle(t,e){return Ple(t)||Cle(t,e)||bj(t,e)||Sle()}function Sle(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Ple(t){if(Array.isArray(t))return t}function Nle(t){return Ole(t)||Ale(t)||bj(t)||kle()}function kle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bj(t,e){if(t){if(typeof t=="string")return CC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CC(t,e)}}function Ale(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ole(t){if(Array.isArray(t))return CC(t)}function CC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var I0=1e-4,yj=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Ej=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},BL=function(e,r){return function(n){var a=yj(e,r);return Ej(a,n)}},Ile=function(e,r){return function(n){var a=yj(e,r),i=[].concat(Nle(a.map(function(s,l){return s*l}).slice(1)),[0]);return Ej(i,n)}},UL=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],i=r[1],s=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,i=0,s=1,l=1;break;case"ease":a=.25,i=.1,s=.25,l=1;break;case"ease-in":a=.42,i=0,s=1,l=1;break;case"ease-out":a=.42,i=0,s=.58,l=1;break;case"ease-in-out":a=0,i=0,s=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=wle(u,4);a=f[0],i=f[1],s=f[2],l=f[3]}}}var m=BL(a,s),v=BL(i,l),h=Ile(a,s),E=function(x){return x>1?1:x<0?0:x},y=function(x){for(var w=x>1?1:x,N=w,I=0;I<8;++I){var P=m(N)-w,L=h(N);if(Math.abs(P-w)<I0||L<I0)return v(N);N=E(N-P/L)}return v(N)};return y.isStepper=!1,y},_le=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,i=a===void 0?8:a,s=e.dt,l=s===void 0?17:s,c=function(f,m,v){var h=-(f-m)*n,E=v*i,y=v+(h-E)*l/1e3,b=v*l/1e3+f;return Math.abs(b-m)<I0&&Math.abs(y)<I0?[m,0]:[b,y]};return c.isStepper=!0,c.dt=l,c},Lle=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return UL(a);case"spring":return _le();default:if(a.split("(")[0]==="cubic-bezier")return UL(a)}return typeof a=="function"?a:null};function Vh(t){"@babel/helpers - typeof";return Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vh(t)}function qL(t){return Mle(t)||Rle(t)||xj(t)||Tle()}function Tle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Rle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Mle(t){if(Array.isArray(t))return NC(t)}function VL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VL(Object(r),!0).forEach(function(n){PC(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PC(t,e,r){return e=Dle(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dle(t){var e=jle(t,"string");return Vh(e)==="symbol"?e:String(e)}function jle(t,e){if(Vh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Vh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Fle(t,e){return Ble(t)||zle(t,e)||xj(t,e)||$le()}function $le(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xj(t,e){if(t){if(typeof t=="string")return NC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NC(t,e)}}function NC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function zle(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function Ble(t){if(Array.isArray(t))return t}var _0=function(e,r,n){return e+(r-e)*n},kC=function(e){var r=e.from,n=e.to;return r!==n},Ule=function t(e,r,n){var a=Zg(function(i,s){if(kC(s)){var l=e(s.from,s.to,s.velocity),c=Fle(l,2),u=c[0],f=c[1];return Hi(Hi({},s),{},{from:u,velocity:f})}return s},r);return n<1?Zg(function(i,s){return kC(s)?Hi(Hi({},s),{},{velocity:_0(s.velocity,a[i].velocity,n),from:_0(s.from,a[i].from,n)}):s},r):t(e,a,n-1)};const qle=function(t,e,r,n,a){var i=yle(t,e),s=i.reduce(function(b,x){return Hi(Hi({},b),{},PC({},x,[t[x],e[x]]))},{}),l=i.reduce(function(b,x){return Hi(Hi({},b),{},PC({},x,{from:t[x],velocity:0,to:e[x]}))},{}),c=-1,u,f,m=function(){return null},v=function(){return Zg(function(x,w){return w.from},l)},h=function(){return!Object.values(l).filter(kC).length},E=function(x){u||(u=x);var w=x-u,N=w/r.dt;l=Ule(r,l,N),a(Hi(Hi(Hi({},t),e),v())),u=x,h()||(c=requestAnimationFrame(m))},y=function(x){f||(f=x);var w=(x-f)/n,N=Zg(function(P,L){return _0.apply(void 0,qL(L).concat([r(w)]))},s);if(a(Hi(Hi(Hi({},t),e),N)),w<1)c=requestAnimationFrame(m);else{var I=Zg(function(P,L){return _0.apply(void 0,qL(L).concat([r(1)]))},s);a(Hi(Hi(Hi({},t),e),I))}};return m=r.isStepper?E:y,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}};function yp(t){"@babel/helpers - typeof";return yp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yp(t)}var Vle=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Hle(t,e){if(t==null)return{};var r=Wle(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Wle(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,i;for(i=0;i<n.length;i++)a=n[i],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function Jw(t){return Jle(t)||Yle(t)||Kle(t)||Gle()}function Gle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kle(t,e){if(t){if(typeof t=="string")return AC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return AC(t,e)}}function Yle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jle(t){if(Array.isArray(t))return AC(t)}function AC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Mc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(r),!0).forEach(function(n){Mg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Mg(t,e,r){return e=wj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xle(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Zle(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,wj(n.key),n)}}function Qle(t,e,r){return e&&Zle(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wj(t){var e=ece(t,"string");return yp(e)==="symbol"?e:String(e)}function ece(t,e){if(yp(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yp(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OC(t,e)}function OC(t,e){return OC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},OC(t,e)}function rce(t){var e=nce();return function(){var n=L0(t),a;if(e){var i=L0(this).constructor;a=Reflect.construct(n,arguments,i)}else a=n.apply(this,arguments);return IC(this,a)}}function IC(t,e){if(e&&(yp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _C(t)}function _C(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function L0(t){return L0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},L0(t)}var Ju=function(t){tce(r,t);var e=rce(r);function r(n,a){var i;Xle(this,r),i=e.call(this,n,a);var s=i.props,l=s.isActive,c=s.attributeName,u=s.from,f=s.to,m=s.steps,v=s.children,h=s.duration;if(i.handleStyleChange=i.handleStyleChange.bind(_C(i)),i.changeStyle=i.changeStyle.bind(_C(i)),!l||h<=0)return i.state={style:{}},typeof v=="function"&&(i.state={style:f}),IC(i);if(m&&m.length)i.state={style:m[0].style};else if(u){if(typeof v=="function")return i.state={style:u},IC(i);i.state={style:c?Mg({},c,u):u}}else i.state={style:{}};return i}return Qle(r,[{key:"componentDidMount",value:function(){var a=this.props,i=a.isActive,s=a.canBegin;this.mounted=!0,!(!i||!s)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var i=this.props,s=i.isActive,l=i.canBegin,c=i.attributeName,u=i.shouldReAnimate,f=i.to,m=i.from,v=this.state.style;if(l){if(!s){var h={style:c?Mg({},c,f):f};this.state&&v&&(c&&v[c]!==f||!c&&v!==f)&&this.setState(h);return}if(!(cle(a.to,f)&&a.canBegin&&a.isActive)){var E=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=E||u?m:a.to;if(this.state&&v){var b={style:c?Mg({},c,y):y};(c&&v[c]!==y||!c&&v!==y)&&this.setState(b)}this.runAnimation(Mc(Mc({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var i=this,s=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,m=a.onAnimationEnd,v=a.onAnimationStart,h=qle(s,l,Lle(u),c,this.changeStyle),E=function(){i.stopJSAnimation=h()};this.manager.start([v,f,E,c,m])}},{key:"runStepAnimation",value:function(a){var i=this,s=a.steps,l=a.begin,c=a.onAnimationStart,u=s[0],f=u.style,m=u.duration,v=m===void 0?0:m,h=function(y,b,x){if(x===0)return y;var w=b.duration,N=b.easing,I=N===void 0?"ease":N,P=b.style,L=b.properties,R=b.onAnimationEnd,O=x>0?s[x-1]:b,A=L||Object.keys(P);if(typeof I=="function"||I==="spring")return[].concat(Jw(y),[i.runJSAnimation.bind(i,{from:O.style,to:P,duration:w,easing:I}),w]);var T=zL(A,w,I),C=Mc(Mc(Mc({},O.style),P),{},{transition:T});return[].concat(Jw(y),[C,w,R]).filter(Ele)};return this.manager.start([c].concat(Jw(s.reduce(h,[f,Math.max(v,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=hle());var i=a.begin,s=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,m=a.onAnimationEnd,v=a.steps,h=a.children,E=this.manager;if(this.unSubscribe=E.subscribe(this.handleStyleChange),typeof u=="function"||typeof h=="function"||u==="spring"){this.runJSAnimation(a);return}if(v.length>1){this.runStepAnimation(a);return}var y=l?Mg({},l,c):c,b=zL(Object.keys(y),s,u);E.start([f,i,Mc(Mc({},y),{},{transition:b}),s,m])}},{key:"render",value:function(){var a=this.props,i=a.children;a.begin;var s=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=Hle(a,Vle),u=p.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||u===0||s<=0)return i;var m=function(h){var E=h.props,y=E.style,b=y===void 0?{}:y,x=E.className,w=p.cloneElement(h,Mc(Mc({},c),{},{style:Mc(Mc({},b),f),className:x}));return w};return u===1?m(p.Children.only(i)):o.createElement("div",null,p.Children.map(i,function(v){return m(v)}))}}]),r}(p.PureComponent);Ju.displayName="Animate";Ju.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Ju.propTypes={from:Na.oneOfType([Na.object,Na.string]),to:Na.oneOfType([Na.object,Na.string]),attributeName:Na.string,duration:Na.number,begin:Na.number,easing:Na.oneOfType([Na.string,Na.func]),steps:Na.arrayOf(Na.shape({duration:Na.number.isRequired,style:Na.object.isRequired,easing:Na.oneOfType([Na.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Na.func]),properties:Na.arrayOf("string"),onAnimationEnd:Na.func})),children:Na.oneOfType([Na.node,Na.func]),isActive:Na.bool,canBegin:Na.bool,onAnimationEnd:Na.func,shouldReAnimate:Na.bool,onAnimationStart:Na.func,onAnimationReStart:Na.func};function Hh(t){"@babel/helpers - typeof";return Hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hh(t)}function T0(){return T0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},T0.apply(this,arguments)}function ace(t,e){return lce(t)||sce(t,e)||ice(t,e)||oce()}function oce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ice(t,e){if(t){if(typeof t=="string")return WL(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WL(t,e)}}function WL(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function sce(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function lce(t){if(Array.isArray(t))return t}function GL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function KL(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(r),!0).forEach(function(n){cce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cce(t,e,r){return e=uce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uce(t){var e=dce(t,"string");return Hh(e)=="symbol"?e:e+""}function dce(t,e){if(Hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YL=function(e,r,n,a,i){var s=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(s>0&&i instanceof Array){for(var m=[0,0,0,0],v=0,h=4;v<h;v++)m[v]=i[v]>s?s:i[v];f="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(e+c*m[0],",").concat(r)),f+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*m[1])),f+="L ".concat(e+n,",").concat(r+a-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(e+n-c*m[2],",").concat(r+a)),f+="L ".concat(e+c*m[3],",").concat(r+a),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*m[3])),f+="Z"}else if(s>0&&i===+i&&i>0){var E=Math.min(s,i);f="M ".concat(e,",").concat(r+l*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(u,",").concat(e+c*E,",").concat(r,`
            L `).concat(e+n-c*E,",").concat(r,`
            A `).concat(E,",").concat(E,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*E,`
            L `).concat(e+n,",").concat(r+a-l*E,`
            A `).concat(E,",").concat(E,",0,0,").concat(u,",").concat(e+n-c*E,",").concat(r+a,`
            L `).concat(e+c*E,",").concat(r+a,`
            A `).concat(E,",").concat(E,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*E," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},fce=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,i=r.x,s=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(i,i+l),f=Math.max(i,i+l),m=Math.min(s,s+c),v=Math.max(s,s+c);return n>=u&&n<=f&&a>=m&&a<=v}return!1},mce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},yP=function(e){var r=KL(KL({},mce),e),n=p.useRef(),a=p.useState(-1),i=ace(a,2),s=i[0],l=i[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var I=n.current.getTotalLength();I&&l(I)}catch{}},[]);var c=r.x,u=r.y,f=r.width,m=r.height,v=r.radius,h=r.className,E=r.animationEasing,y=r.animationDuration,b=r.animationBegin,x=r.isAnimationActive,w=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||m!==+m||f===0||m===0)return null;var N=Kn("recharts-rectangle",h);return w?o.createElement(Ju,{canBegin:s>0,from:{width:f,height:m,x:c,y:u},to:{width:f,height:m,x:c,y:u},duration:y,animationEasing:E,isActive:w},function(I){var P=I.width,L=I.height,R=I.x,O=I.y;return o.createElement(Ju,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,isActive:x,easing:E},o.createElement("path",T0({},wn(r,!0),{className:N,d:YL(R,O,P,L,v),ref:n})))}):o.createElement("path",T0({},wn(r,!0),{className:N,d:YL(c,u,f,m,v)}))},pce=["points","className","baseLinePoints","connectNulls"];function Km(){return Km=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Km.apply(this,arguments)}function gce(t,e){if(t==null)return{};var r=hce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function hce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function JL(t){return Ece(t)||yce(t)||bce(t)||vce()}function vce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bce(t,e){if(t){if(typeof t=="string")return LC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return LC(t,e)}}function yce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ece(t){if(Array.isArray(t))return LC(t)}function LC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var XL=function(e){return e&&e.x===+e.x&&e.y===+e.y},xce=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){XL(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),XL(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Qg=function(e,r){var n=xce(e);r&&(n=[n.reduce(function(i,s){return[].concat(JL(i),JL(s))},[])]);var a=n.map(function(i){return i.reduce(function(s,l,c){return"".concat(s).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},wce=function(e,r,n){var a=Qg(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Qg(r.reverse(),n).slice(1))},Sce=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,i=e.connectNulls,s=gce(e,pce);if(!r||!r.length)return null;var l=Kn("recharts-polygon",n);if(a&&a.length){var c=s.stroke&&s.stroke!=="none",u=wce(r,a,i);return o.createElement("g",{className:l},o.createElement("path",Km({},wn(s,!0),{fill:u.slice(-1)==="Z"?s.fill:"none",stroke:"none",d:u})),c?o.createElement("path",Km({},wn(s,!0),{fill:"none",d:Qg(r,i)})):null,c?o.createElement("path",Km({},wn(s,!0),{fill:"none",d:Qg(a,i)})):null)}var f=Qg(r,i);return o.createElement("path",Km({},wn(s,!0),{fill:f.slice(-1)==="Z"?s.fill:"none",className:l,d:f}))};function TC(){return TC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TC.apply(this,arguments)}var EP=function(e){var r=e.cx,n=e.cy,a=e.r,i=e.className,s=Kn("recharts-dot",i);return r===+r&&n===+n&&a===+a?o.createElement("circle",TC({},wn(e,!1),n0(e),{className:s,cx:r,cy:n,r:a})):null};function Wh(t){"@babel/helpers - typeof";return Wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wh(t)}var Cce=["x","y","top","left","width","height","className"];function RC(){return RC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},RC.apply(this,arguments)}function ZL(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Pce(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(r),!0).forEach(function(n){Nce(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZL(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Nce(t,e,r){return e=kce(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kce(t){var e=Ace(t,"string");return Wh(e)=="symbol"?e:e+""}function Ace(t,e){if(Wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oce(t,e){if(t==null)return{};var r=Ice(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ice(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _ce=function(e,r,n,a,i,s){return"M".concat(e,",").concat(i,"v").concat(a,"M").concat(s,",").concat(r,"h").concat(n)},Lce=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,i=a===void 0?0:a,s=e.top,l=s===void 0?0:s,c=e.left,u=c===void 0?0:c,f=e.width,m=f===void 0?0:f,v=e.height,h=v===void 0?0:v,E=e.className,y=Oce(e,Cce),b=Pce({x:n,y:i,top:l,left:u,width:m,height:h},y);return!hr(n)||!hr(i)||!hr(m)||!hr(h)||!hr(l)||!hr(u)?null:o.createElement("path",RC({},wn(b,!0),{className:Kn("recharts-cross",E),d:_ce(n,i,m,h,l,u)}))},Xw,QL;function Tce(){if(QL)return Xw;QL=1;var t=_y(),e=jD(),r=Eu();function n(a,i){return a&&a.length?t(a,r(i,2),e):void 0}return Xw=n,Xw}var Rce=Tce();const Mce=wa(Rce);var Zw,eT;function Dce(){if(eT)return Zw;eT=1;var t=_y(),e=Eu(),r=FD();function n(a,i){return a&&a.length?t(a,e(i,2),r):void 0}return Zw=n,Zw}var jce=Dce();const Fce=wa(jce);var $ce=["cx","cy","angle","ticks","axisLine"],zce=["ticks","tick","angle","tickFormatter","stroke"];function Ep(t){"@babel/helpers - typeof";return Ep=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ep(t)}function eh(){return eh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eh.apply(this,arguments)}function tT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tT(Object(r),!0).forEach(function(n){Fy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rT(t,e){if(t==null)return{};var r=Bce(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Bce(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Cj(n.key),n)}}function qce(t,e,r){return e&&nT(t.prototype,e),r&&nT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Vce(t,e,r){return e=R0(e),Hce(t,Sj()?Reflect.construct(e,r||[],R0(t).constructor):e.apply(t,r))}function Hce(t,e){if(e&&(Ep(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wce(t)}function Wce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Sj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Sj=function(){return!!t})()}function R0(t){return R0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},R0(t)}function Gce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MC(t,e)}function MC(t,e){return MC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},MC(t,e)}function Fy(t,e,r){return e=Cj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Cj(t){var e=Kce(t,"string");return Ep(e)=="symbol"?e:e+""}function Kce(t,e){if(Ep(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ep(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $y=function(t){function e(){return Uce(this,e),Vce(this,e,arguments)}return Gce(e,t),qce(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,i=this.props,s=i.angle,l=i.cx,c=i.cy;return to(l,c,a,s)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=Mce(l,function(f){return f.coordinate||0}),u=Fce(l,function(f){return f.coordinate||0});return{cx:a,cy:i,startAngle:s,endAngle:s,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.angle,l=n.ticks,c=n.axisLine,u=rT(n,$ce),f=l.reduce(function(E,y){return[Math.min(E[0],y.coordinate),Math.max(E[1],y.coordinate)]},[1/0,-1/0]),m=to(a,i,f[0],s),v=to(a,i,f[1],s),h=bf(bf(bf({},wn(u,!1)),{},{fill:"none"},wn(c,!1)),{},{x1:m.x,y1:m.y,x2:v.x,y2:v.y});return o.createElement("line",eh({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=rT(a,zce),m=this.getTickTextAnchor(),v=wn(f,!1),h=wn(s,!1),E=i.map(function(y,b){var x=n.getTickValueCoord(y),w=bf(bf(bf(bf({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(x.x,", ").concat(x.y,")")},v),{},{stroke:"none",fill:u},h),{},{index:b},x),{},{payload:y});return o.createElement(La,eh({className:Kn("recharts-polar-radius-axis-tick",fj(s)),key:"tick-".concat(y.coordinate)},Gf(n.props,y,b)),e.renderTickItem(s,w,c?c(y.value,b):y.value))});return o.createElement(La,{className:"recharts-polar-radius-axis-ticks"},E)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.axisLine,s=n.tick;return!a||!a.length?null:o.createElement(La,{className:Kn("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),s&&this.renderTicks(),Ai.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return o.isValidElement(n)?s=o.cloneElement(n,a):kn(n)?s=n(a):s=o.createElement(Kf,eh({},a,{className:"recharts-polar-radius-axis-tick-value"}),i),s}}])}(p.PureComponent);Fy($y,"displayName","PolarRadiusAxis");Fy($y,"axisType","radiusAxis");Fy($y,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function xp(t){"@babel/helpers - typeof";return xp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xp(t)}function _f(){return _f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_f.apply(this,arguments)}function aT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function yf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aT(Object(r),!0).forEach(function(n){zy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nj(n.key),n)}}function Jce(t,e,r){return e&&oT(t.prototype,e),r&&oT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Xce(t,e,r){return e=M0(e),Zce(t,Pj()?Reflect.construct(e,r||[],M0(t).constructor):e.apply(t,r))}function Zce(t,e){if(e&&(xp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qce(t)}function Qce(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Pj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Pj=function(){return!!t})()}function M0(t){return M0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},M0(t)}function eue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DC(t,e)}function DC(t,e){return DC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DC(t,e)}function zy(t,e,r){return e=Nj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nj(t){var e=tue(t,"string");return xp(e)=="symbol"?e:e+""}function tue(t,e){if(xp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rue=Math.PI/180,nue=1e-5,By=function(t){function e(){return Yce(this,e),Xce(this,e,arguments)}return eue(e,t),Jce(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.cx,s=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,m=to(i,s,l,n.coordinate),v=to(i,s,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:m.x,y1:m.y,x2:v.x,y2:v.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,i=Math.cos(-n.coordinate*rue),s;return i>nue?s=a==="outer"?"start":"end":i<-1e-5?s=a==="outer"?"end":"start":s="middle",s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,i=n.cy,s=n.radius,l=n.axisLine,c=n.axisLineType,u=yf(yf({},wn(this.props,!1)),{},{fill:"none"},wn(l,!1));if(c==="circle")return o.createElement(EP,_f({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:i,r:s}));var f=this.props.ticks,m=f.map(function(v){return to(a,i,s,v.coordinate)});return o.createElement(Sce,_f({className:"recharts-polar-angle-axis-line"},u,{points:m}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,i=a.ticks,s=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=wn(this.props,!1),m=wn(s,!1),v=yf(yf({},f),{},{fill:"none"},wn(l,!1)),h=i.map(function(E,y){var b=n.getTickLineCoord(E),x=n.getTickTextAnchor(E),w=yf(yf(yf({textAnchor:x},f),{},{stroke:"none",fill:u},m),{},{index:y,payload:E,x:b.x2,y:b.y2});return o.createElement(La,_f({className:Kn("recharts-polar-angle-axis-tick",fj(s)),key:"tick-".concat(E.coordinate)},Gf(n.props,E,y)),l&&o.createElement("line",_f({className:"recharts-polar-angle-axis-tick-line"},v,b)),s&&e.renderTickItem(s,w,c?c(E.value,y):E.value))});return o.createElement(La,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var n=this.props,a=n.ticks,i=n.radius,s=n.axisLine;return i<=0||!a||!a.length?null:o.createElement(La,{className:Kn("recharts-polar-angle-axis",this.props.className)},s&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,i){var s;return o.isValidElement(n)?s=o.cloneElement(n,a):kn(n)?s=n(a):s=o.createElement(Kf,_f({},a,{className:"recharts-polar-angle-axis-tick-value"}),i),s}}])}(p.PureComponent);zy(By,"displayName","PolarAngleAxis");zy(By,"axisType","angleAxis");zy(By,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Qw,iT;function aue(){if(iT)return Qw;iT=1;var t=MM(),e=t(Object.getPrototypeOf,Object);return Qw=e,Qw}var e5,sT;function oue(){if(sT)return e5;sT=1;var t=Qu(),e=aue(),r=ed(),n="[object Object]",a=Function.prototype,i=Object.prototype,s=a.toString,l=i.hasOwnProperty,c=s.call(Object);function u(f){if(!r(f)||t(f)!=n)return!1;var m=e(f);if(m===null)return!0;var v=l.call(m,"constructor")&&m.constructor;return typeof v=="function"&&v instanceof v&&s.call(v)==c}return e5=u,e5}var iue=oue();const sue=wa(iue);var t5,lT;function lue(){if(lT)return t5;lT=1;var t=Qu(),e=ed(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return t5=n,t5}var cue=lue();const uue=wa(cue);function Gh(t){"@babel/helpers - typeof";return Gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gh(t)}function D0(){return D0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D0.apply(this,arguments)}function due(t,e){return gue(t)||pue(t,e)||mue(t,e)||fue()}function fue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mue(t,e){if(t){if(typeof t=="string")return cT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cT(t,e)}}function cT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pue(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function gue(t){if(Array.isArray(t))return t}function uT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function dT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uT(Object(r),!0).forEach(function(n){hue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hue(t,e,r){return e=vue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vue(t){var e=bue(t,"string");return Gh(e)=="symbol"?e:e+""}function bue(t,e){if(Gh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var fT=function(e,r,n,a,i){var s=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-s/2,",").concat(r+i),l+="L ".concat(e+n-s/2-a,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},yue={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Eue=function(e){var r=dT(dT({},yue),e),n=p.useRef(),a=p.useState(-1),i=due(a,2),s=i[0],l=i[1];p.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var N=n.current.getTotalLength();N&&l(N)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,m=r.lowerWidth,v=r.height,h=r.className,E=r.animationEasing,y=r.animationDuration,b=r.animationBegin,x=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||m!==+m||v!==+v||f===0&&m===0||v===0)return null;var w=Kn("recharts-trapezoid",h);return x?o.createElement(Ju,{canBegin:s>0,from:{upperWidth:0,lowerWidth:0,height:v,x:c,y:u},to:{upperWidth:f,lowerWidth:m,height:v,x:c,y:u},duration:y,animationEasing:E,isActive:x},function(N){var I=N.upperWidth,P=N.lowerWidth,L=N.height,R=N.x,O=N.y;return o.createElement(Ju,{canBegin:s>0,from:"0px ".concat(s===-1?1:s,"px"),to:"".concat(s,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:y,easing:E},o.createElement("path",D0({},wn(r,!0),{className:w,d:fT(R,O,I,P,L),ref:n})))}):o.createElement("g",null,o.createElement("path",D0({},wn(r,!0),{className:w,d:fT(c,u,f,m,v)})))},xue=["option","shapeType","propTransformer","activeClassName","isActive"];function Kh(t){"@babel/helpers - typeof";return Kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Kh(t)}function wue(t,e){if(t==null)return{};var r=Sue(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sue(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function mT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function j0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mT(Object(r),!0).forEach(function(n){Cue(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cue(t,e,r){return e=Pue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Pue(t){var e=Nue(t,"string");return Kh(e)=="symbol"?e:e+""}function Nue(t,e){if(Kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kue(t,e){return j0(j0({},e),t)}function Aue(t,e){return t==="symbols"}function pT(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return o.createElement(yP,r);case"trapezoid":return o.createElement(Eue,r);case"sector":return o.createElement(gj,r);case"symbols":if(Aue(e))return o.createElement(F3,r);break;default:return null}}function Oue(t){return p.isValidElement(t)?t.props:t}function kj(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?kue:n,i=t.activeClassName,s=i===void 0?"recharts-active-shape":i,l=t.isActive,c=wue(t,xue),u;if(p.isValidElement(e))u=p.cloneElement(e,j0(j0({},c),Oue(e)));else if(kn(e))u=e(c);else if(sue(e)&&!uue(e)){var f=a(e,c);u=o.createElement(pT,{shapeType:r,elementProps:f})}else{var m=c;u=o.createElement(pT,{shapeType:r,elementProps:m})}return l?o.createElement(La,{className:s},u):u}function Uy(t,e){return e!=null&&"trapezoids"in t.props}function qy(t,e){return e!=null&&"sectors"in t.props}function Yh(t,e){return e!=null&&"points"in t.props}function Iue(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&i}function _ue(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function Lue(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function Tue(t,e){var r;return Uy(t,e)?r=Iue:qy(t,e)?r=_ue:Yh(t,e)&&(r=Lue),r}function Rue(t,e){var r;return Uy(t,e)?r="trapezoids":qy(t,e)?r="sectors":Yh(t,e)&&(r="points"),r}function Mue(t,e){if(Uy(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(qy(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Yh(t,e)?e.payload:{}}function Due(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=Rue(r,e),i=Mue(r,e),s=n.filter(function(c,u){var f=Ry(i,c),m=r.props[a].filter(function(E){var y=Tue(r,e);return y(E,e)}),v=r.props[a].indexOf(m[m.length-1]),h=u===v;return f&&h}),l=n.indexOf(s[s.length-1]);return l}var Rb;function wp(t){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(t)}function Ym(){return Ym=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ym.apply(this,arguments)}function gT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Za(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gT(Object(r),!0).forEach(function(n){Xl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Oj(n.key),n)}}function Fue(t,e,r){return e&&hT(t.prototype,e),r&&hT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function $ue(t,e,r){return e=F0(e),zue(t,Aj()?Reflect.construct(e,r||[],F0(t).constructor):e.apply(t,r))}function zue(t,e){if(e&&(wp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Bue(t)}function Bue(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aj=function(){return!!t})()}function F0(t){return F0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F0(t)}function Uue(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jC(t,e)}function jC(t,e){return jC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},jC(t,e)}function Xl(t,e,r){return e=Oj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Oj(t){var e=que(t,"string");return wp(e)=="symbol"?e:e+""}function que(t,e){if(wp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rd=function(t){function e(r){var n;return jue(this,e),n=$ue(this,e,[r]),Xl(n,"pieRef",null),Xl(n,"sectorRefs",[]),Xl(n,"id",cv("recharts-pie-")),Xl(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),kn(a)&&a()}),Xl(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),kn(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return Uue(e,t),Fue(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.label,l=i.labelLine,c=i.dataKey,u=i.valueKey,f=wn(this.props,!1),m=wn(s,!1),v=wn(l,!1),h=s&&s.offsetRadius||20,E=n.map(function(y,b){var x=(y.startAngle+y.endAngle)/2,w=to(y.cx,y.cy,y.outerRadius+h,x),N=Za(Za(Za(Za({},f),y),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(w.x,y.cx)},w),I=Za(Za(Za(Za({},f),y),{},{fill:"none",stroke:y.fill},v),{},{index:b,points:[to(y.cx,y.cy,y.outerRadius,x),w]}),P=c;return Jn(c)&&Jn(u)?P="value":Jn(c)&&(P=u),o.createElement(La,{key:"label-".concat(y.startAngle,"-").concat(y.endAngle,"-").concat(y.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,I,"line"),e.renderLabelItem(s,N,ms(y,P)))});return o.createElement(La,{className:"recharts-pie-labels"},E)}},{key:"renderSectorsStatically",value:function(n){var a=this,i=this.props,s=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var m=a.isActiveIndex(f),v=c&&a.hasActiveIndex()?c:null,h=m?s:v,E=Za(Za({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return o.createElement(La,Ym({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Gf(a.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),o.createElement(kj,Ym({option:h,isActive:m,shapeType:"sector"},E)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,i=a.sectors,s=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,m=this.state,v=m.prevSectors,h=m.prevIsAnimationActive;return o.createElement(Ju,{begin:l,duration:c,isActive:s,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(E){var y=E.t,b=[],x=i&&i[0],w=x.startAngle;return i.forEach(function(N,I){var P=v&&v[I],L=I>0?Il(N,"paddingAngle",0):0;if(P){var R=Od(P.endAngle-P.startAngle,N.endAngle-N.startAngle),O=Za(Za({},N),{},{startAngle:w+L,endAngle:w+R(y)+L});b.push(O),w=O.endAngle}else{var A=N.endAngle,T=N.startAngle,C=Od(0,A-T),_=C(y),D=Za(Za({},N),{},{startAngle:w+L,endAngle:w+_+L});b.push(D),w=D.endAngle}}),o.createElement(La,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var s=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[s].focus(),a.setState({sectorToFocus:s});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,i=n.isAnimationActive,s=this.state.prevSectors;return i&&a&&a.length&&(!s||!Ry(s,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,i=a.hide,s=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,m=a.innerRadius,v=a.outerRadius,h=a.isAnimationActive,E=this.state.isAnimationFinished;if(i||!s||!s.length||!hr(u)||!hr(f)||!hr(m)||!hr(v))return null;var y=Kn("recharts-pie",l);return o.createElement(La,{tabIndex:this.props.rootTabIndex,className:y,ref:function(x){n.pieRef=x}},this.renderSectors(),c&&this.renderLabels(s),Ai.renderCallByParent(this.props,null,!1),(!h||E)&&zd.renderCallByParent(this.props,s,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,i){if(o.isValidElement(n))return o.cloneElement(n,a);if(kn(n))return n(a);var s=Kn("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return o.createElement(wC,Ym({},a,{key:i,type:"linear",className:s}))}},{key:"renderLabelItem",value:function(n,a,i){if(o.isValidElement(n))return o.cloneElement(n,a);var s=i;if(kn(n)&&(s=n(a),o.isValidElement(s)))return s;var l=Kn("recharts-pie-label-text",typeof n!="boolean"&&!kn(n)?n.className:"");return o.createElement(Kf,Ym({},a,{alignmentBaseline:"middle",className:l}),s)}}])}(p.PureComponent);Rb=rd;Xl(rd,"displayName","Pie");Xl(rd,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Up.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});Xl(rd,"parseDeltaAngle",function(t,e){var r=ks(e-t),n=Math.min(Math.abs(e-t),360);return r*n});Xl(rd,"getRealPieData",function(t){var e=t.data,r=t.children,n=wn(t,!1),a=Ql(r,Cy);return e&&e.length?e.map(function(i,s){return Za(Za(Za({payload:i},n),i),a&&a[s]&&a[s].props)}):a&&a.length?a.map(function(i){return Za(Za({},n),i.props)}):[]});Xl(rd,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,i=e.height,s=dj(a,i),l=n+As(t.cx,a,a/2),c=r+As(t.cy,i,i/2),u=As(t.innerRadius,s,0),f=As(t.outerRadius,s,s*.8),m=t.maxRadius||Math.sqrt(a*a+i*i)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:m}});Xl(rd,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Za(Za({},e.type.defaultProps),e.props):e.props,a=Rb.getRealPieData(n);if(!a||!a.length)return null;var i=n.cornerRadius,s=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,m=n.valueKey,v=n.tooltipType,h=Math.abs(n.minAngle),E=Rb.parseCoordinateOfPie(n,r),y=Rb.parseDeltaAngle(s,l),b=Math.abs(y),x=u;Jn(u)&&Jn(m)?(zc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x="value"):Jn(u)&&(zc(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),x=m);var w=a.filter(function(O){return ms(O,x,0)!==0}).length,N=(b>=360?w:w-1)*c,I=b-w*h-N,P=a.reduce(function(O,A){var T=ms(A,x,0);return O+(hr(T)?T:0)},0),L;if(P>0){var R;L=a.map(function(O,A){var T=ms(O,x,0),C=ms(O,f,A),_=(hr(T)?T:0)/P,D;A?D=R.endAngle+ks(y)*c*(T!==0?1:0):D=s;var z=D+ks(y)*((T!==0?h:0)+_*I),V=(D+z)/2,J=(E.innerRadius+E.outerRadius)/2,ie=[{name:C,value:T,payload:O,dataKey:x,type:v}],G=to(E.cx,E.cy,J,V);return R=Za(Za(Za({percent:_,cornerRadius:i,name:C,tooltipPayload:ie,midAngle:V,middleRadius:J,tooltipPosition:G},O),E),{},{value:ms(O,x),startAngle:D,endAngle:z,payload:O,paddingAngle:ks(y)*c}),R})}return Za(Za({},E),{},{sectors:L,data:a})});var r5,vT;function Vue(){if(vT)return r5;vT=1;var t=Math.ceil,e=Math.max;function r(n,a,i,s){for(var l=-1,c=e(t((a-n)/(i||1)),0),u=Array(c);c--;)u[s?c:++l]=n,n+=i;return u}return r5=r,r5}var n5,bT;function Ij(){if(bT)return n5;bT=1;var t=XM(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-1/0){var i=a<0?-1:1;return i*r}return a===a?a:0}return n5=n,n5}var a5,yT;function Hue(){if(yT)return a5;yT=1;var t=Vue(),e=Sy(),r=Ij();function n(a){return function(i,s,l){return l&&typeof l!="number"&&e(i,s,l)&&(s=l=void 0),i=r(i),s===void 0?(s=i,i=0):s=r(s),l=l===void 0?i<s?1:-1:r(l),t(i,s,l,a)}}return a5=n,a5}var o5,ET;function Wue(){if(ET)return o5;ET=1;var t=Hue(),e=t();return o5=e,o5}var Gue=Wue();const $0=wa(Gue);function Jh(t){"@babel/helpers - typeof";return Jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jh(t)}function xT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function wT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xT(Object(r),!0).forEach(function(n){_j(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _j(t,e,r){return e=Kue(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Kue(t){var e=Yue(t,"string");return Jh(e)=="symbol"?e:e+""}function Yue(t,e){if(Jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Jue=["Webkit","Moz","O","ms"],Xue=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),a=Jue.reduce(function(i,s){return wT(wT({},i),{},_j({},s+n,r))},{});return a[e]=r,a};function Sp(t){"@babel/helpers - typeof";return Sp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sp(t)}function z0(){return z0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z0.apply(this,arguments)}function ST(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function i5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ST(Object(r),!0).forEach(function(n){Cl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ST(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zue(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tj(n.key),n)}}function Que(t,e,r){return e&&CT(t.prototype,e),r&&CT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function ede(t,e,r){return e=B0(e),tde(t,Lj()?Reflect.construct(e,r||[],B0(t).constructor):e.apply(t,r))}function tde(t,e){if(e&&(Sp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return rde(t)}function rde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lj=function(){return!!t})()}function B0(t){return B0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},B0(t)}function nde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FC(t,e)}function FC(t,e){return FC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},FC(t,e)}function Cl(t,e,r){return e=Tj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tj(t){var e=ade(t,"string");return Sp(e)=="symbol"?e:e+""}function ade(t,e){if(Sp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ode=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,i=e.x,s=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Jg().domain($0(0,c)).range([i,i+s-l]),f=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},PT=function(e){return e.changedTouches&&!!e.changedTouches.length},Cp=function(t){function e(r){var n;return Zue(this,e),n=ede(this,e,[r]),Cl(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Cl(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Cl(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,i=a.endIndex,s=a.onDragEnd,l=a.startIndex;s==null||s({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Cl(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Cl(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Cl(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Cl(n,"handleSlideDragStart",function(a){var i=PT(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return nde(e,t),Que(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,i=n.endX,s=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,m=Math.min(a,i),v=Math.max(a,i),h=e.getIndexInRange(s,m),E=e.getIndexInRange(s,v);return{startIndex:h-h%c,endIndex:E===f?f:E-E%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,i=a.data,s=a.tickFormatter,l=a.dataKey,c=ms(i[n],l,n);return kn(s)?s(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,i=a.slideMoveStartX,s=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,m=c.travellerWidth,v=c.startIndex,h=c.endIndex,E=c.onChange,y=n.pageX-i;y>0?y=Math.min(y,u+f-m-l,u+f-m-s):y<0&&(y=Math.max(y,u-s,u-l));var b=this.getIndex({startX:s+y,endX:l+y});(b.startIndex!==v||b.endIndex!==h)&&E&&E(b),this.setState({startX:s+y,endX:l+y,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var i=PT(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,i=a.brushMoveStartX,s=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[s],f=this.props,m=f.x,v=f.width,h=f.travellerWidth,E=f.onChange,y=f.gap,b=f.data,x={startX:this.state.startX,endX:this.state.endX},w=n.pageX-i;w>0?w=Math.min(w,m+v-h-u):w<0&&(w=Math.max(w,m-u)),x[s]=u+w;var N=this.getIndex(x),I=N.startIndex,P=N.endIndex,L=function(){var O=b.length-1;return s==="startX"&&(l>c?I%y===0:P%y===0)||l<c&&P===O||s==="endX"&&(l>c?P%y===0:I%y===0)||l>c&&P===O};this.setState(Cl(Cl({},s,u+w),"brushMoveStartX",n.pageX),function(){E&&L()&&E(N)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var i=this,s=this.state,l=s.scaleValues,c=s.startX,u=s.endX,f=this.state[a],m=l.indexOf(f);if(m!==-1){var v=m+n;if(!(v===-1||v>=l.length)){var h=l[v];a==="startX"&&h>=u||a==="endX"&&h<=c||this.setState(Cl({},a,h),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.fill,u=n.stroke;return o.createElement("rect",{stroke:u,fill:c,x:a,y:i,width:s,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,m=p.Children.only(u);return m?o.cloneElement(m,{x:a,y:i,width:s,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var i,s,l=this,c=this.props,u=c.y,f=c.travellerWidth,m=c.height,v=c.traveller,h=c.ariaLabel,E=c.data,y=c.startIndex,b=c.endIndex,x=Math.max(n,this.props.x),w=i5(i5({},wn(this.props,!1)),{},{x,y:u,width:f,height:m}),N=h||"Min value: ".concat((i=E[y])===null||i===void 0?void 0:i.name,", Max value: ").concat((s=E[b])===null||s===void 0?void 0:s.name);return o.createElement(La,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(P){["ArrowLeft","ArrowRight"].includes(P.key)&&(P.preventDefault(),P.stopPropagation(),l.handleTravellerMoveKeyboard(P.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(v,w))}},{key:"renderSlide",value:function(n,a){var i=this.props,s=i.y,l=i.height,c=i.stroke,u=i.travellerWidth,f=Math.min(n,a)+u,m=Math.max(Math.abs(a-n)-u,0);return o.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:s,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,i=n.endIndex,s=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,m=f.startX,v=f.endX,h=5,E={pointerEvents:"none",fill:u};return o.createElement(La,{className:"recharts-brush-texts"},o.createElement(Kf,z0({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,v)-h,y:s+l/2},E),this.getTextOfTick(a)),o.createElement(Kf,z0({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,v)+c+h,y:s+l/2},E),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,a=n.data,i=n.className,s=n.children,l=n.x,c=n.y,u=n.width,f=n.height,m=n.alwaysShowText,v=this.state,h=v.startX,E=v.endX,y=v.isTextActive,b=v.isSlideMoving,x=v.isTravellerMoving,w=v.isTravellerFocused;if(!a||!a.length||!hr(l)||!hr(c)||!hr(u)||!hr(f)||u<=0||f<=0)return null;var N=Kn("recharts-brush",i),I=o.Children.count(s)===1,P=Xue("userSelect","none");return o.createElement(La,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:P},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(h,E),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(E,"endX"),(y||b||x||w||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,i=n.y,s=n.width,l=n.height,c=n.stroke,u=Math.floor(i+l/2)-1;return o.createElement(o.Fragment,null,o.createElement("rect",{x:a,y:i,width:s,height:l,fill:c,stroke:"none"}),o.createElement("line",{x1:a+1,y1:u,x2:a+s-1,y2:u,fill:"none",stroke:"#fff"}),o.createElement("line",{x1:a+1,y1:u+2,x2:a+s-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var i;return o.isValidElement(n)?i=o.cloneElement(n,a):kn(n)?i=n(a):i=e.renderDefaultTraveller(a),i}},{key:"getDerivedStateFromProps",value:function(n,a){var i=n.data,s=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,m=n.endIndex;if(i!==a.prevData||u!==a.prevUpdateId)return i5({prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s},i&&i.length?ode({data:i,width:s,x:l,travellerWidth:c,startIndex:f,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(s!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+s-c]);var v=a.scale.domain().map(function(h){return a.scale(h)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:s,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:v}}return null}},{key:"getIndexInRange",value:function(n,a){for(var i=n.length,s=0,l=i-1;l-s>1;){var c=Math.floor((s+l)/2);n[c]>a?l=c:s=c}return a>=n[l]?l:s}}])}(p.PureComponent);Cl(Cp,"displayName","Brush");Cl(Cp,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var s5,NT;function ide(){if(NT)return s5;NT=1;var t=H3();function e(r,n){var a;return t(r,function(i,s,l){return a=n(i,s,l),!a}),!!a}return s5=e,s5}var l5,kT;function sde(){if(kT)return l5;kT=1;var t=AM(),e=Eu(),r=ide(),n=tl(),a=Sy();function i(s,l,c){var u=n(s)?t:r;return c&&a(s,l,c)&&(l=void 0),u(s,e(l,3))}return l5=i,l5}var lde=sde();const cde=wa(lde);var hu=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},c5,AT;function ude(){if(AT)return c5;AT=1;var t=WM();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return c5=e,c5}var u5,OT;function dde(){if(OT)return u5;OT=1;var t=ude(),e=VM(),r=Eu();function n(a,i){var s={};return i=r(i,3),e(a,function(l,c,u){t(s,c,i(l,c,u))}),s}return u5=n,u5}var fde=dde();const mde=wa(fde);var d5,IT;function pde(){if(IT)return d5;IT=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return d5=t,d5}var f5,_T;function gde(){if(_T)return f5;_T=1;var t=H3();function e(r,n){var a=!0;return t(r,function(i,s,l){return a=!!n(i,s,l),a}),a}return f5=e,f5}var m5,LT;function hde(){if(LT)return m5;LT=1;var t=pde(),e=gde(),r=Eu(),n=tl(),a=Sy();function i(s,l,c){var u=n(s)?t:e;return c&&a(s,l,c)&&(l=void 0),u(s,r(l,3))}return m5=i,m5}var vde=hde();const Rj=wa(vde);var bde=["x","y"];function Xh(t){"@babel/helpers - typeof";return Xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xh(t)}function $C(){return $C=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$C.apply(this,arguments)}function TT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Og(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TT(Object(r),!0).forEach(function(n){yde(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yde(t,e,r){return e=Ede(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ede(t){var e=xde(t,"string");return Xh(e)=="symbol"?e:e+""}function xde(t,e){if(Xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wde(t,e){if(t==null)return{};var r=Sde(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Sde(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Cde(t,e){var r=t.x,n=t.y,a=wde(t,bde),i="".concat(r),s=parseInt(i,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),f=parseInt(u,10),m="".concat(e.width||a.width),v=parseInt(m,10);return Og(Og(Og(Og(Og({},e),a),s?{x:s}:{}),c?{y:c}:{}),{},{height:f,width:v,name:e.name,radius:e.radius})}function RT(t){return o.createElement(kj,$C({shapeType:"rectangle",propTransformer:Cde,activeClassName:"recharts-active-bar"},t))}var Pde=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var i=typeof n=="number";return i?e(n,a):(i||Jf(),r)}},Nde=["value","background"],Mj;function Pp(t){"@babel/helpers - typeof";return Pp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pp(t)}function kde(t,e){if(t==null)return{};var r=Ade(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Ade(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function U0(){return U0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},U0.apply(this,arguments)}function MT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ko(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MT(Object(r),!0).forEach(function(n){Dd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ode(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jj(n.key),n)}}function Ide(t,e,r){return e&&DT(t.prototype,e),r&&DT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _de(t,e,r){return e=q0(e),Lde(t,Dj()?Reflect.construct(e,r||[],q0(t).constructor):e.apply(t,r))}function Lde(t,e){if(e&&(Pp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tde(t)}function Tde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Dj=function(){return!!t})()}function q0(t){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},q0(t)}function Rde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zC(t,e)}function zC(t,e){return zC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},zC(t,e)}function Dd(t,e,r){return e=jj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jj(t){var e=Mde(t,"string");return Pp(e)=="symbol"?e:e+""}function Mde(t,e){if(Pp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Vd=function(t){function e(){var r;Ode(this,e);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return r=_de(this,e,[].concat(a)),Dd(r,"state",{isAnimationFinished:!1}),Dd(r,"id",cv("recharts-bar-")),Dd(r,"handleAnimationEnd",function(){var s=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),s&&s()}),Dd(r,"handleAnimationStart",function(){var s=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),s&&s()}),r}return Rde(e,t),Ide(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,i=this.props,s=i.shape,l=i.dataKey,c=i.activeIndex,u=i.activeBar,f=wn(this.props,!1);return n&&n.map(function(m,v){var h=v===c,E=h?u:s,y=Ko(Ko(Ko({},f),m),{},{isActive:h,option:E,index:v,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return o.createElement(La,U0({className:"recharts-bar-rectangle"},Gf(a.props,m,v),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(v)}),o.createElement(RT,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,i=a.data,s=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,m=a.animationId,v=this.state.prevData;return o.createElement(Ju,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var E=h.t,y=i.map(function(b,x){var w=v&&v[x];if(w){var N=Od(w.x,b.x),I=Od(w.y,b.y),P=Od(w.width,b.width),L=Od(w.height,b.height);return Ko(Ko({},b),{},{x:N(E),y:I(E),width:P(E),height:L(E)})}if(s==="horizontal"){var R=Od(0,b.height),O=R(E);return Ko(Ko({},b),{},{y:b.y+b.height-O,height:O})}var A=Od(0,b.width),T=A(E);return Ko(Ko({},b),{},{width:T})});return o.createElement(La,null,n.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,i=n.isAnimationActive,s=this.state.prevData;return i&&a&&a.length&&(!s||!Ry(s,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,i=a.data,s=a.dataKey,l=a.activeIndex,c=wn(this.props.background,!1);return i.map(function(u,f){u.value;var m=u.background,v=kde(u,Nde);if(!m)return null;var h=Ko(Ko(Ko(Ko(Ko({},v),{},{fill:"#eee"},m),c),Gf(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:s,index:f,className:"recharts-bar-background-rectangle"});return o.createElement(RT,U0({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},h))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,s=i.data,l=i.xAxis,c=i.yAxis,u=i.layout,f=i.children,m=Ql(f,jy);if(!m)return null;var v=u==="vertical"?s[0].height/2:s[0].width/2,h=function(b,x){var w=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:w,errorVal:ms(b,x)}},E={clipPath:n?"url(#clipPath-".concat(a,")"):null};return o.createElement(La,E,m.map(function(y){return o.cloneElement(y,{key:"error-bar-".concat(a,"-").concat(y.props.dataKey),data:s,xAxis:l,yAxis:c,layout:u,offset:v,dataPointFormatter:h})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,i=n.data,s=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,m=n.width,v=n.height,h=n.isAnimationActive,E=n.background,y=n.id;if(a||!i||!i.length)return null;var b=this.state.isAnimationFinished,x=Kn("recharts-bar",s),w=l&&l.allowDataOverflow,N=c&&c.allowDataOverflow,I=w||N,P=Jn(y)?this.id:y;return o.createElement(La,{className:x},w||N?o.createElement("defs",null,o.createElement("clipPath",{id:"clipPath-".concat(P)},o.createElement("rect",{x:w?u:u-m/2,y:N?f:f-v/2,width:w?m:m*2,height:N?v:v*2}))):null,o.createElement(La,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(P,")"):null},E?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,P),(!h||b)&&zd.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])}(p.PureComponent);Mj=Vd;Dd(Vd,"displayName","Bar");Dd(Vd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Up.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Dd(Vd,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,i=t.xAxis,s=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,m=t.displayedData,v=t.offset,h=mie(n,r);if(!h)return null;var E=e.layout,y=r.type.defaultProps,b=y!==void 0?Ko(Ko({},y),r.props):r.props,x=b.dataKey,w=b.children,N=b.minPointSize,I=E==="horizontal"?s:i,P=u?I.scale.domain():null,L=Eie({numericAxis:I}),R=Ql(w,Cy),O=m.map(function(A,T){var C,_,D,z,V,J;u?C=pie(u[f+T],P):(C=ms(A,x),Array.isArray(C)||(C=[L,C]));var ie=Pde(N,Mj.defaultProps.minPointSize)(C[1],T);if(E==="horizontal"){var G,te=[s.scale(C[0]),s.scale(C[1])],W=te[0],B=te[1];_=dL({axis:i,ticks:l,bandSize:a,offset:h.offset,entry:A,index:T}),D=(G=B??W)!==null&&G!==void 0?G:void 0,z=h.size;var j=W-B;if(V=Number.isNaN(j)?0:j,J={x:_,y:s.y,width:z,height:s.height},Math.abs(ie)>0&&Math.abs(V)<Math.abs(ie)){var U=ks(V||ie)*(Math.abs(ie)-Math.abs(V));D-=U,V+=U}}else{var X=[i.scale(C[0]),i.scale(C[1])],Z=X[0],me=X[1];if(_=Z,D=dL({axis:s,ticks:c,bandSize:a,offset:h.offset,entry:A,index:T}),z=me-Z,V=h.size,J={x:i.x,y:D,width:i.width,height:V},Math.abs(ie)>0&&Math.abs(z)<Math.abs(ie)){var de=ks(z||ie)*(Math.abs(ie)-Math.abs(z));z+=de}}return Ko(Ko(Ko({},A),{},{x:_,y:D,width:z,height:V,value:u?C:C[1],payload:A,background:J},R&&R[T]&&R[T].props),{},{tooltipPayload:[cj(r,A)],tooltipPosition:{x:_+z/2,y:D+V/2}})});return Ko({data:O,layout:E},v)});function Zh(t){"@babel/helpers - typeof";return Zh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zh(t)}function Dde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Fj(n.key),n)}}function jde(t,e,r){return e&&jT(t.prototype,e),r&&jT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Fc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FT(Object(r),!0).forEach(function(n){Vy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vy(t,e,r){return e=Fj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fj(t){var e=Fde(t,"string");return Zh(e)=="symbol"?e:e+""}function Fde(t,e){if(Zh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $de=function(e,r,n,a,i){var s=e.width,l=e.height,c=e.layout,u=e.children,f=Object.keys(r),m={left:n.left,leftMirror:n.left,right:s-n.right,rightMirror:s-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},v=!!Pl(u,Vd);return f.reduce(function(h,E){var y=r[E],b=y.orientation,x=y.domain,w=y.padding,N=w===void 0?{}:w,I=y.mirror,P=y.reversed,L="".concat(b).concat(I?"Mirror":""),R,O,A,T,C;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var _=x[1]-x[0],D=1/0,z=y.categoricalDomain.sort(rZ);if(z.forEach(function(X,Z){Z>0&&(D=Math.min((X||0)-(z[Z-1]||0),D))}),Number.isFinite(D)){var V=D/_,J=y.layout==="vertical"?n.height:n.width;if(y.padding==="gap"&&(R=V*J/2),y.padding==="no-gap"){var ie=As(e.barCategoryGap,V*J),G=V*J/2;R=G-ie-(G-ie)/J*ie}}}a==="xAxis"?O=[n.left+(N.left||0)+(R||0),n.left+n.width-(N.right||0)-(R||0)]:a==="yAxis"?O=c==="horizontal"?[n.top+n.height-(N.bottom||0),n.top+(N.top||0)]:[n.top+(N.top||0)+(R||0),n.top+n.height-(N.bottom||0)-(R||0)]:O=y.range,P&&(O=[O[1],O[0]]);var te=oj(y,i,v),W=te.scale,B=te.realScaleType;W.domain(x).range(O),ij(W);var j=sj(W,Fc(Fc({},y),{},{realScaleType:B}));a==="xAxis"?(C=b==="top"&&!I||b==="bottom"&&I,A=n.left,T=m[L]-C*y.height):a==="yAxis"&&(C=b==="left"&&!I||b==="right"&&I,A=m[L]-C*y.width,T=n.top);var U=Fc(Fc(Fc({},y),j),{},{realScaleType:B,x:A,y:T,scale:W,width:a==="xAxis"?n.width:y.width,height:a==="yAxis"?n.height:y.height});return U.bandSize=k0(U,j),!y.hide&&a==="xAxis"?m[L]+=(C?-1:1)*U.height:y.hide||(m[L]+=(C?-1:1)*U.width),Fc(Fc({},h),{},Vy({},E,U))},{})},$j=function(e,r){var n=e.x,a=e.y,i=r.x,s=r.y;return{x:Math.min(n,i),y:Math.min(a,s),width:Math.abs(i-n),height:Math.abs(s-a)}},zde=function(e){var r=e.x1,n=e.y1,a=e.x2,i=e.y2;return $j({x:r,y:n},{x:a,y:i})},zj=function(){function t(e){Dde(this,t),this.scale=e}return jde(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+s}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],i=n[n.length-1];return a<=i?r>=a&&r<=i:r>=i&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])}();Vy(zj,"EPS",1e-4);var xP=function(e){var r=Object.keys(e).reduce(function(n,a){return Fc(Fc({},n),{},Vy({},a,zj.create(e[a])))},{});return Fc(Fc({},r),{},{apply:function(a){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.bandAware,l=i.position;return mde(a,function(c,u){return r[u].apply(c,{bandAware:s,position:l})})},isInRange:function(a){return Rj(a,function(i,s){return r[s].isInRange(i)})}})};function Bde(t){return(t%180+180)%180}var Ude=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Bde(a),s=i*Math.PI/180,l=Math.atan(n/r),c=s>l&&s<Math.PI-l?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},p5,$T;function qde(){if($T)return p5;$T=1;var t=Eu(),e=uv(),r=xy();function n(a){return function(i,s,l){var c=Object(i);if(!e(i)){var u=t(s,3);i=r(i),s=function(m){return u(c[m],m,c)}}var f=a(i,s,l);return f>-1?c[u?i[f]:f]:void 0}}return p5=n,p5}var g5,zT;function Vde(){if(zT)return g5;zT=1;var t=Ij();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return g5=e,g5}var h5,BT;function Hde(){if(BT)return h5;BT=1;var t=$M(),e=Eu(),r=Vde(),n=Math.max;function a(i,s,l){var c=i==null?0:i.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(i,e(s,3),u)}return h5=a,h5}var v5,UT;function Wde(){if(UT)return v5;UT=1;var t=qde(),e=Hde(),r=t(e);return v5=r,v5}var Gde=Wde();const Kde=wa(Gde);var Yde=tM();const Jde=wa(Yde);var Xde=Jde(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),wP=p.createContext(void 0),SP=p.createContext(void 0),Bj=p.createContext(void 0),Uj=p.createContext({}),qj=p.createContext(void 0),Vj=p.createContext(0),Hj=p.createContext(0),qT=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,i=r.offset,s=e.clipPathId,l=e.children,c=e.width,u=e.height,f=Xde(i);return o.createElement(wP.Provider,{value:n},o.createElement(SP.Provider,{value:a},o.createElement(Uj.Provider,{value:i},o.createElement(Bj.Provider,{value:f},o.createElement(qj.Provider,{value:s},o.createElement(Vj.Provider,{value:u},o.createElement(Hj.Provider,{value:c},l)))))))},Zde=function(){return p.useContext(qj)},Wj=function(e){var r=p.useContext(wP);r==null&&Jf();var n=r[e];return n==null&&Jf(),n},Qde=function(){var e=p.useContext(wP);return Ld(e)},efe=function(){var e=p.useContext(SP),r=Kde(e,function(n){return Rj(n.domain,Number.isFinite)});return r||Ld(e)},Gj=function(e){var r=p.useContext(SP);r==null&&Jf();var n=r[e];return n==null&&Jf(),n},tfe=function(){var e=p.useContext(Bj);return e},rfe=function(){return p.useContext(Uj)},CP=function(){return p.useContext(Hj)},PP=function(){return p.useContext(Vj)};function Np(t){"@babel/helpers - typeof";return Np=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Np(t)}function nfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function afe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Yj(n.key),n)}}function ofe(t,e,r){return e&&afe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ife(t,e,r){return e=V0(e),sfe(t,Kj()?Reflect.construct(e,r||[],V0(t).constructor):e.apply(t,r))}function sfe(t,e){if(e&&(Np(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lfe(t)}function lfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kj=function(){return!!t})()}function V0(t){return V0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V0(t)}function cfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BC(t,e)}function BC(t,e){return BC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},BC(t,e)}function VT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function HT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VT(Object(r),!0).forEach(function(n){NP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NP(t,e,r){return e=Yj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Yj(t){var e=ufe(t,"string");return Np(e)=="symbol"?e:e+""}function ufe(t,e){if(Np(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Np(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dfe(t,e){return gfe(t)||pfe(t,e)||mfe(t,e)||ffe()}function ffe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mfe(t,e){if(t){if(typeof t=="string")return WT(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return WT(t,e)}}function WT(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function pfe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function gfe(t){if(Array.isArray(t))return t}function UC(){return UC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UC.apply(this,arguments)}var hfe=function(e,r){var n;return o.isValidElement(e)?n=o.cloneElement(e,r):kn(e)?n=e(r):n=o.createElement("line",UC({},r,{className:"recharts-reference-line-line"})),n},vfe=function(e,r,n,a,i,s,l,c,u){var f=i.x,m=i.y,v=i.width,h=i.height;if(n){var E=u.y,y=e.y.apply(E,{position:s});if(hu(u,"discard")&&!e.y.isInRange(y))return null;var b=[{x:f+v,y},{x:f,y}];return c==="left"?b.reverse():b}if(r){var x=u.x,w=e.x.apply(x,{position:s});if(hu(u,"discard")&&!e.x.isInRange(w))return null;var N=[{x:w,y:m+h},{x:w,y:m}];return l==="top"?N.reverse():N}if(a){var I=u.segment,P=I.map(function(L){return e.apply(L,{position:s})});return hu(u,"discard")&&cde(P,function(L){return!e.isInRange(L)})?null:P}return null};function bfe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,i=t.yAxisId,s=t.shape,l=t.className,c=t.alwaysShow,u=Zde(),f=Wj(a),m=Gj(i),v=tfe();if(!u||!v)return null;zc(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=xP({x:f.scale,y:m.scale}),E=fi(e),y=fi(r),b=n&&n.length===2,x=vfe(h,E,y,b,v,t.position,f.orientation,m.orientation,t);if(!x)return null;var w=dfe(x,2),N=w[0],I=N.x,P=N.y,L=w[1],R=L.x,O=L.y,A=hu(t,"hidden")?"url(#".concat(u,")"):void 0,T=HT(HT({clipPath:A},wn(t,!0)),{},{x1:I,y1:P,x2:R,y2:O});return o.createElement(La,{className:Kn("recharts-reference-line",l)},hfe(s,T),Ai.renderCallByParent(t,zde({x1:I,y1:P,x2:R,y2:O})))}var kP=function(t){function e(){return nfe(this,e),ife(this,e,arguments)}return cfe(e,t),ofe(e,[{key:"render",value:function(){return o.createElement(bfe,this.props)}}])}(o.Component);NP(kP,"displayName","ReferenceLine");NP(kP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function qC(){return qC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qC.apply(this,arguments)}function kp(t){"@babel/helpers - typeof";return kp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kp(t)}function GT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function KT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GT(Object(r),!0).forEach(function(n){Hy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Efe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Xj(n.key),n)}}function xfe(t,e,r){return e&&Efe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function wfe(t,e,r){return e=H0(e),Sfe(t,Jj()?Reflect.construct(e,r||[],H0(t).constructor):e.apply(t,r))}function Sfe(t,e){if(e&&(kp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Cfe(t)}function Cfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jj=function(){return!!t})()}function H0(t){return H0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},H0(t)}function Pfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VC(t,e)}function VC(t,e){return VC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},VC(t,e)}function Hy(t,e,r){return e=Xj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xj(t){var e=Nfe(t,"string");return kp(e)=="symbol"?e:e+""}function Nfe(t,e){if(kp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kfe=function(e){var r=e.x,n=e.y,a=e.xAxis,i=e.yAxis,s=xP({x:a.scale,y:i.scale}),l=s.apply({x:r,y:n},{bandAware:!0});return hu(e,"discard")&&!s.isInRange(l)?null:l},Wy=function(t){function e(){return yfe(this,e),wfe(this,e,arguments)}return Pfe(e,t),xfe(e,[{key:"render",value:function(){var n=this.props,a=n.x,i=n.y,s=n.r,l=n.alwaysShow,c=n.clipPathId,u=fi(a),f=fi(i);if(zc(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var m=kfe(this.props);if(!m)return null;var v=m.x,h=m.y,E=this.props,y=E.shape,b=E.className,x=hu(this.props,"hidden")?"url(#".concat(c,")"):void 0,w=KT(KT({clipPath:x},wn(this.props,!0)),{},{cx:v,cy:h});return o.createElement(La,{className:Kn("recharts-reference-dot",b)},e.renderDot(y,w),Ai.renderCallByParent(this.props,{x:v-s,y:h-s,width:2*s,height:2*s}))}}])}(o.Component);Hy(Wy,"displayName","ReferenceDot");Hy(Wy,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});Hy(Wy,"renderDot",function(t,e){var r;return o.isValidElement(t)?r=o.cloneElement(t,e):kn(t)?r=t(e):r=o.createElement(EP,qC({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function HC(){return HC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HC.apply(this,arguments)}function Ap(t){"@babel/helpers - typeof";return Ap=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ap(t)}function YT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function JT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YT(Object(r),!0).forEach(function(n){Gy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Afe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ofe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qj(n.key),n)}}function Ife(t,e,r){return e&&Ofe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _fe(t,e,r){return e=W0(e),Lfe(t,Zj()?Reflect.construct(e,r||[],W0(t).constructor):e.apply(t,r))}function Lfe(t,e){if(e&&(Ap(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Tfe(t)}function Tfe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zj(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zj=function(){return!!t})()}function W0(t){return W0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W0(t)}function Rfe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WC(t,e)}function WC(t,e){return WC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},WC(t,e)}function Gy(t,e,r){return e=Qj(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qj(t){var e=Mfe(t,"string");return Ap(e)=="symbol"?e:e+""}function Mfe(t,e){if(Ap(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ap(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Dfe=function(e,r,n,a,i){var s=i.x1,l=i.x2,c=i.y1,u=i.y2,f=i.xAxis,m=i.yAxis;if(!f||!m)return null;var v=xP({x:f.scale,y:m.scale}),h={x:e?v.x.apply(s,{position:"start"}):v.x.rangeMin,y:n?v.y.apply(c,{position:"start"}):v.y.rangeMin},E={x:r?v.x.apply(l,{position:"end"}):v.x.rangeMax,y:a?v.y.apply(u,{position:"end"}):v.y.rangeMax};return hu(i,"discard")&&(!v.isInRange(h)||!v.isInRange(E))?null:$j(h,E)},Ky=function(t){function e(){return Afe(this,e),_fe(this,e,arguments)}return Rfe(e,t),Ife(e,[{key:"render",value:function(){var n=this.props,a=n.x1,i=n.x2,s=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;zc(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=fi(a),v=fi(i),h=fi(s),E=fi(l),y=this.props.shape;if(!m&&!v&&!h&&!E&&!y)return null;var b=Dfe(m,v,h,E,this.props);if(!b&&!y)return null;var x=hu(this.props,"hidden")?"url(#".concat(f,")"):void 0;return o.createElement(La,{className:Kn("recharts-reference-area",c)},e.renderRect(y,JT(JT({clipPath:x},wn(this.props,!0)),b)),Ai.renderCallByParent(this.props,b))}}])}(o.Component);Gy(Ky,"displayName","ReferenceArea");Gy(Ky,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Gy(Ky,"renderRect",function(t,e){var r;return o.isValidElement(t)?r=o.cloneElement(t,e):kn(t)?r=t(e):r=o.createElement(yP,HC({},e,{className:"recharts-reference-area-rect"})),r});function eF(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function jfe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Ude(n,r)}function Ffe(t,e,r){var n=r==="width",a=t.x,i=t.y,s=t.width,l=t.height;return e===1?{start:n?a:i,end:n?a+s:i+l}:{start:n?a+s:i+l,end:n?a:i}}function G0(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-a)<=0}function $fe(t,e){return eF(t,e+1)}function zfe(t,e,r,n,a){for(var i=(n||[]).slice(),s=e.start,l=e.end,c=0,u=1,f=s,m=function(){var E=n==null?void 0:n[c];if(E===void 0)return{v:eF(n,u)};var y=c,b,x=function(){return b===void 0&&(b=r(E,y)),b},w=E.coordinate,N=c===0||G0(t,w,x,f,l);N||(c=0,f=s,u+=1),N&&(f=w+t*(x()/2+a),c+=u)},v;u<=i.length;)if(v=m(),v)return v.v;return[]}function Qh(t){"@babel/helpers - typeof";return Qh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qh(t)}function XT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XT(Object(r),!0).forEach(function(n){Bfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Bfe(t,e,r){return e=Ufe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ufe(t){var e=qfe(t,"string");return Qh(e)=="symbol"?e:e+""}function qfe(t,e){if(Qh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Vfe(t,e,r,n,a){for(var i=(n||[]).slice(),s=i.length,l=e.start,c=e.end,u=function(v){var h=i[v],E,y=function(){return E===void 0&&(E=r(h,v)),E};if(v===s-1){var b=t*(h.coordinate+t*y()/2-c);i[v]=h=us(us({},h),{},{tickCoord:b>0?h.coordinate-b*t:h.coordinate})}else i[v]=h=us(us({},h),{},{tickCoord:h.coordinate});var x=G0(t,h.tickCoord,y,l,c);x&&(c=h.tickCoord-t*(y()/2+a),i[v]=us(us({},h),{},{isShow:!0}))},f=s-1;f>=0;f--)u(f);return i}function Hfe(t,e,r,n,a,i){var s=(n||[]).slice(),l=s.length,c=e.start,u=e.end;if(i){var f=n[l-1],m=r(f,l-1),v=t*(f.coordinate+t*m/2-u);s[l-1]=f=us(us({},f),{},{tickCoord:v>0?f.coordinate-v*t:f.coordinate});var h=G0(t,f.tickCoord,function(){return m},c,u);h&&(u=f.tickCoord-t*(m/2+a),s[l-1]=us(us({},f),{},{isShow:!0}))}for(var E=i?l-1:l,y=function(w){var N=s[w],I,P=function(){return I===void 0&&(I=r(N,w)),I};if(w===0){var L=t*(N.coordinate-t*P()/2-c);s[w]=N=us(us({},N),{},{tickCoord:L<0?N.coordinate-L*t:N.coordinate})}else s[w]=N=us(us({},N),{},{tickCoord:N.coordinate});var R=G0(t,N.tickCoord,P,c,u);R&&(c=N.tickCoord+t*(P()/2+a),s[w]=us(us({},N),{},{isShow:!0}))},b=0;b<E;b++)y(b);return s}function AP(t,e,r){var n=t.tick,a=t.ticks,i=t.viewBox,s=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,f=t.unit,m=t.angle;if(!a||!a.length||!n)return[];if(hr(c)||Up.isSsr)return $fe(a,typeof c=="number"&&hr(c)?c:0);var v=[],h=l==="top"||l==="bottom"?"width":"height",E=f&&h==="width"?Yg(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},y=function(N,I){var P=kn(u)?u(N.value,I):N.value;return h==="width"?jfe(Yg(P,{fontSize:e,letterSpacing:r}),E,m):Yg(P,{fontSize:e,letterSpacing:r})[h]},b=a.length>=2?ks(a[1].coordinate-a[0].coordinate):1,x=Ffe(i,b,h);return c==="equidistantPreserveStart"?zfe(b,x,y,a,s):(c==="preserveStart"||c==="preserveStartEnd"?v=Hfe(b,x,y,a,s,c==="preserveStartEnd"):v=Vfe(b,x,y,a,s),v.filter(function(w){return w.isShow}))}var Wfe=["viewBox"],Gfe=["viewBox"],Kfe=["ticks"];function Op(t){"@babel/helpers - typeof";return Op=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Op(t)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jm.apply(this,arguments)}function ZT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ns(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZT(Object(r),!0).forEach(function(n){OP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZT(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b5(t,e){if(t==null)return{};var r=Yfe(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Yfe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Jfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QT(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rF(n.key),n)}}function Xfe(t,e,r){return e&&QT(t.prototype,e),r&&QT(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function Zfe(t,e,r){return e=K0(e),Qfe(t,tF()?Reflect.construct(e,r||[],K0(t).constructor):e.apply(t,r))}function Qfe(t,e){if(e&&(Op(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return eme(t)}function eme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tF=function(){return!!t})()}function K0(t){return K0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},K0(t)}function tme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GC(t,e)}function GC(t,e){return GC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},GC(t,e)}function OP(t,e,r){return e=rF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rF(t){var e=rme(t,"string");return Op(e)=="symbol"?e:e+""}function rme(t,e){if(Op(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Op(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wp=function(t){function e(r){var n;return Jfe(this,e),n=Zfe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return tme(e,t),Xfe(e,[{key:"shouldComponentUpdate",value:function(n,a){var i=n.viewBox,s=b5(n,Wfe),l=this.props,c=l.viewBox,u=b5(l,Gfe);return!ap(i,c)||!ap(s,u)||!ap(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,i=a.x,s=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,m=a.mirror,v=a.tickMargin,h,E,y,b,x,w,N=m?-1:1,I=n.tickSize||f,P=hr(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":h=E=n.coordinate,b=s+ +!m*c,y=b-N*I,w=y-N*v,x=P;break;case"left":y=b=n.coordinate,E=i+ +!m*l,h=E-N*I,x=h-N*v,w=P;break;case"right":y=b=n.coordinate,E=i+ +m*l,h=E+N*I,x=h+N*v,w=P;break;default:h=E=n.coordinate,b=s+ +m*c,y=b+N*I,w=y+N*v,x=P;break}return{line:{x1:h,y1:y,x2:E,y2:b},tick:{x,y:w}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s;switch(a){case"left":s=i?"start":"end";break;case"right":s=i?"end":"start";break;default:s="middle";break}return s}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,i=n.mirror,s="end";switch(a){case"left":case"right":s="middle";break;case"top":s=i?"start":"end";break;default:s=i?"end":"start";break}return s}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,i=n.y,s=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,m=Ns(Ns(Ns({},wn(this.props,!1)),wn(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var v=+(c==="top"&&!u||c==="bottom"&&u);m=Ns(Ns({},m),{},{x1:a,y1:i+v*l,x2:a+s,y2:i+v*l})}else{var h=+(c==="left"&&!u||c==="right"&&u);m=Ns(Ns({},m),{},{x1:a+h*s,y1:i,x2:a+h*s,y2:i+l})}return o.createElement("line",Jm({},m,{className:Kn("recharts-cartesian-axis-line",Il(f,"className"))}))}},{key:"renderTicks",value:function(n,a,i){var s=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,m=l.tickFormatter,v=l.unit,h=AP(Ns(Ns({},this.props),{},{ticks:n}),a,i),E=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),b=wn(this.props,!1),x=wn(f,!1),w=Ns(Ns({},b),{},{fill:"none"},wn(c,!1)),N=h.map(function(I,P){var L=s.getTickLineCoord(I),R=L.line,O=L.tick,A=Ns(Ns(Ns(Ns({textAnchor:E,verticalAnchor:y},b),{},{stroke:"none",fill:u},x),O),{},{index:P,payload:I,visibleTicksCount:h.length,tickFormatter:m});return o.createElement(La,Jm({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Gf(s.props,I,P)),c&&o.createElement("line",Jm({},w,R,{className:Kn("recharts-cartesian-axis-tick-line",Il(c,"className"))})),f&&e.renderTickItem(f,A,"".concat(kn(m)?m(I.value,P):I.value).concat(v||"")))});return o.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var n=this,a=this.props,i=a.axisLine,s=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var m=this.props,v=m.ticks,h=b5(m,Kfe),E=v;return kn(c)&&(E=v&&v.length>0?c(this.props):c(h)),s<=0||l<=0||!E||!E.length?null:o.createElement(La,{className:Kn("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},i&&this.renderAxisLine(),this.renderTicks(E,this.state.fontSize,this.state.letterSpacing),Ai.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,i){var s;return o.isValidElement(n)?s=o.cloneElement(n,a):kn(n)?s=n(a):s=o.createElement(Kf,Jm({},a,{className:"recharts-cartesian-axis-tick-value"}),i),s}}])}(p.Component);OP(Wp,"displayName","CartesianAxis");OP(Wp,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var nme=["x1","y1","x2","y2","key"],ame=["offset"];function Xf(t){"@babel/helpers - typeof";return Xf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xf(t)}function e7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ds(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e7(Object(r),!0).forEach(function(n){ome(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ome(t,e,r){return e=ime(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ime(t){var e=sme(t,"string");return Xf(e)=="symbol"?e:e+""}function sme(t,e){if(Xf(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xf(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ff(){return Ff=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ff.apply(this,arguments)}function t7(t,e){if(t==null)return{};var r=lme(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function lme(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var cme=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,i=e.y,s=e.width,l=e.height,c=e.ry;return o.createElement("rect",{x:a,y:i,ry:c,width:s,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function nF(t,e){var r;if(o.isValidElement(t))r=o.cloneElement(t,e);else if(kn(t))r=t(e);else{var n=e.x1,a=e.y1,i=e.x2,s=e.y2,l=e.key,c=t7(e,nme),u=wn(c,!1);u.offset;var f=t7(u,ame);r=o.createElement("line",Ff({},f,{x1:n,y1:a,x2:i,y2:s,fill:"none",key:l}))}return r}function ume(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,i=t.horizontalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=ds(ds({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return nF(a,u)});return o.createElement("g",{className:"recharts-cartesian-grid-horizontal"},s)}function dme(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,i=t.verticalPoints;if(!a||!i||!i.length)return null;var s=i.map(function(l,c){var u=ds(ds({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return nF(a,u)});return o.createElement("g",{className:"recharts-cartesian-grid-vertical"},s)}function fme(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,i=t.width,s=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var f=l.map(function(v){return Math.round(v+a-a)}).sort(function(v,h){return v-h});a!==f[0]&&f.unshift(0);var m=f.map(function(v,h){var E=!f[h+1],y=E?a+s-v:f[h+1]-v;if(y<=0)return null;var b=h%e.length;return o.createElement("rect",{key:"react-".concat(h),y:v,x:n,height:y,width:i,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return o.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function mme(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,i=t.x,s=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(v){return Math.round(v+i-i)}).sort(function(v,h){return v-h});i!==f[0]&&f.unshift(0);var m=f.map(function(v,h){var E=!f[h+1],y=E?i+l-v:f[h+1]-v;if(y<=0)return null;var b=h%n.length;return o.createElement("rect",{key:"react-".concat(h),x:v,y:s,width:y,height:c,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return o.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var pme=function(e,r){var n=e.xAxis,a=e.width,i=e.height,s=e.offset;return aj(AP(ds(ds(ds({},Wp.defaultProps),n),{},{ticks:qu(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.left,s.left+s.width,r)},gme=function(e,r){var n=e.yAxis,a=e.width,i=e.height,s=e.offset;return aj(AP(ds(ds(ds({},Wp.defaultProps),n),{},{ticks:qu(n,!0),viewBox:{x:0,y:0,width:a,height:i}})),s.top,s.top+s.height,r)},Mm={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function aF(t){var e,r,n,a,i,s,l=CP(),c=PP(),u=rfe(),f=ds(ds({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Mm.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:Mm.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:Mm.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:Mm.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:Mm.vertical,verticalFill:(s=t.verticalFill)!==null&&s!==void 0?s:Mm.verticalFill,x:hr(t.x)?t.x:u.left,y:hr(t.y)?t.y:u.top,width:hr(t.width)?t.width:u.width,height:hr(t.height)?t.height:u.height}),m=f.x,v=f.y,h=f.width,E=f.height,y=f.syncWithTicks,b=f.horizontalValues,x=f.verticalValues,w=Qde(),N=efe();if(!hr(h)||h<=0||!hr(E)||E<=0||!hr(m)||m!==+m||!hr(v)||v!==+v)return null;var I=f.verticalCoordinatesGenerator||pme,P=f.horizontalCoordinatesGenerator||gme,L=f.horizontalPoints,R=f.verticalPoints;if((!L||!L.length)&&kn(P)){var O=b&&b.length,A=P({yAxis:N?ds(ds({},N),{},{ticks:O?b:N.ticks}):void 0,width:l,height:c,offset:u},O?!0:y);zc(Array.isArray(A),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Xf(A),"]")),Array.isArray(A)&&(L=A)}if((!R||!R.length)&&kn(I)){var T=x&&x.length,C=I({xAxis:w?ds(ds({},w),{},{ticks:T?x:w.ticks}):void 0,width:l,height:c,offset:u},T?!0:y);zc(Array.isArray(C),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Xf(C),"]")),Array.isArray(C)&&(R=C)}return o.createElement("g",{className:"recharts-cartesian-grid"},o.createElement(cme,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),o.createElement(ume,Ff({},f,{offset:u,horizontalPoints:L,xAxis:w,yAxis:N})),o.createElement(dme,Ff({},f,{offset:u,verticalPoints:R,xAxis:w,yAxis:N})),o.createElement(fme,Ff({},f,{horizontalPoints:L})),o.createElement(mme,Ff({},f,{verticalPoints:R})))}aF.displayName="CartesianGrid";function Ip(t){"@babel/helpers - typeof";return Ip=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ip(t)}function hme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,sF(n.key),n)}}function bme(t,e,r){return e&&vme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function yme(t,e,r){return e=Y0(e),Eme(t,oF()?Reflect.construct(e,r||[],Y0(t).constructor):e.apply(t,r))}function Eme(t,e){if(e&&(Ip(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xme(t)}function xme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function oF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(oF=function(){return!!t})()}function Y0(t){return Y0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y0(t)}function wme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&KC(t,e)}function KC(t,e){return KC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},KC(t,e)}function iF(t,e,r){return e=sF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sF(t){var e=Sme(t,"string");return Ip(e)=="symbol"?e:e+""}function Sme(t,e){if(Ip(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ip(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function YC(){return YC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},YC.apply(this,arguments)}function Cme(t){var e=t.xAxisId,r=CP(),n=PP(),a=Wj(e);return a==null?null:o.createElement(Wp,YC({},a,{className:Kn("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(s){return qu(s,!0)}}))}var Yy=function(t){function e(){return hme(this,e),yme(this,e,arguments)}return wme(e,t),bme(e,[{key:"render",value:function(){return o.createElement(Cme,this.props)}}])}(o.Component);iF(Yy,"displayName","XAxis");iF(Yy,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function _p(t){"@babel/helpers - typeof";return _p=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_p(t)}function Pme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Nme(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uF(n.key),n)}}function kme(t,e,r){return e&&Nme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ame(t,e,r){return e=J0(e),Ome(t,lF()?Reflect.construct(e,r||[],J0(t).constructor):e.apply(t,r))}function Ome(t,e){if(e&&(_p(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ime(t)}function Ime(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lF=function(){return!!t})()}function J0(t){return J0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J0(t)}function _me(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JC(t,e)}function JC(t,e){return JC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},JC(t,e)}function cF(t,e,r){return e=uF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uF(t){var e=Lme(t,"string");return _p(e)=="symbol"?e:e+""}function Lme(t,e){if(_p(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_p(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XC(){return XC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XC.apply(this,arguments)}var Tme=function(e){var r=e.yAxisId,n=CP(),a=PP(),i=Gj(r);return i==null?null:o.createElement(Wp,XC({},i,{className:Kn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return qu(l,!0)}}))},Jy=function(t){function e(){return Pme(this,e),Ame(this,e,arguments)}return _me(e,t),kme(e,[{key:"render",value:function(){return o.createElement(Tme,this.props)}}])}(o.Component);cF(Jy,"displayName","YAxis");cF(Jy,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function r7(t){return jme(t)||Dme(t)||Mme(t)||Rme()}function Rme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mme(t,e){if(t){if(typeof t=="string")return ZC(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZC(t,e)}}function Dme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function jme(t){if(Array.isArray(t))return ZC(t)}function ZC(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var QC=function(e,r,n,a,i){var s=Ql(e,kP),l=Ql(e,Wy),c=[].concat(r7(s),r7(l)),u=Ql(e,Ky),f="".concat(a,"Id"),m=a[0],v=r;if(c.length&&(v=c.reduce(function(y,b){if(b.props[f]===n&&hu(b.props,"extendDomain")&&hr(b.props[m])){var x=b.props[m];return[Math.min(y[0],x),Math.max(y[1],x)]}return y},v)),u.length){var h="".concat(m,"1"),E="".concat(m,"2");v=u.reduce(function(y,b){if(b.props[f]===n&&hu(b.props,"extendDomain")&&hr(b.props[h])&&hr(b.props[E])){var x=b.props[h],w=b.props[E];return[Math.min(y[0],x,w),Math.max(y[1],x,w)]}return y},v)}return i&&i.length&&(v=i.reduce(function(y,b){return hr(b)?[Math.min(y[0],b),Math.max(y[1],b)]:y},v)),v},y5={exports:{}},n7;function Fme(){return n7||(n7=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function i(c,u,f,m,v){if(typeof f!="function")throw new TypeError("The listener must be a function");var h=new a(f,m||c,v),E=r?r+u:u;return c._events[E]?c._events[E].fn?c._events[E]=[c._events[E],h]:c._events[E].push(h):(c._events[E]=h,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,m;if(this._eventsCount===0)return u;for(m in f=this._events)e.call(f,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var v=0,h=m.length,E=new Array(h);v<h;v++)E[v]=m[v].fn;return E},l.prototype.listenerCount=function(u){var f=r?r+u:u,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,f,m,v,h,E){var y=r?r+u:u;if(!this._events[y])return!1;var b=this._events[y],x=arguments.length,w,N;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),x){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,m),!0;case 4:return b.fn.call(b.context,f,m,v),!0;case 5:return b.fn.call(b.context,f,m,v,h),!0;case 6:return b.fn.call(b.context,f,m,v,h,E),!0}for(N=1,w=new Array(x-1);N<x;N++)w[N-1]=arguments[N];b.fn.apply(b.context,w)}else{var I=b.length,P;for(N=0;N<I;N++)switch(b[N].once&&this.removeListener(u,b[N].fn,void 0,!0),x){case 1:b[N].fn.call(b[N].context);break;case 2:b[N].fn.call(b[N].context,f);break;case 3:b[N].fn.call(b[N].context,f,m);break;case 4:b[N].fn.call(b[N].context,f,m,v);break;default:if(!w)for(P=1,w=new Array(x-1);P<x;P++)w[P-1]=arguments[P];b[N].fn.apply(b[N].context,w)}}return!0},l.prototype.on=function(u,f,m){return i(this,u,f,m,!1)},l.prototype.once=function(u,f,m){return i(this,u,f,m,!0)},l.prototype.removeListener=function(u,f,m,v){var h=r?r+u:u;if(!this._events[h])return this;if(!f)return s(this,h),this;var E=this._events[h];if(E.fn)E.fn===f&&(!v||E.once)&&(!m||E.context===m)&&s(this,h);else{for(var y=0,b=[],x=E.length;y<x;y++)(E[y].fn!==f||v&&!E[y].once||m&&E[y].context!==m)&&b.push(E[y]);b.length?this._events[h]=b.length===1?b[0]:b:s(this,h)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l}(y5)),y5.exports}var $me=Fme();const zme=wa($me);var E5=new zme,x5="recharts.syncMouseEvents";function ev(t){"@babel/helpers - typeof";return ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ev(t)}function Bme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ume(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dF(n.key),n)}}function qme(t,e,r){return e&&Ume(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function w5(t,e,r){return e=dF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dF(t){var e=Vme(t,"string");return ev(e)=="symbol"?e:e+""}function Vme(t,e){if(ev(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Hme=function(){function t(){Bme(this,t),w5(this,"activeIndex",0),w5(this,"coordinateList",[]),w5(this,"layout","horizontal")}return qme(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,i=a===void 0?null:a,s=r.container,l=s===void 0?null:s,c=r.layout,u=c===void 0?null:c,f=r.offset,m=f===void 0?null:f,v=r.mouseHandlerCallback,h=v===void 0?null:v;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),i=a.x,s=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+c+u,v=s+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:m,pageY:v})}}}])}();function Wme(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&hr(n)&&hr(a))return!0}return!1}function Gme(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function fF(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,i=t.endAngle,s=to(e,r,n,a),l=to(e,r,n,i);return{points:[s,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:i}}function Kme(t,e,r){var n,a,i,s;if(t==="horizontal")n=e.x,i=n,a=r.top,s=r.top+r.height;else if(t==="vertical")a=e.y,s=a,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,f=e.outerRadius,m=e.angle,v=to(l,c,u,m),h=to(l,c,f,m);n=v.x,a=v.y,i=h.x,s=h.y}else return fF(e);return[{x:n,y:a},{x:i,y:s}]}function tv(t){"@babel/helpers - typeof";return tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tv(t)}function a7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Cb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a7(Object(r),!0).forEach(function(n){Yme(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Yme(t,e,r){return e=Jme(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jme(t){var e=Xme(t,"string");return tv(e)=="symbol"?e:e+""}function Xme(t,e){if(tv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Zme(t){var e,r,n=t.element,a=t.tooltipEventType,i=t.isActive,s=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,m=t.layout,v=t.chartName,h=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!h||!i||!s||v!=="ScatterChart"&&a!=="axis")return null;var E,y=wC;if(v==="ScatterChart")E=s,y=Lce;else if(v==="BarChart")E=Gme(m,s,c,f),y=yP;else if(m==="radial"){var b=fF(s),x=b.cx,w=b.cy,N=b.radius,I=b.startAngle,P=b.endAngle;E={cx:x,cy:w,startAngle:I,endAngle:P,innerRadius:N,outerRadius:N},y=gj}else E={points:Kme(m,s,c)},y=wC;var L=Cb(Cb(Cb(Cb({stroke:"#ccc",pointerEvents:"none"},c),E),wn(h,!1)),{},{payload:l,payloadIndex:u,className:Kn("recharts-tooltip-cursor",h.className)});return p.isValidElement(h)?p.cloneElement(h,L):p.createElement(y,L)}var Qme=["item"],epe=["children","className","width","height","style","compact","title","desc"];function Lp(t){"@babel/helpers - typeof";return Lp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lp(t)}function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xm.apply(this,arguments)}function o7(t,e){return npe(t)||rpe(t,e)||pF(t,e)||tpe()}function tpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,i,s,l=[],c=!0,u=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(s=r.return(),Object(s)!==s))return}finally{if(u)throw a}}return l}}function npe(t){if(Array.isArray(t))return t}function i7(t,e){if(t==null)return{};var r=ape(t,e),n,a;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(a=0;a<i.length;a++)n=i[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ape(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ope(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ipe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gF(n.key),n)}}function spe(t,e,r){return e&&ipe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lpe(t,e,r){return e=X0(e),cpe(t,mF()?Reflect.construct(e,r||[],X0(t).constructor):e.apply(t,r))}function cpe(t,e){if(e&&(Lp(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return upe(t)}function upe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mF(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mF=function(){return!!t})()}function X0(t){return X0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X0(t)}function dpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&e3(t,e)}function e3(t,e){return e3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},e3(t,e)}function Tp(t){return ppe(t)||mpe(t)||pF(t)||fpe()}function fpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pF(t,e){if(t){if(typeof t=="string")return t3(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t3(t,e)}}function mpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ppe(t){if(Array.isArray(t))return t3(t)}function t3(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function s7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Ft(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?s7(Object(r),!0).forEach(function(n){vn(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):s7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vn(t,e,r){return e=gF(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gF(t){var e=gpe(t,"string");return Lp(e)=="symbol"?e:e+""}function gpe(t,e){if(Lp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hpe={xAxis:["bottom","top"],yAxis:["left","right"]},vpe={width:"100%",height:"100%"},hF={x:0,y:0};function Pb(t){return t}var bpe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},ype=function(e,r,n,a){var i=r.find(function(f){return f&&f.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:i.coordinate};if(e==="centric"){var s=i.coordinate,l=a.radius;return Ft(Ft(Ft({},a),to(a.cx,a.cy,l,s)),{},{angle:s,radius:l})}var c=i.coordinate,u=a.angle;return Ft(Ft(Ft({},a),to(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return hF},Xy=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,i=r.dataEndIndex,s=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(Tp(l),Tp(u)):l},[]);return s.length>0?s:e&&e.length&&hr(a)&&hr(i)?e.slice(a,i+1):[]};function vF(t){return t==="number"?[0,"auto"]:void 0}var r3=function(e,r,n,a){var i=e.graphicalItems,s=e.tooltipAxis,l=Xy(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,u){var f,m=(f=u.props.data)!==null&&f!==void 0?f:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var v;if(s.dataKey&&!s.allowDuplicatedCategory){var h=m===void 0?l:m;v=jS(h,s.dataKey,a)}else v=m&&m[n]||l[n];return v?[].concat(Tp(c),[cj(u,v)]):c},[])},l7=function(e,r,n,a){var i=a||{x:e.chartX,y:e.chartY},s=bpe(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,f=sie(s,l,u,c);if(f>=0&&u){var m=u[f]&&u[f].value,v=r3(e,r,f,m),h=ype(n,l,f,i);return{activeTooltipIndex:f,activeLabel:m,activePayload:v,activeCoordinate:h}}return null},Epe=function(e,r){var n=r.axes,a=r.graphicalItems,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,m=e.children,v=e.stackOffset,h=nj(f,i);return n.reduce(function(E,y){var b,x=y.type.defaultProps!==void 0?Ft(Ft({},y.type.defaultProps),y.props):y.props,w=x.type,N=x.dataKey,I=x.allowDataOverflow,P=x.allowDuplicatedCategory,L=x.scale,R=x.ticks,O=x.includeHidden,A=x[s];if(E[A])return E;var T=Xy(e.data,{graphicalItems:a.filter(function(j){var U,X=s in j.props?j.props[s]:(U=j.type.defaultProps)===null||U===void 0?void 0:U[s];return X===A}),dataStartIndex:c,dataEndIndex:u}),C=T.length,_,D,z;Wme(x.domain,I,w)&&(_=vC(x.domain,null,I),h&&(w==="number"||L!=="auto")&&(z=Xg(T,N,"category")));var V=vF(w);if(!_||_.length===0){var J,ie=(J=x.domain)!==null&&J!==void 0?J:V;if(N){if(_=Xg(T,N,w),w==="category"&&h){var G=tZ(_);P&&G?(D=_,_=$0(0,C)):P||(_=pL(ie,_,y).reduce(function(j,U){return j.indexOf(U)>=0?j:[].concat(Tp(j),[U])},[]))}else if(w==="category")P?_=_.filter(function(j){return j!==""&&!Jn(j)}):_=pL(ie,_,y).reduce(function(j,U){return j.indexOf(U)>=0||U===""||Jn(U)?j:[].concat(Tp(j),[U])},[]);else if(w==="number"){var te=fie(T,a.filter(function(j){var U,X,Z=s in j.props?j.props[s]:(U=j.type.defaultProps)===null||U===void 0?void 0:U[s],me="hide"in j.props?j.props.hide:(X=j.type.defaultProps)===null||X===void 0?void 0:X.hide;return Z===A&&(O||!me)}),N,i,f);te&&(_=te)}h&&(w==="number"||L!=="auto")&&(z=Xg(T,N,"category"))}else h?_=$0(0,C):l&&l[A]&&l[A].hasStack&&w==="number"?_=v==="expand"?[0,1]:lj(l[A].stackGroups,c,u):_=rj(T,a.filter(function(j){var U=s in j.props?j.props[s]:j.type.defaultProps[s],X="hide"in j.props?j.props.hide:j.type.defaultProps.hide;return U===A&&(O||!X)}),w,f,!0);if(w==="number")_=QC(m,_,A,i,R),ie&&(_=vC(ie,_,I));else if(w==="category"&&ie){var W=ie,B=_.every(function(j){return W.indexOf(j)>=0});B&&(_=W)}}return Ft(Ft({},E),{},vn({},A,Ft(Ft({},x),{},{axisType:i,domain:_,categoricalDomain:z,duplicateDomain:D,originalDomain:(b=x.domain)!==null&&b!==void 0?b:V,isCategorical:h,layout:f})))},{})},xpe=function(e,r){var n=r.graphicalItems,a=r.Axis,i=r.axisType,s=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,m=e.children,v=Xy(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),h=v.length,E=nj(f,i),y=-1;return n.reduce(function(b,x){var w=x.type.defaultProps!==void 0?Ft(Ft({},x.type.defaultProps),x.props):x.props,N=w[s],I=vF("number");if(!b[N]){y++;var P;return E?P=$0(0,h):l&&l[N]&&l[N].hasStack?(P=lj(l[N].stackGroups,c,u),P=QC(m,P,N,i)):(P=vC(I,rj(v,n.filter(function(L){var R,O,A=s in L.props?L.props[s]:(R=L.type.defaultProps)===null||R===void 0?void 0:R[s],T="hide"in L.props?L.props.hide:(O=L.type.defaultProps)===null||O===void 0?void 0:O.hide;return A===N&&!T}),"number",f),a.defaultProps.allowDataOverflow),P=QC(m,P,N,i)),Ft(Ft({},b),{},vn({},N,Ft(Ft({axisType:i},a.defaultProps),{},{hide:!0,orientation:Il(hpe,"".concat(i,".").concat(y%2),null),domain:P,originalDomain:I,isCategorical:E,layout:f})))}return b},{})},wpe=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,i=r.AxisComp,s=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.children,m="".concat(a,"Id"),v=Ql(f,i),h={};return v&&v.length?h=Epe(e,{axes:v,graphicalItems:s,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):s&&s.length&&(h=xpe(e,{Axis:i,graphicalItems:s,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),h},Spe=function(e){var r=Ld(e),n=qu(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:W3(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:k0(r,n)}},c7=function(e){var r=e.children,n=e.defaultShowTooltip,a=Pl(r,Cp),i=0,s=0;return e.data&&e.data.length!==0&&(s=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(i=a.props.startIndex),a.props.endIndex>=0&&(s=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:s,activeTooltipIndex:-1,isTooltipActive:!!n}},Cpe=function(e){return!e||!e.length?!1:e.some(function(r){var n=Vu(r&&r.type);return n&&n.indexOf("Bar")>=0})},u7=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Ppe=function(e,r){var n=e.props,a=e.graphicalItems,i=e.xAxisMap,s=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,m=n.children,v=n.margin||{},h=Pl(m,Cp),E=Pl(m,qf),y=Object.keys(c).reduce(function(P,L){var R=c[L],O=R.orientation;return!R.mirror&&!R.hide?Ft(Ft({},P),{},vn({},O,P[O]+R.width)):P},{left:v.left||0,right:v.right||0}),b=Object.keys(s).reduce(function(P,L){var R=s[L],O=R.orientation;return!R.mirror&&!R.hide?Ft(Ft({},P),{},vn({},O,Il(P,"".concat(O))+R.height)):P},{top:v.top||0,bottom:v.bottom||0}),x=Ft(Ft({},b),y),w=x.bottom;h&&(x.bottom+=h.props.height||Cp.defaultProps.height),E&&r&&(x=uie(x,a,n,r));var N=u-x.left-x.right,I=f-x.top-x.bottom;return Ft(Ft({brushBottom:w},x),{},{width:Math.max(N,0),height:Math.max(I,0)})},Npe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},bF=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,i=a===void 0?"axis":a,s=e.validateTooltipEventTypes,l=s===void 0?["axis"]:s,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,m=e.defaultProps,v=function(x,w){var N=w.graphicalItems,I=w.stackGroups,P=w.offset,L=w.updateId,R=w.dataStartIndex,O=w.dataEndIndex,A=x.barSize,T=x.layout,C=x.barGap,_=x.barCategoryGap,D=x.maxBarSize,z=u7(T),V=z.numericAxisName,J=z.cateAxisName,ie=Cpe(N),G=[];return N.forEach(function(te,W){var B=Xy(x.data,{graphicalItems:[te],dataStartIndex:R,dataEndIndex:O}),j=te.type.defaultProps!==void 0?Ft(Ft({},te.type.defaultProps),te.props):te.props,U=j.dataKey,X=j.maxBarSize,Z=j["".concat(V,"Id")],me=j["".concat(J,"Id")],de={},oe=c.reduce(function(Xe,Ke){var Et=w["".concat(Ke.axisType,"Map")],ut=j["".concat(Ke.axisType,"Id")];Et&&Et[ut]||Ke.axisType==="zAxis"||Jf();var zt=Et[ut];return Ft(Ft({},Xe),{},vn(vn({},Ke.axisType,zt),"".concat(Ke.axisType,"Ticks"),qu(zt)))},de),ee=oe[J],le=oe["".concat(J,"Ticks")],pe=I&&I[Z]&&I[Z].hasStack&&xie(te,I[Z].stackGroups),ce=Vu(te.type).indexOf("Bar")>=0,_e=k0(ee,le),He=[],Re=ie&&lie({barSize:A,stackGroups:I,totalSize:Npe(oe,J)});if(ce){var be,gt,Ae=Jn(X)?D:X,ke=(be=(gt=k0(ee,le,!0))!==null&&gt!==void 0?gt:Ae)!==null&&be!==void 0?be:0;He=cie({barGap:C,barCategoryGap:_,bandSize:ke!==_e?ke:_e,sizeList:Re[me],maxBarSize:Ae}),ke!==_e&&(He=He.map(function(Xe){return Ft(Ft({},Xe),{},{position:Ft(Ft({},Xe.position),{},{offset:Xe.position.offset-ke/2})})}))}var Be=te&&te.type&&te.type.getComposedData;Be&&G.push({props:Ft(Ft({},Be(Ft(Ft({},oe),{},{displayedData:B,props:x,dataKey:U,item:te,bandSize:_e,barPosition:He,offset:P,stackedData:pe,layout:T,dataStartIndex:R,dataEndIndex:O}))),{},vn(vn(vn({key:te.key||"item-".concat(W)},V,oe[V]),J,oe[J]),"animationId",L)),childIndex:mZ(te,x.children),item:te})}),G},h=function(x,w){var N=x.props,I=x.dataStartIndex,P=x.dataEndIndex,L=x.updateId;if(!OO({props:N}))return null;var R=N.children,O=N.layout,A=N.stackOffset,T=N.data,C=N.reverseStackOrder,_=u7(O),D=_.numericAxisName,z=_.cateAxisName,V=Ql(R,n),J=yie(T,V,"".concat(D,"Id"),"".concat(z,"Id"),A,C),ie=c.reduce(function(j,U){var X="".concat(U.axisType,"Map");return Ft(Ft({},j),{},vn({},X,wpe(N,Ft(Ft({},U),{},{graphicalItems:V,stackGroups:U.axisType===D&&J,dataStartIndex:I,dataEndIndex:P}))))},{}),G=Ppe(Ft(Ft({},ie),{},{props:N,graphicalItems:V}),w==null?void 0:w.legendBBox);Object.keys(ie).forEach(function(j){ie[j]=f(N,ie[j],G,j.replace("Map",""),r)});var te=ie["".concat(z,"Map")],W=Spe(te),B=v(N,Ft(Ft({},ie),{},{dataStartIndex:I,dataEndIndex:P,updateId:L,graphicalItems:V,stackGroups:J,offset:G}));return Ft(Ft({formattedGraphicalItems:B,graphicalItems:V,offset:G,stackGroups:J},W),ie)},E=function(b){function x(w){var N,I,P;return ope(this,x),P=lpe(this,x,[w]),vn(P,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),vn(P,"accessibilityManager",new Hme),vn(P,"handleLegendBBoxUpdate",function(L){if(L){var R=P.state,O=R.dataStartIndex,A=R.dataEndIndex,T=R.updateId;P.setState(Ft({legendBBox:L},h({props:P.props,dataStartIndex:O,dataEndIndex:A,updateId:T},Ft(Ft({},P.state),{},{legendBBox:L}))))}}),vn(P,"handleReceiveSyncEvent",function(L,R,O){if(P.props.syncId===L){if(O===P.eventEmitterSymbol&&typeof P.props.syncMethod!="function")return;P.applySyncEvent(R)}}),vn(P,"handleBrushChange",function(L){var R=L.startIndex,O=L.endIndex;if(R!==P.state.dataStartIndex||O!==P.state.dataEndIndex){var A=P.state.updateId;P.setState(function(){return Ft({dataStartIndex:R,dataEndIndex:O},h({props:P.props,dataStartIndex:R,dataEndIndex:O,updateId:A},P.state))}),P.triggerSyncEvent({dataStartIndex:R,dataEndIndex:O})}}),vn(P,"handleMouseEnter",function(L){var R=P.getMouseInfo(L);if(R){var O=Ft(Ft({},R),{},{isTooltipActive:!0});P.setState(O),P.triggerSyncEvent(O);var A=P.props.onMouseEnter;kn(A)&&A(O,L)}}),vn(P,"triggeredAfterMouseMove",function(L){var R=P.getMouseInfo(L),O=R?Ft(Ft({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};P.setState(O),P.triggerSyncEvent(O);var A=P.props.onMouseMove;kn(A)&&A(O,L)}),vn(P,"handleItemMouseEnter",function(L){P.setState(function(){return{isTooltipActive:!0,activeItem:L,activePayload:L.tooltipPayload,activeCoordinate:L.tooltipPosition||{x:L.cx,y:L.cy}}})}),vn(P,"handleItemMouseLeave",function(){P.setState(function(){return{isTooltipActive:!1}})}),vn(P,"handleMouseMove",function(L){L.persist(),P.throttleTriggeredAfterMouseMove(L)}),vn(P,"handleMouseLeave",function(L){P.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};P.setState(R),P.triggerSyncEvent(R);var O=P.props.onMouseLeave;kn(O)&&O(R,L)}),vn(P,"handleOuterEvent",function(L){var R=fZ(L),O=Il(P.props,"".concat(R));if(R&&kn(O)){var A,T;/.*touch.*/i.test(R)?T=P.getMouseInfo(L.changedTouches[0]):T=P.getMouseInfo(L),O((A=T)!==null&&A!==void 0?A:{},L)}}),vn(P,"handleClick",function(L){var R=P.getMouseInfo(L);if(R){var O=Ft(Ft({},R),{},{isTooltipActive:!0});P.setState(O),P.triggerSyncEvent(O);var A=P.props.onClick;kn(A)&&A(O,L)}}),vn(P,"handleMouseDown",function(L){var R=P.props.onMouseDown;if(kn(R)){var O=P.getMouseInfo(L);R(O,L)}}),vn(P,"handleMouseUp",function(L){var R=P.props.onMouseUp;if(kn(R)){var O=P.getMouseInfo(L);R(O,L)}}),vn(P,"handleTouchMove",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&P.throttleTriggeredAfterMouseMove(L.changedTouches[0])}),vn(P,"handleTouchStart",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&P.handleMouseDown(L.changedTouches[0])}),vn(P,"handleTouchEnd",function(L){L.changedTouches!=null&&L.changedTouches.length>0&&P.handleMouseUp(L.changedTouches[0])}),vn(P,"handleDoubleClick",function(L){var R=P.props.onDoubleClick;if(kn(R)){var O=P.getMouseInfo(L);R(O,L)}}),vn(P,"handleContextMenu",function(L){var R=P.props.onContextMenu;if(kn(R)){var O=P.getMouseInfo(L);R(O,L)}}),vn(P,"triggerSyncEvent",function(L){P.props.syncId!==void 0&&E5.emit(x5,P.props.syncId,L,P.eventEmitterSymbol)}),vn(P,"applySyncEvent",function(L){var R=P.props,O=R.layout,A=R.syncMethod,T=P.state.updateId,C=L.dataStartIndex,_=L.dataEndIndex;if(L.dataStartIndex!==void 0||L.dataEndIndex!==void 0)P.setState(Ft({dataStartIndex:C,dataEndIndex:_},h({props:P.props,dataStartIndex:C,dataEndIndex:_,updateId:T},P.state)));else if(L.activeTooltipIndex!==void 0){var D=L.chartX,z=L.chartY,V=L.activeTooltipIndex,J=P.state,ie=J.offset,G=J.tooltipTicks;if(!ie)return;if(typeof A=="function")V=A(G,L);else if(A==="value"){V=-1;for(var te=0;te<G.length;te++)if(G[te].value===L.activeLabel){V=te;break}}var W=Ft(Ft({},ie),{},{x:ie.left,y:ie.top}),B=Math.min(D,W.x+W.width),j=Math.min(z,W.y+W.height),U=G[V]&&G[V].value,X=r3(P.state,P.props.data,V),Z=G[V]?{x:O==="horizontal"?G[V].coordinate:B,y:O==="horizontal"?j:G[V].coordinate}:hF;P.setState(Ft(Ft({},L),{},{activeLabel:U,activeCoordinate:Z,activePayload:X,activeTooltipIndex:V}))}else P.setState(L)}),vn(P,"renderCursor",function(L){var R,O=P.state,A=O.isTooltipActive,T=O.activeCoordinate,C=O.activePayload,_=O.offset,D=O.activeTooltipIndex,z=O.tooltipAxisBandSize,V=P.getTooltipEventType(),J=(R=L.props.active)!==null&&R!==void 0?R:A,ie=P.props.layout,G=L.key||"_recharts-cursor";return o.createElement(Zme,{key:G,activeCoordinate:T,activePayload:C,activeTooltipIndex:D,chartName:r,element:L,isActive:J,layout:ie,offset:_,tooltipAxisBandSize:z,tooltipEventType:V})}),vn(P,"renderPolarAxis",function(L,R,O){var A=Il(L,"type.axisType"),T=Il(P.state,"".concat(A,"Map")),C=L.type.defaultProps,_=C!==void 0?Ft(Ft({},C),L.props):L.props,D=T&&T[_["".concat(A,"Id")]];return p.cloneElement(L,Ft(Ft({},D),{},{className:Kn(A,D.className),key:L.key||"".concat(R,"-").concat(O),ticks:qu(D,!0)}))}),vn(P,"renderPolarGrid",function(L){var R=L.props,O=R.radialLines,A=R.polarAngles,T=R.polarRadius,C=P.state,_=C.radiusAxisMap,D=C.angleAxisMap,z=Ld(_),V=Ld(D),J=V.cx,ie=V.cy,G=V.innerRadius,te=V.outerRadius;return p.cloneElement(L,{polarAngles:Array.isArray(A)?A:qu(V,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(T)?T:qu(z,!0).map(function(W){return W.coordinate}),cx:J,cy:ie,innerRadius:G,outerRadius:te,key:L.key||"polar-grid",radialLines:O})}),vn(P,"renderLegend",function(){var L=P.state.formattedGraphicalItems,R=P.props,O=R.children,A=R.width,T=R.height,C=P.props.margin||{},_=A-(C.left||0)-(C.right||0),D=ej({children:O,formattedGraphicalItems:L,legendWidth:_,legendContent:u});if(!D)return null;var z=D.item,V=i7(D,Qme);return p.cloneElement(z,Ft(Ft({},V),{},{chartWidth:A,chartHeight:T,margin:C,onBBoxUpdate:P.handleLegendBBoxUpdate}))}),vn(P,"renderTooltip",function(){var L,R=P.props,O=R.children,A=R.accessibilityLayer,T=Pl(O,jc);if(!T)return null;var C=P.state,_=C.isTooltipActive,D=C.activeCoordinate,z=C.activePayload,V=C.activeLabel,J=C.offset,ie=(L=T.props.active)!==null&&L!==void 0?L:_;return p.cloneElement(T,{viewBox:Ft(Ft({},J),{},{x:J.left,y:J.top}),active:ie,label:V,payload:ie?z:[],coordinate:D,accessibilityLayer:A})}),vn(P,"renderBrush",function(L){var R=P.props,O=R.margin,A=R.data,T=P.state,C=T.offset,_=T.dataStartIndex,D=T.dataEndIndex,z=T.updateId;return p.cloneElement(L,{key:L.key||"_recharts-brush",onChange:Eb(P.handleBrushChange,L.props.onChange),data:A,x:hr(L.props.x)?L.props.x:C.left,y:hr(L.props.y)?L.props.y:C.top+C.height+C.brushBottom-(O.bottom||0),width:hr(L.props.width)?L.props.width:C.width,startIndex:_,endIndex:D,updateId:"brush-".concat(z)})}),vn(P,"renderReferenceElement",function(L,R,O){if(!L)return null;var A=P,T=A.clipPathId,C=P.state,_=C.xAxisMap,D=C.yAxisMap,z=C.offset,V=L.type.defaultProps||{},J=L.props,ie=J.xAxisId,G=ie===void 0?V.xAxisId:ie,te=J.yAxisId,W=te===void 0?V.yAxisId:te;return p.cloneElement(L,{key:L.key||"".concat(R,"-").concat(O),xAxis:_[G],yAxis:D[W],viewBox:{x:z.left,y:z.top,width:z.width,height:z.height},clipPathId:T})}),vn(P,"renderActivePoints",function(L){var R=L.item,O=L.activePoint,A=L.basePoint,T=L.childIndex,C=L.isRange,_=[],D=R.props.key,z=R.item.type.defaultProps!==void 0?Ft(Ft({},R.item.type.defaultProps),R.item.props):R.item.props,V=z.activeDot,J=z.dataKey,ie=Ft(Ft({index:T,dataKey:J,cx:O.x,cy:O.y,r:4,fill:bP(R.item),strokeWidth:2,stroke:"#fff",payload:O.payload,value:O.value},wn(V,!1)),n0(V));return _.push(x.renderActiveDot(V,ie,"".concat(D,"-activePoint-").concat(T))),A?_.push(x.renderActiveDot(V,Ft(Ft({},ie),{},{cx:A.x,cy:A.y}),"".concat(D,"-basePoint-").concat(T))):C&&_.push(null),_}),vn(P,"renderGraphicChild",function(L,R,O){var A=P.filterFormatItem(L,R,O);if(!A)return null;var T=P.getTooltipEventType(),C=P.state,_=C.isTooltipActive,D=C.tooltipAxis,z=C.activeTooltipIndex,V=C.activeLabel,J=P.props.children,ie=Pl(J,jc),G=A.props,te=G.points,W=G.isRange,B=G.baseLine,j=A.item.type.defaultProps!==void 0?Ft(Ft({},A.item.type.defaultProps),A.item.props):A.item.props,U=j.activeDot,X=j.hide,Z=j.activeBar,me=j.activeShape,de=!!(!X&&_&&ie&&(U||Z||me)),oe={};T!=="axis"&&ie&&ie.props.trigger==="click"?oe={onClick:Eb(P.handleItemMouseEnter,L.props.onClick)}:T!=="axis"&&(oe={onMouseLeave:Eb(P.handleItemMouseLeave,L.props.onMouseLeave),onMouseEnter:Eb(P.handleItemMouseEnter,L.props.onMouseEnter)});var ee=p.cloneElement(L,Ft(Ft({},A.props),oe));function le(Ke){return typeof D.dataKey=="function"?D.dataKey(Ke.payload):null}if(de)if(z>=0){var pe,ce;if(D.dataKey&&!D.allowDuplicatedCategory){var _e=typeof D.dataKey=="function"?le:"payload.".concat(D.dataKey.toString());pe=jS(te,_e,V),ce=W&&B&&jS(B,_e,V)}else pe=te==null?void 0:te[z],ce=W&&B&&B[z];if(me||Z){var He=L.props.activeIndex!==void 0?L.props.activeIndex:z;return[p.cloneElement(L,Ft(Ft(Ft({},A.props),oe),{},{activeIndex:He})),null,null]}if(!Jn(pe))return[ee].concat(Tp(P.renderActivePoints({item:A,activePoint:pe,basePoint:ce,childIndex:z,isRange:W})))}else{var Re,be=(Re=P.getItemByXY(P.state.activeCoordinate))!==null&&Re!==void 0?Re:{graphicalItem:ee},gt=be.graphicalItem,Ae=gt.item,ke=Ae===void 0?L:Ae,Be=gt.childIndex,Xe=Ft(Ft(Ft({},A.props),oe),{},{activeIndex:Be});return[p.cloneElement(ke,Xe),null,null]}return W?[ee,null,null]:[ee,null]}),vn(P,"renderCustomized",function(L,R,O){return p.cloneElement(L,Ft(Ft({key:"recharts-customized-".concat(O)},P.props),P.state))}),vn(P,"renderMap",{CartesianGrid:{handler:Pb,once:!0},ReferenceArea:{handler:P.renderReferenceElement},ReferenceLine:{handler:Pb},ReferenceDot:{handler:P.renderReferenceElement},XAxis:{handler:Pb},YAxis:{handler:Pb},Brush:{handler:P.renderBrush,once:!0},Bar:{handler:P.renderGraphicChild},Line:{handler:P.renderGraphicChild},Area:{handler:P.renderGraphicChild},Radar:{handler:P.renderGraphicChild},RadialBar:{handler:P.renderGraphicChild},Scatter:{handler:P.renderGraphicChild},Pie:{handler:P.renderGraphicChild},Funnel:{handler:P.renderGraphicChild},Tooltip:{handler:P.renderCursor,once:!0},PolarGrid:{handler:P.renderPolarGrid,once:!0},PolarAngleAxis:{handler:P.renderPolarAxis},PolarRadiusAxis:{handler:P.renderPolarAxis},Customized:{handler:P.renderCustomized}}),P.clipPathId="".concat((N=w.id)!==null&&N!==void 0?N:cv("recharts"),"-clip"),P.throttleTriggeredAfterMouseMove=ZM(P.triggeredAfterMouseMove,(I=w.throttleDelay)!==null&&I!==void 0?I:1e3/60),P.state={},P}return dpe(x,b),spe(x,[{key:"componentDidMount",value:function(){var N,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,I=N.children,P=N.data,L=N.height,R=N.layout,O=Pl(I,jc);if(O){var A=O.props.defaultIndex;if(!(typeof A!="number"||A<0||A>this.state.tooltipTicks.length-1)){var T=this.state.tooltipTicks[A]&&this.state.tooltipTicks[A].value,C=r3(this.state,P,A,T),_=this.state.tooltipTicks[A].coordinate,D=(this.state.offset.top+L)/2,z=R==="horizontal",V=z?{x:_,y:D}:{y:_,x:D},J=this.state.formattedGraphicalItems.find(function(G){var te=G.item;return te.type.name==="Scatter"});J&&(V=Ft(Ft({},V),J.props.points[A].tooltipPosition),C=J.props.points[A].tooltipPayload);var ie={activeTooltipIndex:A,isTooltipActive:!0,activeLabel:T,activePayload:C,activeCoordinate:V};this.setState(ie),this.renderCursor(O),this.accessibilityManager.setIndex(A)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var P,L;this.accessibilityManager.setDetails({offset:{left:(P=this.props.margin.left)!==null&&P!==void 0?P:0,top:(L=this.props.margin.top)!==null&&L!==void 0?L:0}})}return null}},{key:"componentDidUpdate",value:function(N){$S([Pl(N.children,jc)],[Pl(this.props.children,jc)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=Pl(this.props.children,jc);if(N&&typeof N.props.shared=="boolean"){var I=N.props.shared?"axis":"item";return l.indexOf(I)>=0?I:i}return i}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var I=this.container,P=I.getBoundingClientRect(),L=Qte(P),R={chartX:Math.round(N.pageX-L.left),chartY:Math.round(N.pageY-L.top)},O=P.width/I.offsetWidth||1,A=this.inRange(R.chartX,R.chartY,O);if(!A)return null;var T=this.state,C=T.xAxisMap,_=T.yAxisMap,D=this.getTooltipEventType(),z=l7(this.state,this.props.data,this.props.layout,A);if(D!=="axis"&&C&&_){var V=Ld(C).scale,J=Ld(_).scale,ie=V&&V.invert?V.invert(R.chartX):null,G=J&&J.invert?J.invert(R.chartY):null;return Ft(Ft({},R),{},{xValue:ie,yValue:G},z)}return z?Ft(Ft({},R),z):null}},{key:"inRange",value:function(N,I){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,L=this.props.layout,R=N/P,O=I/P;if(L==="horizontal"||L==="vertical"){var A=this.state.offset,T=R>=A.left&&R<=A.left+A.width&&O>=A.top&&O<=A.top+A.height;return T?{x:R,y:O}:null}var C=this.state,_=C.angleAxisMap,D=C.radiusAxisMap;if(_&&D){var z=Ld(_);return vL({x:R,y:O},z)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,I=this.getTooltipEventType(),P=Pl(N,jc),L={};P&&I==="axis"&&(P.props.trigger==="click"?L={onClick:this.handleClick}:L={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=n0(this.props,this.handleOuterEvent);return Ft(Ft({},R),L)}},{key:"addListener",value:function(){E5.on(x5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){E5.removeListener(x5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,I,P){for(var L=this.state.formattedGraphicalItems,R=0,O=L.length;R<O;R++){var A=L[R];if(A.item===N||A.props.key===N.key||I===Vu(A.item.type)&&P===A.childIndex)return A}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,I=this.state.offset,P=I.left,L=I.top,R=I.height,O=I.width;return o.createElement("defs",null,o.createElement("clipPath",{id:N},o.createElement("rect",{x:P,y:L,height:R,width:O})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(I,P){var L=o7(P,2),R=L[0],O=L[1];return Ft(Ft({},I),{},vn({},R,O.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(I,P){var L=o7(P,2),R=L[0],O=L[1];return Ft(Ft({},I),{},vn({},R,O.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[N])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(N){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[N])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(N){var I=this.state,P=I.formattedGraphicalItems,L=I.activeItem;if(P&&P.length)for(var R=0,O=P.length;R<O;R++){var A=P[R],T=A.props,C=A.item,_=C.type.defaultProps!==void 0?Ft(Ft({},C.type.defaultProps),C.props):C.props,D=Vu(C.type);if(D==="Bar"){var z=(T.data||[]).find(function(G){return fce(N,G)});if(z)return{graphicalItem:A,payload:z}}else if(D==="RadialBar"){var V=(T.data||[]).find(function(G){return vL(N,G)});if(V)return{graphicalItem:A,payload:V}}else if(Uy(A,L)||qy(A,L)||Yh(A,L)){var J=Due({graphicalItem:A,activeTooltipItem:L,itemData:_.data}),ie=_.activeIndex===void 0?J:_.activeIndex;return{graphicalItem:Ft(Ft({},A),{},{childIndex:ie}),payload:Yh(A,L)?_.data[J]:A.props.data[J]}}}return null}},{key:"render",value:function(){var N=this;if(!OO(this))return null;var I=this.props,P=I.children,L=I.className,R=I.width,O=I.height,A=I.style,T=I.compact,C=I.title,_=I.desc,D=i7(I,epe),z=wn(D,!1);if(T)return o.createElement(qT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},o.createElement(BS,Xm({},z,{width:R,height:O,title:C,desc:_}),this.renderClipPath(),_O(P,this.renderMap)));if(this.props.accessibilityLayer){var V,J;z.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,z.role=(J=this.props.role)!==null&&J!==void 0?J:"application",z.onKeyDown=function(G){N.accessibilityManager.keyboardEvent(G)},z.onFocus=function(){N.accessibilityManager.focus()}}var ie=this.parseEventsOfWrapper();return o.createElement(qT,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},o.createElement("div",Xm({className:Kn("recharts-wrapper",L),style:Ft({position:"relative",cursor:"default",width:R,height:O},A)},ie,{ref:function(te){N.container=te}}),o.createElement(BS,Xm({},z,{width:R,height:O,title:C,desc:_,style:vpe}),this.renderClipPath(),_O(P,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(p.Component);vn(E,"displayName",r),vn(E,"defaultProps",Ft({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),vn(E,"getDerivedStateFromProps",function(b,x){var w=b.dataKey,N=b.data,I=b.children,P=b.width,L=b.height,R=b.layout,O=b.stackOffset,A=b.margin,T=x.dataStartIndex,C=x.dataEndIndex;if(x.updateId===void 0){var _=c7(b);return Ft(Ft(Ft({},_),{},{updateId:0},h(Ft(Ft({props:b},_),{},{updateId:0}),x)),{},{prevDataKey:w,prevData:N,prevWidth:P,prevHeight:L,prevLayout:R,prevStackOffset:O,prevMargin:A,prevChildren:I})}if(w!==x.prevDataKey||N!==x.prevData||P!==x.prevWidth||L!==x.prevHeight||R!==x.prevLayout||O!==x.prevStackOffset||!ap(A,x.prevMargin)){var D=c7(b),z={chartX:x.chartX,chartY:x.chartY,isTooltipActive:x.isTooltipActive},V=Ft(Ft({},l7(x,N,R)),{},{updateId:x.updateId+1}),J=Ft(Ft(Ft({},D),z),V);return Ft(Ft(Ft({},J),h(Ft({props:b},J),x)),{},{prevDataKey:w,prevData:N,prevWidth:P,prevHeight:L,prevLayout:R,prevStackOffset:O,prevMargin:A,prevChildren:I})}if(!$S(I,x.prevChildren)){var ie,G,te,W,B=Pl(I,Cp),j=B&&(ie=(G=B.props)===null||G===void 0?void 0:G.startIndex)!==null&&ie!==void 0?ie:T,U=B&&(te=(W=B.props)===null||W===void 0?void 0:W.endIndex)!==null&&te!==void 0?te:C,X=j!==T||U!==C,Z=!Jn(N),me=Z&&!X?x.updateId:x.updateId+1;return Ft(Ft({updateId:me},h(Ft(Ft({props:b},x),{},{updateId:me,dataStartIndex:j,dataEndIndex:U}),x)),{},{prevChildren:I,dataStartIndex:j,dataEndIndex:U})}return null}),vn(E,"renderActiveDot",function(b,x,w){var N;return p.isValidElement(b)?N=p.cloneElement(b,x):kn(b)?N=b(x):N=o.createElement(EP,x),o.createElement(La,{className:"recharts-active-dot",key:w},N)});var y=p.forwardRef(function(x,w){return o.createElement(E,Xm({},x,{ref:w}))});return y.displayName=E.displayName,y},kpe=bF({chartName:"BarChart",GraphicalChild:Vd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Yy},{axisType:"yAxis",AxisComp:Jy}],formatAxisMap:$de}),Ape=bF({chartName:"PieChart",GraphicalChild:rd,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:By},{axisType:"radiusAxis",AxisComp:$y}],formatAxisMap:_ie,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const Gr={dashboard:{fontFamily:"Arial, sans-serif",backgroundColor:"#ffffff",minHeight:"70vh",maxHeight:"70vh",padding:"8px",color:"#333",overflow:"hidden"},container:{maxWidth:"100%",margin:"0 auto",padding:"0 8px",height:"calc(100vh - 16px)",overflow:"hidden",display:"flex",flexDirection:"column"},header:{fontSize:"18px",fontWeight:"bold",marginBottom:"8px",color:"#333",marginTop:"0"},mainContent:{display:"flex",gap:"10px",marginBottom:"0",flexWrap:"wrap",alignItems:"flex-start",flexDirection:"row-reverse",flex:1,overflow:"hidden"},leftSection:{flex:"1.8",minWidth:"500px",display:"flex",flexDirection:"column",gap:"10px",marginTop:"0",order:2},rightSection:{flex:"1",minWidth:"320px",maxWidth:"380px",display:"flex",flexDirection:"column",gap:"8px",order:1},statsRow:{display:"flex",gap:"8px",marginBottom:"0",flexWrap:"wrap",alignItems:"stretch"},statCard:{background:"white",borderRadius:"8px",padding:"10px",flex:"1",minWidth:"140px",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",position:"relative",display:"flex",flexDirection:"column",justifyContent:"space-between"},statTitle:{fontSize:"9px",color:"#666",marginBottom:"3px",fontWeight:"400",textTransform:"uppercase",letterSpacing:"0.3px"},statValue:{fontSize:"18px",fontWeight:"bold",color:"#333",marginBottom:"4px",lineHeight:"1"},statProgress:{position:"absolute",bottom:"0",left:"0",right:"0",height:"3px",borderRadius:"0 0 8px 8px",overflow:"hidden"},progressBarVentas:{height:"100%",background:"linear-gradient(90deg, #FF1493 0%, #FF69B4 100%)",width:"78%"},progressBarCompras:{height:"100%",background:"linear-gradient(90deg,rgb(238, 76, 233) 0%,rgb(244, 90, 218) 100%)",width:"65%"},realtimeCard:{background:"white",borderRadius:"8px",padding:"10px",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",height:"200px",display:"flex",flexDirection:"column"},tortaCard:{background:"white",borderRadius:"8px",padding:"10px",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",height:"190px",display:"flex",flexDirection:"column",overflow:"hidden"},tortaCardExpanded:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",background:"white",borderRadius:"10px",padding:"25px",boxShadow:"0 10px 30px rgba(0,0,0,0.3)",zIndex:1e3,width:"550px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto"},overlay:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",zIndex:999},realtimeHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px",flexWrap:"wrap",gap:"6px"},tortaHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"8px",flexWrap:"wrap",gap:"6px"},realtimeTitle:{fontSize:"12px",fontWeight:"600",color:"#333",display:"flex",alignItems:"center",gap:"5px"},tortaTitle:{fontSize:"12px",fontWeight:"600",color:"#333"},liveIndicator:{width:"5px",height:"5px",backgroundColor:"#4CAF50",borderRadius:"50%",animation:"pulse 2s infinite"},sedeSelector:{padding:"3px 6px",border:"1px solid #ddd",borderRadius:"4px",fontSize:"9px",backgroundColor:"white",cursor:"pointer"},sedeFilterCard:{background:"white",borderRadius:"8px",padding:"10px",minWidth:"140px",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",display:"flex",flexDirection:"column",justifyContent:"center"},tortaControls:{display:"flex",gap:"5px",alignItems:"center",flexWrap:"wrap"},ventasList:{flex:1,overflowY:"auto",paddingRight:"3px",minHeight:"140px"},ventaItem:{display:"flex",alignItems:"center",gap:"6px",padding:"5px",borderBottom:"1px solid #f0f0f0",transition:"background-color 0.3s ease"},ventaImagen:{width:"30px",height:"30px",borderRadius:"4px",objectFit:"cover"},ventaInfo:{flex:"1",minWidth:"0"},ventaNombre:{fontSize:"10px",fontWeight:"500",color:"#333",marginBottom:"2px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},ventaDetalles:{fontSize:"8px",color:"#666",display:"flex",gap:"5px"},ventaPrecio:{fontSize:"10px",fontWeight:"bold",color:"#FF1493",textAlign:"right"},sedeTag:{fontSize:"7px",padding:"2px 4px",borderRadius:"6px",fontWeight:"500"},chartCard:{background:"white",borderRadius:"8px",padding:"12px",boxShadow:"0 1px 4px rgba(0,0,0,0.08)",height:"270px",display:"flex",flexDirection:"column"},chartHeader:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"10px",flexWrap:"wrap",gap:"8px"},chartTitle:{fontSize:"12px",fontWeight:"600",color:"#333"},controlsContainer:{display:"flex",gap:"8px",alignItems:"center",flexWrap:"wrap"},selectorContainer:{display:"flex",gap:"3px"},selectorButton:{padding:"4px 8px",border:"1px solid #ddd",backgroundColor:"white",color:"#666",fontSize:"9px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s"},selectorButtonActive:{padding:"4px 8px",border:"1px solid #FF1493",backgroundColor:"#FF1493",color:"white",fontSize:"9px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s"},toggleContainer:{display:"flex",gap:"5px",alignItems:"center"},toggleButton:{padding:"3px 6px",border:"1px solid #ddd",backgroundColor:"white",color:"#666",fontSize:"8px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"3px"},toggleButtonActive:{padding:"3px 6px",border:"1px solid #FF1493",backgroundColor:"#FF1493",color:"white",fontSize:"8px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"3px"},toggleButtonCompras:{padding:"3px 6px",border:"1px solid #ddd",backgroundColor:"white",color:"#666",fontSize:"8px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"3px"},toggleButtonComprasActive:{padding:"3px 6px",border:"1px solid #A9A9A9",backgroundColor:"#A9A9A9",color:"white",fontSize:"8px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s",display:"flex",alignItems:"center",gap:"3px"},colorIndicator:{width:"5px",height:"5px",borderRadius:"50%"},expandButton:{padding:"3px 6px",border:"1px solid #ddd",backgroundColor:"white",color:"#666",fontSize:"8px",cursor:"pointer",borderRadius:"4px",transition:"all 0.2s"},closeButton:{position:"absolute",top:"10px",right:"10px",background:"none",border:"none",fontSize:"18px",cursor:"pointer",color:"#666"}},Ope=`
  body {
    overflow: hidden;
  }
  
  @keyframes pulse { 
    0% { opacity: 1; } 
    50% { opacity: 0.5; } 
    100% { opacity: 1; } 
  }
  @keyframes slideIn { 
    from { 
      opacity: 0; 
      transform: translateY(-20px); 
      background-color: rgba(255, 20, 147, 0.1);
    } 
    to { 
      opacity: 1; 
      transform: translateY(0);
      background-color: transparent;
    } 
  }
  @keyframes spin { 
    0% { transform: rotate(0deg); } 
    100% { transform: rotate(360deg); } 
  }
  .loading-spinner {
    width: 28px;
    height: 28px;
    border: 3px solid #f3f3f3;
    border-top: 3px solid #FF1493;
    border-radius: 50%;
    animation: spin 1s linear infinite;
  }
  .venta-nueva {
    animation: slideIn 0.5s ease-out;
  }
`,Zy=t=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(t),d7=["#FF1493","#FF69B4","#FFB6C1","#FFC0CB","#FF85A1","#FF007F","#E75480","#F08080","#FA8072","#F4A7B9","#E91E63","#C71585","#DA70D6","#EE82EE","#FF6EB4"],IP=t=>{if(!t)return null;const e=t.split("T")[0];return new Date(`${e}T00:00:00-05:00`)},Ipe=t=>{const e=["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],r=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n=new Date,a=new Date(n.toLocaleString("en-US",{timeZone:"America/Bogota"})),i=new Date(a);i.setDate(a.getDate()-a.getDay()),i.setHours(0,0,0,0);const s=new Date(i);s.setDate(i.getDate()+6),s.setHours(23,59,59,999),console.log(" Procesando compras - Semana actual:",i.toLocaleDateString(),"-",s.toLocaleDateString());const l=new Array(7).fill(0),c=new Array(4).fill(0),u=new Array(12).fill(0);t.forEach(h=>{const E=h.fechacompra||h.fechaCompra;if(!E)return;const y=IP(E);if(!y)return;const b=parseFloat(h.total||0);if(y>=i&&y<=s){const N=y.getDay();l[N]+=b}const x=Math.floor((a-y)/(24*60*60*1e3)),w=Math.floor(x/7);w>=0&&w<4&&(c[3-w]+=b),y.getMonth()===a.getMonth()&&y.getFullYear()===a.getFullYear()&&(u[y.getMonth()]+=b)});const f=e.map((h,E)=>({periodo:h,compras:l[E]})),m=c.map((h,E)=>({periodo:`Semana ${E+1}`,compras:h})),v=r.map((h,E)=>({periodo:h,compras:u[E]}));return{datosDiarios:f,datosSemanales:m,datosMensuales:v}},_pe=t=>{const e=["Dom","Lun","Mar","Mie","Jue","Vie","Sab"],r=["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],n=new Date,a=new Date(n.toLocaleString("en-US",{timeZone:"America/Bogota"})),i=new Date(a);i.setDate(a.getDate()-a.getDay()),i.setHours(0,0,0,0);const s=new Date(i);s.setDate(i.getDate()+6),s.setHours(23,59,59,999),console.log(" Procesando ventas - Semana actual:",i.toLocaleDateString(),"-",s.toLocaleDateString()),console.log(" Hoy es:",e[a.getDay()],a.toLocaleDateString());const l=new Array(7).fill(0),c=new Array(4).fill(0),u=new Array(12).fill(0);t.forEach(h=>{const E=h.fechaventa||h.fechaVenta;if(!E)return;const y=IP(E);if(!y)return;const b=parseFloat(h.total||0);if(y>=i&&y<=s){const N=y.getDay();l[N]+=b,console.log(` Venta semana actual: ${e[N]} - $${b}`)}const x=Math.floor((a-y)/(24*60*60*1e3)),w=Math.floor(x/7);w>=0&&w<4&&(c[3-w]+=b),y.getMonth()===a.getMonth()&&y.getFullYear()===a.getFullYear()&&(u[y.getMonth()]+=b)});const f=e.map((h,E)=>({periodo:h,ventas:l[E]})),m=c.map((h,E)=>({periodo:`Semana ${E+1}`,ventas:h})),v=r.map((h,E)=>({periodo:h,ventas:u[E]}));return console.log(" Ventas del da actual:",l[a.getDay()]),{datosDiarios:f,datosSemanales:m,datosMensuales:v}},S5=(t,e,r)=>{const n={};console.log(" === PROCESANDO CATEGORAS ==="),console.log("Total de ventas a procesar:",t.length),console.log("Periodo:",e.toLocaleDateString(),"hasta",r.toLocaleDateString()),t.forEach(i=>{const s=i.fechaventa||i.fechaVenta;if(!s)return;const l=IP(s);l&&(l>=e&&l<=r?(console.log(` Venta en perodo: ${l.toLocaleDateString("es-CO")}`),(i.detalleventa||i.detalleVenta||[]).forEach(u=>{var y,b;let f="Otros",m=!1;if(u.productogeneral){const x=u.productogeneral;(y=x.categoriaproducto)!=null&&y.nombrecategoria?(f=x.categoriaproducto.nombrecategoria,m=!0):x.categoria&&(f=typeof x.categoria=="string"?x.categoria:x.categoria.nombrecategoria||x.categoria.nombre,m=!0)}if(!m&&u.categoria&&(f=typeof u.categoria=="string"?u.categoria:u.categoria.nombrecategoria||u.categoria.nombre||"Otros",m=!0),!m&&u.nombreProducto){const x=u.nombreProducto.toLowerCase();x.includes("sandwich")||x.includes("sndwich")?f="Sandwich":x.includes("cupcake")||x.includes("torta")||x.includes("pastel")?f="Cupcakes":(x.includes("bebida")||x.includes("jugo"))&&(f="Bebidas")}const v=parseInt(u.cantidad||0),h=parseFloat(u.subtotal||0);n[f]||(n[f]={cantidad:0,total:0,productos:new Set}),n[f].cantidad+=v,n[f].total+=h;const E=u.nombreProducto||((b=u.productogeneral)==null?void 0:b.nombreproducto)||"Sin nombre";n[f].productos.add(E),console.log(`   ${f}: +${v} unidades, +$${h}`)})):console.log(` Venta fuera de perodo: ${l.toLocaleDateString("es-CO")}`))}),console.log(" Categoras procesadas:",Object.keys(n));const a=Object.entries(n).map(([i,s],l)=>({categoria:i,ventas:s.total,cantidad:s.cantidad,cantidadProductos:s.productos.size,color:d7[l%d7.length]})).sort((i,s)=>s.ventas-i.ventas).slice(0,10);return console.log(" Top categoras:",a.map(i=>`${i.categoria}: $${i.ventas}`)),a},Lpe=({mensaje:t="Cargando datos..."})=>o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"150px",flexDirection:"column",gap:"8px"}},o.createElement("div",{className:"loading-spinner"}),o.createElement("div",{style:{fontSize:"12px"}},t)),yF=({mensaje:t="No hay datos disponibles"})=>o.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"150px",color:"#666",flexDirection:"column",gap:"8px"}},o.createElement("span",{style:{fontSize:"20px"}},""),o.createElement("div",{style:{fontSize:"12px"}},t)),Tpe=({message:t})=>o.createElement("div",{style:{padding:"15px",backgroundColor:"#ffebee",color:"#c62828",borderRadius:"4px",margin:"15px 0",fontSize:"12px"}},t),f7=({titulo:t,valor:e,porcentaje:r,tipo:n})=>o.createElement("div",{style:Gr.statCard},o.createElement("div",{style:Gr.statTitle},t),o.createElement("div",{style:Gr.statValue},Zy(e)),o.createElement("div",{style:Gr.statProgress},o.createElement("div",{style:{...n==="ventas"?Gr.progressBarVentas:Gr.progressBarCompras,width:r}}))),Rpe=({venta:t})=>o.createElement("div",{style:Gr.ventaItem},o.createElement("img",{src:t.imagen,alt:t.producto,style:Gr.ventaImagen}),o.createElement("div",{style:Gr.ventaInfo},o.createElement("div",{style:Gr.ventaNombre},t.producto),o.createElement("div",{style:Gr.ventaDetalles},o.createElement("span",null,"x",t.cantidad),o.createElement("span",{style:{...Gr.sedeTag,backgroundColor:"#FF1493",color:"white"}},t.sede))),o.createElement("div",{style:Gr.ventaPrecio},Zy(t.precio*t.cantidad))),Mpe=({active:t,payload:e,label:r})=>t&&e&&e.length?o.createElement("div",{style:{backgroundColor:"white",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",fontSize:"11px"}},o.createElement("p",{style:{margin:0,fontWeight:"bold"}},r),e.map((n,a)=>o.createElement("p",{key:a,style:{margin:"4px 0 0 0",color:n.color,fontSize:"10px"}},n.name,": ",Zy(n.value)))):null,Dpe=({active:t,payload:e,obtenerDatosTorta:r,mostrarPorcentajes:n})=>{if(t&&e&&e.length){const a=e[0],i=r.reduce((l,c)=>l+c.ventas,0),s=(a.value/i*100).toFixed(1);return o.createElement("div",{style:{backgroundColor:"white",padding:"8px",border:"1px solid #ccc",borderRadius:"4px",boxShadow:"0 2px 5px rgba(0,0,0,0.1)",fontSize:"11px"}},o.createElement("p",{style:{margin:0,fontWeight:"bold",color:a.payload.color}},a.payload.categoria),o.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"10px"}},"Ventas: ",Zy(a.value)),o.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"10px"}},"Cantidad: ",a.payload.cantidad," unidades"),n&&o.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"10px"}},"Porcentaje: ",s,"%"))}return null},jpe=({cx:t,cy:e,midAngle:r,innerRadius:n,outerRadius:a,percent:i},s)=>{if(!s)return null;const l=Math.PI/180,c=n+(a-n)*.5,u=t+c*Math.cos(-r*l),f=e+c*Math.sin(-r*l);return o.createElement("text",{x:u,y:f,fill:"white",textAnchor:u>t?"start":"end",dominantBaseline:"central",fontSize:"9",fontWeight:"bold"},`${(i*100).toFixed(0)}%`)},Fpe=({obtenerDatosTorta:t})=>o.createElement("div",{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",gap:"10px",marginTop:"15px"}},t.map((e,r)=>o.createElement("div",{key:r,style:{display:"flex",alignItems:"center",fontSize:"10px",maxWidth:"120px"}},o.createElement("div",{style:{width:"10px",height:"10px",backgroundColor:e.color,marginRight:"4px",borderRadius:"2px"}}),o.createElement("span",{style:{color:"#333",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"}},e.categoria)))),m7=o.memo(({expanded:t=!1,periodoTorta:e,setPeriodoTorta:r,mostrarPorcentajes:n,setMostrarPorcentajes:a,setTortaExpandida:i,obtenerDatosTorta:s})=>o.createElement("div",{style:t?Gr.tortaCardExpanded:Gr.tortaCard},t&&o.createElement("button",{style:Gr.closeButton,onClick:()=>i(!1)},""),o.createElement("div",{style:Gr.tortaHeader},o.createElement("div",{style:Gr.tortaTitle},"Categoras Ms Vendidas (",e,")"),o.createElement("div",{style:Gr.tortaControls},o.createElement("div",{style:Gr.selectorContainer},o.createElement("button",{style:e==="diario"?Gr.selectorButtonActive:Gr.selectorButton,onClick:()=>r("diario")},"Diario"),o.createElement("button",{style:e==="semanal"?Gr.selectorButtonActive:Gr.selectorButton,onClick:()=>r("semanal")},"Semanal"),o.createElement("button",{style:e==="mensual"?Gr.selectorButtonActive:Gr.selectorButton,onClick:()=>r("mensual")},"Mensual")),o.createElement("button",{style:n?Gr.toggleButtonActive:Gr.toggleButton,onClick:()=>a(!n)},"%"),!t&&o.createElement("button",{style:Gr.expandButton,onClick:()=>i(!0)},""))),s.length===0?o.createElement(yF,{mensaje:"No hay ventas registradas en este perodo"}):o.createElement(QM,{width:"100%",height:t?350:130},o.createElement(Ape,null,o.createElement(rd,{data:s,cx:"50%",cy:"50%",labelLine:!1,label:l=>jpe(l,n),outerRadius:t?130:50,fill:"#8884d8",dataKey:"ventas"},s.map((l,c)=>o.createElement(Cy,{key:`cell-${c}`,fill:l.color}))),o.createElement(jc,{content:l=>o.createElement(Dpe,{...l,obtenerDatosTorta:s,mostrarPorcentajes:n})}),t&&o.createElement(qf,{content:()=>o.createElement(Fpe,{obtenerDatosTorta:s})}))))),p7=t=>{if(!t)return null;const e=t.split("T")[0];return new Date(`${e}T00:00:00-05:00`)},$pe=()=>{const[t,e]=p.useState("diario"),[r,n]=p.useState(!0),[a,i]=p.useState(!0),[s,l]=p.useState("todas"),[c,u]=p.useState("todas"),[f,m]=p.useState([]),[v,h]=p.useState([]),[E,y]=p.useState("diario"),[b,x]=p.useState(!1),[w,N]=p.useState(!1),[I,P]=p.useState(!0),[L,R]=p.useState(null),[O,A]=p.useState({diarios:[],semanales:[],mensuales:[]}),[T,C]=p.useState({diarios:[],semanales:[],mensuales:[]}),[_,D]=p.useState({diarias:[],semanales:[],mensuales:[]}),z=async()=>{try{const B=await wo.obtenerSedes();h(B),console.log(" Sedes cargadas:",B)}catch(B){console.error(" Error al cargar sedes:",B)}},V=async()=>{var B;try{P(!0),R(null),console.log(" === INICIANDO CARGA DE DATOS DEL DASHBOARD ===");const j=new Date,U=new Date(j.toLocaleString("en-US",{timeZone:"America/Bogota"}));console.log(" Fecha/Hora actual Colombia:",U.toLocaleString("es-CO")),console.log(" Da de la semana:",["Domingo","Lunes","Martes","Mircoles","Jueves","Viernes","Sbado"][U.getDay()]);let X=[],Z=[],me=[];try{X=await wo.obtenerVentas(),console.log(` ${X.length} ventas bsicas obtenidas`)}catch(de){console.error(" Error al obtener ventas:",de),R("No se pudieron cargar las ventas"),X=[]}if(X.length>0){console.log(` Obteniendo detalles completos de ${X.length} ventas...`);const de=X.map(async ee=>{try{const le=await wo.obtenerVentaPorId(ee.idVenta);return le&&le.detalleVenta&&le.detalleVenta.forEach(pe=>{var ce;!pe.categoria&&!((ce=pe.productogeneral)!=null&&ce.categoria)&&console.warn(` Producto sin categora en venta ${ee.idVenta}:`,pe.nombreProducto)}),le}catch(le){return console.warn(` No se pudo obtener detalle de venta ${ee.idVenta}:`,le.message),null}});Z=(await Promise.all(de)).filter(ee=>ee!==null),console.log(` ${Z.length} ventas detalladas obtenidas`)}try{me=await Tf.obtenerCompras(),console.log(` ${me.length} compras obtenidas`)}catch(de){console.error(" Error al obtener compras:",de),me=[]}if(X.length>0){const de=_pe(X,U);A({diarios:de.datosDiarios,semanales:de.datosSemanales,mensuales:de.datosMensuales}),console.log(" Datos de ventas procesados para grficos")}else A({diarios:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"].map(oe=>({periodo:oe,ventas:0})),semanales:Array(4).fill(0).map((oe,ee)=>({periodo:`Semana ${ee+1}`,ventas:0})),mensuales:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"].map(oe=>({periodo:oe,ventas:0}))});if(me.length>0){const de=Ipe(me,U);C({diarios:de.datosDiarios,semanales:de.datosSemanales,mensuales:de.datosMensuales}),console.log(" Datos de compras procesados")}else C({diarios:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"].map(oe=>({periodo:oe,compras:0})),semanales:Array(4).fill(0).map((oe,ee)=>({periodo:`Semana ${ee+1}`,compras:0})),mensuales:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"].map(oe=>({periodo:oe,compras:0}))});if(Z.length>0){const de=new Date(U);de.setHours(0,0,0,0);const oe=new Date(U);oe.setDate(U.getDate()-U.getDay()),oe.setHours(0,0,0,0);const ee=new Date(U.getFullYear(),U.getMonth(),1);console.log(" Procesando categoras ms vendidas...");const le=S5(Z,de,U),pe=S5(Z,oe,U),ce=S5(Z,ee,U);console.log(" Categoras diarias:",le.length),console.log(" Categoras semanales:",pe.length),console.log(" Categoras mensuales:",ce.length),D({diarias:le,semanales:pe,mensuales:ce})}else D({diarias:[],semanales:[],mensuales:[]});if(Z.length>0){console.log(" Procesando ventas en tiempo real...");const de=Z.sort((oe,ee)=>new Date(ee.fechaVenta)-new Date(oe.fechaVenta)).slice(0,5).map(oe=>{const ee=(oe.detalleVenta||[])[0]||{},le=oe.fechaVenta,pe=p7(le);return{idVenta:oe.idVenta,producto:ee.nombreProducto||"Producto",cantidad:parseInt(ee.cantidad||0),precio:parseFloat(ee.subtotal||0),imagen:"",sede:oe.nombreSede||"Sede principal",timestamp:pe,fechaOriginal:oe.fechaVenta}});m(de),console.log(` ${de.length} ventas en tiempo real procesadas`),de.length>0&&console.log(" Primera venta:",(B=de[0].timestamp)==null?void 0:B.toLocaleString("es-CO"))}else m([]);console.log("===  CARGA DE DATOS COMPLETADA ===")}catch(j){console.error(" Error general al cargar datos:",j),R("Error al cargar los datos del dashboard: "+(j.message||"Error desconocido"))}finally{P(!1)}},J=async()=>{try{console.log(" Actualizando ventas en tiempo real...");const j=(await wo.obtenerVentas()).sort((Z,me)=>new Date(me.fechaVenta)-new Date(Z.fechaVenta)).slice(0,5),X=(await Promise.all(j.map(async Z=>{var me,de;try{const ee=(me=(await wo.obtenerVentaPorId(Z.idVenta)).detalleVenta)==null?void 0:me[0];if(!ee)return null;const le=await Qs.obtenerProductoPorId(ee.idproductogeneral),pe=Z.fechaVenta,ce=p7(pe);return{idVenta:Z.idVenta,producto:le.nombre||le.nombreproducto||"Producto N/A",cantidad:parseInt(ee.cantidad||"0"),precio:parseFloat(ee.subtotal||"0"),imagen:le.urlimagen||((de=le.imagenes)==null?void 0:de.urlimg)||"",sede:Z.nombreSede||"Sede principal",timestamp:ce,fechaOriginal:Z.fechaVenta}}catch(oe){return console.error(`Error al procesar venta ${Z.idVenta}:`,oe),null}}))).filter(Z=>Z!==null);m(X),console.log(` ${X.length} ventas actualizadas`)}catch(B){console.error(" Error al cargar ventas en tiempo real:",B)}};p.useEffect(()=>{z(),V(),J();const B=setInterval(J,3e4),j=setInterval(V,3e5);return()=>{clearInterval(B),clearInterval(j)}},[]);const ie=p.useMemo(()=>{const B=O[t==="diario"?"diarios":t==="semanal"?"semanales":"mensuales"],j=T[t==="diario"?"diarios":t==="semanal"?"semanales":"mensuales"];return B.map((U,X)=>{var Z;return{periodo:U.periodo,ventas:U.ventas,compras:((Z=j[X])==null?void 0:Z.compras)||0}})},[t,O,T]),G=p.useMemo(()=>{const B=new Date,j=new Date(B.toLocaleString("en-US",{timeZone:"America/Bogota"}));j.setHours(0,0,0,0);const U=new Date(j);U.setHours(23,59,59,999),console.log(" === CALCULANDO TOTALES DIARIOS ==="),console.log(" Rango hoy:",j.toLocaleString("es-CO"),"hasta",U.toLocaleString("es-CO")),console.log(" Total ventas disponibles:",f.length),console.log(" Sede seleccionada:",c);const X=f.filter(le=>{if(!le.timestamp)return!1;const pe=le.timestamp,ce=pe>=j&&pe<=U,_e=c==="todas"||le.sede===c;return ce&&console.log(` Venta del da: ${le.producto} - ${le.precio} - ${pe.toLocaleString("es-CO")}`),ce&&_e}),Z=X.reduce((le,pe)=>le+(pe.precio||0),0);console.log(` Total ventas hoy: ${Z} (${X.length} transacciones)`);const me=j.getDay(),de=T.diarios&&T.diarios[me]?T.diarios[me].compras:0;console.log(` Compras del da: ${de}`);const oe=Z>0?100:0,ee=Z>0&&de>0?de/Z*100:0;return console.log("===  FIN CLCULO TOTALES DIARIOS ==="),{ventas:Z,compras:de,porcentajeVentas:`${Math.min(100,oe)}%`,porcentajeCompras:`${Math.min(100,ee)}%`,cantidadVentas:X.length}},[f,c,T.diarios]),te=p.useMemo(()=>_[E==="diario"?"diarias":E==="semanal"?"semanales":"mensuales"],[E,_]),W=p.useMemo(()=>f.filter(B=>s==="todas"||B.sede===s),[f,s]);return o.createElement("div",{style:Gr.dashboard},o.createElement("style",null,Ope),o.createElement("div",{style:Gr.container},o.createElement("h1",{style:Gr.header},"Gestin De Dashboard"),I?o.createElement(Lpe,null):L?o.createElement(Tpe,{message:L}):o.createElement("div",null,w&&o.createElement("div",{style:Gr.overlay,onClick:()=>N(!1)}),o.createElement("div",{style:Gr.mainContent},o.createElement("div",{style:Gr.leftSection},o.createElement("div",{style:Gr.statsRow},o.createElement(f7,{titulo:`Ventas de Hoy ${c!=="todas"?`(${c})`:"(Todas las sedes)"}`,valor:G.ventas,porcentaje:G.porcentajeVentas,tipo:"ventas",cantidadTransacciones:G.cantidadVentas}),o.createElement(f7,{titulo:"Compras de Hoy",valor:G.compras,porcentaje:G.porcentajeCompras,tipo:"compras"}),o.createElement("div",{style:Gr.sedeFilterCard},o.createElement("div",{style:{fontSize:"9px",color:"#666",marginBottom:"6px",textTransform:"uppercase",letterSpacing:"0.3px",fontWeight:"500"}}," Filtrar por sede"),o.createElement("select",{style:Gr.sedeSelector,value:c,onChange:B=>u(B.target.value)},o.createElement("option",{value:"todas"},"Todas las sedes"),v.map(B=>o.createElement("option",{key:B.idsede,value:B.nombre},B.nombre))))),o.createElement("div",{style:Gr.chartCard},o.createElement("div",{style:Gr.chartHeader},o.createElement("h3",{style:Gr.chartTitle},t==="diario"?"Ventas y Compras Diarias":t==="semanal"?"Ventas y Compras Semanales":"Ventas y Compras Mensuales"),o.createElement("div",{style:Gr.controlsContainer},o.createElement("div",{style:Gr.selectorContainer},o.createElement("button",{style:t==="diario"?Gr.selectorButtonActive:Gr.selectorButton,onClick:()=>e("diario")},"Diario"),o.createElement("button",{style:t==="semanal"?Gr.selectorButtonActive:Gr.selectorButton,onClick:()=>e("semanal")},"Semanal"),o.createElement("button",{style:t==="mensual"?Gr.selectorButtonActive:Gr.selectorButton,onClick:()=>e("mensual")},"Mensual")),o.createElement("div",{style:Gr.toggleContainer},o.createElement("button",{style:r?Gr.toggleButtonActive:Gr.toggleButton,onClick:()=>n(!r)},o.createElement("div",{style:{...Gr.colorIndicator,backgroundColor:"#FF1493"}}),"Ventas"),o.createElement("button",{style:a?Gr.toggleButtonComprasActive:Gr.toggleButtonCompras,onClick:()=>i(!a)},o.createElement("div",{style:{...Gr.colorIndicator,backgroundColor:"#A9A9A9"}}),"Compras")))),o.createElement(QM,{width:"100%",height:165},ie.length===0?o.createElement(yF,{mensaje:"No hay datos de ventas o compras para mostrar"}):o.createElement(kpe,{data:ie,barCategoryGap:"15%"},o.createElement(aF,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),o.createElement(Yy,{dataKey:"periodo",axisLine:!1,tickLine:!1,fontSize:10}),o.createElement(Jy,{axisLine:!1,tickLine:!1,fontSize:9,tickFormatter:B=>`${B/1e3}k`}),o.createElement(jc,{content:o.createElement(Mpe,null)}),r&&o.createElement(Vd,{dataKey:"ventas",fill:"#FF1493",radius:[2,2,0,0],name:"Ventas"}),a&&o.createElement(Vd,{dataKey:"compras",fill:"#A9A9A9",radius:[2,2,0,0],name:"Compras"}))))),o.createElement("div",{style:Gr.rightSection},o.createElement(m7,{periodoTorta:E,setPeriodoTorta:y,mostrarPorcentajes:b,setMostrarPorcentajes:x,setTortaExpandida:N,obtenerDatosTorta:te}),o.createElement("div",{style:Gr.realtimeCard},o.createElement("div",{style:Gr.realtimeHeader},o.createElement("div",{style:Gr.realtimeTitle},o.createElement("div",{style:Gr.liveIndicator}),"Ventas en Tiempo Real"),o.createElement("select",{style:Gr.sedeSelector,value:s,onChange:B=>l(B.target.value)},o.createElement("option",{value:"todas"},"Todas las sedes"),v.map(B=>o.createElement("option",{key:B.idsede,value:B.nombre},B.nombre)))),o.createElement("div",{style:Gr.ventasList},W.length===0?o.createElement("div",{style:{textAlign:"center",color:"#666",padding:"12px",fontSize:"10px"}},"Esperando ventas..."):W.map(B=>o.createElement(Rpe,{key:B.idVenta,venta:B})))))),w&&o.createElement(m7,{expanded:!0,periodoTorta:E,setPeriodoTorta:y,mostrarPorcentajes:b,setMostrarPorcentajes:x,setTortaExpandida:N,obtenerDatosTorta:te}))))};function zpe({categorias:t,loading:e,onAdd:r,onEdit:n,onView:a,onDelete:i,onToggleActivo:s}){const[l,c]=o.useState(""),u=m=>m.imagen?o.createElement("img",{src:m.imagen,alt:m.nombre,style:{width:"50px",height:"50px",borderRadius:"8px",objectFit:"cover",cursor:"pointer"},onClick:()=>a(m)}):o.createElement("div",{style:{width:"50px",height:"50px",backgroundColor:"#f0f0f0",borderRadius:"8px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",color:"#666"}},"Sin imagen"),f=t.filter(m=>m.nombre.toLowerCase().includes(l.toLowerCase())||m.descripcion.toLowerCase().includes(l.toLowerCase()));return o.createElement("div",{className:"admin-wrapper"},o.createElement("div",{className:"admin-toolbar"},o.createElement(tc,{placeholder:"Buscar categora...",value:l,onChange:c}),o.createElement("button",{className:"admin-button pink",onClick:r,type:"button"},o.createElement("i",{className:"fas fa-plus"})," Agregar")),o.createElement("h2",{className:"admin-section-title"},"Gestin de Categoras de Productos"),o.createElement(_s,{value:f,className:"admin-table compact-paginator",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"},loading:e,emptyMessage:"No se encontraron categoras"},o.createElement(cr,{header:"N",body:(m,{rowIndex:v})=>v+1,style:{width:"50px"}}),o.createElement(cr,{header:"Imagen",body:m=>u(m),style:{width:"100px"}}),o.createElement(cr,{field:"nombre",header:"Nombre"}),o.createElement(cr,{field:"descripcion",header:"Descripcin"}),o.createElement(cr,{header:"Estado",body:m=>o.createElement(Xo,{checked:m.activo,onChange:()=>s(m)}),style:{width:"80px"}}),o.createElement(cr,{header:"Acciones",body:m=>o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"3px"}},o.createElement(qn,{text:"Visualizar"},o.createElement("button",{className:"admin-button",onClick:()=>a(m),style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-eye",style:{fontSize:"11px"}}))),o.createElement(qn,{text:m.activo?"Editar":"Categora inactiva"},o.createElement("button",{className:"admin-button",onClick:()=>m.activo&&n(m),disabled:!m.activo,style:{background:m.activo?"#fff8e1":"#f5f5f5",color:m.activo?"#f57c00":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:m.activo?"pointer":"not-allowed",opacity:m.activo?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-pen",style:{fontSize:"11px"}}))),o.createElement(qn,{text:m.activo?"Eliminar":"Categora inactiva"},o.createElement("button",{className:"admin-button",onClick:()=>m.activo&&i(m),disabled:!m.activo,style:{background:m.activo?"#ffebee":"#f5f5f5",color:m.activo?"#d32f2f":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:m.activo?"pointer":"not-allowed",opacity:m.activo?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-trash",style:{fontSize:"11px"}})))),style:{width:"100px"}})))}function Bpe({visible:t,onClose:e,onGuardar:r,tipo:n="agregar",categoria:a=null}){const[i,s]=p.useState(""),[l,c]=p.useState(""),[u,f]=p.useState(!0),[m,v]=p.useState(null),[h,E]=p.useState(null),[y,b]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[x,w]=p.useState(!1),N=p.useRef(null);p.useEffect(()=>{n==="editar"&&a?(s(a.nombre),c(a.descripcion),f(a.activo),E(a.imagen),v(null)):(s(""),c(""),f(!0),v(null),E(null)),b({visible:!1,mensaje:"",tipo:"success"})},[t,n,a]);const I=(T,C="success")=>b({visible:!0,mensaje:T,tipo:C}),P=()=>b({visible:!1,mensaje:"",tipo:"success"}),L=T=>{const C=T.target.files[0];if(C)try{Is.validarArchivoImagen(C),v(C);const _=new FileReader;_.onload=D=>E(D.target.result),_.readAsDataURL(C)}catch(_){I(_.message||_,"error"),T.target.value=""}},R=()=>{v(null),E(null),N.current&&(N.current.value="")},O=()=>i.trim()?i.length>20?(I("El nombre no puede tener ms de 20 caracteres","error"),!1):l.trim()?l.length>50?(I("La descripcin no puede tener ms de 50 caracteres","error"),!1):!0:(I("La descripcin es obligatoria","error"),!1):(I("El nombre es obligatorio","error"),!1),A=async()=>{if(O()){w(!0);try{let T;const C={nombre:i,descripcion:l,estado:u};n==="agregar"?(T=await Is.crearCategoria(C,m),I(" Categora creada exitosamente")):n==="editar"&&a&&(T=await Is.actualizarCategoria(a.idcategoriaproducto,C,m),I(" Categora actualizada exitosamente")),setTimeout(()=>{r(T),e()},1200)}catch(T){I(" Error al guardar categora: "+(T.message||T),"error")}finally{w(!1)}}};return o.createElement(Ta,{visible:t,onClose:e},o.createElement(Fo,{...y,onClose:P}),o.createElement("h2",{className:"modal-title"},n==="agregar"?"Agregar Categora":"Editar Categora"),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"form-group"},o.createElement("label",null,"Nombre ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:i,onChange:T=>s(T.target.value),maxLength:20,className:"modal-input",placeholder:"Ej: Postres"}),o.createElement("small",null,i.length,"/20 caracteres")),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Descripcin ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("textarea",{value:l,onChange:T=>c(T.target.value),rows:3,maxLength:50,className:"modal-input",placeholder:"Ej: Productos dulces y fros",style:{resize:"none"}}),o.createElement("small",null,l.length,"/50 caracteres")),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Imagen (opcional)"),o.createElement("input",{ref:N,type:"file",accept:"image/*",onChange:L,style:{marginTop:"0.5rem"}}),h&&o.createElement("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"10px"}},o.createElement("img",{src:h,alt:"Preview",style:{width:"80px",height:"80px",borderRadius:"8px",objectFit:"cover",border:"1px solid #ddd"}}),o.createElement("button",{type:"button",onClick:R},"Quitar"))),n==="editar"&&o.createElement("div",{className:"form-group",style:{display:"flex",alignItems:"center",gap:"10px"}},o.createElement(Xo,{checked:u,onChange:T=>f(T.value)}),o.createElement("span",null,u?"Activo":"Inactivo"))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e,disabled:x},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:A,disabled:x},x?"Guardando...":" Guardar")))}function Upe({visible:t,categoria:e,onUpdate:r,onClose:n}){const[a,i]=p.useState(""),[s,l]=p.useState(""),[c,u]=p.useState(!0),[f,m]=p.useState(null),[v,h]=p.useState(null),[E,y]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[b,x]=p.useState(!1),w=p.useRef(null);p.useEffect(()=>{e&&(i(e.nombre||""),l(e.descripcion||""),u(e.activo??!0),h(e.imagen||null),m(null)),y({visible:!1,mensaje:"",tipo:"success"})},[e,t]);const N=(A,T="success")=>y({visible:!0,mensaje:A,tipo:T}),I=()=>y({visible:!1,mensaje:"",tipo:"success"}),P=()=>a.trim()?a.length>20?(N("El nombre no puede tener ms de 20 caracteres","error"),!1):s.trim()?s.length>50?(N("La descripcin no puede tener ms de 50 caracteres","error"),!1):!0:(N("La descripcin es obligatoria","error"),!1):(N("El nombre es obligatorio","error"),!1),L=A=>{const T=A.target.files[0];if(!T)return;if(!T.type.startsWith("image/"))return N("Archivo no vlido","error"),A.target.value="";if(T.size>5*1024*1024)return N("La imagen no debe superar 5MB","error"),A.target.value="";m(T);const C=new FileReader;C.onload=_=>h(_.target.result),C.readAsDataURL(T)},R=()=>{m(null),h(null),w.current&&(w.current.value="")},O=async()=>{if(P()){if(!(e!=null&&e.id))return N("Categora no cargada","error");x(!0);try{await Is.actualizarCategoria(e.id,{nombre:a,descripcion:s,estado:c},f),N(" Categora actualizada exitosamente"),setTimeout(()=>{r&&r(),n()},1200)}catch(A){N(" Error al actualizar categora: "+(A.message||A),"error")}finally{x(!1)}}};return t?o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},o.createElement("div",{style:{backgroundColor:"#fff",borderRadius:"8px",padding:"1.5rem",width:"400px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}},E.visible&&o.createElement("div",{style:{padding:"0.75rem 1rem",marginBottom:"1rem",borderRadius:"4px",backgroundColor:E.tipo==="error"?"#fee":"#efe",color:E.tipo==="error"?"#c33":"#363",border:`1px solid ${E.tipo==="error"?"#fcc":"#cfc"}`,display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("span",null,E.mensaje),o.createElement("button",{onClick:I,style:{background:"none",border:"none",fontSize:"1.2rem",cursor:"pointer",padding:0,lineHeight:1}},"")),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid #e91e63"}},o.createElement("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600"}},"Editar Categora"),o.createElement("button",{onClick:n,disabled:b,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666",padding:0,lineHeight:1}},"")),o.createElement("div",null,o.createElement("div",{style:{marginBottom:"1.25rem"}},o.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"}},"Nombre ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:a,onChange:A=>i(A.target.value),maxLength:20,placeholder:"Ej: Postres",style:{width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"0.95rem"}}),o.createElement("small",{style:{color:"#666",fontSize:"0.85rem"}},a.length,"/20 caracteres")),o.createElement("div",{style:{marginBottom:"1.25rem"}},o.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"}},"Descripcin ",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("textarea",{value:s,onChange:A=>l(A.target.value),rows:3,maxLength:50,placeholder:"Ej: Productos dulces y fros",style:{resize:"none",width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"0.95rem",fontFamily:"inherit"}}),o.createElement("small",{style:{color:"#666",fontSize:"0.85rem"}},s.length,"/50 caracteres")),o.createElement("div",{style:{marginBottom:"1.25rem"}},o.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"}},"Imagen (opcional)"),o.createElement("input",{ref:w,type:"file",accept:"image/*",onChange:L,id:"categoria-edit-upload",style:{display:"none"}}),o.createElement("label",{htmlFor:"categoria-edit-upload",style:{display:"inline-block",padding:"0.5rem 1rem",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",backgroundColor:"#f5f5f5",fontSize:"0.9rem"}},"Seleccionar archivo"),o.createElement("span",{style:{marginLeft:"1rem",color:"#666",fontSize:"0.9rem"}},f?f.name:v?"Imagen actual":"Sin archivos seleccionados"),v&&o.createElement("div",{style:{marginTop:"1rem",display:"flex",alignItems:"center",gap:"10px"}},o.createElement("img",{src:v,alt:"Preview",style:{width:"60px",height:"60px",borderRadius:"4px",objectFit:"cover",border:"1px solid #ddd"}}),o.createElement("button",{type:"button",onClick:R,style:{padding:"0.35rem 0.75rem",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",backgroundColor:"#fff",fontSize:"0.85rem"}},"Quitar")))),o.createElement("div",{style:{marginBottom:"1.25rem"}},o.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:"500"}},"Estado"),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"}},o.createElement("label",{style:{position:"relative",display:"inline-block",width:"40px",height:"20px"}},o.createElement("input",{type:"checkbox",checked:c,onChange:A=>u(A.target.checked),style:{opacity:0,width:0,height:0}}),o.createElement("span",{style:{position:"absolute",cursor:"pointer",top:0,left:0,right:0,bottom:0,backgroundColor:c?"#e91e63":"#ccc",transition:".4s",borderRadius:"34px"}}),o.createElement("span",{style:{position:"absolute",left:c?"20px":"0px",top:"2px",width:"16px",height:"16px",backgroundColor:"#fff",borderRadius:"50%",transition:".4s"}})),o.createElement("span",{style:{fontWeight:"500",color:c?"#c2185b":"#c62828"}},c?"Activo":"Inactivo"))),o.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.75rem",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"}},o.createElement("button",{onClick:n,disabled:b,style:{padding:"0.5rem 1.5rem",border:"1px solid #ddd",borderRadius:"4px",cursor:b?"not-allowed":"pointer",backgroundColor:"#fff",fontSize:"0.95rem",opacity:b?.6:1}},"Cancelar"),o.createElement("button",{onClick:O,disabled:b,style:{padding:"0.5rem 1.5rem",border:"none",borderRadius:"4px",cursor:b?"not-allowed":"pointer",backgroundColor:"#e91e63",color:"#fff",fontSize:"0.95rem",opacity:b?.6:1}},b?"Guardando...":" Guardar")))):null}function qpe({visible:t,categoria:e,onClose:r}){if(!t||!e)return null;const n={width:"100%",padding:"0.5rem",border:"1px solid #ddd",borderRadius:"4px",fontSize:"0.95rem",boxSizing:"border-box",backgroundColor:"#f9f9f9",color:"#333"};return o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3}},o.createElement("div",{style:{backgroundColor:"#fff",borderRadius:"8px",padding:"1.5rem",width:"400px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",paddingBottom:"1rem",borderBottom:"2px solid #e91e63"}},o.createElement("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:600}},"Ver Categora"),o.createElement("button",{onClick:r,style:{background:"none",border:"none",fontSize:"1.5rem",cursor:"pointer",color:"#666"}},"")),o.createElement("div",{style:{marginBottom:"1.25rem"}},o.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500}},"Nombre"),o.createElement("input",{type:"text",value:e.nombre||"",disabled:!0,style:n})),o.createElement("div",{style:{marginBottom:"1.25rem"}},o.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500}},"Descripcin"),o.createElement("textarea",{value:e.descripcion||"",rows:3,disabled:!0,style:{...n,resize:"none",fontFamily:"inherit"}})),o.createElement("div",{style:{marginBottom:"1.25rem"}},o.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500}},"Imagen"),e.imagen?o.createElement("img",{src:e.imagen,alt:e.nombre,style:{width:"100px",height:"100px",borderRadius:"8px",objectFit:"cover",border:"1px solid #ddd"}}):o.createElement("div",{style:{padding:"1rem",backgroundColor:"#f9f9f9",border:"1px solid #ddd",borderRadius:"4px",color:"#666",textAlign:"center",fontSize:"0.9rem"}},"Sin imagen")),o.createElement("div",{style:{marginBottom:"1.25rem"}},o.createElement("label",{style:{display:"block",marginBottom:"0.5rem",fontWeight:500}},"Estado"),o.createElement("div",{style:{display:"inline-flex",alignItems:"center",gap:"0.5rem",padding:"0.5rem 1rem",backgroundColor:e.activo?"#e8f5e9":"#ffebee",color:e.activo?"#2e7d32":"#c62828",borderRadius:"20px",fontSize:"0.9rem",fontWeight:500}},o.createElement("span",{style:{width:"8px",height:"8px",borderRadius:"50%",backgroundColor:e.activo?"#4caf50":"#f44336"}}),e.activo?"Activo":"Inactivo")),o.createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #eee"}},o.createElement("button",{onClick:r,style:{padding:"0.5rem 1.5rem",border:"1px solid #ddd",borderRadius:"4px",cursor:"pointer",backgroundColor:"#fff",fontSize:"0.95rem"}},"Cerrar"))))}function Vpe({visible:t=!0,categoria:e,onClose:r,onDeleted:n,showNotification:a}){const[i,s]=p.useState(!1),l=async()=>{if(e){s(!0);try{if(await Is.categoriaTieneProductos(e.id)){a("No se puede eliminar una categora que tiene productos asociados","error"),s(!1);return}await Is.eliminarCategoria(e.id),a("Categora eliminada exitosamente","success"),n(e.id),r()}catch(c){a("Error al eliminar la categora: "+(c.message||c),"error")}finally{s(!1)}}};return!t||!e?null:o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:1e3}},o.createElement("div",{style:{backgroundColor:"#fff",borderRadius:"8px",padding:"1.5rem",width:"400px",maxWidth:"90vw",maxHeight:"90vh",overflow:"auto",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}},o.createElement("h2",{style:{margin:0,fontSize:"1.5rem",fontWeight:"600",marginBottom:"1rem"}},"Eliminar Categora"),o.createElement("div",{style:{marginBottom:"1.5rem"}},o.createElement("p",null,"Ests seguro de que deseas eliminar la categora ",o.createElement("strong",null,e.nombre),"?")),o.createElement("div",{style:{display:"flex",justifyContent:"flex-end",gap:"0.5rem"}},o.createElement("button",{onClick:r,disabled:i,style:{padding:"0.5rem 1rem",borderRadius:"4px",border:"1px solid #ddd",cursor:"pointer",backgroundColor:"#fff"}},"Cancelar"),o.createElement("button",{onClick:l,disabled:i,style:{padding:"0.5rem 1rem",borderRadius:"4px",border:"none",cursor:"pointer",backgroundColor:"#e91e63",color:"#fff"}},i?"Eliminando...":"Eliminar"))))}function Hpe(){const[t,e]=p.useState([]),[r,n]=p.useState(null),[a,i]=p.useState(!1),[s,l]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[c,u]=p.useState(!1),[f,m]=p.useState(!1),[v,h]=p.useState(!1),[E,y]=p.useState(!1);p.useRef(),p.useEffect(()=>{b()},[]);const b=async()=>{try{u(!0);const V=(await Is.obtenerCategorias()).map(J=>({id:J.idcategoriaproducto,nombre:J.nombrecategoria,descripcion:J.descripcion,activo:J.estado,imagen:J.imagenes?J.imagenes.urlimg:null}));e(V)}catch(z){x("Error al cargar las categoras: "+(z.message||z),"error")}finally{u(!1)}},x=(z,V="success")=>l({visible:!0,mensaje:z,tipo:V}),w=()=>l({visible:!1,mensaje:"",tipo:"success"}),N=()=>{n(null),m(!0)},I=z=>{n(z),h(!0)},P=z=>{n(z),y(!0)},L=z=>{n(z),i(!0)},R=()=>m(!1),O=()=>h(!1),A=()=>{y(!1),n(null)},T=()=>{i(!1),n(null)},C=()=>{b(),x("Categora creada exitosamente"),m(!1)},_=()=>{b(),x("Categora actualizada exitosamente"),h(!1)},D=async z=>{try{const V=t.map(J=>J.id===z.id?{...J,activo:!J.activo}:J);e(V),await Is.toggleEstadoCategoria(z.id),x(`Categora ${z.activo?"desactivada":"activada"} exitosamente`)}catch(V){const J=t.map(ie=>ie.id===z.id?{...ie,activo:z.activo}:ie);e(J),x("Error al cambiar el estado: "+(V.message||V),"error")}};return o.createElement("div",{className:"categorias-main"},o.createElement(Fo,{visible:s.visible,mensaje:s.mensaje,tipo:s.tipo,onClose:w}),c?o.createElement(rc,null):o.createElement(zpe,{categorias:t,onAdd:N,onEdit:I,onView:P,onDelete:L,onToggleActivo:D}),o.createElement(Bpe,{visible:f,onClose:R,onGuardar:C}),o.createElement(Upe,{visible:v,categoria:r,onClose:O,onUpdate:_}),o.createElement(qpe,{visible:E,categoria:r,onClose:A}),o.createElement(Vpe,{visible:a,categoria:r,onClose:T,onDeleted:z=>{b(),T()},showNotification:x}))}const Ig="https://deliciasoft-backend-i6g9.onrender.com/api/configuracion-producto";class Wpe{constructor(){this.baseHeaders={"Content-Type":"application/json",Accept:"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`;try{const a=await e.json();r=a.message||a.error||r,console.error("Error de la API:",a)}catch{console.error("No se pudo parsear la respuesta de error")}const n=new Error(r);throw n.status=e.status,n}return e.json()}async obtenerPorProducto(e){try{console.log(` Obteniendo configuracin del producto ${e}...`);const r=await fetch(`${Ig}/producto/${e}`,{method:"GET",headers:this.baseHeaders}),n=await this.handleResponse(r);return console.log(" Configuracin obtenida:",n),n}catch(r){throw console.error(" Error al obtener configuracin:",r),r}}async guardarConfiguracion(e){try{console.log(" Guardando configuracin:",JSON.stringify(e,null,2));const r=await fetch(Ig,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(e)}),n=await this.handleResponse(r);return console.log(" Configuracin guardada:",n),n}catch(r){throw console.error(" Error al guardar configuracin:",r),r}}async eliminarConfiguracion(e){try{console.log(` Eliminando configuracin del producto ${e}...`);const r=await fetch(`${Ig}/producto/${e}`,{method:"DELETE",headers:this.baseHeaders}),n=await this.handleResponse(r);return console.log(" Configuracin eliminada"),n}catch(r){throw console.error(" Error al eliminar configuracin:",r),r}}async obtenerTodas(){try{console.log(" Obteniendo todas las configuraciones...");const e=await fetch(Ig,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return console.log(` ${r.length} configuraciones obtenidas`),r}catch(e){throw console.error(" Error al obtener configuraciones:",e),e}}async obtenerEstadisticas(){try{console.log(" Obteniendo estadsticas...");const e=await fetch(`${Ig}/estadisticas`,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return console.log(" Estadsticas obtenidas:",r),r}catch(e){throw console.error(" Error al obtener estadsticas:",e),e}}validarConfiguracion(e){const r=[];if(e.idproductogeneral||r.push("ID de producto es requerido"),e.tipoPersonalizacion||r.push("Tipo de personalizacin es requerido"),e.permiteToppings&&e.limiteTopping!==null&&e.limiteTopping<0&&r.push("Lmite de toppings debe ser 0 o mayor"),e.permiteSalsas&&e.limiteSalsa!==null&&e.limiteSalsa<0&&r.push("Lmite de salsas debe ser 0 o mayor"),e.permiteRellenos&&e.limiteRelleno!==null&&e.limiteRelleno<0&&r.push("Lmite de rellenos debe ser 0 o mayor"),e.permiteSabores&&e.limiteSabor!==null&&e.limiteSabor<0&&r.push("Lmite de sabores debe ser 0 o mayor"),r.length>0)throw new Error("Errores de validacin: "+r.join(", "));return!0}crearConfiguracionDefecto(e){return{idproductogeneral:e,tipoPersonalizacion:"basico",limiteTopping:0,limiteSalsa:0,limiteRelleno:0,limiteSabor:0,permiteToppings:!1,permiteSalsas:!1,permiteAdiciones:!0,permiteRellenos:!1,permiteSabores:!1}}}const C5=new Wpe;function EF({idProducto:t,nombreProducto:e,onSave:r,onCancel:n}){const[a,i]=p.useState(!1),[s,l]=p.useState(!0),[c,u]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[f,m]=p.useState({idproductogeneral:t,tipoPersonalizacion:"basico",limiteTopping:0,limiteSalsa:0,limiteRelleno:0,limiteSabor:0,permiteToppings:!1,permiteSalsas:!1,permiteAdiciones:!1,permiteRellenos:!1,permiteSabores:!1}),v=(w,N="success")=>u({visible:!0,mensaje:w,tipo:N}),h=()=>u({visible:!1,mensaje:"",tipo:"success"});p.useEffect(()=>{t&&(async()=>{try{l(!0);const N=await C5.obtenerPorProducto(t);N&&!N.esNuevo?m(N):m({idproductogeneral:t,tipoPersonalizacion:"basico",limiteTopping:0,limiteSalsa:0,limiteRelleno:0,limiteSabor:0,permiteToppings:!1,permiteSalsas:!1,permiteAdiciones:!1,permiteRellenos:!1,permiteSabores:!1})}catch(N){console.error("Error al cargar configuracin:",N),v("Error al cargar configuracin: "+N.message,"error")}finally{l(!1)}})()},[t]);const E=w=>{let N={...f,tipoPersonalizacion:w};switch(w){case"basico":N={...N,permiteToppings:!1,permiteSalsas:!1,permiteAdiciones:!1,permiteRellenos:!1,permiteSabores:!1,limiteTopping:0,limiteSalsa:0,limiteRelleno:0,limiteSabor:0};break;case"toppings":N={...N,permiteToppings:!1,permiteSalsas:!1,permiteAdiciones:!1,permiteRellenos:!1,permiteSabores:!1,limiteTopping:0,limiteSalsa:0,limiteRelleno:0,limiteSabor:0};break;case"personalizado":N={...N,permiteToppings:!1,permiteSalsas:!1,permiteAdiciones:!1,permiteRellenos:!1,permiteSabores:!1,limiteTopping:0,limiteSalsa:0,limiteRelleno:0,limiteSabor:0};break}m(N)},y=(w,N)=>{const I=parseInt(N);if(I<1||isNaN(I)){const P="permite"+w.replace("limite","").charAt(0).toUpperCase()+w.replace("limite","").slice(1)+"s";m(L=>({...L,[w]:0,[P]:!1}))}else m(P=>({...P,[w]:I}))},b=(w,N,I=1)=>{m(P=>{const L=!P[w];return{...P,[w]:L,[N]:L?I:0}})},x=async w=>{w.preventDefault();try{i(!0),C5.validarConfiguracion(f);const N=await C5.guardarConfiguracion(f);v("Configuracin guardada exitosamente","success"),r&&setTimeout(()=>r(N),1500)}catch(N){console.error("Error al guardar:",N),v("Error al guardar: "+N.message,"error")}finally{i(!1)}};return s?o.createElement("div",{className:"compra-form-container"},o.createElement("p",{style:{textAlign:"center",padding:"20px"}},"Cargando configuracin...")):o.createElement("div",{className:"compra-form-container"},o.createElement(Fo,{visible:c.visible,mensaje:c.mensaje,tipo:c.tipo,onClose:h}),o.createElement("form",{onSubmit:x},o.createElement("div",{className:"form-card",style:{marginBottom:"16px"}},o.createElement("h2",{className:"section-title",style:{fontSize:"1.2rem",marginBottom:"4px"}}," Configuracin de Personalizacin"),o.createElement("p",{style:{color:"#6b7280",fontSize:"0.9rem"}},o.createElement("strong",null,e))),o.createElement("div",{className:"form-card",style:{marginBottom:"16px"}},o.createElement("h3",{style:{fontSize:"1rem",marginBottom:"12px",fontWeight:"600"}},"Tipo de Personalizacin"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"8px"}},[{value:"basico",label:"Bsico",desc:"Sin personalizacin"},{value:"toppings",label:"Toppings",desc:"Toppings + Salsas + Adiciones"},{value:"personalizado",label:"Personalizado",desc:"Sabores y Rellenos"}].map(w=>o.createElement("button",{key:w.value,type:"button",onClick:()=>E(w.value),style:{padding:"12px 8px",borderRadius:"8px",border:f.tipoPersonalizacion===w.value?"2px solid #3b82f6":"2px solid #e5e7eb",background:f.tipoPersonalizacion===w.value?"#dbeafe":"#fff",cursor:"pointer",transition:"all 0.2s",textAlign:"center"}},o.createElement("div",{style:{fontWeight:"600",fontSize:"0.95rem"}},w.label),o.createElement("div",{style:{fontSize:"0.75rem",color:"#6b7280",marginTop:"4px"}},w.desc))))),f.tipoPersonalizacion==="toppings"&&o.createElement("div",{className:"form-card",style:{marginBottom:"16px"}},o.createElement("h3",{style:{fontSize:"1rem",marginBottom:"12px",fontWeight:"600"}},"Opciones Disponibles"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"}},o.createElement("div",{style:{padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",background:f.permiteToppings?"#f0f9ff":"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"6px"}},o.createElement("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"}},o.createElement("input",{type:"checkbox",checked:f.permiteToppings,onChange:()=>b("permiteToppings","limiteTopping",3),style:{width:"16px",height:"16px"}}),o.createElement("span",{style:{fontSize:"0.85rem",fontWeight:"500"}}," Toppings"))),f.permiteToppings&&o.createElement("input",{type:"number",min:"1",max:"10",value:f.limiteTopping,onChange:w=>y("limiteTopping",w.target.value),placeholder:"Lmite",style:{width:"100%",padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:"4px",textAlign:"center",fontSize:"0.85rem"}})),o.createElement("div",{style:{padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",background:f.permiteSalsas?"#f0f9ff":"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"6px"}},o.createElement("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"}},o.createElement("input",{type:"checkbox",checked:f.permiteSalsas,onChange:()=>b("permiteSalsas","limiteSalsa",2),style:{width:"16px",height:"16px"}}),o.createElement("span",{style:{fontSize:"0.85rem",fontWeight:"500"}}," Salsas"))),f.permiteSalsas&&o.createElement("input",{type:"number",min:"1",max:"10",value:f.limiteSalsa,onChange:w=>y("limiteSalsa",w.target.value),placeholder:"Lmite",style:{width:"100%",padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:"4px",textAlign:"center",fontSize:"0.85rem"}})),o.createElement("div",{style:{padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",background:f.permiteAdiciones?"#f0fdf4":"#fff",gridColumn:"span 2"}},o.createElement("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"}},o.createElement("input",{type:"checkbox",checked:f.permiteAdiciones,onChange:()=>m(w=>({...w,permiteAdiciones:!w.permiteAdiciones})),style:{width:"16px",height:"16px"}}),o.createElement("span",{style:{fontSize:"0.85rem",fontWeight:"500"}}," Adiciones"),o.createElement("span",{style:{fontSize:"0.7rem",color:"#10b981",marginLeft:"auto"}},"(Se cobra)"))))),f.tipoPersonalizacion==="personalizado"&&o.createElement("div",{className:"form-card",style:{marginBottom:"16px"}},o.createElement("h3",{style:{fontSize:"1rem",marginBottom:"12px",fontWeight:"600"}},"Opciones Disponibles"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"10px"}},o.createElement("div",{style:{padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",background:f.permiteRellenos?"#fef3c7":"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"6px"}},o.createElement("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"}},o.createElement("input",{type:"checkbox",checked:f.permiteRellenos,onChange:()=>b("permiteRellenos","limiteRelleno",1),style:{width:"16px",height:"16px"}}),o.createElement("span",{style:{fontSize:"0.85rem",fontWeight:"500"}}," Rellenos"))),f.permiteRellenos&&o.createElement("input",{type:"number",min:"1",max:"10",value:f.limiteRelleno,onChange:w=>y("limiteRelleno",w.target.value),placeholder:"Lmite",style:{width:"100%",padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:"4px",textAlign:"center",fontSize:"0.85rem"}})),o.createElement("div",{style:{padding:"10px",border:"1px solid #e5e7eb",borderRadius:"6px",background:f.permiteSabores?"#fce7f3":"#fff"}},o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"6px"}},o.createElement("label",{style:{display:"flex",alignItems:"center",gap:"6px",cursor:"pointer"}},o.createElement("input",{type:"checkbox",checked:f.permiteSabores,onChange:()=>b("permiteSabores","limiteSabor",1),style:{width:"16px",height:"16px"}}),o.createElement("span",{style:{fontSize:"0.85rem",fontWeight:"500"}}," Sabores"))),f.permiteSabores&&o.createElement("input",{type:"number",min:"1",max:"10",value:f.limiteSabor,onChange:w=>y("limiteSabor",w.target.value),placeholder:"Lmite",style:{width:"100%",padding:"6px 8px",border:"1px solid #d1d5db",borderRadius:"4px",textAlign:"center",fontSize:"0.85rem"}})))),f.tipoPersonalizacion!=="basico"&&o.createElement("div",{className:"form-card",style:{background:"#f9fafb",marginBottom:"12px",padding:"12px"}},o.createElement("h3",{style:{fontSize:"0.9rem",marginBottom:"6px",fontWeight:"600"}}," Resumen"),o.createElement("div",{style:{fontSize:"0.8rem",color:"#374151"}},f.tipoPersonalizacion==="toppings"&&o.createElement("div",{style:{paddingLeft:"10px",borderLeft:"2px solid #3b82f6"}},f.permiteToppings&&o.createElement("div",null," Toppings: Mx. ",f.limiteTopping),f.permiteSalsas&&o.createElement("div",null," Salsas: Mx. ",f.limiteSalsa),f.permiteAdiciones&&o.createElement("div",null," Adiciones: Permitidas"),!f.permiteToppings&&!f.permiteSalsas&&!f.permiteAdiciones&&o.createElement("div",{style:{color:"#9ca3af",fontStyle:"italic"}},"Sin opciones seleccionadas")),f.tipoPersonalizacion==="personalizado"&&o.createElement("div",{style:{paddingLeft:"10px",borderLeft:"2px solid #8b5cf6"}},f.permiteRellenos&&o.createElement("div",null," Rellenos: Mx. ",f.limiteRelleno),f.permiteSabores&&o.createElement("div",null," Sabores: Mx. ",f.limiteSabor),!f.permiteRellenos&&!f.permiteSabores&&o.createElement("div",{style:{color:"#9ca3af",fontStyle:"italic"}},"Sin opciones seleccionadas")))),o.createElement("div",{className:"action-buttons",style:{marginTop:"12px"}},o.createElement("button",{type:"button",className:"btn btn-cancel",onClick:n,disabled:a},"Cancelar"),o.createElement("button",{type:"submit",className:"btn btn-save",disabled:a},a?"Guardando...":" Guardar"))))}const Gpe=p.forwardRef(({onAdd:t,onEdit:e,onView:r,onDelete:n},a)=>{const[i,s]=p.useState([]),[l,c]=p.useState(""),[u,f]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[m,v]=p.useState(!0),[h,E]=p.useState(null),[y,b]=p.useState(!1),x=C=>{E(C),b(!0)},w=()=>{E(null),b(!1)},N=C=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(C),I=async()=>{try{v(!0);const C=await Qs.obtenerProductos();s(Array.isArray(C)?C:[])}catch(C){console.error("Error cargando productos:",C),s([]),L("Error al cargar productos","error")}finally{v(!1)}};p.useEffect(()=>{I()},[]);const P=async C=>{try{const _=!C.estado;await Qs.actualizarProducto(C.id,{...C,estado:_});const D=i.map(z=>z.id===C.id?{...z,estado:_}:z);s(D),L(`Producto ${_?"activado":"inactivado"} exitosamente`)}catch(_){console.error("Error cambiando estado:",_),L("Error al cambiar estado del producto","error")}},L=(C,_="success")=>{f({visible:!0,mensaje:C,tipo:_})},R=()=>{f({visible:!1,mensaje:"",tipo:"success"})},O=C=>{c(C)},A=i.filter(C=>{var _;return(_=C.nombre)==null?void 0:_.toLowerCase().includes(l.toLowerCase())}),T=({producto:C})=>{var D,z;const _=C.urlimagen||((D=C.imagenes)==null?void 0:D.urlimg)||((z=C.imagen)==null?void 0:z.urlimg)||C.imagen;return _?o.createElement("img",{src:_,alt:C.nombre||"Producto",style:{width:"50px",height:"50px",objectFit:"cover",borderRadius:"6px",border:"1px solid #ddd"},onError:V=>{V.target.style.display="none"}}):o.createElement("div",{style:{width:"50px",height:"50px",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"#f8f9fa",border:"1px dashed #ddd",borderRadius:"6px",fontSize:"10px",color:"#666",textAlign:"center"}},"Sin imagen")};return p.useImperativeHandle(a,()=>({refreshProductos:I})),m?o.createElement(rc,null):o.createElement("div",{className:"admin-wrapper"},o.createElement(Fo,{visible:u.visible,mensaje:u.mensaje,tipo:u.tipo,onClose:R}),o.createElement("div",{className:"admin-toolbar"},o.createElement(tc,{placeholder:"Buscar productos...",value:l,onChange:O}),o.createElement("button",{className:"admin-button pink",onClick:t,type:"button"},o.createElement("i",{className:"fas fa-plus"})," Agregar")),o.createElement("h2",{className:"admin-section-title"},"Gestin de productos"),o.createElement(_s,{value:A,paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],className:"admin-table compact-paginator",emptyMessage:"No se encontraron productos",tableStyle:{minWidth:"50rem"}},o.createElement(cr,{header:"N",body:(C,{rowIndex:_})=>_+1,style:{width:"50px"}}),o.createElement(cr,{header:"Imagen",body:C=>o.createElement(T,{producto:C}),style:{width:"100px"}}),o.createElement(cr,{field:"nombre",header:"Nombre"}),o.createElement(cr,{field:"precio",header:"Precio",body:C=>N(C.precio)}),o.createElement(cr,{field:"categoria",header:"Categora"}),o.createElement(cr,{header:"Estado",body:C=>o.createElement(Xo,{checked:C.estado,onChange:()=>P(C)}),style:{width:"80px"}}),o.createElement(cr,{header:"Acciones",body:C=>o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"3px"}},o.createElement(qn,{text:"Visualizar"},o.createElement("button",{className:"admin-button",onClick:()=>r(C),style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-eye",style:{fontSize:"11px"}}))),o.createElement(qn,{text:"Editar"},o.createElement("button",{className:"admin-button",onClick:()=>e(C),style:{background:"#fff8e1",color:"#f57c00",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-pen",style:{fontSize:"11px"}}))),o.createElement(qn,{text:"Eliminar"},o.createElement("button",{className:"admin-button",onClick:()=>n(C),style:{background:"#ffebee",color:"#d32f2f",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-trash",style:{fontSize:"11px"}}))),o.createElement(qn,{text:"Configurar personalizacin"},o.createElement("button",{onClick:()=>x(C),style:{background:"#8b5cf6",color:"white",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-cog",style:{fontSize:"11px"}})))),style:{width:"120px"}})),y&&h&&o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px",overflowY:"auto"}},o.createElement("div",{style:{background:"white",borderRadius:"12px",maxWidth:"800px",width:"100%",maxHeight:"90vh",overflowY:"auto"}},o.createElement(EF,{idProducto:h.id||h.idproductogeneral,nombreProducto:h.nombre||h.nombreproducto,onSave:C=>{w()},onCancel:w}))))}),Ef="https://deliciasoft-backend.onrender.com/api/receta/recetas",Kpe="https://deliciasoft-backend.onrender.com/api/receta/detalle-recetas",Ype="https://deliciasoft-backend.onrender.com/api/insumos",Jpe="https://deliciasoft-backend.onrender.com/api/unidadmedida";class Xpe{constructor(){this.baseHeaders={"Content-Type":"application/json",Accept:"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`,n={};try{const i=await e.json();console.error("Error details from backend:",i),r=i.message||i.error||r,n=i}catch{try{const s=await e.text();console.error("Error text from backend:",s),r=s||r,n.rawError=s}catch{console.error("Could not parse error response")}}n.statusCode=e.status,n.statusText=e.statusText;const a=new Error(r);throw a.details=n,a}return e.json()}async obtenerRecetas(){try{console.log("Obteniendo recetas desde:",Ef);const e=await fetch(Ef,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return console.log("Recetas obtenidas:",r.length),r}catch(e){throw console.error("Error en obtenerRecetas:",e),e}}async obtenerRecetaPorId(e){try{console.log(`Buscando receta ID: ${e}`);const r=await fetch(`${Ef}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Receta no encontrada");const n=await this.handleResponse(r);return console.log("Receta encontrada:",n.nombrereceta),n}catch(r){throw console.error("Error al obtener receta por ID:",r),r}}async crearReceta(e){var r;try{console.log("Creando nueva receta:",e.nombrereceta),this.validarDatosReceta(e);const n={nombrereceta:e.nombrereceta.trim(),especificaciones:((r=e.especificaciones)==null?void 0:r.trim())||"Sin especificaciones",insumos:e.insumos||[]};console.log("Enviando datos:",n);const a=await fetch(Ef,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(n)}),i=await this.handleResponse(a);return console.log("Receta creada exitosamente:",i),i}catch(n){throw console.error("Error al crear receta:",n),n}}async actualizarReceta(e,r){var n,a;try{console.log(`Actualizando receta ID: ${e}`),this.validarDatosReceta(r);const i={nombrereceta:(n=r.nombrereceta)==null?void 0:n.trim(),especificaciones:(a=r.especificaciones)==null?void 0:a.trim(),insumos:r.insumos||[]},s=await fetch(`${Ef}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(i)}),l=await this.handleResponse(s);return console.log("Receta actualizada:",l),l}catch(i){throw console.error("Error al actualizar receta:",i),i}}async eliminarReceta(e){try{console.log(`Eliminando receta ID: ${e}`);const r=await fetch(`${Ef}/${e}`,{method:"DELETE",headers:this.baseHeaders}),n=await this.handleResponse(r);return console.log("Receta eliminada:",n),n}catch(r){throw console.error("Error al eliminar receta:",r),r}}async obtenerInsumos(){try{console.log("Obteniendo insumos disponibles...");const e=await fetch(Ype,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return console.log(`Insumos obtenidos: ${r.length}`),r.filter(n=>n.estado===!0)}catch(e){throw console.error("Error al obtener insumos:",e),e}}async obtenerUnidadesMedida(){try{console.log("Obteniendo unidades de medida...");const e=await fetch(Jpe,{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return console.log(`Unidades obtenidas: ${r.length}`),r}catch(e){throw console.error("Error al obtener unidades:",e),e}}async obtenerDetallesReceta(e){try{console.log(`Obteniendo detalles de receta: ${e}`);const r=await fetch(`${Kpe}/receta/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)return[];const n=await this.handleResponse(r);return console.log(`Detalles obtenidos: ${n.length}`),n}catch(r){return console.error("Error obteniendo detalles:",r),[]}}async buscarRecetas(e={}){try{console.log("Buscando recetas con parmetros:",e);const r=new URLSearchParams;e.q&&r.append("q",e.q),e.categoria&&r.append("categoria",e.categoria),e.conInsumos&&r.append("conInsumos",e.conInsumos);const n=`https://deliciasoft-backend.onrender.com/api/receta/recetas/search?${r.toString()}`,a=await fetch(n,{method:"GET",headers:this.baseHeaders}),i=await this.handleResponse(a);return console.log(`Bsqueda completada: ${i.total} resultados`),i}catch(r){throw console.error("Error en bsqueda:",r),r}}async obtenerEstadisticas(){try{console.log("Obteniendo estadsticas de recetas...");const e=await fetch("https://deliciasoft-backend.onrender.com/api/receta/recetas/estadisticas",{method:"GET",headers:this.baseHeaders}),r=await this.handleResponse(e);return console.log("Estadsticas obtenidas:",r),r}catch(e){throw console.error("Error al obtener estadsticas:",e),e}}validarDatosReceta(e){const r=[];if((!e.nombrereceta||!e.nombrereceta.trim())&&r.push("El nombre de la receta es requerido"),e.nombrereceta&&e.nombrereceta.trim().length>50&&r.push("El nombre de la receta no puede exceder 50 caracteres"),e.especificaciones&&e.especificaciones.length>80&&r.push("Las especificaciones no pueden exceder 80 caracteres"),e.insumos&&Array.isArray(e.insumos)&&e.insumos.forEach((n,a)=>{!n.id&&!n.idinsumo&&r.push(`Insumo en posicin ${a+1} no tiene ID vlido`);const i=parseFloat(n.cantidad);(isNaN(i)||i<=0)&&r.push(`Insumo "${n.nombre||"Desconocido"}" debe tener cantidad vlida > 0`)}),r.length>0)throw console.error("Errores de validacin:",r),new Error("Datos invlidos: "+r.join(", "));console.log("Validacin exitosa")}calcularCostoReceta(e){if(!e.insumos||!Array.isArray(e.insumos))return 0;const r=e.insumos.reduce((n,a)=>{const i=parseFloat(a.precio)||0,s=parseFloat(a.cantidad)||1;return n+i*s},0);return Math.round(r)}formatearCosto(e){return new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(e||0)}async testConnection(){try{console.log("Testando conexin...");const e=await fetch(Ef,{method:"GET",headers:this.baseHeaders});return{success:e.ok,status:e.status,message:e.ok?"Conexin exitosa":`Error HTTP ${e.status}`}}catch(e){return console.error("Error en test:",e),{success:!1,error:e.message,message:"No se pudo conectar con el servidor"}}}}const rv=new Xpe,Zpe=({insumo:t,selected:e,onToggle:r})=>o.createElement("div",{className:`modal-agregar-card ${e?"seleccionado":""}`,onClick:r},e&&o.createElement("div",{className:"check-icon"},""),o.createElement("div",{className:"insumo-placeholder"},o.createElement("span",{className:"insumo-icon"},"")),o.createElement("span",null,t.nombreinsumo),o.createElement("div",{style:{fontSize:"10px",color:"#999",marginTop:"2px"}},"$",(t.precio||0).toLocaleString("es-CO")),o.createElement("div",{style:{fontSize:"9px",color:"#aaa"}},"Stock: ",t.cantidad||0));function xF({onClose:t,onAgregar:e,insumosSeleccionados:r=[]}){const[n,a]=p.useState([]),[i,s]=p.useState(!0),[l,c]=p.useState(""),[u,f]=p.useState([]),[m,v]=p.useState("Todos"),[h,E]=p.useState(["Todos"]),[y,b]=p.useState(""),[x,w]=p.useState(1),N=8;p.useEffect(()=>{(async()=>{s(!0);try{const _=await rv.obtenerInsumos();console.log("Insumos obtenidos:",_);const D=_.filter(V=>V.estado!==!1&&!r.some(J=>J.id===V.idinsumo||J.idinsumo===V.idinsumo));a(D);const z=[...new Set(D.map(V=>V.categoria).filter(V=>V&&V!=="Sin categora"))];E(["Todos",...z])}catch(_){console.error("Error al cargar insumos:",_),b("Error al cargar insumos."),a([{idinsumo:1,nombreinsumo:"Harina de trigo",precio:3500,categoria:"Harinas",cantidad:50},{idinsumo:2,nombreinsumo:"Azcar blanca",precio:2800,categoria:"Endulzantes",cantidad:30},{idinsumo:3,nombreinsumo:"Huevos frescos",precio:500,categoria:"Lcteos",cantidad:100},{idinsumo:4,nombreinsumo:"Mantequilla",precio:8500,categoria:"Lcteos",cantidad:15},{idinsumo:5,nombreinsumo:"Chocolate en polvo",precio:12e3,categoria:"Chocolates",cantidad:8},{idinsumo:6,nombreinsumo:"Leche entera",precio:4200,categoria:"Lcteos",cantidad:25}]),E(["Todos","Harinas","Endulzantes","Lcteos","Chocolates"])}finally{s(!1)}})()},[r]);const I=n.filter(C=>C.nombreinsumo.toLowerCase().includes(l.toLowerCase())&&(m==="Todos"||C.categoria===m)),P=Math.ceil(I.length/N),L=(x-1)*N,R=L+N,O=I.slice(L,R),A=C=>{f(_=>_.find(z=>z.id===C.idinsumo)?_.filter(z=>z.id!==C.idinsumo):[..._,{id:C.idinsumo,idinsumo:C.idinsumo,nombre:C.nombreinsumo,nombreinsumo:C.nombreinsumo,precio:C.precio||0,categoria:C.categoria||"Sin categora",cantidad:1,idunidadmedida:1,unidadmedida:"Unidad"}])},T=()=>{if(u.length===0){alert("Por favor selecciona al menos un insumo");return}console.log("Agregando insumos:",u),e(u),t()};return o.createElement("div",{className:"modal-agregar-overlay"},o.createElement("div",{className:"modal-agregar-container"},o.createElement("button",{onClick:t,className:"modal-agregar-close"},""),o.createElement("h2",{className:"modal-agregar-title"}," Detalle de Insumos"),o.createElement("div",{className:"modal-agregar-info"},"Selecciona los insumos que necesitas  ",u.length," seleccionados"),o.createElement("div",{className:"modal-agregar-controles"},o.createElement("input",{type:"text",placeholder:" Buscar insumo...",value:l,onChange:C=>{c(C.target.value),w(1)},disabled:i,className:"modal-agregar-input"}),o.createElement("select",{value:m,onChange:C=>{v(C.target.value),w(1)},disabled:i,className:"modal-agregar-select"},h.map(C=>o.createElement("option",{key:C,value:C},C==="Todos"?" Todas las categoras":` ${C}`)))),o.createElement("div",{className:"modal-agregar-grid"},i?o.createElement("div",{className:"modal-agregar-empty"},o.createElement("div",{style:{fontSize:"40px",marginBottom:"10px"}},""),o.createElement("p",null,"Cargando insumos...")):y&&n.length===0?o.createElement("div",{className:"modal-agregar-empty"},o.createElement("div",{style:{fontSize:"40px",marginBottom:"10px"}},""),o.createElement("p",null,y),o.createElement("button",{onClick:()=>window.location.reload(),style:{marginTop:"10px",padding:"6px 12px",borderRadius:"5px",border:"none",background:"#e91e63",color:"white",cursor:"pointer"}},"Reintentar")):O.length===0?o.createElement("div",{className:"modal-agregar-empty"},o.createElement("div",{style:{fontSize:"40px",marginBottom:"10px"}},""),o.createElement("p",null,"No se encontraron insumos"),l&&o.createElement("button",{onClick:()=>c(""),style:{marginTop:"10px",padding:"6px 12px",borderRadius:"5px",border:"none",background:"#e91e63",color:"white",cursor:"pointer"}},"Limpiar bsqueda")):O.map(C=>{const _=u.find(D=>D.id===C.idinsumo);return o.createElement(Zpe,{key:C.idinsumo,insumo:C,selected:!!_,onToggle:()=>A(C)})})),P>1&&o.createElement("div",{className:"modal-agregar-paginacion"},o.createElement("button",{onClick:()=>w(C=>Math.max(C-1,1)),disabled:x===1,className:"paginacion-btn"},""),o.createElement("span",{className:"paginacion-info"},"Pgina ",x," de ",P),o.createElement("button",{onClick:()=>w(C=>Math.min(C+1,P)),disabled:x===P,className:"paginacion-btn"},"")),o.createElement("div",{className:"modal-agregar-footer"},o.createElement("button",{className:"cancel-btn",onClick:t},"Cancelar"),o.createElement("button",{className:"save-btn",onClick:T,disabled:u.length===0||i}," Agregar (",u.length,")"))))}function wF({visible:t,onClose:e,onGuardar:r,tipo:n="agregar",categoria:a=null}){const[i,s]=p.useState(""),[l,c]=p.useState(""),[u,f]=p.useState(!0),[m,v]=p.useState(null),[h,E]=p.useState(null),[y,b]=p.useState(""),[x,w]=p.useState(!1),N=p.useRef(null);p.useEffect(()=>{n==="editar"&&a?(s(a.nombre),c(a.descripcion),f(a.activo),E(a.imagen),v(null)):n==="agregar"&&(s(""),c(""),f(!0),v(null),E(null)),b("")},[t,n,a]);const I=R=>{const O=R.target.files[0];if(!O)return;v(O);const A=new FileReader;A.onload=T=>E(T.target.result),A.readAsDataURL(O)},P=()=>{v(null),E(null),N.current&&(N.current.value="")},L=async()=>{if(!i.trim())return b(" El nombre es obligatorio");if(!l.trim())return b(" La descripcin es obligatoria");w(!0);try{let R;n==="agregar"?(R=await Is.crearCategoria({nombre:i,descripcion:l,estado:u},m),b(" Categora creada exitosamente!")):n==="editar"&&a&&(R=await Is.actualizarCategoria(a.idcategoriaproducto,{nombre:i,descripcion:l,estado:u},m),b(" Categora actualizada exitosamente!")),r(R),setTimeout(()=>{b(""),e()},1200)}catch(R){b(" Error al guardar categora: "+R.message),console.error(R)}finally{w(!1)}};return o.createElement(Ta,{visible:t,onClose:e},o.createElement("h2",{className:"modal-title"},n==="agregar"?"Agregar Categora":"Editar Categora"),o.createElement("div",{className:"modal-body"},y&&o.createElement("div",{style:{marginBottom:"10px",color:y.includes("")?"red":"green",fontWeight:"bold"}},y),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Nombre:"),o.createElement("input",{type:"text",value:i,onChange:R=>s(R.target.value),className:"modal-input",maxLength:20,style:{width:"100%"}})),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Descripcin:"),o.createElement("textarea",{value:l,onChange:R=>c(R.target.value),className:"modal-input",rows:3,maxLength:50,style:{width:"100%",resize:"none"}})),o.createElement("div",{className:"form-group"},o.createElement("label",null,"Imagen (opcional):"),o.createElement("input",{ref:N,type:"file",accept:"image/*",onChange:I,style:{marginTop:"0.5rem"}}),h&&o.createElement("div",{style:{marginTop:"0.5rem",display:"flex",alignItems:"center",gap:"10px"}},o.createElement("img",{src:h,alt:"Preview",style:{width:"80px",height:"80px",borderRadius:"8px",objectFit:"cover",border:"1px solid #ddd"}}),o.createElement("button",{type:"button",onClick:P},"Quitar"))),n==="editar"&&o.createElement("div",{className:"form-group",style:{display:"flex",alignItems:"center",gap:"10px"}},o.createElement(Xo,{checked:u,onChange:R=>f(R.value)}),o.createElement("span",null,u?"Activo":"Inactivo"))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e,disabled:x},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:L,disabled:x},x?"Guardando...":"Guardar")))}function Qpe({onSave:t,onCancel:e}){const[r,n]=p.useState(1),[a,i]=p.useState(null),[s,l]=p.useState(!1),[c,u]=p.useState(!1),[f,m]=p.useState([]),[v,h]=p.useState(!0),[E,y]=p.useState(!1),[b,x]=p.useState(!1),[w,N]=p.useState({}),[I,P]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[L,R]=p.useState(""),[O,A]=p.useState({nombrereceta:"",especificaciones:"",precioproducto:"",cantidadproducto:1,idcategoriaproducto:"",imagenArchivo:null,imagenPreview:null}),[T,C]=p.useState([]),_=(ee,le="success")=>P({visible:!0,mensaje:ee,tipo:le}),D=()=>P({visible:!1,mensaje:"",tipo:"success"}),z=[{id:1,nombre:"Unidad"},{id:2,nombre:"Gramos"},{id:3,nombre:"Kilogramos"},{id:4,nombre:"Litros"},{id:5,nombre:"Mililitros"},{id:6,nombre:"Cucharadas"},{id:7,nombre:"Tazas"},{id:8,nombre:"Cucharaditas"}];p.useEffect(()=>{(async()=>{try{const pe=await(await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/categorias-productos")).json();m(pe)}catch{_("Error al cargar categoras","error")}finally{h(!1)}})()},[]);const V=ee=>{const{name:le,value:pe}=ee.target;A(ce=>({...ce,[le]:pe})),w[le]&&N(ce=>({...ce,[le]:""}))},J=ee=>{const le=ee.target.files[0];if(!le)return;if(!["image/jpeg","image/png","image/webp"].includes(le.type)){_("Tipo de archivo no permitido","error"),ee.target.value="";return}if(le.size>5*1024*1024){_("El archivo es demasiado grande (mx 5MB)","error"),ee.target.value="";return}const pe=new FileReader;pe.onload=ce=>A(_e=>({..._e,imagenArchivo:le,imagenPreview:ce.target.result})),pe.readAsDataURL(le)},ie=()=>{A(le=>({...le,imagenArchivo:null,imagenPreview:null}));const ee=document.getElementById("imagen-upload");ee&&(ee.value="")},G=ee=>{const pe=ee.filter(ce=>!T.some(_e=>_e.id===ce.id)).map(ce=>({...ce,idinsumo:ce.id,cantidad:ce.cantidad||1,idunidadmedida:ce.idunidadmedida||1,nombreinsumo:ce.nombre||ce.nombreinsumo,unidadmedida:ce.unidadmedida||"Unidad"}));C(ce=>[...ce,...pe])},te=ee=>{C(le=>le.filter(pe=>pe.id!==ee))},W=(ee,le)=>{const pe=parseFloat(le)||1;C(ce=>ce.map(_e=>_e.id===ee?{..._e,cantidad:pe}:_e))},B=(ee,le)=>{C(pe=>pe.map(ce=>ce.id===ee?{...ce,idunidadmedida:parseInt(le)||1}:ce))},j=()=>u(!0),U=()=>u(!1),X=async ee=>{const le=await Is.crearCategoria(ee);m(pe=>[...pe,le]),A(pe=>({...pe,idcategoriaproducto:le.idcategoriaproducto})),U()},Z=()=>{const ee={};O.nombrereceta.trim()||(ee.nombrereceta="Requerido"),O.nombrereceta.trim().length>50&&(ee.nombrereceta="El nombre no puede exceder 50 caracteres"),O.idcategoriaproducto||(ee.idcategoriaproducto="Seleccione una categora");const le=parseFloat(O.precioproducto);return(!O.precioproducto||isNaN(le)||le<0)&&(ee.precioproducto="Precio invlido"),T.length===0&&(ee.insumos="Debe agregar al menos un insumo"),T.filter(ce=>!ce.cantidad||isNaN(parseFloat(ce.cantidad))||parseFloat(ce.cantidad)<=0).length>0&&(ee.cantidades="Todos los insumos deben tener una cantidad vlida mayor a 0"),N(ee),Object.keys(ee).length===0},me=async ee=>{if(ee.preventDefault(),!Z())return;y(!0);let le=null,pe=null;try{O.imagenArchivo&&(x(!0),le=(await Qs.subirImagen(O.imagenArchivo)).idimagen,x(!1));const ce={nombrereceta:O.nombrereceta.trim(),especificaciones:O.especificaciones.trim()||"Sin especificaciones",insumos:T.map(be=>({id:be.id||be.idinsumo,idinsumo:be.id||be.idinsumo,nombre:be.nombre||be.nombreinsumo,nombreinsumo:be.nombre||be.nombreinsumo,cantidad:parseFloat(be.cantidad),idunidadmedida:be.idunidadmedida||1,unidadmedida:be.unidadmedida||"Unidad",precio:be.precio||0,categoria:be.categoria||"Sin categora"}))},_e=await rv.crearReceta(ce);pe=_e.idreceta||_e.id;const He={nombreproducto:O.nombrereceta.trim(),precioproducto:parseFloat(O.precioproducto),cantidadproducto:1,estado:!0,idcategoriaproducto:parseInt(O.idcategoriaproducto),idimagen:le,idreceta:pe},Re=await Qs.crearProducto(He);i(Re),_("Producto y receta creados exitosamente","success"),setTimeout(()=>{window.confirm("Desea configurar personalizacin?")?n(2):t&&t(Re)},1e3)}catch(ce){_("Error al crear producto: "+ce.message,"error")}finally{y(!1)}},de=ee=>{_("Producto guardado exitosamente!","success"),setTimeout(()=>t&&t(a),1500)},oe=()=>t&&t(a);return r===2&&a?o.createElement(EF,{idProducto:a.id||a.idproductogeneral,nombreProducto:a.nombre||a.nombreproducto,onSave:de,onCancel:oe}):o.createElement("div",{className:"compra-form-container"},o.createElement(Fo,{...I,onClose:D}),o.createElement("div",{onSubmit:me},o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"}," Informacin del Producto"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 200px",gap:"24px",alignItems:"start"}},o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},o.createElement("div",{className:"form-grid",style:{gridTemplateColumns:"1fr 1fr"}},o.createElement("div",{className:"field-group"},o.createElement("label",null,"Nombre del Producto (Receta) *"),o.createElement("input",{type:"text",name:"nombrereceta",value:O.nombrereceta,onChange:V,className:`form-input ${w.nombrereceta?"error":""}`,placeholder:"Ej: Caf Especial, Brownie...",maxLength:"50"}),w.nombrereceta&&o.createElement("span",{className:"error-message"},w.nombrereceta)),o.createElement("div",{className:"field-group"},o.createElement("label",null,"Precio *"),o.createElement("input",{type:"number",name:"precioproducto",value:O.precioproducto,onChange:V,className:`form-input ${w.precioproducto?"error":""}`,placeholder:"Ej: 5000"}),w.precioproducto&&o.createElement("span",{className:"error-message"},w.precioproducto))),o.createElement("div",{className:"field-group"},o.createElement("label",null,"Categora *"),o.createElement("div",{style:{display:"flex",gap:"8px",position:"relative"}},o.createElement("div",{style:{flex:1,position:"relative"}},o.createElement("input",{type:"text",placeholder:"Buscar o seleccionar categora...",value:L,onChange:ee=>{const le=ee.target.value;R(le),le||A(pe=>({...pe,idcategoriaproducto:""}))},onFocus:()=>{const ee=document.getElementById("categoria-dropdown");ee&&(ee.style.display="block")},className:`form-input ${w.idcategoriaproducto?"error":""}`}),o.createElement("div",{id:"categoria-dropdown",style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:"1px solid #d1d5db",borderRadius:"8px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,display:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:()=>{setTimeout(()=>{const ee=document.getElementById("categoria-dropdown");ee&&(ee.style.display="none")},200)}},f.filter(ee=>(ee.nombrecategoria||ee.nombre||"").toLowerCase().includes(L.toLowerCase())).map(ee=>o.createElement("div",{key:ee.idcategoriaproducto,onClick:()=>{A(pe=>({...pe,idcategoriaproducto:ee.idcategoriaproducto})),R(ee.nombrecategoria||ee.nombre);const le=document.getElementById("categoria-dropdown");le&&(le.style.display="none"),w.idcategoriaproducto&&N(pe=>({...pe,idcategoriaproducto:""}))},style:{padding:"10px 12px",cursor:"pointer",borderBottom:"1px solid #f3f4f6",transition:"background 0.2s"},onMouseEnter:le=>le.currentTarget.style.background="#f9fafb",onMouseLeave:le=>le.currentTarget.style.background="white"},ee.nombrecategoria||ee.nombre)),f.length===0&&o.createElement("div",{style:{padding:"12px",color:"#6b7280",textAlign:"center"}},"No hay categoras disponibles"))),o.createElement("button",{type:"button",className:"btn-small",onClick:j},"+")),w.idcategoriaproducto&&o.createElement("span",{className:"error-message"},w.idcategoriaproducto)),o.createElement("div",{className:"field-group"},o.createElement("label",null,"Especificaciones"),o.createElement("textarea",{name:"especificaciones",value:O.especificaciones,onChange:V,rows:"4",maxLength:"400",className:"form-input",placeholder:"Describe las caractersticas y preparacin...",style:{resize:"vertical"}}))),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},o.createElement("label",{style:{fontWeight:"600",color:"#374151",fontSize:"14px"}},"Imagen del Producto"),O.imagenPreview?o.createElement("div",{style:{position:"relative"}},o.createElement("img",{src:O.imagenPreview,alt:"preview",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"12px",border:"2px solid #e5e7eb"}}),o.createElement("button",{type:"button",onClick:ie,style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px",fontWeight:"bold",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"}},"")):o.createElement("div",{style:{width:"100%",height:"200px",border:"2px dashed #d1d5db",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",background:"#f9fafb",color:"#6b7280"}},o.createElement("div",{style:{fontSize:"48px"}},""),o.createElement("p",{style:{margin:0,fontSize:"13px",textAlign:"center",padding:"0 10px"}},"No hay imagen")),o.createElement("input",{id:"imagen-upload",type:"file",accept:"image/*",onChange:J,style:{display:"none"}}),o.createElement("label",{htmlFor:"imagen-upload",className:"btn-small",style:{cursor:"pointer",display:"block",textAlign:"center",padding:"8px 12px"}},O.imagenPreview?"Cambiar Imagen":" Subir Imagen")))),o.createElement("div",{className:"form-card"},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1rem"}},o.createElement("h2",{className:"section-title",style:{marginBottom:0}}," Insumos de la Receta (",T.length,")"),o.createElement("button",{type:"button",className:"add-products-btn",onClick:()=>l(!0),disabled:E},"Agregar Insumos")),w.insumos&&o.createElement("div",{className:"error-message",style:{marginBottom:"1rem"}},w.insumos),w.cantidades&&o.createElement("div",{className:"error-message",style:{marginBottom:"1rem"}},w.cantidades),T.length>0?o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Nombre Producto"),o.createElement("th",{style:{textAlign:"center"}},"Cantidad"),o.createElement("th",{style:{textAlign:"center"}},"Unidad Medida"),o.createElement("th",{style:{textAlign:"center"}},"Precio unitario"),o.createElement("th",{style:{textAlign:"center"}},"Subtotal"),o.createElement("th",{style:{textAlign:"center"}},"Accin"))),o.createElement("tbody",null,T.map((ee,le)=>o.createElement("tr",{key:ee.id||le,className:"product-row"},o.createElement("td",{className:"product-name"},o.createElement("strong",null,ee.nombre||ee.nombreinsumo),o.createElement("div",{style:{fontSize:"0.85rem",color:"#6b7280"}},ee.categoria)),o.createElement("td",{className:"quantity-cell"},o.createElement("input",{type:"number",min:"0.01",step:"0.01",value:ee.cantidad||1,onChange:pe=>W(ee.id,pe.target.value),disabled:E,className:"quantity-input"})),o.createElement("td",{style:{textAlign:"center"}},o.createElement("select",{value:ee.idunidadmedida||1,onChange:pe=>B(ee.id,pe.target.value),disabled:E,className:"form-input",style:{padding:"8px",fontSize:"14px"}},z.map(pe=>o.createElement("option",{key:pe.id,value:pe.id},pe.nombre)))),o.createElement("td",{style:{textAlign:"center"}},"$ ",(ee.precio||0).toLocaleString("es-CO")),o.createElement("td",{style:{textAlign:"center",fontWeight:"600"}},"$ ",((ee.precio||0)*(ee.cantidad||1)).toLocaleString("es-CO")),o.createElement("td",{className:"action-cell"},o.createElement("button",{type:"button",className:"delete-btn",onClick:()=>te(ee.id),disabled:E,style:{margin:"0 auto"}},""))))))):o.createElement("div",{style:{border:"2px dashed #d1d5db",borderRadius:"10px",padding:"2rem",textAlign:"center",background:"#f9fafb",color:"#6b7280"}},o.createElement("p",{style:{marginBottom:"1rem"}},"No hay insumos agregados a esta receta"))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{type:"button",className:"btn btn-cancel",onClick:e},"Cancelar"),o.createElement("button",{type:"button",className:"btn btn-save",onClick:me,disabled:E||b||T.length===0},E?"Guardando...":` Guardar (${T.length} insumos)`))),s&&o.createElement(xF,{onClose:()=>l(!1),onAgregar:G,insumosSeleccionados:T}),c&&o.createElement(wF,{visible:c,onClose:U,tipo:"agregar",onGuardar:X}))}function ege({onClose:t,onGuardar:e,onNotificar:r}){const[n,a]=p.useState({nombrereceta:"",especificaciones:""}),[i,s]=p.useState([]),[l,c]=p.useState(!1),[u,f]=p.useState(!1),[m,v]=p.useState({}),[h,E]=p.useState({visible:!1,mensaje:"",tipo:"success"}),y=(A,T="success")=>{E({visible:!0,mensaje:A,tipo:T}),r&&r(A,T)},b=()=>E({visible:!1,mensaje:"",tipo:"success"}),x=A=>{const{name:T,value:C}=A.target;a(_=>({..._,[T]:C})),m[T]&&v(_=>({..._,[T]:""}))},w=A=>{const C=A.filter(_=>!i.some(D=>D.id===_.id)).map(_=>({..._,idinsumo:_.id,cantidad:_.cantidad||1,idunidadmedida:_.idunidadmedida||1,nombreinsumo:_.nombre||_.nombreinsumo,unidadmedida:_.unidadmedida||"Unidad"}));s(_=>[..._,...C])},N=A=>{s(T=>T.filter(C=>C.id!==A))},I=(A,T)=>{const C=parseFloat(T)||1;s(_=>_.map(D=>D.id===A?{...D,cantidad:C}:D))},P=(A,T)=>{s(C=>C.map(_=>_.id===A?{..._,idunidadmedida:parseInt(T)||1}:_))},L=()=>{const A={};return n.nombrereceta.trim()||(A.nombrereceta="El nombre de la receta es requerido"),n.nombrereceta.trim().length>50&&(A.nombrereceta="El nombre no puede exceder 50 caracteres"),n.especificaciones&&n.especificaciones.length>80&&(A.especificaciones="Las especificaciones no pueden exceder 80 caracteres"),i.length===0&&(A.insumos="Debe agregar al menos un insumo a la receta"),i.filter(C=>!C.cantidad||isNaN(parseFloat(C.cantidad))||parseFloat(C.cantidad)<=0).length>0&&(A.cantidades="Todos los insumos deben tener una cantidad vlida mayor a 0"),v(A),Object.keys(A).length===0},R=async A=>{if(A.preventDefault(),!!L()){f(!0);try{const T={nombrereceta:n.nombrereceta.trim(),especificaciones:n.especificaciones.trim()||"Sin especificaciones",insumos:i.map(D=>({id:D.id||D.idinsumo,idinsumo:D.id||D.idinsumo,nombre:D.nombre||D.nombreinsumo,nombreinsumo:D.nombre||D.nombreinsumo,cantidad:parseFloat(D.cantidad),idunidadmedida:D.idunidadmedida||1,unidadmedida:D.unidadmedida||"Unidad",precio:D.precio||0,categoria:D.categoria||"Sin categora"}))},C=await rv.crearReceta(T),_={...C,idreceta:C.idreceta||C.id,nombrereceta:C.nombrereceta||C.nombre,especificaciones:C.especificaciones||C.especificacionesreceta,insumos:C.insumos||C.detallereceta||i};y(`Receta "${_.nombrereceta}" creada exitosamente con ${_.insumos.length} insumos`,"success"),e(_)}catch(T){y("Error al crear la receta: "+(T.message||T),"error")}finally{f(!1)}}},O=[{id:1,nombre:"Unidad"},{id:2,nombre:"Gramos"},{id:3,nombre:"Kilogramos"},{id:4,nombre:"Litros"},{id:5,nombre:"Mililitros"},{id:6,nombre:"Cucharadas"},{id:7,nombre:"Tazas"},{id:8,nombre:"Cucharaditas"}];return o.createElement("div",{className:"modal-overlay-fixed"},o.createElement("div",{className:"modal-content-fixed"},o.createElement(Fo,{...h,onClose:b}),o.createElement("div",{className:"modal-inner"},o.createElement("div",{className:"modal-header"},o.createElement("h2",null,"Crear Nueva Receta"),o.createElement("button",{className:"btn-cerrar",onClick:t,disabled:u},"Cerrar")),o.createElement("form",{onSubmit:R,className:"receta-form"},o.createElement("div",{className:"form-campos"},o.createElement("div",{className:"campo"},o.createElement("label",null,"Nombre de la Receta *"),o.createElement("input",{type:"text",name:"nombrereceta",value:n.nombrereceta,onChange:x,required:!0,maxLength:"50",className:m.nombrereceta?"error":"",placeholder:"Ej: Caf Especial, Brownie Chocolate..."}),m.nombrereceta&&o.createElement("span",{className:"error-text"},m.nombrereceta)),o.createElement("div",{className:"campo"},o.createElement("label",null,"Especificaciones"),o.createElement("textarea",{name:"especificaciones",value:n.especificaciones,onChange:x,rows:"3",maxLength:"400",className:m.especificaciones?"error":"",placeholder:"Describe las caractersticas y preparacin de la receta..."}),m.especificaciones&&o.createElement("span",{className:"error-text"},m.especificaciones))),o.createElement("div",{className:"section-divider"}),o.createElement("div",{className:"insumos-section"},o.createElement("div",{className:"insumos-header"},o.createElement("h3",null,"Insumos de la Receta (",i.length,")"),o.createElement("button",{type:"button",className:"btn-agregar",onClick:()=>c(!0),disabled:u},"+ Agregar Insumos")),m.insumos&&o.createElement("div",{className:"error-text"},m.insumos),m.cantidades&&o.createElement("div",{className:"error-text"},m.cantidades),i.length>0?o.createElement("table",{className:"tabla-insumos"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Insumo"),o.createElement("th",null,"Cantidad"),o.createElement("th",null,"Unidad"),o.createElement("th",null,"Acciones"))),o.createElement("tbody",null,i.map((A,T)=>o.createElement("tr",{key:A.id||T},o.createElement("td",null,o.createElement("strong",null,A.nombre||A.nombreinsumo),o.createElement("div",null,A.categoria,"  $",A.precio||0)),o.createElement("td",null,o.createElement("input",{type:"number",min:"0.01",step:"0.01",value:A.cantidad||1,onChange:C=>I(A.id,C.target.value),disabled:u})),o.createElement("td",null,o.createElement("select",{value:A.idunidadmedida||1,onChange:C=>P(A.id,C.target.value),disabled:u},O.map(C=>o.createElement("option",{key:C.id,value:C.id},C.nombre)))),o.createElement("td",null,o.createElement("button",{type:"button",className:"btn-eliminar",onClick:()=>N(A.id),disabled:u},"Eliminar")))))):o.createElement("div",{className:"sin-insumos"},o.createElement("p",null,"No hay insumos agregados a esta receta"),o.createElement("button",{type:"button",className:"btn-agregar",onClick:()=>c(!0),disabled:u},"+ Agregar Primer Insumo"))),o.createElement("div",{className:"botones-form"},o.createElement("button",{type:"button",className:"btn-cancelar",onClick:t,disabled:u},"Cancelar"),o.createElement("button",{type:"submit",className:"btn-guardar",disabled:u||i.length===0},u?"Guardando...":`Guardar Receta (${i.length} insumos)`))),l&&o.createElement(xF,{onClose:()=>c(!1),onAgregar:w,insumosSeleccionados:i}))))}const tge=({receta:t,selected:e,onSelect:r})=>o.createElement("div",{className:`modal-agregar-card ${e?"seleccionado":""}`,onClick:()=>r(t)},e&&o.createElement("div",{className:"check-icon"},""),o.createElement("div",{className:"insumo-placeholder receta-cuadro"},o.createElement("span",{className:"insumo-icon"},"")),o.createElement("span",null,t.nombrereceta),o.createElement("div",{style:{fontSize:"10px",color:"#999",marginTop:"2px"}},t.especificaciones||"Sin especificaciones"),t.cantidadInsumos&&o.createElement("div",{style:{fontSize:"9px",color:"#28a745",marginTop:"3px"}}," ",t.cantidadInsumos," insumo",t.cantidadInsumos!==1?"s":""),t.costoEstimado&&o.createElement("div",{style:{fontSize:"9px",color:"#ff69b4",marginTop:"2px"}}," $",t.costoEstimado.toLocaleString("es-CO")));function rge({onClose:t,onSeleccionar:e}){const[r,n]=p.useState([]),[a,i]=p.useState(!0),[s,l]=p.useState(""),[c,u]=p.useState(null),[f,m]=p.useState(null),[v,h]=p.useState(!1),E=8,[y,b]=p.useState(1);p.useEffect(()=>{(async()=>{i(!0),u(null);try{const A=await rv.obtenerRecetas();n(A)}catch(A){u(A.message),n([{idreceta:1,nombrereceta:"Cupcakes de Vainilla",especificaciones:"Cupcakes suaves con frosting de vainilla",cantidadInsumos:6,costoEstimado:12500},{idreceta:2,nombrereceta:"Brownies de Chocolate",especificaciones:"Brownies hmedos con chocolate intenso",cantidadInsumos:5,costoEstimado:15e3}])}finally{i(!1)}})()},[]);const x=r.filter(O=>{var A;return O.nombrereceta.toLowerCase().includes(s.toLowerCase())||((A=O.especificaciones)==null?void 0:A.toLowerCase().includes(s.toLowerCase()))}),w=(y-1)*E,N=w+E,I=x.slice(w,N),P=Math.ceil(x.length/E),L=async O=>{try{m(O.idreceta);let A=O;if(!O.insumos||O.insumos.length===0)try{A=await rv.obtenerRecetaPorId(O.idreceta)}catch{}e(A),t()}catch(A){alert("Error al seleccionar: "+A.message)}},R=O=>{n(A=>[O,...A]),h(!1),e(O)};return o.createElement("div",{className:"modal-agregar-overlay"},o.createElement("div",{className:"modal-agregar-container"},o.createElement("style",null,`
          .modal-agregar-overlay {
            background-color: rgba(0, 0, 0, 0.45);
            position: fixed;
            top: 0; left: 0;
            width: 100%; height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 2000;
          }

          .modal-agregar-container {
            background: #fff0f5;
            border-radius: 20px;
            padding: 25px;
            width: 90%;
            max-width: 800px;
            max-height: 90vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 10px 25px rgba(0,0,0,0.25);
          }

          .modal-agregar-close {
            background: none;
            border: none;
            font-size: 30px;
            cursor: pointer;
            color: #d63384;
            position: absolute;
            right: 15px;
            top: 10px;
          }

          .modal-agregar-title {
            text-align: center;
            font-size: 26px;
            font-weight: 700;
            color: #d63384;
            margin-bottom: 10px;
          }

          .modal-agregar-info {
            text-align: center;
            margin-bottom: 20px;
            font-size: 14px;
            color: #555;
          }

          .modal-agregar-controles {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
          }

          .modal-agregar-input {
            flex-grow: 1;
            padding: 10px;
            border-radius: 10px;
            border: 2px solid #ffb6c1;
            font-size: 16px;
          }

          .modal-agregar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
            gap: 20px;
          }

          .modal-agregar-card {
            background: white;
            border-radius: 16px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            border: 3px solid transparent;
            position: relative;
            transition: 0.2s;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
          }

          .modal-agregar-card:hover {
            transform: translateY(-4px);
            border-color: #ff69b4;
          }

          .modal-agregar-card.seleccionado {
            border-color: #ff69b4;
            box-shadow: 0 6px 18px rgba(255,105,180,0.4);
          }

          .check-icon {
            position: absolute;
            top: 8px;
            left: 8px;
            background: #ff69b4;
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
          }

          /* Nuevo: imagen cuadrada mejor proporcionada */
          .receta-cuadro {
            width: 110px;
            height: 110px;
            background: linear-gradient(135deg, #ff69b4, #ffc1cc);
            border-radius: 12px;
            margin: 0 auto 8px;
            display: flex;
            align-items: center;
            justify-content: center;
          }

          .insumo-icon {
            font-size: 45px;
          }

          /* PAGINACIN */
          .modal-agregar-paginacion {
            margin-top: 20px;
            display: flex;
            justify-content: center;
            gap: 12px;
            align-items: center;
          }

          .paginacion-btn {
            background: #ff69b4;
            color: white;
            border: none;
            padding: 8px 14px;
            border-radius: 8px;
            font-size: 18px;
            cursor: pointer;
          }

          .paginacion-info {
            font-size: 14px;
            color: #444;
          }

          .modal-agregar-footer {
            margin-top: 20px;
            display: flex;
            justify-content: flex-end;
            gap: 10px;
          }

          .cancel-btn {
            background: #f8d7da;
            color: #721c24;
            border: none;
            padding: 10px 18px;
            border-radius: 10px;
            font-weight: bold;
            cursor: pointer;
            font-size: 16px;
          }

          .crear-btn {
            background: #28a745;
            color: white;
            border: none;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 15px;
            cursor: pointer;
            font-weight: 600;
          }
        `),o.createElement("button",{className:"modal-agregar-close",onClick:t},""),o.createElement("h2",{className:"modal-agregar-title"}," Seleccionar Receta"),o.createElement("div",{className:"modal-agregar-info"},"Selecciona la receta que quieras usar"),o.createElement("div",{className:"modal-agregar-controles"},o.createElement("input",{type:"text",className:"modal-agregar-input",placeholder:" Buscar receta...",value:s,onChange:O=>{l(O.target.value),b(1)},disabled:a}),o.createElement("button",{className:"crear-btn",onClick:()=>h(!0)},"+ Crear Receta")),o.createElement("div",{className:"modal-agregar-grid"},a?o.createElement("p",{style:{gridColumn:"1 / -1"}}," Cargando recetas..."):x.length===0?o.createElement("p",{style:{gridColumn:"1 / -1"}},"No se encontraron recetas"):I.map(O=>o.createElement(tge,{key:O.idreceta,receta:O,selected:f===O.idreceta,onSelect:L}))),P>1&&o.createElement("div",{className:"modal-agregar-paginacion"},o.createElement("button",{className:"paginacion-btn",onClick:()=>b(O=>Math.max(O-1,1))},""),o.createElement("span",{className:"paginacion-info"},"Pgina ",y," de ",P),o.createElement("button",{className:"paginacion-btn",onClick:()=>b(O=>Math.min(O+1,P))},"")),o.createElement("div",{className:"modal-agregar-footer"},o.createElement("button",{className:"cancel-btn",onClick:t},"Cancelar")),v&&o.createElement(ege,{onClose:()=>h(!1),onGuardar:R})))}function nge({producto:t,onSave:e,onCancel:r}){var G;const[n,a]=p.useState({nombreproducto:(t==null?void 0:t.nombreproducto)||"",precioproducto:(t==null?void 0:t.precioproducto)||"",cantidadproducto:(t==null?void 0:t.cantidadproducto)||1,idcategoriaproducto:(t==null?void 0:t.idcategoriaproducto)||"",estado:(t==null?void 0:t.estado)??!0,idreceta:(t==null?void 0:t.idreceta)||null,recetaSeleccionada:null,imagenArchivo:null,imagenPreview:(t==null?void 0:t.urlimagen)||((G=t==null?void 0:t.imagenes)==null?void 0:G.urlimg)||null,idimagen:(t==null?void 0:t.idimagen)||null}),[i,s]=p.useState([]),[l,c]=p.useState(!0),[u,f]=p.useState(!1),[m,v]=p.useState(!1),[h,E]=p.useState(!1),[y,b]=p.useState({}),[x,w]=p.useState(!1),[N,I]=p.useState(""),[P,L]=p.useState({visible:!1,mensaje:"",tipo:"success"}),R=(te,W="success")=>L({visible:!0,mensaje:te,tipo:W}),O=()=>L({visible:!1,mensaje:"",tipo:"success"});p.useEffect(()=>{(async()=>{try{const W=await fetch("https://deliciasoft-backend.onrender.com/api/categorias-productos");if(!W.ok)throw new Error("No se pudo obtener las categoras");const B=await W.json();if(s(B),t!=null&&t.idcategoriaproducto){const j=B.find(U=>U.idcategoriaproducto===t.idcategoriaproducto);j&&I(j.nombrecategoria||j.nombre)}}catch(W){R("Error al cargar categoras: "+W.message,"error"),s([])}finally{c(!1)}})()},[t]),p.useEffect(()=>{t!=null&&t.idreceta&&fetch("https://deliciasoft-backend.onrender.com/api/receta/recetas").then(te=>te.json()).then(te=>{const W=te.find(B=>B.idreceta===t.idreceta);W&&a(B=>({...B,recetaSeleccionada:W}))}).catch(()=>R("Error al cargar la receta","error"))},[t]);const A=te=>{const{name:W,value:B,type:j,checked:U}=te.target;a(X=>({...X,[W]:j==="checkbox"?U:B})),y[W]&&b(X=>({...X,[W]:""}))},T=te=>{const W=te.target.files[0];if(W){const B=new FileReader;B.onload=j=>a(U=>({...U,imagenArchivo:W,imagenPreview:j.target.result})),B.readAsDataURL(W)}},C=()=>{a(W=>({...W,imagenArchivo:null,imagenPreview:null}));const te=document.getElementById("imagen-upload");te&&(te.value="")},_=()=>{a(te=>({...te,idreceta:null,recetaSeleccionada:null}))},D=()=>E(!0),z=()=>E(!1),V=async te=>{const W=await Is.crearCategoria(te);s(B=>[...B,W]),a(B=>({...B,idcategoriaproducto:W.idcategoriaproducto})),I(W.nombrecategoria||W.nombre),z()},J=()=>{const te={};return n.nombreproducto.trim()||(te.nombreproducto="El nombre es requerido"),n.nombreproducto.trim().length>50&&(te.nombreproducto="El nombre no puede exceder 50 caracteres"),n.idcategoriaproducto||(te.idcategoriaproducto="Seleccione categora"),(!n.precioproducto||isNaN(n.precioproducto))&&(te.precioproducto="Precio invlido"),(!n.cantidadproducto||isNaN(n.cantidadproducto))&&(te.cantidadproducto="Cantidad invlida"),b(te),Object.keys(te).length===0},ie=async te=>{if(te.preventDefault(),!J())return;f(!0);let W=n.idimagen;try{n.imagenArchivo&&(W=(await Qs.subirImagen(n.imagenArchivo)).idimagen);const B={idproductogeneral:t.id,nombreproducto:n.nombreproducto.trim(),precioproducto:parseFloat(n.precioproducto),cantidadproducto:parseInt(n.cantidadproducto),estado:n.estado,idcategoriaproducto:parseInt(n.idcategoriaproducto),idimagen:W,idreceta:n.idreceta};await Qs.actualizarProducto(t.id,B),R("Producto actualizado exitosamente","success"),e&&e()}catch(B){R("Error al actualizar: "+B.message,"error")}finally{f(!1)}};return t?o.createElement("div",{className:"compra-form-container"},o.createElement(Fo,{...P,onClose:O}),o.createElement("form",{onSubmit:ie},o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"")," Editar Producto"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 200px",gap:"24px",alignItems:"start"}},o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"16px"}},o.createElement("div",{className:"form-grid",style:{gridTemplateColumns:"1fr 1fr"}},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Nombre",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",name:"nombreproducto",value:n.nombreproducto,onChange:A,className:`form-input ${y.nombreproducto?"error":""}`,maxLength:"50"}),y.nombreproducto&&o.createElement("span",{className:"error-message"},y.nombreproducto)),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Precio",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"number",name:"precioproducto",value:n.precioproducto,onChange:A,className:`form-input ${y.precioproducto?"error":""}`,min:"0",step:"0.01"}),y.precioproducto&&o.createElement("span",{className:"error-message"},y.precioproducto))),o.createElement("div",{className:"form-grid",style:{gridTemplateColumns:"1fr 1fr"}},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Cantidad"),o.createElement("input",{type:"number",name:"cantidadproducto",value:n.cantidadproducto,onChange:A,className:"form-input",min:"0"})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Estado"),o.createElement("select",{name:"estado",value:n.estado?"activo":"inactivo",onChange:te=>a(W=>({...W,estado:te.target.value==="activo"})),className:"form-input"},o.createElement("option",{value:"activo"},"Activo "),o.createElement("option",{value:"inactivo"},"Inactivo ")))),o.createElement("div",{className:"field-group"},o.createElement("label",null,"Categora *"),o.createElement("div",{style:{display:"flex",gap:"8px",position:"relative"}},o.createElement("div",{style:{flex:1,position:"relative"}},o.createElement("input",{type:"text",placeholder:"Buscar o seleccionar categora...",value:N,onChange:te=>{const W=te.target.value;I(W),W||a(B=>({...B,idcategoriaproducto:""}))},onFocus:()=>{const te=document.getElementById("categoria-dropdown-edit");te&&(te.style.display="block")},className:`form-input ${y.idcategoriaproducto?"error":""}`}),o.createElement("div",{id:"categoria-dropdown-edit",style:{position:"absolute",top:"100%",left:0,right:0,background:"white",border:"1px solid #d1d5db",borderRadius:"8px",marginTop:"4px",maxHeight:"200px",overflowY:"auto",zIndex:1e3,display:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},onMouseLeave:()=>{setTimeout(()=>{const te=document.getElementById("categoria-dropdown-edit");te&&(te.style.display="none")},200)}},i.filter(te=>(te.nombrecategoria||te.nombre||"").toLowerCase().includes(N.toLowerCase())).map(te=>o.createElement("div",{key:te.idcategoriaproducto,onClick:()=>{a(B=>({...B,idcategoriaproducto:te.idcategoriaproducto})),I(te.nombrecategoria||te.nombre);const W=document.getElementById("categoria-dropdown-edit");W&&(W.style.display="none"),y.idcategoriaproducto&&b(B=>({...B,idcategoriaproducto:""}))},style:{padding:"10px 12px",cursor:"pointer",borderBottom:"1px solid #f3f4f6",transition:"background 0.2s"},onMouseEnter:W=>W.currentTarget.style.background="#f9fafb",onMouseLeave:W=>W.currentTarget.style.background="white"},te.nombrecategoria||te.nombre)),i.length===0&&o.createElement("div",{style:{padding:"12px",color:"#6b7280",textAlign:"center"}},"No hay categoras disponibles"))),o.createElement("button",{type:"button",className:"btn-small",onClick:D},"+")),y.idcategoriaproducto&&o.createElement("span",{className:"error-message"},y.idcategoriaproducto))),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},o.createElement("label",{style:{fontWeight:"600",color:"#374151",fontSize:"14px"}},"Imagen del Producto"),n.imagenPreview?o.createElement("div",{style:{position:"relative"}},o.createElement("img",{src:n.imagenPreview,alt:"preview",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"12px",border:"2px solid #e5e7eb"}}),o.createElement("button",{type:"button",onClick:C,style:{position:"absolute",top:"8px",right:"8px",background:"#ef4444",color:"white",border:"none",borderRadius:"50%",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"18px",fontWeight:"bold",boxShadow:"0 2px 8px rgba(0,0,0,0.2)"}},"")):o.createElement("div",{style:{width:"100%",height:"200px",border:"2px dashed #d1d5db",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",background:"#f9fafb",color:"#6b7280"}},o.createElement("div",{style:{fontSize:"48px"}},""),o.createElement("p",{style:{margin:0,fontSize:"13px",textAlign:"center",padding:"0 10px"}},"No hay imagen")),o.createElement("input",{id:"imagen-upload",type:"file",accept:"image/*",onChange:T,style:{display:"none"}}),o.createElement("label",{htmlFor:"imagen-upload",className:"btn-small",style:{cursor:"pointer",display:"block",textAlign:"center",padding:"8px 12px"}},n.imagenPreview?"Cambiar Imagen":" Subir Imagen")))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"")," Resumen de Receta"),n.recetaSeleccionada?o.createElement("div",null,o.createElement("div",{style:{marginBottom:"1rem"}},o.createElement("strong",{style:{fontSize:"16px",color:"#1f2937"}},n.recetaSeleccionada.nombrereceta),o.createElement("p",{style:{marginTop:"8px",color:"#6b7280",fontSize:"14px"}},n.recetaSeleccionada.especificaciones)),(n.recetaSeleccionada.insumos||[]).length>0&&o.createElement("div",{className:"table-container",style:{marginBottom:"1rem"}},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Insumo"),o.createElement("th",{style:{textAlign:"center"}},"Cantidad"),o.createElement("th",{style:{textAlign:"center"}},"Unidad"))),o.createElement("tbody",null,n.recetaSeleccionada.insumos.map(te=>o.createElement("tr",{key:te.id||te.iddetallereceta,className:"product-row"},o.createElement("td",{className:"product-name"},o.createElement("strong",null,te.nombre||te.nombreinsumo)),o.createElement("td",{style:{textAlign:"center",fontWeight:"600"}},te.cantidad),o.createElement("td",{style:{textAlign:"center"}},te.unidad||te.unidadmedida)))))),o.createElement("div",{style:{display:"flex",gap:"10px",marginTop:"10px"}},o.createElement("button",{type:"button",className:"btn-small",onClick:()=>v(!0)},"Cambiar Receta"),o.createElement("button",{type:"button",className:"btn-small",onClick:_,style:{background:"#dc2626",color:"white",border:"1px solid #b91c1c"}},"Eliminar Receta"))):o.createElement("button",{type:"button",className:"btn-small",onClick:()=>v(!0),style:{marginTop:"10px"}},"+ Agregar Receta")),o.createElement("div",{className:"action-buttons"},o.createElement("button",{type:"button",className:"btn btn-cancel",onClick:r,disabled:u},"Cancelar"),o.createElement("button",{type:"submit",className:"btn btn-save",disabled:u||x},u?"Actualizando...":"Guardar Cambios"))),m&&o.createElement(rge,{onClose:()=>v(!1),onSeleccionar:te=>a(W=>({...W,idreceta:te.idreceta,recetaSeleccionada:te}))}),h&&o.createElement(wF,{visible:h,onClose:z,tipo:"agregar",onGuardar:V})):o.createElement("div",{className:"compra-form-container"},"No se pudo cargar el producto")}function age({producto:t,onClose:e}){const[r,n]=p.useState(null),[a,i]=p.useState(null),[s,l]=p.useState(0),[c,u]=p.useState({}),[f,m]=p.useState({visible:!1,mensaje:"",tipo:"success"});p.useEffect(()=>{var h;if(t){n(t.urlimagen||t.imagen||((h=t.imagenes)==null?void 0:h.urlimg)||null),t.receta?i(t.receta):t.idreceta&&fetch("https://deliciasoft-backend.onrender.com/api/receta/recetas").then(y=>y.json()).then(y=>{const b=y.find(x=>x.idreceta===t.idreceta);b&&i(b)}).catch(()=>m({visible:!0,mensaje:"Error al cargar receta",tipo:"error"}));const E=t.idproductogeneral;j9.obtenerInventarioProducto(E).then(y=>{if(!y||!Array.isArray(y.inventarios)){l(0),u({});return}const b=y.inventarios;let x=0,w={};b.forEach(N=>{var L;const I=((L=N.sede)==null?void 0:L.nombre)||"Sin sede",P=parseFloat(N.cantidad||0);x+=P,w[I]=P}),l(x),u(w)}).catch(()=>m({visible:!0,mensaje:"Error al cargar inventario por sede",tipo:"error"}))}},[t]);const v=h=>new Intl.NumberFormat("es-CO",{style:"currency",currency:"COP",minimumFractionDigits:0}).format(h);return t?o.createElement("div",{className:"compra-form-container"},o.createElement(Fo,{...f,onClose:()=>m({visible:!1})}),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"")," Ver Producto"),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 200px",gap:"24px",alignItems:"start"}},o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Nombre"),o.createElement("input",{className:"form-input",value:t.nombreproducto||t.nombre,disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Precio"),o.createElement("input",{className:"form-input",value:v(t.precioproducto),disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Cantidad"),o.createElement("input",{className:"form-input",value:`${t.cantidadproducto} unidades`,disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Categora"),o.createElement("input",{className:"form-input",value:t.categoria||"Sin categora",disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Estado"),o.createElement("input",{className:"form-input",value:t.estado?"Activo ":"Inactivo ",disabled:!0}))),o.createElement("div",{style:{display:"flex",flexDirection:"column",gap:"12px"}},o.createElement("label",{style:{fontWeight:"600",color:"#374151",fontSize:"14px"}},"Imagen del Producto"),r?o.createElement("img",{src:r,alt:"Producto",style:{width:"100%",height:"200px",objectFit:"cover",borderRadius:"12px",border:"2px solid #e5e7eb"}}):o.createElement("div",{style:{width:"100%",height:"200px",border:"2px dashed #d1d5db",borderRadius:"12px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"12px",background:"#f9fafb",color:"#6b7280"}},o.createElement("div",{style:{fontSize:"48px"}},""),o.createElement("p",{style:{margin:0,fontSize:"13px"}},"No hay imagen"))))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"")," Resumen de Receta"),a?o.createElement("div",null,o.createElement("div",{style:{marginBottom:"1rem"}},o.createElement("strong",{style:{fontSize:"16px",color:"#1f2937"}},a.nombre||a.nombrereceta),o.createElement("p",{style:{marginTop:"8px",color:"#6b7280",fontSize:"14px"}},a.especificaciones)),(a.insumos||[]).length>0&&o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Insumo"),o.createElement("th",{style:{textAlign:"center"}},"Cantidad"),o.createElement("th",{style:{textAlign:"center"}},"Unidad"))),o.createElement("tbody",null,a.insumos.map(h=>o.createElement("tr",{key:h.id||h.iddetallereceta,className:"product-row"},o.createElement("td",{className:"product-name"},o.createElement("strong",null,h.nombre||h.nombreinsumo)),o.createElement("td",{style:{textAlign:"center",fontWeight:"600"}},h.cantidad),o.createElement("td",{style:{textAlign:"center"}},h.unidad||h.unidadmedida))))))):o.createElement("p",null,"No hay receta asignada")),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"")," Inventario por Sede"),o.createElement("div",{style:{background:"linear-gradient(135deg, #fce7f3 0%, #fbcfe8 100%)",padding:"16px",borderRadius:"10px",marginBottom:"1rem",border:"1px solid #f9a8d4"}},o.createElement("div",{style:{fontSize:"13px",color:"#9f1239",marginBottom:"6px",fontWeight:"600"}},"Total en todas las sedes"),o.createElement("div",{style:{fontSize:"20px",fontWeight:"700",color:"#be185d"}},s," unidades")),Object.keys(c).length>0?o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(180px, 1fr))",gap:"1rem",marginTop:"1rem"}},Object.entries(c).map(([h,E])=>o.createElement("div",{key:h,style:{border:"1px solid #f9a8d4",borderRadius:"12px",padding:"16px",background:"linear-gradient(135deg, #ffffff 0%, #fdf2f8 100%)",boxShadow:"0 2px 8px rgba(236, 72, 153, 0.1)",transition:"transform 0.2s, box-shadow 0.2s",cursor:"default"},onMouseEnter:y=>{y.currentTarget.style.transform="translateY(-2px)",y.currentTarget.style.boxShadow="0 4px 12px rgba(236, 72, 153, 0.15)"},onMouseLeave:y=>{y.currentTarget.style.transform="translateY(0)",y.currentTarget.style.boxShadow="0 2px 8px rgba(236, 72, 153, 0.1)"}},o.createElement("div",{style:{fontSize:"12px",color:"#9f1239",marginBottom:"8px",textTransform:"uppercase",letterSpacing:"0.5px",fontWeight:"600"}}," Sede"),o.createElement("div",{style:{fontWeight:"700",fontSize:"16px",color:"#1f2937",marginBottom:"12px",lineHeight:"1.2"}},h),o.createElement("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"8px 12px",background:"#fce7f3",borderRadius:"8px"}},o.createElement("span",{style:{fontSize:"13px",color:"#9f1239",fontWeight:"600"}},"Stock:"),o.createElement("span",{style:{fontSize:"20px",fontWeight:"700",color:"#be185d"}},E))))):o.createElement("div",{style:{border:"2px dashed #d1d5db",borderRadius:"10px",padding:"2rem",textAlign:"center",background:"#f9fafb",color:"#6b7280"}},o.createElement("p",{style:{margin:0}},"No hay cantidades registradas en ninguna sede"))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{type:"button",className:"btn btn-cancel",onClick:e},"Cerrar"))):o.createElement("div",{className:"compra-form-container"},"No se pudo cargar el producto")}function oge({show:t,producto:e,onConfirm:r,onCancel:n}){const[a,i]=p.useState(!1),[s,l]=p.useState({visible:!1,mensaje:"",tipo:"success"}),c=(m,v="success")=>{l({visible:!0,mensaje:m,tipo:v})},u=()=>{l({visible:!1,mensaje:"",tipo:"success"})},f=async()=>{i(!0);try{await Qs.eliminarProducto(e.id),c("Producto eliminado exitosamente"),setTimeout(()=>{r()},1500)}catch(m){console.error("Error eliminando producto:",m);let v="Error al eliminar producto";m.message.includes("foreign key")?m.message.includes("detalleventas")||m.message.includes("ventas")?v="No se puede eliminar: el producto est siendo utilizado en Ventas.":m.message.includes("produccion")?v="No se puede eliminar: el producto est siendo utilizado en Produccin.":m.message.includes("recetas")||m.message.includes("receta")?v="No se puede eliminar: el producto est siendo utilizado en Recetas.":v="No se puede eliminar: el producto est siendo utilizado en otras partes del sistema.":m.message.includes("not found")?v="El producto no existe o ya fue eliminado":v=m.message||v,c(v,"error")}finally{i(!1)}};return!t||!e?null:o.createElement(o.Fragment,null,o.createElement(Fo,{visible:s.visible,mensaje:s.mensaje,tipo:s.tipo,onClose:u}),o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},onClick:n},o.createElement("div",{style:{backgroundColor:"white",borderRadius:"8px",width:"400px",maxWidth:"90vw",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.15)",overflow:"hidden"},onClick:m=>m.stopPropagation()},o.createElement("div",{style:{padding:"20px 24px",borderBottom:"1px solid #e9ecef",display:"flex",alignItems:"center",justifyContent:"space-between"}},o.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"600",color:"#333"}},"Confirmar Eliminacin"),o.createElement("button",{onClick:n,style:{background:"none",border:"none",fontSize:"20px",cursor:"pointer",color:"#999",padding:"0",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center"}},"")),o.createElement("div",{style:{padding:"24px"}},o.createElement("p",{style:{margin:"0 0 8px 0",fontSize:"16px",color:"#333",lineHeight:"1.5"}},"Est seguro de que desea eliminar el producto ",o.createElement("strong",null,e.nombre||e.nombreproducto),"?"),o.createElement("p",{style:{margin:0,fontSize:"14px",color:"#666",lineHeight:"1.4"}},"Esta accin no se puede deshacer.")),o.createElement("div",{style:{padding:"16px 24px",borderTop:"1px solid #e9ecef",display:"flex",justifyContent:"flex-end",gap:"12px",backgroundColor:"#fafafa"}},o.createElement("button",{onClick:n,disabled:a,style:{padding:"8px 16px",border:"1px solid #ddd",backgroundColor:"white",color:"#666",borderRadius:"4px",fontSize:"14px",fontWeight:"500",cursor:a?"not-allowed":"pointer",transition:"all 0.2s ease",minWidth:"80px"},onMouseEnter:m=>{a||(m.target.style.backgroundColor="#f8f9fa",m.target.style.borderColor="#adb5bd")},onMouseLeave:m=>{a||(m.target.style.backgroundColor="white",m.target.style.borderColor="#ddd")}},"Cancelar"),o.createElement("button",{onClick:f,disabled:a,style:{padding:"8px 16px",border:"none",backgroundColor:a?"#6c757d":"#dc3545",color:"white",borderRadius:"4px",fontSize:"14px",fontWeight:"500",cursor:a?"not-allowed":"pointer",transition:"background-color 0.2s ease",minWidth:"80px"},onMouseEnter:m=>{a||(m.target.style.backgroundColor="#c82333")},onMouseLeave:m=>{a||(m.target.style.backgroundColor="#dc3545")}},a?"Eliminando...":"Eliminar")))))}function ige(){console.log("Componente ProductosMain renderizado");const[t,e]=p.useState("list"),[r,n]=p.useState(null),[a,i]=p.useState(!1),[s,l]=p.useState({visible:!1,mensaje:"",tipo:"success"}),c=p.useRef(),u=(L,R="success")=>{l({visible:!0,mensaje:L,tipo:R})},f=()=>{l({visible:!1,mensaje:"",tipo:"success"})},m=()=>{var L;e("list"),n(null),(L=c.current)!=null&&L.refreshProductos&&c.current.refreshProductos()},v=()=>{e("add"),n(null)},h=L=>{n(L),e("edit"),i(!1)},E=L=>{n(L),e("view"),i(!1)},y=L=>{n(L),i(!0)},b=()=>{e("list"),n(null)},x=()=>{i(!1),n(null)},w=()=>{var L;i(!1),n(null),u("Producto eliminado exitosamente"),(L=c.current)!=null&&L.refreshProductos&&c.current.refreshProductos()},N=()=>{u("Producto creado exitosamente"),m()},I=()=>{u("Producto actualizado exitosamente"),m()},P=()=>{switch(console.log("Renderizando vista:",t),t){case"list":return o.createElement(Gpe,{ref:c,onAdd:v,onEdit:h,onView:E,onDelete:y});case"add":return o.createElement(Qpe,{onSave:N,onCancel:b});case"edit":return o.createElement(nge,{producto:r,onSave:I,onCancel:b});case"view":return o.createElement(age,{producto:r,onClose:b});default:return o.createElement("div",{className:"admin-wrapper"},o.createElement("div",{style:{textAlign:"center",padding:"2rem"}},"Vista no encontrada: ",t))}};return o.createElement("div",{className:"productos-main"},o.createElement(Fo,{visible:s.visible,mensaje:s.mensaje,tipo:s.tipo,onClose:f}),P(),a&&o.createElement(oge,{show:a,producto:r,onConfirm:w,onCancel:x}))}function sge({productosDisponibles:t=[],productosSeleccionados:e=[],setProductosSeleccionados:r,onClose:n,tipoProduccion:a="pedido",sedes:i=[]}){const[s,l]=p.useState(""),[c,u]=p.useState([]),[f,m]=p.useState("todas"),[v,h]=p.useState(1),E=8;p.useEffect(()=>{(async()=>{try{const R=await Is.obtenerCategoriasActivas();if(console.log(" Categoras cargadas:",R),u(R||[]),R&&R.length>0){const O=R[0].idcategoriaproducto;console.log(" Seleccionando primera categora:",O),m(O)}}catch(R){console.error(" Error al cargar categoras:",R),u([])}})()},[]),p.useEffect(()=>{t.length>0&&(console.log(" Total productos disponibles:",t.length),console.log(" Ejemplo de producto:",t[0]))},[t]);const y=L=>{if(e.some(O=>O.id===L.id))r(O=>O.filter(A=>A.id!==L.id));else{const O={...L,cantidad:1,receta:L.receta||null,sede:a==="pedido"?"":null};if(a==="fabrica"){const A={};i.forEach(T=>{A[T.nombre]=0}),O.cantidadesPorSede=A,O.cantidad=0}r(A=>[...A,O])}},b=p.useMemo(()=>{console.log(" Iniciando filtrado..."),console.log(" Total productos disponibles:",t.length),console.log(" Categora seleccionada:",f);const L=t.filter(R=>{const O=(R.nombre||R.nombreproducto||"").toLowerCase(),A=O.includes(s.toLowerCase());let T=!1;if(f==="todas")T=!0;else{const C=R.idcategoriaproducto||R.idcategoria||R.IdCategoriaProducto||R.IdCategoria;if(!C)return console.log(" Producto sin categora:",O,R),!1;const _=typeof C=="number"?C:parseInt(C),D=typeof f=="number"?f:parseInt(f);T=_===D,L.length<3&&console.log(" Producto:",O,{idCategoriaOriginal:C,idCategoriaNumerica:_,categoriaSeleccionada:D,coincide:T,estructuraCompleta:R})}return A&&T});return console.log(` Filtrados: ${L.length} de ${t.length} productos`),L},[t,s,f]),x=Math.ceil(b.length/E),w=(v-1)*E,N=w+E,I=b.slice(w,N);p.useEffect(()=>{h(1)},[s,f]);const P=L=>{L==="anterior"&&v>1?h(R=>R-1):L==="siguiente"&&v<x&&h(R=>R+1)};return o.createElement("div",{className:"modal-agregar-overlay"},o.createElement("div",{className:"modal-agregar-container"},o.createElement("button",{className:"modal-agregar-close",onClick:n},""),o.createElement("h2",{className:"modal-agregar-title"},"Seleccionar productos"),o.createElement("div",{className:"modal-agregar-controles"},o.createElement("input",{type:"text",placeholder:"Buscar productos...",value:s,onChange:L=>l(L.target.value),className:"modal-agregar-input"}),o.createElement("select",{value:f,onChange:L=>{const R=L.target.value==="todas"?"todas":parseInt(L.target.value);console.log(" Cambiando a categora:",R),m(R)},className:"modal-agregar-select"},o.createElement("option",{value:"todas"},"Todas las categoras"),c.map(L=>o.createElement("option",{key:L.idcategoriaproducto,value:L.idcategoriaproducto},L.nombrecategoria)))),o.createElement("div",{className:"modal-agregar-info"},"Mostrando ",I.length," de ",b.length," productos"),o.createElement("div",{className:"modal-agregar-grid"},I.length===0?o.createElement("div",{className:"modal-agregar-empty"},"No se encontraron productos"):I.map(L=>{const R=e.some(O=>O.id===L.id);return o.createElement("div",{key:L.id,className:`modal-agregar-card ${R?"seleccionado":""}`,onClick:()=>y(L)},R&&o.createElement("div",{className:"check-icon"},""),o.createElement("img",{src:L.imagen||L.urlimagen,alt:L.nombre||L.nombreproducto,onError:O=>{O.target.onerror=null,O.target.src="https://via.placeholder.com/160?text=Postre"}}),o.createElement("span",null,L.nombre||L.nombreproducto))})),x>1&&o.createElement("div",{className:"modal-agregar-paginacion"},o.createElement("button",{className:"paginacion-btn",onClick:()=>P("anterior"),disabled:v===1,title:"Pgina anterior"},""),o.createElement("span",{className:"paginacion-info"},"Pgina ",v," de ",x),o.createElement("button",{className:"paginacion-btn",onClick:()=>P("siguiente"),disabled:v===x,title:"Pgina siguiente"},"")),o.createElement("div",{className:"modal-agregar-footer"},o.createElement("button",{className:"cancel-btn",onClick:n},"Cancelar"),o.createElement("button",{className:"save-btn",onClick:n},"Guardar (",e.length,")"))))}function SF({receta:t,onClose:e}){var n;if(!t)return null;p.useEffect(()=>{console.log(" ModalDetalleReceta  receta:",t)},[t]);const r=()=>!t.insumos||t.insumos.length===0?o.createElement("p",null,"No hay insumos"):o.createElement("ul",{style:{listStyle:"none",padding:0}},t.insumos.map((a,i)=>{var u;const s=a.nombreinsumo??a.nombre??((u=a.insumo)==null?void 0:u.nombreinsumo)??a.insumoNombre??"Sin nombre",l=a.cantidad??"",c=a.unidadmedida??"";return o.createElement("li",{key:a.iddetallereceta??i,style:{padding:"8px",marginBottom:"4px",backgroundColor:"#f5f5f5",borderRadius:"4px"}}," ",s," ",l!==""?`- ${l} ${c}`:"")}));return o.createElement("div",{className:"receta-detalle-container"},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"}},t.imagen&&o.createElement("img",{src:t.imagen,alt:t.nombrereceta||t.nombre,width:"80",height:"80",style:{objectFit:"cover",borderRadius:"8px"}}),o.createElement("div",null,o.createElement("h2",{style:{margin:"0 0 8px 0"}},t.nombrereceta??t.nombre??"Receta"),o.createElement("p",{style:{margin:0,color:"#666"}},((n=t.insumos)==null?void 0:n.length)??0," insumos"))),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"20px"}},o.createElement("div",null,o.createElement("h3",null," Insumos necesarios:"),r()),o.createElement("div",null,o.createElement("h3",null," Especificaciones:"),o.createElement("textarea",{className:"form-input",style:{width:"100%",minHeight:"150px",resize:"none"},value:t.especificaciones??"",disabled:!0}))),o.createElement("div",{className:"modal-footer",style:{marginTop:"20px",display:"flex",gap:"10px",justifyContent:"flex-end"}},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e},"Cerrar")))}function CF({producto:t,onClose:e}){var n,a;if(!t)return null;const r=(n=t.insumos)!=null&&n.length?t.insumos:((a=t.receta)==null?void 0:a.insumos)||[];return o.createElement("div",{className:"insumos-modal-container"},o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"15px",marginBottom:"20px"}},o.createElement("img",{src:t.imagen,alt:t.nombre,width:"80",height:"80",style:{objectFit:"cover",borderRadius:"8px"}}),o.createElement("div",null,o.createElement("h2",{style:{margin:"0 0 8px 0"}},"Insumos para: ",t.nombre),o.createElement("p",{style:{margin:0,color:"#666"}},"Cantidad seleccionada: ",o.createElement("strong",null,t.cantidad||1)),o.createElement("p",{style:{margin:0,color:"#666"}},r.length," insumos necesarios"))),o.createElement("table",{className:"insumos-table",style:{width:"100%",borderCollapse:"collapse",marginTop:"20px"}},o.createElement("thead",null,o.createElement("tr",{style:{backgroundColor:"#f8f9fa"}},o.createElement("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6",fontWeight:"bold"}},"Cantidad"),o.createElement("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6",fontWeight:"bold"}},"Unidad"),o.createElement("th",{style:{padding:"12px",textAlign:"left",borderBottom:"2px solid #dee2e6",fontWeight:"bold"}},"Insumo"))),o.createElement("tbody",null,r.map((i,s)=>{var f;const l=(t.cantidad||1)*(i.cantidad||0),c=i.unidadmedida||i.unidad||"N/A",u=i.nombreinsumo||i.nombre||((f=i.insumo)==null?void 0:f.nombreinsumo)||"Sin nombre";return o.createElement("tr",{key:s,style:{borderBottom:"1px solid #dee2e6"}},o.createElement("td",{style:{padding:"12px",fontWeight:"bold",color:"#495057"}},l),o.createElement("td",{style:{padding:"12px",color:"#6c757d"}},c),o.createElement("td",{style:{padding:"12px",color:"#212529"}},u))}))),o.createElement("div",{className:"modal-footer",style:{marginTop:"20px",display:"flex",gap:"10px",justifyContent:"flex-end"}},o.createElement("button",{className:"modal-btn cancel-btn",onClick:e},"Cerrar")))}const xf="https://deliciasoft-backend-i6g9.onrender.com/api/produccion";class lge{constructor(){this.baseHeaders={"Content-Type":"application/json"}}async handleResponse(e){if(!e.ok){let r=`HTTP error! status: ${e.status}`,n=null;try{const i=await e.json();r=i.message||i.error||r,n=i,console.error(" ERROR COMPLETO DE LA API:",JSON.stringify(i,null,2))}catch(i){console.error(" No se pudo parsear la respuesta de error:",i)}const a=new Error(r);throw a.status=e.status,a.details=n,a}try{return await e.json()}catch{return{}}}async obtenerProducciones({tipo:e}={}){try{const r=e?`${xf}?tipo=${encodeURIComponent(e)}`:xf,n=await fetch(r,{method:"GET",headers:this.baseHeaders});return this.handleResponse(n)}catch(r){throw console.error(" Error al obtener producciones:",r),r}}async obtenerProduccionPorId(e){try{const r=await fetch(`${xf}/${e}`,{method:"GET",headers:this.baseHeaders});if(r.status===404)throw new Error("Produccin no encontrada");return this.handleResponse(r)}catch(r){throw console.error(` Error al obtener produccin ${e}:`,r),r}}async crearProduccion(e){try{console.log(" Enviando nueva produccin:",e);const r=await fetch(xf,{method:"POST",headers:this.baseHeaders,body:JSON.stringify(e)});return this.handleResponse(r)}catch(r){throw console.error(" Error al crear produccin:",r),r}}async actualizarProduccion(e,r){try{const n=await fetch(`${xf}/${e}`,{method:"PUT",headers:this.baseHeaders,body:JSON.stringify(r)});return this.handleResponse(n)}catch(n){throw console.error(` Error al actualizar produccin ${e}:`,n),n}}async actualizarEstado(e,r){try{console.log(` Actualizando estado de produccin ${e}:`,r);const n=await fetch(`${xf}/${e}`,{method:"PATCH",headers:this.baseHeaders,body:JSON.stringify(r)}),a=await this.handleResponse(n);return console.log(" Estado actualizado correctamente"),a}catch(n){throw console.error(` Error al actualizar estado de produccin ${e}:`,n),n}}async eliminarProduccion(e){const r=(e==null?void 0:e.idproduccion)||(e==null?void 0:e.id)||e;if(!r)throw new Error("ID de produccin no proporcionado");try{console.log(` Eliminando produccin con ID: ${r}`);const n=await fetch(`${xf}/${r}`,{method:"DELETE",headers:this.baseHeaders});return await this.handleResponse(n),console.log(" Produccin eliminada correctamente"),{success:!0,message:"Produccin eliminada exitosamente"}}catch(n){throw console.error(` Error al eliminar produccin ${r}:`,n),n}}}const Mb=new lge;function cge({pestanaActiva:t,procesos:e,setProcesos:r,showNotification:n,onCancelar:a}){const[i,s]=p.useState(!1),[l,c]=p.useState(!1),[u,f]=p.useState(null),[m,v]=p.useState(!1),[h,E]=p.useState(null),[y,b]=p.useState([]),[x,w]=p.useState([]),[N,I]=p.useState(!0),[P,L]=p.useState([]),[R,O]=p.useState(!0),[A,T]=p.useState({tipoProduccion:"fabrica",nombreProduccion:"",fechaCreacion:new Date().toISOString().split("T")[0]});p.useEffect(()=>{_(),C()},[]);const C=async()=>{try{O(!0);const ie=(await cu.obtenerSedes()).filter(G=>G.estado||G.activo);L(ie)}catch(J){console.error("Error cargando sedes:",J),n("Error al cargar las sedes","error"),L([])}finally{O(!1)}},_=async()=>{try{I(!0);const ie=(await Qs.obtenerProductosConRecetas()).filter(G=>G.estado===!0).map(G=>{var W;const te=G.receta?{...G.receta,nombre:G.receta.nombrereceta,especificaciones:G.receta.especificaciones,insumos:((W=G.receta.insumos)==null?void 0:W.map(B=>{var j;return{id:B.iddetallereceta,cantidad:B.cantidad,unidadmedida:B.unidadmedida,nombre:((j=B.insumo)==null?void 0:j.nombreinsumo)||"Sin nombre"}}))||[]}:null;return{id:G.idproductogeneral,nombre:G.nombreproducto,imagen:G.urlimagen||"https://via.placeholder.com/150",categoria:G.categoria,precio:G.precioproducto,receta:te,insumos:(te==null?void 0:te.insumos)||[],cantidad:1,cantidadesPorSede:{}}});w(ie)}catch(J){n("Error al cargar productos: "+J.message,"error"),w([])}finally{I(!1)}},D=(J,ie,G)=>{const te=parseInt(G)||0;b(W=>W.map(B=>{if(B.id===J){const j={...B.cantidadesPorSede,[ie]:te},U=Object.values(j).reduce((X,Z)=>X+(parseInt(Z)||0),0);return{...B,cantidadesPorSede:j,cantidad:U}}return B}))},z=J=>{b(ie=>ie.filter(G=>G.id!==J)),n("Producto eliminado de la lista")},V=async()=>{const J=A.nombreProduccion.trim();if(!J){n("El nombre de la produccin es obligatorio","error");return}if(J.length>30){n("El nombre no puede superar los 30 caracteres","error");return}if(e.some(W=>{var B;return((B=W.nombreProduccion)==null?void 0:B.toLowerCase())===J.toLowerCase()})){n("Ya existe una produccin con ese nombre","error");return}if(y.length===0){n("Debe agregar al menos un producto","error");return}if(y.filter(W=>Object.values(W.cantidadesPorSede||{}).reduce((j,U)=>j+(parseInt(U)||0),0)===0).length>0){n("Todos los productos deben tener al menos una cantidad en alguna sede","error");return}const te={TipoProduccion:"fabrica",nombreproduccion:J,fechapedido:A.fechaCreacion,fechaentrega:null,productos:y.map(W=>({id:W.id,cantidad:W.cantidad,cantidadesPorSede:W.cantidadesPorSede||{},sede:null}))};try{const W=await Mb.crearProduccion(te);if(!W||!W.idproduccion&&!W.id)throw new Error("La API devolvi respuesta invlida");const B={id:W.idproduccion||W.id,tipoProduccion:"fabrica",nombreProduccion:W.nombreproduccion,fechaCreacion:W.fechapedido,estadoProduccion:W.estadoproduccion,productos:y};r(j=>[B,...j]),n(`Produccin "${W.nombreproduccion}" creada exitosamente. Insumos descontados e inventario actualizado.`,"success"),a()}catch(W){console.error("Error al crear produccin:",W),n(W.message||"Error al guardar la produccin","error")}};return o.createElement(o.Fragment,null,o.createElement("div",{className:"compra-form-container"},o.createElement("div",{className:"header-info"},o.createElement("div",{className:"info-badge"},o.createElement("span",{className:"badge-icon"},""),o.createElement("span",null,"Productos disponibles: ",(x==null?void 0:x.length)||0))),(N||R)&&o.createElement("div",{className:"error-banner"},o.createElement("span",{className:"error-icon"},""),"Cargando datos..."),o.createElement("form",{onSubmit:J=>{J.preventDefault(),V()}},o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Informacin de la Produccin"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Tipo de Produccin"),o.createElement("input",{type:"text",className:"form-input",value:"Fbrica",disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Nombre de la Produccin",o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",name:"nombreProduccion",value:A.nombreProduccion,onChange:J=>T(ie=>({...ie,nombreProduccion:J.target.value})),className:"form-input",placeholder:"Ej: Produccin #1",maxLength:30,required:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha de creacin"),o.createElement("input",{type:"date",className:"form-input",value:A.fechaCreacion,disabled:!0})))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},""),"Productos agregados: (",y.length,")"),o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Imagen"),o.createElement("th",null,"Nombre"),P.map(J=>o.createElement("th",{key:J.id||J.idsede},J.nombre,o.createElement("span",{style:{color:"red"}},"*"))),o.createElement("th",null,"Total"),o.createElement("th",null,"Accin"))),o.createElement("tbody",null,y.length===0?o.createElement("tr",null,o.createElement("td",{colSpan:P.length+4,style:{textAlign:"center",padding:"20px",color:"#6b7280"}},"No hay productos en esta produccin")):y.map(J=>o.createElement("tr",{key:J.id,className:"product-row"},o.createElement("td",{style:{textAlign:"center"}},o.createElement("img",{src:J.imagen||"https://via.placeholder.com/50",alt:J.nombre,width:"50",height:"50",style:{objectFit:"cover",borderRadius:"8px"}})),o.createElement("td",{className:"product-name"},o.createElement("div",null,J.nombre),J.receta&&o.createElement("small",{style:{fontSize:"12px",color:"#6b7280"}},J.receta.nombre)),P.map(ie=>{var G;return o.createElement("td",{key:ie.id||ie.idsede,className:"quantity-cell"},o.createElement("input",{type:"number",min:"0",value:((G=J.cantidadesPorSede)==null?void 0:G[ie.nombre])||0,onChange:te=>D(J.id,ie.nombre,te.target.value),className:"quantity-input"}))}),o.createElement("td",{className:"quantity-cell"},o.createElement("span",{className:"quantity-display"},Object.values(J.cantidadesPorSede||{}).reduce((ie,G)=>ie+(parseInt(G)||0),0))),o.createElement("td",{className:"action-cell"},o.createElement("button",{type:"button",className:"delete-btn",onClick:()=>z(J.id),title:"Eliminar producto"},"")))))))),o.createElement("button",{type:"button",className:"add-products-btn",onClick:()=>s(!0),disabled:N||R},o.createElement("span",{className:"btn-icon"},"+"),"Agregar Productos"),o.createElement("div",{className:"action-buttons"},o.createElement("button",{type:"button",className:"btn btn-cancel",onClick:a},"Cancelar"),o.createElement("button",{className:"btn btn-save",type:"submit",disabled:N||R},o.createElement("span",{className:"btn-icon"},""),"Guardar"))),i&&o.createElement(Ta,{visible:i,onClose:()=>s(!1)},o.createElement(sge,{productosDisponibles:x,productosSeleccionados:y,setProductosSeleccionados:b,onClose:()=>s(!1),tipoProduccion:"fabrica",sedes:P})),l&&u&&o.createElement(Ta,{visible:l,onClose:()=>c(!1)},o.createElement(SF,{receta:u,onClose:()=>c(!1)})),m&&h&&o.createElement(Ta,{visible:m,onClose:()=>v(!1)},o.createElement(CF,{producto:h,onClose:()=>v(!1)}))))}const Qy={produccion:[{id:1,label:"Pendiente "},{id:2,label:"Empaquetando "},{id:3,label:"En produccin "},{id:4,label:"Decorado "},{id:5,label:"Empaquetado "},{id:6,label:"Entregado "},{id:99,label:"N/A "}],pedido:[{id:1,label:"Abonado "},{id:2,label:"Empaquetando "},{id:3,label:"En produccin "},{id:4,label:"Decorado "},{id:5,label:"Empaquetado "},{id:6,label:"Entregado a ventas "},{id:7,label:"Entregado al cliente "},{id:99,label:"N/A "}]},_P=Object.fromEntries(Qy.produccion.map(t=>[t.id,t.label])),LP=Object.fromEntries(Qy.pedido.map(t=>[t.id,t.label]));Object.fromEntries(Qy.produccion.map(t=>[t.label,t.id]));Object.fromEntries(Qy.pedido.map(t=>[t.label,t.id]));function uge({proceso:t,pestanaActiva:e,onClose:r}){var v;const[n,a]=p.useState(!1),[i,s]=p.useState(null),[l,c]=p.useState(!1),[u,f]=p.useState(null);if(!t)return null;const m=t.tipoProduccion==="fabrica";return o.createElement("div",{className:"compra-form-container",style:{maxWidth:"1100px",margin:"0 auto"}},o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"")," Informacin de la Produccin"),o.createElement("div",{className:"form-grid"},o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Nombre"),o.createElement("input",{type:"text",className:"form-input",value:t.nombreProduccion,disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha Creacin"),o.createElement("input",{type:"text",className:"form-input",value:t.fechaCreacion,disabled:!0})),t.tipoProduccion==="pedido"&&o.createElement(o.Fragment,null,o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Fecha Entrega"),o.createElement("input",{type:"text",className:"form-input",value:t.fechaEntrega||"N/A",disabled:!0})),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"N Pedido"),o.createElement("input",{type:"text",className:"form-input",value:t.numeroPedido||"N/A",disabled:!0}))),o.createElement("div",{className:"field-group"},o.createElement("label",{className:"field-label"},"Estado"),o.createElement("input",{type:"text",className:"form-input",value:e==="fabrica"?_P[t.estadoProduccion]||"N/A":LP[t.estadoPedido]||"N/A",disabled:!0})))),o.createElement("div",{className:"form-card"},o.createElement("h2",{className:"section-title"},o.createElement("span",{className:"title-icon"},"")," Productos (",((v=t.productos)==null?void 0:v.length)||0,")"),o.createElement("div",{className:"table-container"},o.createElement("table",{className:"products-table"},o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"Imagen"),o.createElement("th",null,"Nombre"),m?o.createElement(o.Fragment,null,o.createElement("th",null,"Distribucin por Sede"),o.createElement("th",null,"Total")):o.createElement(o.Fragment,null,o.createElement("th",null,"Sede"),o.createElement("th",null,"Cantidad")),o.createElement("th",null,"Receta"),o.createElement("th",null,"Insumos"))),o.createElement("tbody",null,!t.productos||t.productos.length===0?o.createElement("tr",null,o.createElement("td",{colSpan:6,style:{textAlign:"center",padding:"20px",color:"#6b7280"}},"No hay productos asociados a esta produccin")):t.productos.map((h,E)=>{const y=m&&h.cantidadesPorSede?Object.values(h.cantidadesPorSede).reduce((b,x)=>b+x,0):h.cantidad||0;return o.createElement("tr",{key:h.id||E},o.createElement("td",{style:{textAlign:"center"}},o.createElement("img",{src:h.imagen||"https://via.placeholder.com/50",alt:h.nombre||"Producto",width:"50",height:"50",style:{objectFit:"cover",borderRadius:"8px"}})),o.createElement("td",null,h.nombre||"Sin nombre"),m?o.createElement(o.Fragment,null,o.createElement("td",null,h.cantidadesPorSede?Object.entries(h.cantidadesPorSede).map(([b,x])=>o.createElement("div",{key:b},o.createElement("strong",null,b,":")," ",x," unidades")):o.createElement("span",{style:{color:"#6b7280"}},"No especificado")),o.createElement("td",null,y)):o.createElement(o.Fragment,null,o.createElement("td",null,h.sede||"No asignada"),o.createElement("td",null,h.cantidad||0)),o.createElement("td",null,h.receta?o.createElement("button",{className:"btn-small",onClick:()=>{s(h.receta),a(!0)}},"Ver receta"):"Sin receta"),o.createElement("td",null,h.insumos&&h.insumos.length>0?o.createElement("button",{className:"btn-small",onClick:()=>{const b=h.insumos.map(x=>({...x,cantidad:(parseFloat(x.cantidad)||0)*y}));f({...h,insumos:b}),c(!0)}},"Ver insumos (",h.insumos.length,")"):"Sin insumos"))}))))),o.createElement("div",{className:"action-buttons"},o.createElement("button",{className:"btn btn-cancel",onClick:r},"Cerrar")),n&&i&&o.createElement(Ta,{visible:n,onClose:()=>a(!1)},o.createElement(SF,{receta:i,onClose:()=>a(!1)})),l&&u&&o.createElement(Ta,{visible:l,onClose:()=>c(!1)},o.createElement(CF,{producto:u,onClose:()=>c(!1)})))}function dge({visible:t,proceso:e,onEliminar:r,onCancelar:n}){return!t||!e?null:o.createElement("div",{className:"eliminar-modal-container",style:{textAlign:"center"}},o.createElement("h2",{style:{color:"#d32f2f",marginBottom:"8px"}},"Confirmar Eliminacin"),o.createElement("hr",{style:{border:"1px solid #d32f2f",marginBottom:"15px"}}),o.createElement("p",{style:{fontSize:"16px",marginBottom:"20px"}},"Seguro que deseas eliminar la produccin ",o.createElement("br",null),o.createElement("strong",{style:{color:"#b71c1c"}},e.nombreProduccion),"?"),o.createElement("div",{className:"modal-footer",style:{display:"flex",justifyContent:"center",gap:"10px"}},o.createElement("button",{className:"modal-btn cancel-btn",style:{backgroundColor:"#ccc",color:"#000",padding:"8px 16px",borderRadius:"6px"},onClick:n},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",style:{backgroundColor:"#d32f2f",color:"#fff",padding:"8px 16px",borderRadius:"6px"},onClick:()=>r(e)},"Eliminar")))}const fge={1:[1,2],2:[2,3],3:[3,4],4:[4,5],5:[5,6],6:[6],99:[]},mge={1:[1,2],2:[1,2,3],3:[3,4],4:[4,5],5:[5,6,7],6:[6],7:[7],99:[]},pge=t=>[...fge[t]||[],99].map(r=>({id:r,label:_P[r]})),gge=t=>[...mge[t]||[],99].map(r=>({id:r,label:LP[r]}));function hge(){const[t,e]=p.useState(""),[r,n]=p.useState(!1),[a,i]=p.useState(null),[s,l]=p.useState(null),[c,u]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[f,m]=p.useState(!1),[v,h]=p.useState([]),[E,y]=p.useState("pedido"),[b,x]=p.useState(!1),{actualizarProducciones:w}=A7()||{};p.useEffect(()=>{(async()=>{x(!0);try{const _=await Mb.obtenerProducciones(),D=Array.isArray(_)?_.map(z=>{const V=(z.TipoProduccion||z.tipoProduccion||"").toLowerCase(),J=G=>G?typeof G=="string"&&G.includes("T")?G.split("T")[0]:G:new Date().toISOString().split("T")[0],ie=(z.detalleproduccion||[]).map(G=>({id:G.id,nombre:G.nombre,cantidad:parseFloat(G.cantidad||0),imagen:G.imagen,sede:G.sede||null,cantidadesPorSede:G.cantidadesPorSede||{},receta:G.receta||null,insumos:G.insumos||[]}));return{id:z.idproduccion??z.id,tipoProduccion:V||"fabrica",nombreProduccion:z.nombreproduccion||`Produccin #${z.idproduccion}`,fechaCreacion:J(z.fechapedido),fechaEntrega:J(z.fechaentrega),estadoProduccion:z.estadoproduccion||1,estadoPedido:z.estadopedido||1,numeroPedido:z.numeropedido||"",productos:ie}}):[];h(D)}catch(_){console.error("Error obteniendo procesos:",_),h([])}finally{x(!1)}})()},[]);const N=v.filter(C=>{var D,z;if(C.tipoProduccion!==E)return!1;const _=t.toLowerCase();return C.nombreProduccion&&C.nombreProduccion.toLowerCase().includes(_)||C.fechaCreacion&&C.fechaCreacion.toLowerCase().includes(_)||C.fechaEntrega&&C.fechaEntrega.toLowerCase().includes(_)||C.numeroPedido&&C.numeroPedido.toLowerCase().includes(_)||C.estadoPedido&&((D=LP[C.estadoPedido])==null?void 0:D.toLowerCase().includes(_))||C.estadoProduccion&&((z=_P[C.estadoProduccion])==null?void 0:z.toLowerCase().includes(_))}),I=(C,_="success")=>{u({visible:!0,mensaje:C,tipo:_}),setTimeout(()=>u(D=>({...D,visible:!1})),4e3)},P=()=>u({visible:!1,mensaje:"",tipo:"success"}),L=(C,_)=>{i(C),l(_),n(!0)},R=()=>{n(!1),l(null),i(null)},O=async(C,_,D)=>{try{console.log(` Actualizando ${_} a ${D} para produccin ${C}`);const z={};_==="estadoProduccion"?z.estadoproduccion=D:_==="estadoPedido"&&(z.estadopedido=D),console.log(" Enviando estados:",z),await Mb.actualizarEstado(C,z),h(V=>V.map(J=>J.id===C?{...J,[_]:D}:J)),I("Estado actualizado correctamente")}catch(z){console.error(" Error actualizando estado:",z),I(`Error al actualizar el estado: ${z.message}`,"error")}},A=async C=>{try{const _=C.idproduccion||C.id;if(!_){console.error(" No se encontr ID de produccin en el proceso:",C),I("Error: ID de produccin no encontrado","error");return}console.log(` Intentando eliminar produccin con ID: ${_}`);const D=await Mb.eliminarProduccion(_);console.log(" Respuesta del service eliminarProduccion:",D),h(z=>z.filter(V=>V.idproduccion!==_&&V.id!==_)),console.log(" Produccin removida del estado local"),R(),I("Produccin eliminada exitosamente")}catch(_){console.error(" Error al eliminar produccin:",_),I("Error al eliminar la produccin","error")}},T=(C,_)=>{const D=C[_],z=_==="estadoProduccion",J=(z?[6,99]:[6,7,99]).includes(D),ie=z?pge(D):gge(D),G=W=>({bg:"#E91E63",text:"#fff"}),te=G();return o.createElement("div",{style:{position:"relative",width:"fit-content",display:"inline-block"}},o.createElement("div",{style:{position:"relative"}},o.createElement("select",{value:D,onChange:W=>O(C.id,_,parseInt(W.target.value)),disabled:J,className:"estado-select-mejorado",style:{width:"180px",padding:"6px 28px 6px 10px",fontSize:"13px",fontWeight:"600",border:"none",borderRadius:"6px",appearance:"none",backgroundColor:te.bg,color:te.text,cursor:J?"not-allowed":"pointer",opacity:J?.6:1,boxShadow:J?"none":"0 2px 4px rgba(0, 0, 0, 0.1), inset 0 -2px 0 rgba(0, 0, 0, 0.1)",transition:"all 0.2s ease",textAlign:"left"}},ie.map(W=>{const B=G(W.id);return o.createElement("option",{key:W.id,value:W.id,style:{backgroundColor:B.bg,color:B.text,padding:"8px"}},W.label)})),!J&&o.createElement("div",{style:{position:"absolute",right:"10px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none",color:te.text,fontSize:"12px",opacity:.9,fontWeight:"bold"}},"")))};return o.createElement("div",{className:"admin-wrapper"},o.createElement(Fo,{visible:c.visible,mensaje:c.mensaje,tipo:c.tipo,onClose:P}),f?o.createElement(cge,{pestanaActiva:E,procesos:v,setProcesos:h,showNotification:I,onCancelar:()=>m(!1)}):r&&a==="visualizar"?o.createElement(uge,{proceso:s,pestanaActiva:E,onClose:R}):o.createElement(o.Fragment,null,o.createElement("div",{className:"admin-toolbar"},o.createElement(tc,{placeholder:"Buscar produccin...",value:t,onChange:e}),o.createElement("button",{className:"admin-button pink",onClick:()=>m(!0),type:"button"},o.createElement("i",{className:"fas fa-plus"})," Agregar")),o.createElement("div",{className:"ventas-header-container"},o.createElement("h2",{className:"admin-section-title"},"Gestin de produccin"),o.createElement("div",{className:"filter-buttons-container",style:{justifyContent:"flex-end"}},o.createElement("button",{className:`filter-tab ${E==="pedido"?"filter-tab-active":""}`,onClick:()=>y("pedido")},"Pedidos"),o.createElement("button",{className:`filter-tab ${E==="fabrica"?"filter-tab-active":""}`,onClick:()=>y("fabrica")},"Fbrica"))),b?o.createElement("div",{className:"admin-loading-container"},o.createElement(rc,null)):N.length===0?o.createElement("div",{className:"admin-content-empty"},'No hay producciones de tipo "',E,'" registradas'):o.createElement(o.Fragment,null,E==="pedido"?o.createElement(_s,{value:N,className:"admin-table compact-paginator",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"}},o.createElement(cr,{header:"N",body:(C,{rowIndex:_})=>_+1,style:{width:"50px"}}),o.createElement(cr,{field:"nombreProduccion",header:"Produccin"}),o.createElement(cr,{field:"fechaCreacion",header:"Fecha Creacin"}),o.createElement(cr,{field:"fechaEntrega",header:"Fecha Entrega"}),o.createElement(cr,{header:"Estado Pedido",body:C=>T(C,"estadoPedido")}),o.createElement(cr,{field:"numeroPedido",header:"N Pedido"}),o.createElement(cr,{header:"Acciones",body:C=>o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"3px"}},o.createElement(qn,{text:"Visualizar"},o.createElement("button",{className:"admin-button",onClick:()=>L("visualizar",C),style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-eye",style:{fontSize:"11px"}}))),o.createElement(qn,{text:"Eliminar"},o.createElement("button",{className:"admin-button",onClick:()=>L("eliminar",C),style:{background:"#ffebee",color:"#d32f2f",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-trash",style:{fontSize:"11px"}})))),style:{width:"100px"}})):o.createElement(_s,{value:N,className:"admin-table compact-paginator",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"}},o.createElement(cr,{header:"N",body:(C,{rowIndex:_})=>_+1,style:{width:"50px"}}),o.createElement(cr,{field:"nombreProduccion",header:"Produccin"}),o.createElement(cr,{field:"fechaCreacion",header:"Fecha Creacin"}),o.createElement(cr,{header:"Estado Produccin",body:C=>T(C,"estadoProduccion")}),o.createElement(cr,{header:"Acciones",body:C=>o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"3px"}},o.createElement(qn,{text:"Visualizar"},o.createElement("button",{className:"admin-button",onClick:()=>L("visualizar",C),style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-eye",style:{fontSize:"11px"}}))),o.createElement(qn,{text:"Eliminar"},o.createElement("button",{className:"admin-button",onClick:()=>L("eliminar",C),style:{background:"#ffebee",color:"#d32f2f",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-trash",style:{fontSize:"11px"}})))),style:{width:"100px"}}))),r&&a==="eliminar"&&o.createElement(Ta,{visible:r,onClose:R},o.createElement(dge,{visible:r,proceso:s,onEliminar:A,onCancelar:R}))))}const vge=({visible:t,mensaje:e,tipo:r,onClose:n})=>{if(!t)return null;const a=r==="success"?"#d4edda":"#f8d7da",i=r==="success"?"#155724":"#721c24",s=r==="success"?"#c3e6cb":"#f5c6cb";return o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"10px 20px",borderRadius:"5px",backgroundColor:a,color:i,border:`1px solid ${s}`,zIndex:1e3,boxShadow:"0 2px 10px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"10px"}},o.createElement("span",null,e),o.createElement("button",{onClick:n,style:{background:"none",border:"none",fontSize:"1.2em",cursor:"pointer",color:i}},""))},bge=({placeholder:t,value:e,onChange:r})=>o.createElement("input",{type:"text",placeholder:t,value:e,onChange:n=>r(n.target.value),style:{padding:"12px 16px",borderRadius:"8px",border:"1px solid #e0e0e0",width:"100%",fontSize:"14px",backgroundColor:"#f8f9fa",marginBottom:"20px",outline:"none",transition:"border-color 0.2s ease"},onFocus:n=>{n.target.style.borderColor="#007bff",n.target.style.backgroundColor="#ffffff"},onBlur:n=>{n.target.style.borderColor="#e0e0e0",n.target.style.backgroundColor="#f8f9fa"}}),yge=({visible:t,onClose:e,children:r})=>t?o.createElement("div",{style:{position:"fixed",top:"0",left:"0",right:"0",bottom:"0",width:"100vw",height:"100vh",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:9999,padding:"20px",boxSizing:"border-box"},onClick:n=>{n.target===n.currentTarget&&e()}},o.createElement("div",{style:{backgroundColor:"white",borderRadius:"12px",boxShadow:"0 20px 60px rgba(0, 0, 0, 0.3)",maxWidth:"1000px",width:"100%",maxHeight:"85vh",overflowY:"auto",position:"relative",transform:"translate(0, 0)",margin:"0"},onClick:n=>{n.stopPropagation()}},r)):null,g7=[{id:1,nombre:"Harina de Trigo",categoria:"Harinas",IdUnidadMedida:1,precio:15.75,imagen:"https://images.unsplash.com/photo-1586201375761-83865001e31c?w=200&h=200&fit=crop&crop=center"},{id:2,nombre:"Azcar Blanca",categoria:"Endulzantes",IdUnidadMedida:1,precio:12.5,imagen:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSuGrIouJPuNNVZvvsEjT5hjhfeA-6IasCyVw&sr"},{id:3,nombre:"Levadura Seca",categoria:"Fermentos",IdUnidadMedida:2,precio:8.25,imagen:"https://images.unsplash.com/photo-1509440159596-0249088772ff?w=200&h=200&fit=crop&crop=center"},{id:4,nombre:"Huevos A",categoria:"Lcteos",IdUnidadMedida:5,precio:18.9,imagen:"https://images.unsplash.com/photo-1518569656558-1f25e69d93d7?w=200&h=200&fit=crop&crop=center"},{id:5,nombre:"Mantequilla sin sal",categoria:"Lcteos",IdUnidadMedida:2,precio:22.4,imagen:"https://images.unsplash.com/photo-1589985270826-4b7bb135bc9d?w=200&h=200&fit=crop&crop=center"},{id:6,nombre:"Leche Entera",categoria:"Lcteos",IdUnidadMedida:3,precio:25.5,imagen:"https://images.unsplash.com/photo-1550583724-b2692b85b150?w=200&h=200&fit=crop&crop=center"},{id:7,nombre:"Chocolate Semiamargo",categoria:"Saborizantes",IdUnidadMedida:2,precio:35.75,imagen:"https://images.unsplash.com/photo-1511381939415-e44015466834?w=200&h=200&fit=crop&crop=center"},{id:8,nombre:"Esencia de Vainilla",categoria:"Saborizantes",IdUnidadMedida:4,precio:12.8,imagen:"https://sip.pochteca.net/media/blog/f/r/fragancia-de-vainilla-aroma-de-mexico-para-el-mundo.jpg"},{id:9,nombre:"Sal Refinada",categoria:"Condimentos",IdUnidadMedida:2,precio:4.5,imagen:"https://pinero.storage.googleapis.com/wp-content/uploads/2024/02/01165014/4-17.jpg"},{id:10,nombre:"Aceite Vegetal",categoria:"Grasas",IdUnidadMedida:3,precio:18.25,imagen:"https://images.unsplash.com/photo-1474979266404-7eaacbcd87c5?w=200&h=200&fit=crop&crop=center"}],Ege=[{label:"Seleccionar unidad...",value:"",disabled:!0},{label:"Kilogramos",value:1,text:"Kg"},{label:"Gramos",value:2,text:"gr"},{label:"Litros",value:3,text:"L"},{label:"Mililitros",value:4,text:"ml"},{label:"Unidades",value:5,text:"unidad"},{label:"Libras",value:6,text:"lb"},{label:"Onzas",value:7,text:"oz"},{label:"Tazas",value:8,text:"taza"},{label:"Cucharadas",value:9,text:"cda"},{label:"Cucharaditas",value:10,text:"cdta"}],P5=t=>{const e=Ege.find(r=>r.value===t);return e?e.text:""};function xge({initialData:t,onSave:e,onCancel:r,isEditing:n}){const[a,i]=p.useState(t||{NombreReceta:"",Especificaciones:""}),[s,l]=p.useState(t!=null&&t.insumos?JSON.parse(JSON.stringify(t.insumos)):[]),[c,u]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[f,m]=p.useState(!1),[v,h]=p.useState(""),[E,y]=p.useState(new Set);p.useEffect(()=>{i(t||{NombreReceta:"",Especificaciones:""}),l(t!=null&&t.insumos?JSON.parse(JSON.stringify(t.insumos)):[])},[t]),p.useEffect(()=>{const T=new Set(s.map(C=>C.id));y(T)},[s]);const b=(T,C="success")=>{u({visible:!0,mensaje:T,tipo:C})},x=()=>u({visible:!1,mensaje:"",tipo:"success"}),w=(T,C)=>{i(_=>({..._,[T]:C}))},N=()=>{const{NombreReceta:T}=a;return T.trim()?s.length===0?(b("Debe agregar al menos un insumo a la receta","error"),!1):!0:(b("El nombre de la receta es obligatorio.","error"),!1)},I=()=>{if(!N())return;const T={NombreReceta:a.NombreReceta,Especificaciones:a.Especificaciones,insumos:s.map(C=>({IdInsumo:C.id,IdUnidadMedida:C.IdUnidadMedida,Cantidad:parseFloat(C.cantidad),nombre:C.nombre,unidad:P5(C.IdUnidadMedida)}))};e(T)},P=g7.filter(T=>T.nombre.toLowerCase().includes(v.toLowerCase())||T.categoria.toLowerCase().includes(v.toLowerCase())),L=T=>{const C=new Set(E);C.has(T)?C.delete(T):C.add(T),y(C)},R=()=>{const T=g7.filter(_=>E.has(_.id)&&!s.some(D=>D.id===_.id));if(T.length===0){b("No hay nuevos insumos seleccionados para agregar.","error");return}const C=T.map(_=>({..._,cantidad:1}));l(_=>[..._,...C]),m(!1),y(new Set),b(`${T.length} insumo(s) agregado(s) exitosamente.`)},O=(T,C)=>{l(_=>_.map(D=>D.id===T?{...D,cantidad:Math.max(1,parseFloat(C)||0)}:D))},A=T=>{l(C=>C.filter(_=>_.id!==T)),b("Insumo eliminado de la lista de receta.")};return o.createElement("div",{className:"compra-form-container"},o.createElement(vge,{visible:c.visible,mensaje:c.mensaje,tipo:c.tipo,onClose:x}),o.createElement("h1",null,n?"Editar Receta":"Agregar Receta"),o.createElement("div",{className:"compra-fields-grid"},o.createElement("div",{className:"field-group",style:{gridColumn:"span 2"}},o.createElement("label",null,"Nombre de la Receta:*"),o.createElement("input",{type:"text",value:a.NombreReceta,onChange:T=>w("NombreReceta",T.target.value),className:"modal-input",maxLength:50})),o.createElement("div",{className:"field-group",style:{gridColumn:"span 2"}},o.createElement("label",null,"Especificaciones:"),o.createElement("textarea",{value:a.Especificaciones,onChange:T=>w("Especificaciones",T.target.value),className:"modal-input observaciones-field",maxLength:80,placeholder:"Descripcin de la receta..."}))),o.createElement("div",{className:"section-divider"}),o.createElement("div",{className:"detalle-section"},o.createElement("h2",null,"Insumos para la Receta*"),o.createElement("table",{className:"compra-detalle-table"},o.createElement("thead",{className:"p-datatable-thead"},o.createElement("tr",null,o.createElement("th",null,"Nombre Insumo"),o.createElement("th",null,"Cantidad"),o.createElement("th",null,"Unidad de Medida"),o.createElement("th",null,"Accin"))),o.createElement("tbody",{className:"p-datatable"},s.length===0?o.createElement("tr",null,o.createElement("td",{colSpan:"4",style:{textAlign:"center",padding:"1rem"}},'No hay insumos agregados, utiliza "agregar insumos " para aadirlos')):s.map(T=>o.createElement("tr",{key:T.id},o.createElement("td",null,T.nombre),o.createElement("td",null,o.createElement("input",{type:"number",min:"1",value:T.cantidad,onChange:C=>O(T.id,C.target.value),style:{width:"80px"}})),o.createElement("td",null,P5(T.IdUnidadMedida)),o.createElement("td",null,o.createElement("button",{className:"btn-eliminar",onClick:()=>A(T.id)},"Eliminar")))))),o.createElement("button",{className:"btn-agregar-insumos",onClick:()=>m(!0)},"+ Agregar Insumos")),o.createElement("div",{className:"compra-header-actions",style:{marginTop:"1rem",display:"flex",justifyContent:"flex-end",gap:"0.5rem"}},o.createElement("button",{className:"modal-btn cancel-btn",onClick:r},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:I},"Guardar")),f&&o.createElement(yge,{visible:f,onClose:()=>m(!1)},o.createElement("div",{style:{padding:"24px 24px 0 24px",borderBottom:"1px solid #e9ecef",display:"flex",justifyContent:"space-between",alignItems:"center"}},o.createElement("h2",{style:{margin:0,fontSize:"24px",fontWeight:"600",color:"#2c3e50"}},"Seleccionar Insumos"),o.createElement("button",{onClick:()=>m(!1),style:{background:"none",border:"none",fontSize:"24px",cursor:"pointer",color:"#6c757d",padding:"0",width:"30px",height:"30px",display:"flex",alignItems:"center",justifyContent:"center"}},"")),o.createElement("div",{style:{padding:"24px"}},o.createElement(bge,{placeholder:"Buscar insumo...",value:v,onChange:h}),o.createElement("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(280px, 1fr))",gap:"20px",maxHeight:"400px",overflowY:"auto",padding:"10px",justifyItems:"center"}},P.length===0?o.createElement("div",{style:{gridColumn:"1 / -1",textAlign:"center",color:"#6c757d",padding:"40px"}},"No se encontraron insumos."):P.map(T=>o.createElement("div",{key:T.id,style:{border:"1px solid #e9ecef",borderRadius:"12px",padding:"16px",backgroundColor:"white",boxShadow:"0 2px 8px rgba(0,0,0,0.08)",transition:"all 0.2s ease",cursor:"pointer",position:"relative",width:"280px"},onClick:()=>L(T.id),onMouseEnter:C=>{C.currentTarget.style.transform="translateY(-2px)",C.currentTarget.style.boxShadow="0 4px 16px rgba(0,0,0,0.12)"},onMouseLeave:C=>{C.currentTarget.style.transform="translateY(0)",C.currentTarget.style.boxShadow="0 2px 8px rgba(0,0,0,0.08)"}},o.createElement("input",{type:"checkbox",checked:E.has(T.id),onChange:()=>L(T.id),style:{position:"absolute",top:"12px",right:"12px",width:"18px",height:"18px",cursor:"pointer"}}),o.createElement("div",{style:{textAlign:"center",marginBottom:"12px"}},o.createElement("img",{src:T.imagen,alt:T.nombre,style:{width:"120px",height:"120px",objectFit:"cover",borderRadius:"8px",border:"1px solid #e9ecef"},onError:C=>{C.target.src="https://via.placeholder.com/120x120/f8f9fa/6c757d?text=Sin+Imagen"}})),o.createElement("div",{style:{textAlign:"center"}},o.createElement("h4",{style:{margin:"0 0 8px 0",fontSize:"16px",fontWeight:"600",color:"#2c3e50",lineHeight:"1.3"}},T.nombre),o.createElement("div",{style:{fontSize:"12px",color:"#6c757d",marginBottom:"8px"}},"Unidad: ",P5(T.IdUnidadMedida)),o.createElement("div",{style:{fontSize:"18px",fontWeight:"bold",color:"#000"}},"Precio: $",T.precio.toFixed(2))))))),o.createElement("div",{style:{padding:"16px 24px 24px 24px",borderTop:"1px solid #e9ecef",display:"flex",justifyContent:"space-between",alignItems:"center",backgroundColor:"#f8f9fa",borderBottomLeftRadius:"12px",borderBottomRightRadius:"12px"}},o.createElement("button",{onClick:()=>m(!1),style:{padding:"10px 20px",borderRadius:"6px",border:"1px solid #6c757d",backgroundColor:"white",color:"#6c757d",cursor:"pointer",fontSize:"14px",fontWeight:"500"}},"Cancelar"),o.createElement("button",{onClick:R,disabled:E.size===0,style:{padding:"10px 20px",borderRadius:"6px",border:"none",backgroundColor:E.size>0?"#ff69b4":"#ccc",color:"white",cursor:E.size>0?"pointer":"not-allowed",fontSize:"14px",fontWeight:"500",opacity:E.size>0?1:.6}},"Agregar (",E.size,")"))))}function wge(){const[t,e]=p.useState([]),[r,n]=p.useState(""),[a,i]=p.useState({visible:!1,mensaje:"",tipo:"success"}),[s,l]=p.useState(!1),[c,u]=p.useState(null),[f,m]=p.useState(null),[v,h]=p.useState("list");p.useEffect(()=>{e([{Idreceta:1,NombreReceta:"Pan Integral Casero",Especificaciones:"Receta bsica de pan con harina integral",estado:!0,tieneRelaciones:!0,insumos:[{id:1,nombre:"Harina de Trigo",Cantidad:1e3,unidad:"Gramos",IdUnidadMedida:2},{id:3,nombre:"Levadura Seca",Cantidad:10,unidad:"Gramos",IdUnidadMedida:2}]},{Idreceta:2,NombreReceta:"Torta de Chocolate Fudge",Especificaciones:"Torta rica en chocolate con glaseado cremoso",estado:!0,tieneRelaciones:!1,insumos:[{id:2,nombre:"Azcar Blanca",Cantidad:200,unidad:"Gramos",IdUnidadMedida:2},{id:4,nombre:"Huevos A",Cantidad:3,unidad:"Unidades",IdUnidadMedida:5}]},{Idreceta:3,NombreReceta:"Galletas de Avena y Pasas",Especificaciones:"Galletas saludables con avena y pasas",estado:!1,tieneRelaciones:!1,insumos:[]}])},[]);const E=z=>{const V=t.map(J=>J.Idreceta===z.Idreceta?{...J,estado:!J.estado}:J);e(V),y(`Receta ${z.estado?"inactivada":"activada"} exitosamente`)},y=(z,V="success")=>{i({visible:!0,mensaje:z,tipo:V})},b=()=>{i({visible:!1,mensaje:"",tipo:"success"})},x=({visible:z,mensaje:V,tipo:J,onClose:ie})=>{if(!z)return null;const G=J==="success"?"#d4edda":"#f8d7da",te=J==="success"?"#155724":"#721c24",W=J==="success"?"#c3e6cb":"#f5c6cb";return o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",padding:"10px 20px",borderRadius:"5px",backgroundColor:G,color:te,border:`1px solid ${W}`,zIndex:1e3,boxShadow:"0 2px 10px rgba(0,0,0,0.1)",display:"flex",alignItems:"center",gap:"10px"}},o.createElement("span",null,V),o.createElement("button",{onClick:ie,style:{background:"none",border:"none",fontSize:"1.2em",cursor:"pointer",color:te}},""))},w=({placeholder:z,value:V,onChange:J})=>o.createElement("input",{type:"text",placeholder:z,value:V,onChange:ie=>J(ie.target.value),className:"search-input",style:{padding:"8px 12px",borderRadius:"4px",border:"1px solid #ccc",width:"300px",fontSize:"14px"}}),N=({visible:z,onClose:V,children:J})=>z?o.createElement("div",{style:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",justifyContent:"center",alignItems:"center",zIndex:999}},o.createElement("div",{style:{backgroundColor:"white",padding:"20px",borderRadius:"8px",boxShadow:"0 4px 20px rgba(0, 0, 0, 0.2)",maxWidth:"90%",maxHeight:"90%",overflowY:"auto",minWidth:"400px"}},J)):null,I=(z,V=null)=>{u(z),m(V),l(!0)},P=()=>{l(!1),m(null),u(null)},L=()=>{if(f.tieneRelaciones){P(),y("No se puede eliminar la receta porque tiene relaciones asociadas","error");return}u("confirmarEliminar")},R=()=>{const z=t.filter(V=>V.Idreceta!==f.Idreceta);e(z),P(),y("Receta eliminada exitosamente")},O=()=>{h("add"),m(null)},A=z=>{if(!z.estado){y("No se puede editar una receta inactiva. Active la receta primero.","error");return}h("edit"),m(z)},T=z=>{if(!z.estado){y("No se puede eliminar una receta inactiva. Active la receta primero.","error");return}I("eliminar",z)},C=z=>{if(v==="edit"){const V=t.map(J=>J.Idreceta===f.Idreceta?{...z,Idreceta:f.Idreceta,estado:f.estado,tieneRelaciones:f.tieneRelaciones}:J);e(V),y("Receta actualizada exitosamente")}else{const V=Math.max(...t.map(J=>J.Idreceta),0)+1;e(J=>[...J,{...z,Idreceta:V,estado:!0,tieneRelaciones:!1}]),y("Receta agregada exitosamente")}h("list"),m(null)},_=()=>{h("list"),m(null)},D=t.filter(z=>z.Idreceta.toString().includes(r)||z.NombreReceta.toLowerCase().includes(r.toLowerCase())||z.Especificaciones.toLowerCase().includes(r.toLowerCase()));return o.createElement("div",{className:"admin-wrapper"},o.createElement(x,{visible:a.visible,mensaje:a.mensaje,tipo:a.tipo,onClose:b}),v==="list"&&o.createElement(o.Fragment,null,o.createElement("div",{className:"admin-toolbar"},o.createElement("button",{className:"admin-button pink",onClick:O,type:"button",style:{padding:"10px 18px",fontSize:"15px",fontWeight:"500"}},"+ Agregar"),o.createElement(w,{placeholder:"Buscar receta...",value:r,onChange:n})),o.createElement("h2",{className:"admin-section-title"},"Gestin de Recetas"),o.createElement(_s,{value:D,className:"admin-table compact-paginator",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"}},o.createElement(cr,{field:"Idreceta",header:"N"}),o.createElement(cr,{field:"NombreReceta",header:"Nombre  Receta"})," ",o.createElement(cr,{field:"Especificaciones",header:"Especificaciones"}),o.createElement(cr,{header:"Insumos",body:z=>{var V;return o.createElement("span",{style:{padding:"4px 8px",backgroundColor:"#f0f4f8",borderRadius:"4px",border:"1px solid #68d391",fontSize:"12px",color:"#2d5a43"}},((V=z.insumos)==null?void 0:V.length)||0)}}),o.createElement(cr,{header:"Estado",body:z=>o.createElement(Xo,{checked:z.estado,onChange:()=>E(z)})}),o.createElement(cr,{header:"Acciones",body:z=>o.createElement(o.Fragment,null,o.createElement("button",{className:"admin-button gray",title:"Visualizar",onClick:()=>I("visualizar",z)},""),o.createElement("button",{className:`admin-button ${z.estado?"yellow":"yellow disabled"}`,title:z.estado?"Editar":"No se puede editar - Receta inactiva",onClick:()=>A(z),disabled:!z.estado,style:{opacity:z.estado?1:.5,cursor:z.estado?"pointer":"not-allowed"}},""),o.createElement("button",{className:`admin-button ${z.estado?"red":"red disabled"}`,title:z.estado?"Eliminar":"No se puede eliminar - Receta inactiva",onClick:()=>T(z),disabled:!z.estado,style:{opacity:z.estado?1:.5,cursor:z.estado?"pointer":"not-allowed"}},""))})),c==="visualizar"&&f&&o.createElement(N,{visible:s,onClose:P},o.createElement("h2",{className:"modal-title"},"Detalles de la Receta"),o.createElement("div",{className:"modal-body"},o.createElement("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem"}},o.createElement("div",null,o.createElement("p",null,o.createElement("strong",null,"N:")," ",f.Idreceta),o.createElement("p",null,o.createElement("strong",null,"Nombre Receta:")," ",f.NombreReceta)),o.createElement("div",null,o.createElement("p",null,o.createElement("strong",null,"Estado:")," ",o.createElement("span",{style:{color:f.estado?"#28a745":"#dc3545",fontWeight:"bold"}},f.estado?"Activa":"Inactiva")))),o.createElement("div",{style:{marginTop:"1rem"}},o.createElement("p",null,o.createElement("strong",null,"Especificaciones:")),o.createElement("p",{style:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"#f5f5f5",borderRadius:"4px"}},f.Especificaciones||"N/A")),o.createElement("div",{style:{marginTop:"1rem"}},o.createElement("p",null,o.createElement("strong",null,"Insumos de la Receta:")),f.insumos&&f.insumos.length>0?o.createElement("div",{style:{marginTop:"0.5rem"}},f.insumos.map((z,V)=>o.createElement("div",{key:V,style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"0.5rem",backgroundColor:"#f8f9fa",borderRadius:"4px",border:"1px solid #e9ecef",marginBottom:"0.5rem"}},o.createElement("span",null,o.createElement("strong",null,z.nombre)),o.createElement("span",{style:{padding:"2px 8px",backgroundColor:"#e3f2fd",borderRadius:"12px",fontSize:"12px",color:"#1976d2"}},z.Cantidad," ",z.unidad)))):o.createElement("p",{style:{marginTop:"0.5rem",padding:"0.5rem",backgroundColor:"#fff3cd",borderRadius:"4px",border:"1px solid #ffeaa7",color:"#856404",textAlign:"center"}},"No hay insumos asignados a esta receta"))),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:P},"Cerrar"))),c==="eliminar"&&f&&o.createElement(N,{visible:s,onClose:P},o.createElement("h2",{className:"modal-title"},"Eliminar Receta"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"Est seguro que desea eliminar la receta con N"," ",o.createElement("strong",null,f.Idreceta),"?")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:P},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:L},"Eliminar"))),c==="confirmarEliminar"&&f&&o.createElement(N,{visible:s,onClose:P},o.createElement("h2",{className:"modal-title"},"Confirmar Eliminacin"),o.createElement("div",{className:"modal-body"},o.createElement("p",null,"Est completamente seguro que desea eliminar la receta con N"," ",o.createElement("strong",null,f.Idreceta),"?"),o.createElement("p",{style:{color:"#e53935",fontSize:"14px"}},"Esta accin no se puede deshacer y se eliminar toda la informacin de la receta.")),o.createElement("div",{className:"modal-footer"},o.createElement("button",{className:"modal-btn cancel-btn",onClick:P},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn",onClick:R},"Confirmar Eliminacin")))),(v==="add"||v==="edit")&&o.createElement(xge,{initialData:f,onSave:C,onCancel:_,isEditing:v==="edit"}))}function Sge({sedes:t,loading:e,onToggleActivo:r,onVerSede:n,onEditarSede:a,onEliminarSede:i,filtro:s,setFiltro:l,onAgregar:c,SearchBar:u}){const f=(h,E)=>E.rowIndex+1,m=h=>{const E=h.activo,y=h.activo;return o.createElement("div",{style:{display:"flex",justifyContent:"center",gap:"3px"}},o.createElement(qn,{text:"Visualizar"},o.createElement("button",{className:"admin-button",onClick:()=>n(h),disabled:e,style:{background:"#e3f2fd",color:"#1976d2",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-eye",style:{fontSize:"11px"}}))),o.createElement(qn,{text:E?"Editar":"Sede desactivada"},o.createElement("button",{className:"admin-button",onClick:()=>a(h),disabled:e||!E,style:{background:E?"#fff8e1":"#f5f5f5",color:E?"#f57c00":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:E?"pointer":"not-allowed",opacity:E?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-pen",style:{fontSize:"11px"}}))),o.createElement(qn,{text:y?"Eliminar":"Sede desactivada"},o.createElement("button",{className:"admin-button",onClick:()=>i(h),disabled:e||!y,style:{background:y?"#ffebee":"#f5f5f5",color:y?"#d32f2f":"#bbb",border:"none",borderRadius:"6px",width:"26px",height:"26px",cursor:y?"pointer":"not-allowed",opacity:y?1:.5,display:"flex",alignItems:"center",justifyContent:"center"}},o.createElement("i",{className:"fas fa-trash",style:{fontSize:"11px"}}))))},v=h=>o.createElement(Xo,{checked:h.activo,onChange:()=>r(h),disabled:e});return o.createElement(o.Fragment,null,u&&c&&o.createElement("div",{className:"admin-toolbar"},o.createElement(u,{placeholder:"Buscar sede...",value:s,onChange:l}),o.createElement("button",{className:"admin-button pink",onClick:c,type:"button"},o.createElement("i",{className:"fas fa-plus"})," Agregar")),o.createElement(_s,{value:t,className:"admin-table compact-paginator",paginator:!0,rows:5,rowsPerPageOptions:[5,10,25,50],tableStyle:{minWidth:"50rem"},emptyMessage:"No se encontraron sedes",loading:e,loadingIcon:"pi pi-spinner pi-spin",scrollable:!0,scrollHeight:"500px",size:"small",stripedRows:!0},o.createElement(cr,{header:"N",body:f,style:{width:"50px"}}),o.createElement(cr,{field:"nombre",header:"Nombre"}),o.createElement(cr,{field:"Direccion",header:"Direccin",style:{maxWidth:"280px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}),o.createElement(cr,{field:"Telefono",header:"Telfono"}),o.createElement(cr,{header:"Estado",body:v,style:{width:"80px"}}),o.createElement(cr,{header:"Acciones",body:m,style:{width:"100px"}})))}const Cge=["places"];function h7({formData:t,fileInputRef:e,onInputChange:r,onImageChange:n,onEliminarImagen:a,readOnly:i=!1}){const s="AIzaSyChcaitO44DwrtStITwPnMCNLI89JoIA4M",{isLoaded:l}=q9({googleMapsApiKey:s,libraries:Cge}),c=p.useRef(null),u=m=>{c.current=m},f=()=>{if(c.current){const m=c.current.getPlace();if(m&&m.formatted_address){const v=m.formatted_address.slice(0,30);r("Direccion",v)}}};return o.createElement("div",{className:"modal-grid"},o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Nombre: ",!i&&o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"text",value:t.nombre,onChange:m=>r("nombre",m.target.value),className:"modal-input",placeholder:"Ingrese el nombre de la sede",maxLength:"50",required:!0,disabled:i,readOnly:i}),!i&&o.createElement("small",{style:{color:"#666",fontSize:"12px"}},"Mnimo 2 caracteres, mximo 50")),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Direccin: ",!i&&o.createElement("span",{style:{color:"red"}},"*")),i?o.createElement("textarea",{value:t.Direccion,className:"modal-input",disabled:!0,readOnly:!0,style:{minHeight:"60px",resize:"vertical",fontFamily:"inherit"}}):l?o.createElement(dy,{onLoad:u,onPlaceChanged:f},o.createElement("input",{type:"text",value:t.Direccion,onChange:m=>r("Direccion",m.target.value.slice(0,30)),className:"modal-input",placeholder:"Busca una direccin vlida...",maxLength:30,disabled:i,readOnly:i})):o.createElement("input",{type:"text",value:t.Direccion,onChange:m=>r("Direccion",m.target.value.slice(0,30)),className:"modal-input",placeholder:"Direccin completa",maxLength:30,disabled:i,readOnly:i}),!i&&o.createElement("small",{style:{color:"#666",fontSize:"12px",display:"block",marginTop:"4px"}}," Escribe para ver sugerencias de direcciones reales (Google Maps)")),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Telfono: ",!i&&o.createElement("span",{style:{color:"red"}},"*")),o.createElement("input",{type:"tel",value:t.Telefono,onChange:m=>{const v=m.target.value.replace(/\D/g,"");v.length<=10&&r("Telefono",v)},className:"modal-input",placeholder:"3001234567",maxLength:"10",required:!0,disabled:i,readOnly:i}),!i&&o.createElement("small",{style:{color:"#666",fontSize:"12px"}},"Formato: 10 dgitos comenzando con 3")),!i&&o.createElement("div",{className:"modal-field",style:{gridColumn:"span 2"}},o.createElement("label",{className:"modal-label"},"Imagen:"),o.createElement("div",{style:{marginTop:"8px"}},o.createElement("input",{ref:e,type:"file",accept:"image/*",onChange:n,className:"modal-input",style:{marginBottom:"10px"}}),o.createElement("small",{style:{color:"#666",fontSize:"12px",display:"block",marginBottom:"10px"}},"Formatos permitidos: JPEG, PNG, GIF, WebP. Tamao mximo: 5MB"),t.imagenPreview&&o.createElement("div",{className:"sede-image-upload-container"},o.createElement("img",{src:t.imagenPreview,alt:"Preview",className:"sede-image-upload-preview",style:{opacity:1}}),o.createElement("button",{type:"button",onClick:a,className:"sede-image-delete-btn",title:"Eliminar imagen"},"")))))}function Pge({visible:t,tipo:e,sede:r,formData:n,loading:a,fileInputRef:i,onClose:s,onInputChange:l,onImageChange:c,onEliminarImagen:u,onGuardar:f,onConfirmarEliminar:m}){if(!t)return null;switch(e){case"agregar":return o.createElement(Ta,{visible:t,onClose:s},o.createElement("div",{className:"modal-header"},o.createElement("h2",{className:"modal-title"},"Agregar Sede")),o.createElement("div",{className:"modal-body"},o.createElement(h7,{formData:n,fileInputRef:i,onInputChange:l,onImageChange:c,onEliminarImagen:u,readOnly:!1})),o.createElement("div",{className:"modal-footer mt-2 flex justify-end gap-2"},o.createElement("button",{className:"modal-btn cancel-btn text-sm px-3 py-1",onClick:s,disabled:a},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn text-sm px-3 py-1",onClick:f,disabled:a},a?"Guardando...":"Guardar")));case"editar":return o.createElement(Ta,{visible:t,onClose:s},o.createElement("div",{className:"modal-header"},o.createElement("h2",{className:"modal-title"},"Editar Sede")),o.createElement("div",{className:"modal-body"},o.createElement(h7,{formData:n,fileInputRef:i,onInputChange:l,onImageChange:c,onEliminarImagen:u,readOnly:!1})),o.createElement("div",{className:"modal-footer mt-2 flex justify-end gap-2"},o.createElement("button",{className:"modal-btn cancel-btn text-sm px-3 py-1",onClick:s,disabled:a},"Cancelar"),o.createElement("button",{className:"modal-btn save-btn text-sm px-3 py-1",onClick:f,disabled:a},a?"Guardando...":"Actualizar")));case"ver":return o.createElement(Ta,{visible:t,onClose:s},o.createElement("div",{className:"modal-header"},o.createElement("h2",{className:"modal-title"},"Detalle de Sede")),o.createElement("div",{className:"modal-body"},o.createElement("div",{className:"modal-grid"},o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Nombre:"),o.createElement("input",{type:"text",value:(r==null?void 0:r.nombre)||"",className:"modal-input",disabled:!0,readOnly:!0})),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Direccin:"),o.createElement("textarea",{value:(r==null?void 0:r.Direccion)||"",className:"modal-input",disabled:!0,readOnly:!0,style:{minHeight:"60px",resize:"vertical",fontFamily:"inherit"}})),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Telfono:"),o.createElement("input",{type:"text",value:(r==null?void 0:r.Telefono)||"",className:"modal-input",disabled:!0,readOnly:!0})),o.createElement("div",{className:"modal-field"},o.createElement("label",{className:"modal-label"},"Estado:"),o.createElement("input",{type:"text",value:r!=null&&r.activo?"Activo":"Inactivo",className:"modal-input",disabled:!0,readOnly:!0,style:{color:r!=null&&r.activo?"#10b981":"#ef4444",fontWeight:"500"}})),(r==null?void 0:r.imagenUrl)&&o.createElement("div",{className:"modal-field",style:{gridColumn:"span 2"}},o.createElement("label",{className:"modal-label"},"Imagen:"),o.createElement("div",{className:"sede-image-container"},o.createElement("img",{src:r.imagenUrl,alt:`Imagen de ${r.nombre}`,className:"sede-image-preview",onError:v=>{v.target.style.display="none";const h=v.target.parentElement;h.innerHTML='<p class="sede-image-error">No se pudo cargar la imagen</p>'}}))),!(r!=null&&r.imagenUrl)&&o.createElement("div",{className:"modal-field",style:{gridColumn:"span 2"}},o.createElement("label",{className:"modal-label"},"Imagen:"),o.createElement("div",{className:"sede-no-image"},"No hay imagen disponible")))),o.createElement("div",{className:"modal-footer mt-2 flex justify-end gap-2"},o.createElement("button",{className:"modal-btn cancel-btn text-sm px-3 py-1",onClick:s},"Cerrar")));case"eliminar":return o.createElement(Ta,{visible:t,onClose:s,width:"460px"},o.createElement("div",{style:{padding:"20px 24px"}},o.createElement("h2",{style:{fontSize:"20px",fontWeight:"700",margin:0,color:"#111827",paddingBottom:"12px",borderBottom:"2px solid #ec4899"}},"Eliminar Sede")),o.createElement("div",{style:{padding:"24px"}},o.createElement("p",{style:{fontSize:"14px",color:"#111827",lineHeight:"1.6",margin:0}},"Seguro que quieres eliminar la sede"," ",o.createElement("strong",{style:{fontWeight:"600"}},r==null?void 0:r.nombre),"?")),o.createElement("div",{style:{display:"flex",gap:"12px",justifyContent:"flex-end",padding:"0 24px 24px 24px"}},o.createElement("button",{onClick:s,disabled:a,style:{padding:"8px 20px",fontSize:"14px",backgroundColor:"#d1d5db",color:"#374151",border:"none",borderRadius:"6px",cursor:a?"not-allowed":"pointer",fontWeight:"500",transition:"background-color 0.2s",opacity:a?.6:1},onMouseOver:v=>{a||(v.target.style.backgroundColor="#9ca3af")},onMouseOut:v=>{a||(v.target.style.backgroundColor="#d1d5db")}},"Cancelar"),o.createElement("button",{onClick:m,disabled:a,style:{backgroundColor:"#ec4899",color:"white",border:"none",padding:"8px 20px",borderRadius:"6px",cursor:a?"not-allowed":"pointer",fontWeight:"500",transition:"background-color 0.2s",opacity:a?.6:1},onMouseOver:v=>{a||(v.target.style.backgroundColor="#db2777")},onMouseOut:v=>{a||(v.target.style.backgroundColor="#ec4899")}},a?"Eliminando...":"Eliminar")));default:return null}}function Nge(t){const[e,r]=p.useState([]),[n,a]=p.useState(!1),[i,s]=p.useState(!1),[l,c]=p.useState(null),[u,f]=p.useState(null),[m,v]=p.useState({id:"",nombre:"",Direccion:"",Telefono:"",activo:!0,imagen:null,imagenPreview:null,imagenUrl:null}),h=p.useRef(null),E=async()=>{try{a(!0);const O=await cu.obtenerSedes();r(O)}catch(O){console.error("Error al cargar sedes:",O),t("Error al cargar las sedes","error")}finally{a(!1)}},y=async O=>{try{a(!0);const A=!O.activo;await cu.cambiarEstadoSede(O.id,A);const T=e.map(C=>C.id===O.id?{...C,activo:A}:C);r(T),t(`Sede ${O.activo?"desactivada":"activada"} exitosamente`)}catch(A){console.error("Error al cambiar estado:",A),t("Error al cambiar el estado de la sede","error")}finally{a(!1)}},b=(O,A=null)=>{c(O),f(A),O==="agregar"?v({id:"",nombre:"",Direccion:"",Telefono:"",activo:!0,imagen:null,imagenPreview:null,imagenUrl:null}):O==="editar"&&A&&v({...A,imagen:null,imagenPreview:A.imagenUrl||null,imagenUrl:A.imagenUrl||null}),s(!0)},x=()=>{s(!1),f(null),c(null),v({id:"",nombre:"",Direccion:"",Telefono:"",activo:!0,imagen:null,imagenPreview:null,imagenUrl:null}),h.current&&(h.current.value=""),console.log(" Modal cerrado y estado limpiado")},w=(O,A)=>{v(T=>({...T,[O]:A}))},N=O=>{const A=O.target.files[0];if(A){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(A.type)){t("Solo se permiten archivos de imagen (JPEG, PNG, GIF, WebP)","error"),O.target.value="";return}const C=5*1024*1024;if(A.size>C){t("El archivo es demasiado grande. Mximo 5MB permitido","error"),O.target.value="";return}const _=new FileReader;_.onload=D=>{v(z=>({...z,imagen:A,imagenPreview:D.target.result}))},_.readAsDataURL(A)}},I=()=>{v(O=>({...O,imagen:null,imagenPreview:null,imagenUrl:l==="editar"?null:O.imagenUrl})),h.current&&(h.current.value="")},P=()=>{const{nombre:O,Direccion:A,Telefono:T}=m;if(!O.trim())return t("El nombre es obligatorio","error"),!1;if(O.trim().length<2)return t("El nombre debe tener al menos 2 caracteres","error"),!1;if(O.trim().length>50)return t("El nombre no puede exceder 50 caracteres","error"),!1;if(!A.trim())return t("La direccin es obligatoria","error"),!1;if(A.trim().length<5)return t("La direccin debe tener al menos 5 caracteres","error"),!1;if(!T.trim())return t("El telfono es obligatorio","error"),!1;const C=T.replace(/\s/g,"");return/^3[0-9]{9}$/.test(C)?e.find(V=>V.nombre.toLowerCase().trim()===O.toLowerCase().trim()&&V.id!==((u==null?void 0:u.id)||0))?(t("Ya existe una sede con este nombre","error"),!1):e.find(V=>V.Telefono===C&&V.id!==((u==null?void 0:u.id)||0))?(t("Ya existe una sede con este nmero de telfono","error"),!1):!0:(t("Ingrese un nmero de telfono colombiano vlido (10 dgitos comenzando con 3)","error"),!1)};return{sedes:e,loading:n,modalVisible:i,modalTipo:l,sedeSeleccionada:u,formData:m,fileInputRef:h,cargarSedes:E,toggleActivo:y,abrirModal:b,cerrarModal:x,handleInputChange:w,handleImageChange:N,eliminarImagen:I,guardarSede:async()=>{var O;if(P())try{a(!0);const A=m.imagen&&m.imagen instanceof File&&m.imagen.size>0;console.log(" Estado de imagen:",{existe:!!m.imagen,esFile:m.imagen instanceof File,tamao:((O=m.imagen)==null?void 0:O.size)||0,tieneImagen:A});let T;if(A){console.log(" Enviando con FormData (CON imagen)");const _=new FormData;_.append("nombre",m.nombre.trim()),_.append("direccion",m.Direccion.trim()),_.append("telefono",m.Telefono.replace(/\s/g,"")),_.append("estado",m.activo?"true":"false"),_.append("imagen",m.imagen,m.imagen.name),T=_}else console.log(" Enviando con JSON (SIN imagen)"),T={nombre:m.nombre.trim(),direccion:m.Direccion.trim(),telefono:m.Telefono.replace(/\s/g,""),estado:m.activo};console.log(" Tipo de datos:",A?"FormData":"JSON"),console.log(" Datos a enviar:",A?"FormData (ver Network tab)":T);let C;if(l==="agregar")C=await cu.crearSede(T),r([...e,C]),t("Sede agregada exitosamente");else if(l==="editar"){C=await cu.actualizarSede(u.id,T);const _=e.map(D=>D.id===u.id?C:D);r(_),t("Sede actualizada exitosamente")}x()}catch(A){console.error(" Error al guardar sede:",A),t(A.message||"Error al guardar la sede","error")}finally{a(!1)}},confirmarEliminar:async()=>{try{a(!0),await cu.eliminarSede(u.id);const O=e.filter(A=>A.id!==u.id);r(O),x(),t("Sede eliminada exitosamente")}catch(O){console.error("Error al eliminar sede:",O);const A=O.message||"Error al eliminar la sede";t(A,"error")}finally{a(!1)}}}}function kge(){const[t,e]=p.useState(""),[r,n]=p.useState({visible:!1,mensaje:"",tipo:"success"}),{sedes:a,loading:i,modalVisible:s,modalTipo:l,sedeSeleccionada:c,formData:u,fileInputRef:f,cargarSedes:m,toggleActivo:v,abrirModal:h,cerrarModal:E,handleInputChange:y,handleImageChange:b,eliminarImagen:x,guardarSede:w,confirmarEliminar:N}=Nge(I);p.useEffect(()=>{m()},[]);function I(R,O="success"){n({visible:!0,mensaje:R,tipo:O})}function P(){n({visible:!1,mensaje:"",tipo:"success"})}const L=a.filter(R=>R.nombre.toLowerCase().includes(t.toLowerCase())||R.Direccion.toLowerCase().includes(t.toLowerCase())||R.Telefono.toLowerCase().includes(t.toLowerCase()));return o.createElement("div",{className:"admin-wrapper"},i&&o.createElement(rc,{mensaje:"Procesando...",fullScreen:!0}),o.createElement(Fo,{visible:r.visible,mensaje:r.mensaje,tipo:r.tipo,onClose:P}),o.createElement("h2",{className:"admin-section-title"},"Gestin de Sedes"),o.createElement(Sge,{sedes:L,loading:i,onToggleActivo:v,onVerSede:R=>h("ver",R),onEditarSede:R=>h("editar",R),onEliminarSede:R=>h("eliminar",R),filtro:t,setFiltro:e,onAgregar:()=>h("agregar"),SearchBar:tc}),o.createElement(Pge,{visible:s,tipo:l,sede:c,formData:u,loading:i,fileInputRef:f,onClose:E,onInputChange:y,onImageChange:b,onEliminarImagen:x,onGuardar:w,onConfirmarEliminar:N}))}const v7=({className:t="logout-btn",showText:e=!1,isDropdown:r=!1})=>{const n=po(),[a,i]=p.useState(!1);p.useEffect(()=>(a?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[a]);const s=v=>{v.preventDefault(),v.stopPropagation(),i(!0)},l=()=>{const v=localStorage.getItem("userName")||"Usuario";localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userData"),i(!1),setTimeout(()=>{u(`Hasta luego ${v}!`,"Has cerrado sesin exitosamente")},100),n("/"),setTimeout(()=>{window.location.reload()},500)},c=v=>{v.preventDefault(),v.stopPropagation(),i(!1)},u=(v,h,E)=>{const y=document.createElement("div");y.style.cssText=`
      position: fixed;
      top: 20px;
      right: 20px;
      background: linear-gradient(135deg, #ff69b4, #ff1493);
      color: white;
      padding: 20px 25px;
      border-radius: 15px;
      box-shadow: 0 10px 30px rgba(255, 105, 180, 0.3);
      z-index: 10001;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 600;
      font-size: 14px;
      max-width: 350px;
      animation: slideInToast 0.4s ease forwards;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    `,y.innerHTML=`
      <div style="display: flex; align-items: center; gap: 12px;">
        <span style="font-size: 24px;"></span>
        <div>
          <div style="font-weight: 700; margin-bottom: 4px;">${v}</div>
          <div style="font-weight: 500; opacity: 0.9; font-size: 13px;">${h}</div>
        </div>
      </div>
    `;const b=document.createElement("style");b.textContent=`
      @keyframes slideInToast {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      @keyframes slideOutToast {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    `,document.head.appendChild(b),document.body.appendChild(y),setTimeout(()=>{y.style.animation="slideOutToast 0.4s ease forwards",setTimeout(()=>{document.body.contains(y)&&document.body.removeChild(y),document.head.contains(b)&&document.head.removeChild(b)},400)},4e3)},f=r||t.includes("dropdown")?"logout-dropdown-btn":t,m=()=>o.createElement("div",{className:"logout-modal-overlay",onClick:c},o.createElement("div",{className:"logout-modal",onClick:v=>v.stopPropagation()},o.createElement("div",{className:"logout-modal-content"},o.createElement("div",{className:"logout-modal-icon"},""),o.createElement("h3",null,"Ests seguro que deseas cerrar sesin?"),o.createElement("p",null,"Tendrs que iniciar sesin nuevamente para acceder a tu perfil."),o.createElement("div",{className:"logout-modal-buttons"},o.createElement("button",{onClick:c,className:"logout-cancel-btn"},o.createElement("i",{className:"bi bi-x-circle"}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:l,className:"logout-confirm-btn"},o.createElement("i",{className:"bi bi-box-arrow-right"}),o.createElement("span",null,"Cerrar Sesin"))))));return o.createElement(o.Fragment,null,o.createElement("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css",rel:"stylesheet"}),o.createElement("button",{className:f,onClick:s,title:"Cerrar sesin"},o.createElement("i",{className:"bi bi-box-arrow-right"}),(e||r||t.includes("dropdown"))&&o.createElement("span",null,"Cerrar Sesin")),a&&zm.createPortal(o.createElement(m,null),document.body),o.createElement("style",null,`
        /* Estilos base para el botn de logout */
        .logout-btn {
          background: linear-gradient(135deg, #ff69b4, #ff1493);
          border: none;
          color: white;
          cursor: pointer;
          padding: 8px;
          border-radius: 50%;
          transition: all 0.3s ease;
          width: 40px;
          height: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          font-size: 18px;
          box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
          position: relative;
          overflow: hidden;
        }

        .logout-btn:hover {
          background: linear-gradient(135deg, #ff1493, #dc143c);
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(255, 105, 180, 0.4);
        }

        .logout-btn:active {
          transform: translateY(0);
        }

        .logout-btn i {
          font-size: 18px;
        }

        /* Botn en dropdown */
        .logout-dropdown-btn {
          width: 100%;
          padding: 0.75rem 1rem;
          background: linear-gradient(135deg, #ff69b4, #ff1493);
          border: none;
          color: white;
          font-size: 14px;
          font-weight: 600;
          border-radius: 8px;
          cursor: pointer;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          justify-content: center;
          gap: 0.5rem;
          box-shadow: 0 2px 8px rgba(255, 105, 180, 0.3);
        }

        .logout-dropdown-btn:hover {
          background: linear-gradient(135deg, #ff1493, #dc143c);
          transform: translateY(-2px);
          box-shadow: 0 4px 12px rgba(255, 105, 180, 0.4);
        }

        .logout-dropdown-btn i {
          font-size: 16px;
        }

        /* Modal de confirmacin mejorado */
        .logout-modal-overlay {
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          bottom: 0;
          background: linear-gradient(135deg, rgba(0, 0, 0, 0.5), rgba(255, 105, 180, 0.15));
          display: flex;
          align-items: center;
          justify-content: center;
          z-index: 999999;
          backdrop-filter: blur(10px);
          animation: fadeInBackdrop 0.3s ease forwards;
          padding: 20px;
        }

        .logout-modal {
          background: white;
          border-radius: 24px;
          padding: 2.5rem;
          max-width: 450px;
          width: 100%;
          text-align: center;
          box-shadow: 0 20px 60px rgba(255, 105, 180, 0.4);
          border: 2px solid #ff69b4;
          animation: slideUpModal 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
          position: relative;
          z-index: 1000000;
        }

        .logout-modal-content {
          position: relative;
          z-index: 2;
        }

        .logout-modal-icon {
        font-size: 4rem;
        margin-bottom: 1.5rem;
        background: linear-gradient(135deg, #ff69b4, #ff1493);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: bounceIcon 2s ease-in-out infinite;
        display: inline-block;
      }


        .logout-modal h3 {
          color: #1f2937;
          margin-bottom: 1rem;
          font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
          font-weight: 700;
          font-size: 1.5rem;
        }

        .logout-modal p {
          color: #374151;
          margin-bottom: 2rem;
          line-height: 1.6;
          font-size: 1rem;
        }

        .logout-modal-buttons {
          display: flex;
          gap: 1rem;
          justify-content: center;
          flex-wrap: wrap;
        }

        .logout-cancel-btn {
          background: linear-gradient(135deg, #6b7280, #374151);
          color: white;
          border: none;
          border-radius: 25px;
          padding: 1rem 1.8rem;
          cursor: pointer;
          font-size: 0.95rem;
          font-weight: 600;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          gap: 8px;
          box-shadow: 0 4px 15px rgba(107, 114, 128, 0.3);
        }

        .logout-cancel-btn:hover {
          background: linear-gradient(135deg, #374151, #1f2937);
          transform: translateY(-2px);
          box-shadow: 0 6px 20px rgba(107, 114, 128, 0.4);
        }

        .logout-confirm-btn {
          background: linear-gradient(135deg, #ff69b4, #ff1493);
          color: white;
          border: none;
          border-radius: 25px;
          padding: 1rem 1.8rem;
          cursor: pointer;
          font-size: 0.95rem;
          font-weight: 600;
          transition: all 0.3s ease;
          display: flex;
          align-items: center;
          gap: 8px;
          box-shadow: 0 4px 15px rgba(255, 105, 180, 0.3);
        }

        .logout-confirm-btn:hover {
          background: linear-gradient(135deg, #ff1493, #dc143c);
          transform: translateY(-2px) scale(1.02);
          box-shadow: 0 6px 25px rgba(255, 105, 180, 0.5);
        }

        .logout-confirm-btn:active,
        .logout-cancel-btn:active {
          transform: translateY(0) scale(0.98);
        }

        /* Animaciones */
        @keyframes fadeInBackdrop {
          from { opacity: 0; }
          to { opacity: 1; }
        }

        @keyframes slideUpModal {
          from { 
            opacity: 0;
            transform: translateY(50px) scale(0.9);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        @keyframes bounceIcon {
          0%, 100% { transform: translateY(0); }
          50% { transform: translateY(-10px); }
        }

        /* Responsive */
        @media (max-width: 768px) {
          .logout-modal {
            margin: 20px;
            padding: 2rem;
          }
          
          .logout-modal-buttons {
            flex-direction: column;
            width: 100%;
          }
          
          .logout-cancel-btn,
          .logout-confirm-btn {
            width: 100%;
            justify-content: center;
          }
          
          .logout-modal-icon {
            font-size: 3rem;
          }
          
          .logout-modal h3 {
            font-size: 1.3rem;
          }
        }
      `))},Age=({message:t,type:e,onClose:r})=>{p.useEffect(()=>{const a=setTimeout(()=>{r()},4e3);return()=>clearTimeout(a)},[r]);const n=()=>e==="warning"?"":e==="error"?"":e==="success"?"":"";return o.createElement("div",{style:{position:"fixed",top:"20px",right:"20px",background:"linear-gradient(135deg, #ec4899 0%, #f06292 100%)",borderRadius:"16px",padding:"20px 24px",boxShadow:"0 10px 30px rgba(236, 72, 153, 0.4)",zIndex:1e4,minWidth:"340px",maxWidth:"420px",border:"2px solid rgba(255, 255, 255, 0.3)",animation:"slideInRight 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55)",display:"flex",alignItems:"flex-start",gap:"16px",backdropFilter:"blur(10px)"}},o.createElement("div",{style:{fontSize:"28px",flexShrink:0,backgroundColor:e==="warning"?"#FFD54A":"rgba(255, 255, 255, 0.95)",width:"48px",height:"48px",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"}},n()),o.createElement("div",{style:{flex:1,paddingTop:"4px"}},o.createElement("p",{style:{margin:0,color:"white",fontSize:"15px",lineHeight:"1.6",fontWeight:"500",whiteSpace:"pre-line",textShadow:"0 1px 2px rgba(0, 0, 0, 0.1)"}},t)),o.createElement("button",{onClick:r,style:{background:"rgba(255, 255, 255, 0.2)",border:"none",color:"white",fontSize:"22px",cursor:"pointer",padding:"4px",width:"32px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,borderRadius:"8px",transition:"background 0.2s ease",fontWeight:"bold"},onMouseEnter:a=>a.currentTarget.style.background="rgba(255, 255, 255, 0.3)",onMouseLeave:a=>a.currentTarget.style.background="rgba(255, 255, 255, 0.2)"},""),o.createElement("style",null,`
        @keyframes slideInRight {
          from {
            transform: translateX(450px) scale(0.9);
            opacity: 0;
          }
          to {
            transform: translateX(0) scale(1);
            opacity: 1;
          }
        }
      `))},Oge=({isAuthenticated:t=!1})=>{const[e,r]=p.useState(!1),[n,a]=p.useState(!1),[i,s]=p.useState(!1),[l,c]=p.useState(!1),[u,f]=p.useState(t),[m,v]=p.useState(null),h=Wd(),E=po(),y=p.useRef(null),b=p.useRef(null),{carrito:x,actualizarCantidadCarrito:w,eliminarDelCarrito:N,setCarrito:I}=p.useContext(ps),[P,L]=p.useState(localStorage.getItem("userEmail")||"usuario@email.com"),[R,O]=p.useState(localStorage.getItem("userName")||"Usuario");p.useEffect(()=>{const B=localStorage.getItem("deliciasoft_cart_v1");if(B)try{const j=JSON.parse(B);Array.isArray(j)&&j.length>0&&(console.log(" Carrito cargado desde localStorage:",j),I(j))}catch(j){console.error(" Error al cargar carrito:",j)}},[I]),p.useEffect(()=>{x&&x.length>=0&&(localStorage.setItem("deliciasoft_cart_v1",JSON.stringify(x)),console.log(" Carrito guardado en localStorage:",x))},[x]);const A=(B,j="info")=>{v({message:B,type:j})};p.useEffect(()=>{const B=()=>{window.scrollY>10?a(!0):a(!1)};return window.addEventListener("scroll",B),()=>window.removeEventListener("scroll",B)},[]),p.useEffect(()=>{const B=j=>{l&&y.current&&!y.current.contains(j.target)&&b.current&&!b.current.contains(j.target)&&c(!1)};return document.addEventListener("mousedown",B),()=>document.removeEventListener("mousedown",B)},[l]),p.useEffect(()=>{const B=()=>{const X=localStorage.getItem("authToken"),Z=localStorage.getItem("userEmail"),me=localStorage.getItem("userName");f(!!X),Z&&L(Z),me&&O(me)};B();const j=X=>{console.log(" Login exitoso detectado en ventana principal"),B();const Z=localStorage.getItem("redirectAfterLogin");Z?(localStorage.removeItem("redirectAfterLogin"),setTimeout(()=>{E(Z),window.location.reload()},500)):window.location.reload()};window.addEventListener("storage",B),window.addEventListener("loginSuccess",j);const U=setInterval(B,1e3);return()=>{window.removeEventListener("storage",B),window.removeEventListener("loginSuccess",j),clearInterval(U)}},[E]);const T=()=>{r(!e)},C=()=>{s(!i)},_=()=>{c(!l)},D=B=>h.pathname===B,z=B=>{if(B.preventDefault(),localStorage.setItem("loginOpenerUrl",window.location.pathname),window.open("/iniciar-sesion","_blank")){const U=X=>{X.key==="authToken"&&X.newValue&&(console.log(" Login detectado en otra pestaa, sincronizando..."),setTimeout(()=>{const Z=localStorage.getItem("userRole"),me=localStorage.getItem("redirectAfterLogin");me?(localStorage.removeItem("redirectAfterLogin"),E(me)):E(Z==="admin"?"/admin/pages/Dashboard":"/"),window.location.reload()},500),window.removeEventListener("storage",U))};window.addEventListener("storage",U),setTimeout(()=>{window.removeEventListener("storage",U)},3e5)}},V=B=>{N(B)},J=(B,j)=>{j<=0?N(B):w(B,j)},ie=()=>x.reduce((B,j)=>B+j.precio*j.cantidad,0),G=()=>{c(!1),E("/pedidos")},te=()=>{const B=x.reduce((U,X)=>U+X.cantidad,0);if(console.log(" Checkout desde navbar"),console.log(" Cantidad total:",B),console.log(" Productos:",x),B<10){A(` Necesitas al menos 10 productos para continuar.
Tienes: ${B} productos.`,"warning");return}if(B>100){A(` Mximo 100 productos permitidos.
Tienes: ${B} productos.`,"warning");return}if(!localStorage.getItem("authToken")){A(" Debes iniciar sesin para continuar con tu pedido","warning"),c(!1),setTimeout(()=>{E("/iniciar-sesion")},1e3);return}localStorage.setItem("carritoParaPersonalizar",JSON.stringify(x)),console.log(" Carrito guardado en localStorage"),c(!1),console.log(" Navegando a /pedidos/personalizar"),E("/pedidos/personalizar")},W=x.reduce((B,j)=>B+j.cantidad,0);return o.createElement(o.Fragment,null,m&&o.createElement(Age,{message:m.message,type:m.type,onClose:()=>v(null)}),o.createElement("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css",rel:"stylesheet"}),o.createElement("nav",{className:`cliente-nav-container ${n?"scrolled":""}`},o.createElement("div",{className:"cliente-nav-content"},o.createElement(cs,{to:"/",className:"cliente-nav-logo"},o.createElement("img",{src:"/imagenes/logo-delicias-darsy.png",alt:"Delicias Darsy"})),o.createElement("div",{className:"cliente-nav-links"},o.createElement(cs,{to:"/",className:`cliente-nav-link ${D("/")?"active":""}`},"INICIO"),o.createElement(cs,{to:"/pedidos",className:`cliente-nav-link ${D("/pedidos")?"active":""}`},"PEDIDOS"),o.createElement(cs,{to:"/sedes",className:`cliente-nav-link ${D("/sedes")?"active":""}`},"SEDES"),o.createElement(cs,{to:"/conocenos",className:`cliente-nav-link ${D("/conocenos")?"active":""}`},"CONCENOS"),o.createElement(cs,{to:"/contactenos",className:`cliente-nav-link ${D("/contactenos")?"active":""}`},"CONTCTENOS"),o.createElement("div",{style:{position:"relative"}},o.createElement("button",{ref:b,onClick:_,className:"cart-icon-link",title:"Ver Carrito",style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",padding:"0.5rem",color:"#111827",transition:"color 0.3s ease",background:"none",border:"none",cursor:"pointer"},onMouseEnter:B=>B.currentTarget.style.color="#ec4899",onMouseLeave:B=>B.currentTarget.style.color="#111827"},o.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"28",height:"28",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},o.createElement("circle",{cx:"9",cy:"21",r:"1"}),o.createElement("circle",{cx:"20",cy:"21",r:"1"}),o.createElement("path",{d:"M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"})),W>0&&o.createElement("span",{style:{position:"absolute",top:"-5px",right:"-5px",backgroundColor:"#ec4899",color:"white",borderRadius:"50%",width:"20px",height:"20px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"11px",fontWeight:"bold",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",animation:"pulse 0.5s ease-in-out"}},W)),l&&o.createElement("div",{ref:y,style:{position:"absolute",top:"60px",right:"0",width:"400px",maxHeight:"500px",backgroundColor:"white",borderRadius:"15px",boxShadow:"0 10px 40px rgba(0,0,0,0.2)",zIndex:1e3,border:"2px solid #f0f2f5",animation:"slideDown 0.3s ease forwards"}},o.createElement("div",{style:{padding:"20px",borderBottom:"2px solid #f0f2f5"}},o.createElement("h3",{style:{margin:0,fontSize:"18px",fontWeight:"700",color:"#495057"}}," Mi Carrito (",x.length,")")),x.length===0?o.createElement("div",{style:{padding:"40px 20px",textAlign:"center"}},o.createElement("div",{style:{fontSize:"60px",marginBottom:"15px"}},""),o.createElement("p",{style:{color:"#6c757d",marginBottom:"20px"}},"Tu carrito est vaco"),o.createElement("button",{onClick:G,style:{padding:"10px 20px",border:"none",borderRadius:"10px",background:"linear-gradient(45deg, #e91e63, #f06292)",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer"}},"Ver Productos")):o.createElement(o.Fragment,null,o.createElement("div",{style:{maxHeight:"300px",overflowY:"auto",padding:"15px"}},x.map(B=>o.createElement("div",{key:B.id,style:{display:"flex",gap:"12px",padding:"12px",marginBottom:"10px",background:"#f8f9fa",borderRadius:"10px",alignItems:"center"}},o.createElement("div",{style:{width:"60px",height:"60px",borderRadius:"8px",overflow:"hidden",flexShrink:0,backgroundImage:`url(${B.imagen})`,backgroundSize:"cover",backgroundPosition:"center"}}),o.createElement("div",{style:{flex:1,minWidth:0}},o.createElement("h4",{style:{margin:"0 0 5px 0",fontSize:"14px",fontWeight:"600",color:"#343a40",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},B.nombre),o.createElement("p",{style:{margin:"0 0 8px 0",fontSize:"13px",color:"#e91e63",fontWeight:"600"}},"$",B.precio.toLocaleString()),o.createElement("div",{style:{display:"flex",alignItems:"center",gap:"8px"}},o.createElement("button",{onClick:()=>J(B.id,B.cantidad-1),style:{width:"25px",height:"25px",border:"none",borderRadius:"5px",background:"#dc3545",color:"white",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},"-"),o.createElement("span",{style:{fontSize:"14px",fontWeight:"600",minWidth:"25px",textAlign:"center"}},B.cantidad),o.createElement("button",{onClick:()=>J(B.id,B.cantidad+1),style:{width:"25px",height:"25px",border:"none",borderRadius:"5px",background:"#28a745",color:"white",fontSize:"14px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center"}},"+"),o.createElement("button",{onClick:()=>V(B.id),style:{marginLeft:"auto",background:"none",border:"none",color:"#dc3545",fontSize:"18px",cursor:"pointer",padding:"0",width:"25px",height:"25px",display:"flex",alignItems:"center",justifyContent:"center"},title:"Eliminar"},"")))))),o.createElement("div",{style:{padding:"15px 20px",borderTop:"2px solid #f0f2f5"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"15px",fontSize:"16px",fontWeight:"700",color:"#495057"}},o.createElement("span",null,"Total:"),o.createElement("span",{style:{color:"#e91e63"}},"$",ie().toLocaleString())),o.createElement("div",{style:{display:"flex",gap:"10px"}},o.createElement("button",{onClick:G,style:{flex:1,padding:"10px",border:"2px solid #e91e63",borderRadius:"10px",background:"white",color:"#e91e63",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"all 0.3s ease"}},"Ver Ms Productos"),o.createElement("button",{onClick:te,style:{flex:1,padding:"10px",border:"none",borderRadius:"10px",background:"linear-gradient(45deg, #e91e63, #f06292)",color:"white",fontSize:"14px",fontWeight:"600",cursor:"pointer",boxShadow:"0 2px 8px rgba(233,30,99,0.3)"}}," Comprar")))))),u?o.createElement("div",{className:"user-menu-container",style:{position:"relative"}},o.createElement("button",{className:"user-avatar-btn",onClick:C,title:`Perfil de ${R}`},o.createElement("i",{className:"bi bi-person-circle"})),i&&o.createElement("div",{className:"user-dropdown-menu"},o.createElement("div",{style:{padding:"0.5rem 0",borderBottom:"1px solid #e9ecef",marginBottom:"0.5rem"}},o.createElement("p",{style:{margin:0,fontWeight:"bold",color:"#333",fontSize:"14px"}},R),o.createElement("p",{style:{margin:0,color:"#666",fontSize:"12px"}},P)),o.createElement(cs,{to:"/perfil",className:"user-menu-item",onClick:()=>s(!1)}," Mi Perfil"),o.createElement("div",{style:{borderTop:"1px solid #e9ecef",paddingTop:"0.5rem"}},o.createElement(v7,{className:"logout-dropdown-btn",isDropdown:!0})))):o.createElement("button",{onClick:z,className:"cliente-nav-button",style:{cursor:"pointer"}},"INICIAR SESIN")),o.createElement("button",{onClick:T,className:"cliente-nav-mobile-button"},o.createElement("i",{className:"bi bi-list",style:{fontSize:"24px"}}))),o.createElement("div",{className:`cliente-nav-mobile-menu ${e?"visible":""}`},o.createElement(cs,{to:"/",className:`cliente-nav-link ${D("/")?"active":""}`,onClick:()=>r(!1)},"INICIO"),o.createElement(cs,{to:"/pedidos",className:`cliente-nav-link ${D("/pedidos")?"active":""}`,onClick:()=>r(!1)},"PEDIDOS"),o.createElement(cs,{to:"/sedes",className:`cliente-nav-link ${D("/sedes")?"active":""}`,onClick:()=>r(!1)},"SEDES"),o.createElement(cs,{to:"/conocenos",className:`cliente-nav-link ${D("/conocenos")?"active":""}`,onClick:()=>r(!1)},"CONCENOS"),o.createElement(cs,{to:"/contactenos",className:`cliente-nav-link ${D("/contactenos")?"active":""}`,onClick:()=>r(!1)},"CONTCTENOS"),o.createElement(cs,{to:"/pedidos",className:"cliente-nav-link",onClick:()=>r(!1),style:{display:"flex",alignItems:"center",gap:"0.5rem",borderTop:"1px solid #e9ecef",paddingTop:"1rem",marginTop:"0.5rem"}}," CARRITO",W>0&&o.createElement("span",{style:{backgroundColor:"#ec4899",color:"white",borderRadius:"50%",width:"24px",height:"24px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px",fontWeight:"bold"}},W)),u?o.createElement(o.Fragment,null,o.createElement(cs,{to:"/perfil",className:"cliente-nav-link",onClick:()=>r(!1),style:{borderTop:"1px solid #e9ecef",paddingTop:"1rem",marginTop:"0.5rem"}}," MI PERFIL"),o.createElement("div",{style:{padding:"0 1rem"}},o.createElement(v7,{className:"cliente-nav-button",showText:!0}))):o.createElement("button",{onClick:z,className:"cliente-nav-button",style:{cursor:"pointer",width:"100%"}},"INICIAR SESIN")),o.createElement("style",{jsx:!0},`
          @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
          }
          
          @keyframes slideDown {
            from {
              opacity: 0;
              transform: translateY(-10px);
            }
            to {
              opacity: 1;
              transform: translateY(0);
            }
          }
        `)))};function Ige(t){return Q0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function _ge(t){return Q0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448,209.91a210.06,210.06,0,0,1-122.77-39.25V349.38A162.55,162.55,0,1,1,185,188.31V278.2a74.62,74.62,0,1,0,52.23,71.18V0l88,0a121.18,121.18,0,0,0,1.86,22.17h0A122.18,122.18,0,0,0,381,102.39a121.43,121.43,0,0,0,67,20.14Z"},child:[]}]})(t)}function Lge(t){return Q0({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"},child:[]}]})(t)}function Tge(){const[t,e]=p.useState(null);return o.createElement("footer",{className:"relative bg-gradient-to-r from-pink-100 via-pink-200 to-yellow-100 overflow-hidden"},o.createElement("div",{className:"absolute top-0 left-0 right-0"},o.createElement("svg",{viewBox:"0 0 1200 120",preserveAspectRatio:"none",className:"w-full h-12 fill-white"},o.createElement("path",{d:"M0,60 C200,20 400,100 600,60 C800,20 1000,100 1200,60 L1200,0 L0,0 Z"}))),o.createElement("div",{className:"absolute inset-0 opacity-10"},o.createElement("div",{className:"absolute top-20 left-10 w-20 h-20 bg-pink-300 rounded-full animate-pulse"}),o.createElement("div",{className:"absolute bottom-20 right-10 w-16 h-16 bg-yellow-300 rounded-full animate-bounce"}),o.createElement("div",{className:"absolute top-1/2 left-1/3 w-12 h-12 bg-pink-400 rounded-full animate-pulse delay-300"}),o.createElement("div",{className:"absolute bottom-1/3 right-1/4 w-18 h-18 bg-yellow-400 rounded-full animate-bounce delay-500"})),o.createElement("div",{className:"absolute inset-0 opacity-5"},o.createElement("svg",{width:"100%",height:"100%",viewBox:"0 0 60 60"},o.createElement("defs",null,o.createElement("pattern",{id:"footer-dots",x:"0",y:"0",width:"30",height:"30",patternUnits:"userSpaceOnUse"},o.createElement("circle",{cx:"15",cy:"15",r:"2",fill:"currentColor"}))),o.createElement("rect",{width:"100%",height:"100%",fill:"url(#footer-dots)",className:"text-gray-600"}))),o.createElement("div",{className:"relative z-10 pt-8 pb-4"},o.createElement("div",{className:"container mx-auto px-4"},o.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8 mb-4 max-w-5xl mx-auto"},o.createElement("div",{className:"text-center"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-3 flex items-center justify-center"},o.createElement("span",{className:"mr-2"},""),"Delicias Darsy"),o.createElement("p",{className:"text-gray-700 text-base leading-relaxed"},"Descubre sabores nicos que"," ",o.createElement("span",{className:"text-pink-600 font-semibold"},"endulzan")," cada momento.")),o.createElement("div",{className:"text-center"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-3 flex items-center justify-center"},o.createElement("span",{className:"mr-2"},""),"Nuestra Empresa"),o.createElement("div",{className:"space-y-1 inline-flex flex-col"},o.createElement("a",{href:"../../../Sedes",rel:"noopener noreferrer",className:"flex items-center gap-x-2 text-gray-800 text-base font-medium hover:text-pink-600 transition-colors duration-300"},o.createElement("span",null,""),"Nuestras Sedes"),o.createElement("a",{href:"../../../Conocenos",rel:"noopener noreferrer",className:"flex items-center gap-x-2 text-gray-800 text-base font-medium hover:text-pink-600 transition-colors duration-300"},o.createElement("span",null,""),"Concenos"))),o.createElement("div",{className:"text-center"},o.createElement("h3",{className:"text-xl font-bold text-gray-800 mb-3 flex items-center justify-center"},o.createElement("span",{className:"mr-2"},""),"Contacto"),o.createElement("div",{className:"space-y-1 inline-flex flex-col"},o.createElement("a",{href:"https://wa.me/573213098504",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-x-2 text-gray-800 text-base font-medium hover:text-pink-600 transition-colors duration-300"},o.createElement(Lge,{className:"text-green-500 text-xl"}),"+57 321 309 85 04"),o.createElement("a",{href:"https://www.tiktok.com/@delicias_darsy?_t=ZS-8waDD3RfXJk&_r=1",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-x-2 text-gray-800 text-base font-medium hover:text-pink-600 transition-colors duration-300"},o.createElement(_ge,{className:"text-black text-xl"}),"Delicias_Darsy"),o.createElement("a",{href:"https://www.instagram.com/delicias_darsy?igsh=MTYwOWJoOTQ2djMwcg==",target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-x-2 text-gray-800 text-base font-medium hover:text-pink-600 transition-colors duration-300"},o.createElement(Ige,{className:"text-pink-500 text-xl"}),"@delicias_darsy")))),o.createElement("div",{className:"flex items-center justify-center mb-3"},o.createElement("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-pink-300 to-transparent"}),o.createElement("div",{className:"mx-4 flex space-x-1"},o.createElement("span",{className:"text-lg animate-bounce"},""),o.createElement("span",{className:"text-lg animate-bounce delay-100"},""),o.createElement("span",{className:"text-lg animate-bounce delay-200"},"")),o.createElement("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-yellow-300 to-transparent"})),o.createElement("div",{className:"text-center"},o.createElement("div",{className:"bg-white bg-opacity-90 rounded-full px-6 py-2.5 inline-block shadow-lg"},o.createElement("p",{className:"text-gray-700 text-sm font-medium"}," 2024 Delicias Darsy. Todos los derechos reservados.")),o.createElement("div",{className:"mt-2"},o.createElement("p",{className:"text-gray-600 text-xs"},"Desarrollado por: Danna Villegas, Juliana Quintero, Juan Cardona & Miguel Torres"))))),o.createElement("div",{className:"absolute bottom-4 left-4 opacity-60"},o.createElement("div",{className:"w-8 h-8 bg-pink-300 rounded-full animate-ping"})),o.createElement("div",{className:"absolute bottom-8 right-8 opacity-60"},o.createElement("div",{className:"w-6 h-6 bg-yellow-300 rounded-full animate-pulse"})))}const Rge=({userRole:t="admin"})=>{const e=Wd(),[r,n]=p.useState({}),[a,i]=p.useState([]),[s,l]=p.useState([]),[c,u]=p.useState(!0),[f,m]=p.useState(!1);p.useEffect(()=>{m(!1)},[e.pathname]);const v=()=>{m(!1)},h=()=>{m(!f)},E=[{key:"dashboard",title:"Dashboard",icon:"bi bi-speedometer2",path:"/admin/pages/Dashboard",permission:"Dashboard"},{key:"configuracion",title:"Configuracin",icon:"bi bi-gear-wide-connected",hasSubmenu:!0,submenu:[{title:"Roles",path:"/admin/pages/Roles",icon:"bi bi-person-badge-fill",permission:"Roles"},{title:"Sedes",path:"/admin/pages/Sede",icon:"bi bi-geo-alt-fill",permission:"Sedes"}]},{key:"usuarios",title:"Usuarios",icon:"bi bi-people-fill",path:"/admin/pages/Usuarios",permission:"Usuarios"},{key:"ventas",title:"Ventas",icon:"bi bi-credit-card-2-front-fill",hasSubmenu:!0,submenu:[{title:"Clientes",path:"/admin/pages/Clientes",icon:"bi bi-person-hearts",permission:"Cliente"},{title:"Ventas",path:"/admin/pages/Ventas",icon:"bi bi-graph-up-arrow",permission:"Ventas"}]},{key:"compras",title:"Compras",icon:"bi bi-cart-check-fill",hasSubmenu:!0,submenu:[{title:"Insumos",path:"/admin/pages/insumos",icon:"bi bi-box-seam-fill",permission:"Insumos"},{title:"Cat. Insumos",path:"/admin/pages/CategoriaInsumo",icon:"bi bi-tags-fill",permission:"Cat.Insumos"},{title:"Proveedores",path:"/admin/pages/proveedores",icon:"bi bi-truck-flatbed",permission:"Proveedores"},{title:"Compras",path:"/admin/pages/compras",icon:"bi bi-receipt-cutoff",permission:"Compras"}]},{key:"productos",title:"Productos",icon:"bi bi-cake2-fill",hasSubmenu:!0,submenu:[{title:"Cat. Productos",path:"/admin/pages/CategoriaProductos",icon:"bi bi-grid-3x3-gap-fill",permission:"Cat.Productos"},{title:"Productos",path:"/admin/pages/Productos",icon:"bi bi-star-fill",permission:"Productos"},{title:"Recetas",path:"/admin/pages/Recetas",icon:"bi bi-book-half",permission:"Productos"}]},{key:"produccion",title:"Produccin",icon:"bi bi-buildings-fill",path:"/admin/pages/produccion",permission:"Produccion"}],y=[{key:"inicio",title:"Inicio",icon:"bi bi-house-heart-fill",path:"/"},{key:"cartas",title:"Cartas",icon:"bi bi-menu-button-wide-fill",path:"/cartas"},{key:"sedes",title:"Sedes",icon:"bi bi-pin-map-fill",path:"/sedes"},{key:"perfil",title:"Mi Perfil",icon:"bi bi-person-circle",path:"/perfil"}];p.useEffect(()=>{(async()=>{try{if(u(!0),t==="cliente"){i(["all"]),u(!1);return}const I=localStorage.getItem("userData");if(I){const P=JSON.parse(I);console.log("Datos del usuario:",P);const L=P.idrol||P.rol_id;L?await b(L):(console.warn("No se encontr ID de rol en los datos del usuario"),i(["Dashboard"]))}else console.warn("No se encontraron datos de usuario"),i(["Dashboard"])}catch(I){console.error("Error al obtener permisos del usuario:",I),i(["Dashboard"])}finally{u(!1)}})()},[t]);const b=async N=>{try{const I="https://deliciasoft-backend.onrender.com/api";console.log(`Obteniendo permisos para el rol: ${N}`);const P=await fetch(`${I}/rol/${N}/permisos`);if(P.ok){const R=await P.json();console.log("Permisos obtenidos directamente:",R);const O=R.map(A=>A.modulo).filter(A=>A);if(console.log("Nombres de permisos extrados:",O),O.length>0){i(O);return}}const L=await fetch(`${I}/rol/${N}`);if(L.ok){const R=await L.json();if(console.log("Datos del rol:",R),R.permisos&&Array.isArray(R.permisos)){const O=await fetch(`${I}/permisos`);if(O.ok){const A=await O.json(),T=R.permisos.map(C=>{const _=A.find(D=>D.idpermiso===C);return _?_.modulo:null}).filter(C=>C!==null);console.log("Nombres de permisos (mtodo alternativo):",T),i(T);return}}}console.warn("No se pudieron obtener permisos del rol, asignando permisos mnimos"),i(["Dashboard"])}catch(I){console.error("Error al obtener permisos:",I),i(["Dashboard"])}};p.useEffect(()=>{if(t==="cliente"){l(y);return}if(c)return;const N=P=>P.map(L=>{if(L.permission){const R=a.includes(L.permission);if(console.log(`Verificando permiso para ${L.title}: ${L.permission} - Usuario tiene: [${a.join(", ")}] - Resultado: ${R}`),!R)return null}if(L.hasSubmenu&&L.submenu){const R=L.submenu.filter(O=>{if(O.permission){const A=a.includes(O.permission);return console.log(`Verificando permiso para subitem ${O.title}: ${O.permission} - Resultado: ${A}`),A}return!0});return R.length===0?(console.log(`Men ${L.title} oculto porque no tiene subitems con permisos`),null):{...L,submenu:R}}return L}).filter(L=>L!==null);console.log("Permisos del usuario:",a);const I=N(E);console.log("Men filtrado:",I),l(I)},[a,t,c]);const x=N=>{n(I=>({...I,[N]:!I[N]}))},w=N=>e.pathname===N;return o.createElement(o.Fragment,null,o.createElement("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css",rel:"stylesheet"}),o.createElement("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css",rel:"stylesheet"}),o.createElement("style",null,`
          /* Asegurar espacio para el botn de cerrar sesin */
          body, 
          #root,
          .app,
          .main-content,
          .content-area,
          .page-wrapper,
          [class*="container"],
          [class*="wrapper"],
          [class*="content"] {
            padding-top: 15px !important;
          }
          
          @media (max-width: 1024px) {
            .content-with-sidebar {
              margin-left: 0 !important;
              padding-top: 80px !important;
            }
          }
        `),o.createElement("button",{className:"sidebar-toggle",onClick:h,"aria-label":"Toggle menu"},o.createElement("i",{className:`bi ${f?"bi-x-lg":"bi-list"}`})),o.createElement("div",{className:`sidebar-overlay ${f?"active":""}`,onClick:v}),o.createElement("div",{className:`sidebar ${f?"active":""}`},o.createElement("div",{className:"sidebar-header"},o.createElement("div",{className:"logo-container"},o.createElement("img",{src:"/imagenes/logo-delicias-darsy.png",alt:"Logo Delicias Darsy",className:"sidebar-logo"}),o.createElement("div",{className:"logo-text"},o.createElement("h6",null,"Delicias Darsy"),o.createElement("small",null,"Sistema de Gestin")))),o.createElement("nav",{className:"sidebar-nav"},c&&t==="admin"&&o.createElement("div",{className:"nav-item"},o.createElement("div",{className:"nav-link nav-message loading-animation"},o.createElement("div",{className:"nav-content"},o.createElement("i",{className:"nav-icon bi bi-hourglass-split"}),o.createElement("span",{className:"nav-text"},"Cargando permisos...")))),!c&&s.length===0&&t==="admin"&&o.createElement("div",{className:"nav-item"},o.createElement("div",{className:"nav-link nav-message error"},o.createElement("div",{className:"nav-content"},o.createElement("i",{className:"nav-icon bi bi-shield-exclamation"}),o.createElement("span",{className:"nav-text"},"Sin permisos asignados")))),!c&&s.map(N=>{var I;return o.createElement("div",{key:N.key,className:"nav-item"},N.hasSubmenu?o.createElement(o.Fragment,null,o.createElement("button",{className:`nav-link nav-toggle ${r[N.key]?"expanded":""}`,onClick:()=>x(N.key),"aria-expanded":r[N.key],"aria-controls":`submenu-${N.key}`},o.createElement("div",{className:"nav-content"},o.createElement("i",{className:`nav-icon ${N.icon}`}),o.createElement("span",{className:"nav-text"},N.title),o.createElement("i",{className:"nav-arrow bi bi-chevron-right"}))),r[N.key]&&o.createElement("div",{className:"submenu",id:`submenu-${N.key}`,role:"menu"},(I=N.submenu)==null?void 0:I.map(P=>o.createElement(cs,{key:P.path,to:P.path,className:`nav-link submenu-link ${w(P.path)?"active":""}`,role:"menuitem"},o.createElement("div",{className:"nav-content"},P.icon&&o.createElement("i",{className:`submenu-icon ${P.icon}`}),o.createElement("span",{className:"nav-text"},P.title)))))):o.createElement(cs,{to:N.path,className:`nav-link ${w(N.path)?"active":""}`,role:"menuitem"},o.createElement("div",{className:"nav-content"},o.createElement("i",{className:`nav-icon ${N.icon}`}),o.createElement("span",{className:"nav-text"},N.title))))})),o.createElement("div",{className:"sidebar-footer"},o.createElement("div",{className:"user-info"},o.createElement("div",{className:"user-avatar"},o.createElement("i",{className:"bi bi-person-circle"})),o.createElement("div",{className:"user-details"},o.createElement("span",{className:"user-role"},t==="admin"?"Administrador":"Cliente"),o.createElement("small",{className:"user-id"},c?"Cargando...":`${a.length} mdulos`))))))};function Mge({insumos:t=[],pedidos:e=[],producciones:r=[]}){const[n,a]=p.useState(!1),[i,s]=p.useState([]),[l,c]=p.useState([]),[u,f]=p.useState([]),[m,v]=p.useState([]),[h,E]=p.useState([]),[y,b]=p.useState([]),[x,w]=p.useState([]),[N,I]=p.useState([]),[P,L]=p.useState(new Set),[R,O]=p.useState("pedidos"),[A,T]=p.useState(!1);p.useEffect(()=>{const G=t.filter(ee=>(parseFloat(ee.cantidad)||0)<=0&&ee.estado);s(G);const te=new Date;te.setHours(0,0,0,0);const W=new Date;W.setHours(W.getHours()-24);const B=e.filter(ee=>{if(P.has(`pedido-nuevo-${ee.idVenta||ee.idpedido}`))return!1;const le=ee.idEstadoVenta===1||ee.estadoVentaId===1,pe=(ee.nombreEstado||"").toLowerCase();return!le&&pe!=="en espera"||ee.tipoVenta==="directa"||ee.tipoVenta==="venta directa"?!1:new Date(ee.fechaVenta||ee.fechaventa)>=W});c(B);const j=e.filter(ee=>!(P.has(`pedido-entregar-${ee.idVenta||ee.idpedido}`)||!(ee.idEstadoVenta===3||ee.estadoVentaId===3)||ee.tipoVenta==="directa"||ee.tipoVenta==="venta directa"));E(j);const U=e.filter(ee=>{if(P.has(`pedido-entregado-${ee.idVenta||ee.idpedido}`))return!1;const le=ee.idEstadoVenta===4||ee.estadoVentaId===4,pe=(ee.nombreEstado||"").toLowerCase();return!le&&pe!=="finalizado"&&pe!=="entregado"||ee.tipoVenta==="directa"||ee.tipoVenta==="venta directa"?!1:new Date(ee.fechaActualizacion||ee.updatedAt||ee.fechaVenta)>=W});b(U);const X=e.filter(ee=>{if(P.has(`pedido-proximo-${ee.idVenta||ee.idpedido}`)||!ee.fechaEntrega)return!1;const le=["entregado","completado","cancelado","anulado","finalizado"],pe=(ee.nombreEstado||"").toLowerCase(),ce=ee.idEstadoVenta||ee.estadoVentaId;if(le.includes(pe)||ce===4||ce===5||ce===6||ee.tipoVenta==="directa"||ee.tipoVenta==="venta directa")return!1;const _e=new Date(ee.fechaEntrega);_e.setHours(0,0,0,0);const He=Math.ceil((_e-te)/(1e3*60*60*24));return He>=0&&He<=5});v(X);const Z=e.filter(ee=>{if(P.has(`pedido-atrasado-${ee.idVenta||ee.idpedido}`)||!ee.fechaEntrega)return!1;const le=["entregado","completado","cancelado","anulado","finalizado"],pe=(ee.nombreEstado||"").toLowerCase(),ce=ee.idEstadoVenta||ee.estadoVentaId;if(le.includes(pe)||ce===4||ce===5||ce===6||ee.tipoVenta==="directa"||ee.tipoVenta==="venta directa")return!1;const _e=new Date(ee.fechaEntrega);return _e.setHours(0,0,0,0),Math.ceil((_e-te)/(1e3*60*60*24))<0});f(Z);const me=r.filter(ee=>P.has(`produccion-nueva-${ee.id||ee.idproduccion}`)||(ee.tipoProduccion||ee.TipoProduccion||"").toLowerCase()!=="fabrica"?!1:new Date(ee.fechaCreacion||ee.fechapedido||ee.createdAt)>=W);w(me);const de=r.filter(ee=>P.has(`produccion-entregada-${ee.id||ee.idproduccion}`)||(ee.estadoProduccion||ee.estadoproduccion)!==6?!1:new Date(ee.fechaActualizacion||ee.updatedAt||ee.fechaCreacion)>=W);if(I(de),G.length+B.length+j.length+U.length+X.length+Z.length+me.length+de.length>0){T(!0);const ee=setTimeout(()=>T(!1),1e3);return()=>clearTimeout(ee)}},[t,e,r,P]);const C=i.length>0||l.length>0||h.length>0||y.length>0||m.length>0||u.length>0||x.length>0||N.length>0,_=i.length+l.length+h.length+y.length+m.length+u.length+x.length+N.length,D=G=>{const te=new Date;te.setHours(0,0,0,0);const W=new Date(G);return W.setHours(0,0,0,0),Math.ceil((W-te)/(1e3*60*60*24))},z=G=>new Date(G).toLocaleDateString("es-CO",{day:"2-digit",month:"short",year:"numeric"}),V=G=>{L(te=>new Set([...te,G]))},J=[...l.map(G=>({...G,clasificacion:"nuevo",prioridad:1})),...u.map(G=>({...G,clasificacion:"atrasado",prioridad:2})),...h.map(G=>({...G,clasificacion:"porEntregar",prioridad:3})),...y.map(G=>({...G,clasificacion:"entregado",prioridad:4})),...m.map(G=>({...G,clasificacion:"proximo",prioridad:5}))].filter((G,te,W)=>te===W.findIndex(B=>B.idpedido&&B.idpedido===G.idpedido||B.idVenta&&B.idVenta===G.idVenta)).sort((G,te)=>G.prioridad!==te.prioridad?G.prioridad-te.prioridad:G.fechaEntrega&&te.fechaEntrega?new Date(G.fechaEntrega)-new Date(te.fechaEntrega):0),ie=[...x.map(G=>({...G,clasificacion:"nueva",prioridad:1})),...N.map(G=>({...G,clasificacion:"entregada",prioridad:2}))].sort((G,te)=>G.prioridad-te.prioridad);return o.createElement(o.Fragment,null,o.createElement("div",{style:{position:"relative"}},o.createElement("button",{onClick:()=>a(!n),className:A?"bell-shake":"",style:{background:n?"linear-gradient(135deg, #ff69b4, #ff1493)":"linear-gradient(135deg, #ffffff, #fef7ff)",border:"2px solid #ff69b4",cursor:"pointer",position:"relative",padding:"5px",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:"50%",transition:"all 0.3s ease",width:"32px",height:"32px",boxShadow:n?"0 2px 10px rgba(255, 105, 180, 0.4)":"0 2px 6px rgba(255, 105, 180, 0.2)"},onMouseEnter:G=>{n||(G.currentTarget.style.transform="scale(1.05)",G.currentTarget.style.boxShadow="0 2px 10px rgba(255, 105, 180, 0.3)")},onMouseLeave:G=>{n||(G.currentTarget.style.transform="scale(1)",G.currentTarget.style.boxShadow="0 2px 6px rgba(255, 105, 180, 0.2)")},title:"Notificaciones"},o.createElement(e4,{size:14,color:n?"white":"#ff69b4",strokeWidth:2.5}),C&&o.createElement("div",{style:{position:"absolute",top:"-3px",right:"-3px",backgroundColor:"#ef4444",color:"white",borderRadius:"50%",width:"14px",height:"14px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"8px",fontWeight:"bold",border:"1.5px solid white",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.4)",animation:"pulse-badge 2s infinite"}},_>9?"9+":_)),n&&o.createElement("div",{style:{position:"absolute",top:"36px",right:"0",width:"320px",backgroundColor:"white",borderRadius:"10px",boxShadow:"0 6px 28px rgba(255, 105, 180, 0.25)",zIndex:10001,maxHeight:"420px",display:"flex",flexDirection:"column",border:"2px solid #ff69b4",overflow:"hidden",animation:"slideDown 0.3s ease-out"}},o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"8px 10px",borderBottom:"2px solid #ffe4f0",background:"linear-gradient(135deg, #fff5fb, #ffffff)"}},o.createElement("div",null,o.createElement("h3",{style:{margin:"0",fontSize:"12px",fontWeight:"700",color:"#ff1493",display:"flex",alignItems:"center",gap:"4px"}},o.createElement(e4,{size:12}),"Notificaciones"),o.createElement("p",{style:{margin:"2px 0 0 0",fontSize:"9px",color:"#9ca3af",fontWeight:"500"}},C?`${_} alerta${_>1?"s":""}`:"Todo bien ")),o.createElement("button",{onClick:()=>a(!1),style:{background:"linear-gradient(135deg, #ff69b4, #ff1493)",border:"none",cursor:"pointer",padding:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"white",borderRadius:"50%",transition:"all 0.2s",width:"22px",height:"22px"},onMouseEnter:G=>{G.currentTarget.style.transform="rotate(90deg) scale(1.1)",G.currentTarget.style.background="linear-gradient(135deg, #ff1493, #dc143c)"},onMouseLeave:G=>{G.currentTarget.style.transform="rotate(0deg) scale(1)",G.currentTarget.style.background="linear-gradient(135deg, #ff69b4, #ff1493)"}},o.createElement(lu,{size:12}))),o.createElement("div",{style:{display:"flex",borderBottom:"2px solid #ffe4f0",background:"linear-gradient(135deg, #fff5fb, #ffffff)"}},[{key:"pedidos",icon:a4,label:"Pedidos",count:J.length,color:"#f59e0b"},{key:"insumos",icon:lB,label:"Insumos",count:i.length,color:"#ef4444"},{key:"produccion",icon:r4,label:"Produccin",count:ie.length,color:"#8b5cf6"}].map(({key:G,icon:te,label:W,count:B,color:j})=>o.createElement("button",{key:G,onClick:()=>O(G),style:{flex:1,padding:"7px 5px",border:"none",backgroundColor:R===G?"white":"transparent",borderBottom:R===G?"2px solid #ff69b4":"none",color:R===G?"#ff1493":"#9ca3af",fontWeight:R===G?"700":"600",cursor:"pointer",fontSize:"9px",transition:"all 0.2s",display:"flex",alignItems:"center",justifyContent:"center",gap:"3px"},onMouseEnter:U=>{R!==G&&(U.currentTarget.style.backgroundColor="#fff5fb",U.currentTarget.style.color="#ff69b4")},onMouseLeave:U=>{R!==G&&(U.currentTarget.style.backgroundColor="transparent",U.currentTarget.style.color="#9ca3af")}},o.createElement(te,{size:10}),W,B>0&&o.createElement("span",{style:{backgroundColor:j,color:"white",borderRadius:"6px",padding:"1px 3px",fontSize:"7px",fontWeight:"bold"}},B)))),o.createElement("div",{style:{overflowY:"auto",maxHeight:"330px",flex:1,background:"linear-gradient(to bottom, #ffffff, #fef7ff)"}},R==="pedidos"?J.length>0?o.createElement("div",{style:{padding:"8px"}},J.map((G,te)=>{const{clasificacion:W}=G,B=`pedido-${W}-${G.idVenta||G.idpedido}`,j={nuevo:{bg:"linear-gradient(135deg, #d1fae5, #a7f3d0)",border:"#10b981",textPrimary:"#065f46",textSecondary:"#047857",badge:"#059669",badgeText:" NUEVO",icon:""},atrasado:{bg:"linear-gradient(135deg, #fee2e2, #fecaca)",border:"#ef4444",textPrimary:"#7f1d1d",textSecondary:"#991b1b",badge:"#dc2626",badgeText:" ATRASADO",icon:""},porEntregar:{bg:"linear-gradient(135deg, #dbeafe, #bfdbfe)",border:"#3b82f6",textPrimary:"#1e3a8a",textSecondary:"#1e40af",badge:"#2563eb",badgeText:" POR ENTREGAR",icon:""},entregado:{bg:"linear-gradient(135deg, #d1fae5, #a7f3d0)",border:"#10b981",textPrimary:"#065f46",textSecondary:"#047857",badge:"#059669",badgeText:" ENTREGADO",icon:""},proximo:{bg:"linear-gradient(135deg, #fef3c7, #fde68a)",border:"#f59e0b",textPrimary:"#78350f",textSecondary:"#92400e",badge:"#f59e0b",badgeText:" PRXIMO",icon:""}},U=j[W]||j.proximo,X=G.fechaEntrega?D(G.fechaEntrega):null;return o.createElement("div",{key:te,style:{padding:"8px",background:U.bg,borderLeft:`2px solid ${U.border}`,borderRadius:"6px",marginBottom:"6px",fontSize:"10px",boxShadow:`0 2px 4px ${U.border}26`,transition:"all 0.2s",position:"relative"}},o.createElement("button",{onClick:()=>V(B),style:{position:"absolute",top:"4px",right:"4px",background:"rgba(0,0,0,0.1)",border:"none",borderRadius:"50%",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",opacity:.6,transition:"all 0.2s"},onMouseEnter:Z=>{Z.currentTarget.style.opacity="1",Z.currentTarget.style.background=U.badge},onMouseLeave:Z=>{Z.currentTarget.style.opacity="0.6",Z.currentTarget.style.background="rgba(0,0,0,0.1)"},title:"Eliminar notificacin"},o.createElement(lu,{size:10,color:"white"})),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",gap:"6px",paddingRight:"20px"}},o.createElement("div",{style:{flex:1}},o.createElement("p",{style:{margin:"0 0 3px 0",fontWeight:"700",color:U.textPrimary,fontSize:"11px",display:"flex",alignItems:"center",gap:"3px"}},o.createElement(a4,{size:11}),"Pedido #",G.idpedido||G.idVenta),o.createElement("p",{style:{margin:"0 0 3px 0",color:U.textSecondary,fontSize:"9px",fontWeight:"600"}}," ",G.nombreCliente||"Cliente"),o.createElement("p",{style:{margin:"0 0 3px 0",color:U.textSecondary,fontSize:"8px",fontWeight:"600"}},U.icon," ",G.nombreEstado||"Estado N/A"),G.fechaEntrega&&W!=="entregado"&&o.createElement("div",{style:{display:"flex",gap:"6px",alignItems:"center",marginTop:"4px"}},o.createElement("span",{style:{color:U.textPrimary,fontWeight:"700",fontSize:"9px"}}," ",z(G.fechaEntrega)),X!==null&&W!=="nuevo"&&o.createElement("span",{style:{color:U.textSecondary,fontSize:"8px",backgroundColor:`${U.textPrimary}1a`,padding:"1px 4px",borderRadius:"3px",fontWeight:"600"}},W==="atrasado"?`${Math.abs(X)} da(s) ATRASADO!`:X===0?"HOY!":X===1?"Maana":`En ${X} das`)),W==="nuevo"&&G.fechaVenta&&o.createElement("div",{style:{marginTop:"4px"}},o.createElement("span",{style:{color:U.textSecondary,fontSize:"8px",backgroundColor:`${U.textPrimary}1a`,padding:"1px 4px",borderRadius:"3px",fontWeight:"600"}},"Creado: ",z(G.fechaVenta))),W==="entregado"&&o.createElement("div",{style:{marginTop:"4px"}},o.createElement("span",{style:{color:U.textSecondary,fontSize:"8px",backgroundColor:`${U.textPrimary}1a`,padding:"1px 4px",borderRadius:"3px",fontWeight:"600"}},"Pedido completado exitosamente!"))),o.createElement("div",{style:{padding:"2px 6px",borderRadius:"4px",backgroundColor:U.badge,color:"white",fontSize:"8px",fontWeight:"700",whiteSpace:"nowrap"}},U.badgeText)))})):o.createElement("div",{style:{padding:"35px 15px",textAlign:"center",color:"#9ca3af"}},o.createElement("div",{style:{fontSize:"32px",marginBottom:"8px"}},""),o.createElement("p",{style:{margin:0,fontSize:"12px",fontWeight:"600",color:"#6b7280"}},"Sin pedidos pendientes"),o.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"10px",color:"#9ca3af"}},"No hay alertas de pedidos")):R==="insumos"?i.length>0?o.createElement("div",{style:{padding:"8px"}},i.map((G,te)=>{var B;const W=`insumo-critico-${G.idinsumo||te}`;return o.createElement("div",{key:te,style:{padding:"8px",background:"linear-gradient(135deg, #fee2e2, #fecaca)",borderLeft:"2px solid #ef4444",borderRadius:"6px",marginBottom:"6px",fontSize:"10px",boxShadow:"0 2px 4px rgba(239, 68, 68, 0.15)",transition:"all 0.2s",position:"relative"}},o.createElement("button",{onClick:()=>V(W),style:{position:"absolute",top:"4px",right:"4px",background:"rgba(0,0,0,0.1)",border:"none",borderRadius:"50%",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",opacity:.6,transition:"all 0.2s"},onMouseEnter:j=>{j.currentTarget.style.opacity="1",j.currentTarget.style.background="#dc2626"},onMouseLeave:j=>{j.currentTarget.style.opacity="0.6",j.currentTarget.style.background="rgba(0,0,0,0.1)"},title:"Eliminar notificacin"},o.createElement(lu,{size:10,color:"white"})),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",gap:"6px",paddingRight:"20px"}},o.createElement("div",{style:{flex:1}},o.createElement("p",{style:{margin:"0 0 3px 0",fontWeight:"700",color:"#7f1d1d",fontSize:"11px",display:"flex",alignItems:"center",gap:"3px"}},o.createElement(t4,{size:11}),G.nombreInsumo||G.nombreinsumo),o.createElement("p",{style:{margin:"0 0 3px 0",color:"#991b1b",fontSize:"9px",fontWeight:"600"}}," ",G.nombreCategoria||((B=G.categoriainsumos)==null?void 0:B.nombrecategoria)||"Sin categora"),o.createElement("div",{style:{display:"flex",gap:"6px",alignItems:"center"}},o.createElement("span",{style:{color:"#7f1d1d",fontWeight:"700",fontSize:"9px"}},"Stock: ",G.cantidad," ",G.nombreUnidadMedida||"unid"),o.createElement("span",{style:{color:"#991b1b",fontSize:"8px",backgroundColor:"rgba(127, 29, 29, 0.1)",padding:"1px 4px",borderRadius:"3px",fontWeight:"600"}},"Mn: ",G.stockMinimo||5))),o.createElement("div",{style:{padding:"2px 6px",borderRadius:"4px",backgroundColor:"#dc2626",color:"white",fontSize:"8px",fontWeight:"700",whiteSpace:"nowrap"}}," AGOTADO")))})):o.createElement("div",{style:{padding:"35px 15px",textAlign:"center",color:"#9ca3af"}},o.createElement("div",{style:{fontSize:"32px",marginBottom:"8px"}},""),o.createElement("p",{style:{margin:0,fontSize:"12px",fontWeight:"600",color:"#6b7280"}},"Stock en buen estado"),o.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"10px",color:"#9ca3af"}},"Todos los insumos disponibles")):ie.length>0?o.createElement("div",{style:{padding:"8px"}},ie.map((G,te)=>{const{clasificacion:W}=G,B=`produccion-${W}-${G.id||G.idproduccion}`,j={nueva:{bg:"linear-gradient(135deg, #e0e7ff, #c7d2fe)",border:"#8b5cf6",textPrimary:"#5b21b6",textSecondary:"#6d28d9",badge:"#7c3aed",badgeText:" NUEVA PRODUCCIN",icon:""},entregada:{bg:"linear-gradient(135deg, #d1fae5, #a7f3d0)",border:"#10b981",textPrimary:"#065f46",textSecondary:"#047857",badge:"#059669",badgeText:" COMPLETADA",icon:""}},U=j[W]||j.nueva;return o.createElement("div",{key:te,style:{padding:"8px",background:U.bg,borderLeft:`2px solid ${U.border}`,borderRadius:"6px",marginBottom:"6px",fontSize:"10px",boxShadow:`0 2px 4px ${U.border}26`,transition:"all 0.2s",position:"relative"}},o.createElement("button",{onClick:()=>V(B),style:{position:"absolute",top:"4px",right:"4px",background:"rgba(0,0,0,0.1)",border:"none",borderRadius:"50%",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",opacity:.6,transition:"all 0.2s"},onMouseEnter:X=>{X.currentTarget.style.opacity="1",X.currentTarget.style.background=U.badge},onMouseLeave:X=>{X.currentTarget.style.opacity="0.6",X.currentTarget.style.background="rgba(0,0,0,0.1)"},title:"Eliminar notificacin"},o.createElement(lu,{size:10,color:"white"})),o.createElement("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start",gap:"6px",paddingRight:"20px"}},o.createElement("div",{style:{flex:1}},o.createElement("p",{style:{margin:"0 0 3px 0",fontWeight:"700",color:U.textPrimary,fontSize:"11px",display:"flex",alignItems:"center",gap:"3px"}},o.createElement(r4,{size:11}),G.nombreProduccion||`Produccin #${G.id||G.idproduccion}`),o.createElement("p",{style:{margin:"0 0 3px 0",color:U.textSecondary,fontSize:"9px",fontWeight:"600"}},U.icon," Tipo: ",(G.tipoProduccion||"Fbrica").toUpperCase()),o.createElement("div",{style:{marginTop:"4px"}},o.createElement("span",{style:{color:U.textPrimary,fontWeight:"700",fontSize:"9px"}}," ",z(G.fechaCreacion||G.fechapedido))),W==="nueva"&&o.createElement("div",{style:{marginTop:"4px"}},o.createElement("span",{style:{color:U.textSecondary,fontSize:"8px",backgroundColor:`${U.textPrimary}1a`,padding:"1px 4px",borderRadius:"3px",fontWeight:"600"}},"Produccin creada recientemente!")),W==="entregada"&&o.createElement("div",{style:{marginTop:"4px"}},o.createElement("span",{style:{color:U.textSecondary,fontSize:"8px",backgroundColor:`${U.textPrimary}1a`,padding:"1px 4px",borderRadius:"3px",fontWeight:"600"}},"Produccin completada exitosamente!"))),o.createElement("div",{style:{padding:"2px 6px",borderRadius:"4px",backgroundColor:U.badge,color:"white",fontSize:"8px",fontWeight:"700",whiteSpace:"nowrap"}},U.badgeText)))})):o.createElement("div",{style:{padding:"35px 15px",textAlign:"center",color:"#9ca3af"}},o.createElement("div",{style:{fontSize:"32px",marginBottom:"8px"}},""),o.createElement("p",{style:{margin:0,fontSize:"12px",fontWeight:"600",color:"#6b7280"}},"Produccin al da"),o.createElement("p",{style:{margin:"4px 0 0 0",fontSize:"10px",color:"#9ca3af"}},"Sin alertas"))),C&&o.createElement("div",{style:{padding:"7px 10px",borderTop:"2px solid #ffe4f0",background:"linear-gradient(135deg, #fff5fb, #ffffff)",fontSize:"9px",color:"#ff1493",textAlign:"center",fontWeight:"600",display:"flex",alignItems:"center",justifyContent:"center",gap:"4px"}},o.createElement(t4,{size:10}),R==="insumos"?"Requiere reabastecimiento":R==="pedidos"?(()=>{const G=[];return l.length>0&&G.push(`${l.length} nuevo(s)`),u.length>0&&G.push(`${u.length} atrasado(s)`),h.length>0&&G.push(`${h.length} por entregar`),y.length>0&&G.push(`${y.length} entregado(s)`),G.length>0?G.join("  "):"Pedidos pendientes"})():(()=>{const G=[];return x.length>0&&G.push(`${x.length} nueva(s)`),N.length>0&&G.push(`${N.length} completada(s)`),G.length>0?G.join("  "):"Alertas de produccin"})())),n&&o.createElement("div",{onClick:()=>a(!1),style:{position:"fixed",top:0,left:0,right:0,bottom:0,zIndex:1e4}})),o.createElement("style",null,`
        @keyframes bell-shake {
          0%, 100% { transform: rotate(0deg); }
          10%, 30%, 50%, 70%, 90% { transform: rotate(-10deg); }
          20%, 40%, 60%, 80% { transform: rotate(10deg); }
        }
        @keyframes pulse-badge {
          0%, 100% { transform: scale(1); box-shadow: 0 2px 4px rgba(239, 68, 68, 0.4); }
          50% { transform: scale(1.1); box-shadow: 0 2px 8px rgba(239, 68, 68, 0.6); }
        }
        @keyframes slideDown {
          from { opacity: 0; transform: translateY(-12px) scale(0.95); }
          to { opacity: 1; transform: translateY(0) scale(1); }
        }
        div::-webkit-scrollbar { width: 4px; }
        div::-webkit-scrollbar-track { background: transparent; }
        div::-webkit-scrollbar-thumb { background: linear-gradient(135deg, #ff69b4, #ff1493); border-radius: 2px; }
      `))}const Dge=({insumos:t=[],pedidos:e=[],producciones:r=[]})=>{const n=po(),[a,i]=p.useState(!1),s=()=>{i(!0)},l=()=>{const f=localStorage.getItem("userName")||"Usuario";localStorage.removeItem("authToken"),localStorage.removeItem("userRole"),localStorage.removeItem("userEmail"),localStorage.removeItem("userName"),localStorage.removeItem("userData"),i(!1),setTimeout(()=>{u(`Hasta luego ${f}!`,"Has cerrado sesin exitosamente")},100),n("/"),setTimeout(()=>{window.location.reload()},500)},c=()=>{i(!1)},u=(f,m,v)=>{const h=document.createElement("div");h.style.cssText=`
      position: fixed;
      top: 15px;
      right: 15px;
      background: linear-gradient(135deg, #ff69b4, #ff1493);
      color: white;
      padding: 12px 16px;
      border-radius: 10px;
      box-shadow: 0 6px 20px rgba(255, 105, 180, 0.3);
      z-index: 10001;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      font-weight: 600;
      font-size: 12px;
      max-width: 300px;
      animation: slideInToast 0.4s ease forwards;
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
    `,h.innerHTML=`
      <div style="display: flex; align-items: center; gap: 8px;">
        <span style="font-size: 18px;"></span>
        <div>
          <div style="font-weight: 700; margin-bottom: 2px; font-size: 13px;">${f}</div>
          <div style="font-weight: 500; opacity: 0.9; font-size: 11px;">${m}</div>
        </div>
      </div>
    `;const E=document.createElement("style");E.textContent=`
      @keyframes slideInToast {
        from {
          transform: translateX(100%);
          opacity: 0;
        }
        to {
          transform: translateX(0);
          opacity: 1;
        }
      }
      @keyframes slideOutToast {
        from {
          transform: translateX(0);
          opacity: 1;
        }
        to {
          transform: translateX(100%);
          opacity: 0;
        }
      }
    `,document.head.appendChild(E),document.body.appendChild(h),setTimeout(()=>{h.style.animation="slideOutToast 0.4s ease forwards",setTimeout(()=>{document.body.contains(h)&&document.body.removeChild(h),document.head.contains(E)&&document.head.removeChild(E)},400)},4e3)};return o.createElement(o.Fragment,null,o.createElement("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css",rel:"stylesheet"}),o.createElement("div",{style:{position:"absolute",top:"0",right:"0",display:"flex",alignItems:"center",gap:"12px",padding:"10px 15px",zIndex:100}},o.createElement("div",null,o.createElement(Mge,{insumos:t,pedidos:e,producciones:r})),o.createElement("button",{onClick:s,style:{background:"linear-gradient(135deg, #ff69b4, #ff1493)",border:"none",color:"white",cursor:"pointer",padding:"7px 13px",borderRadius:"16px",display:"flex",alignItems:"center",gap:"6px",fontSize:"12px",fontWeight:"600",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',transition:"all 0.3s ease",boxShadow:"0 2px 8px rgba(255, 105, 180, 0.3)",height:"32px"},onMouseEnter:f=>{f.currentTarget.style.background="linear-gradient(135deg, #ff1493, #dc143c)",f.currentTarget.style.transform="translateY(-2px)",f.currentTarget.style.boxShadow="0 4px 12px rgba(255, 105, 180, 0.4)"},onMouseLeave:f=>{f.currentTarget.style.background="linear-gradient(135deg, #ff69b4, #ff1493)",f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="0 2px 8px rgba(255, 105, 180, 0.3)"},title:"Cerrar sesin"},o.createElement("i",{className:"bi bi-box-arrow-right",style:{fontSize:"13px"}}),o.createElement("span",null,"Cerrar Sesin"))),a&&o.createElement("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"linear-gradient(135deg, rgba(0, 0, 0, 0.4), rgba(255, 105, 180, 0.1))",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e4,backdropFilter:"blur(8px)",animation:"fadeInBackdrop 0.4s ease forwards"}},o.createElement("div",{style:{background:"linear-gradient(135deg, #ffffff 0%, #fef7ff 100%)",borderRadius:"18px",padding:"1.8rem",maxWidth:"380px",width:"90%",textAlign:"center",boxShadow:"0 14px 42px rgba(255, 105, 180, 0.3), 0 0 0 1px rgba(255, 105, 180, 0.1)",border:"2px solid #ff69b4",animation:"slideUpModal 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards",position:"relative",overflow:"hidden"}},o.createElement("div",{style:{position:"relative",zIndex:2}},o.createElement("div",{style:{fontSize:"3rem",marginBottom:"1rem",background:"linear-gradient(135deg, #ff69b4, #ff1493)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",animation:"bounceIcon 2s ease-in-out infinite",display:"inline-block"}},""),o.createElement("h3",{style:{color:"#1f2937",marginBottom:"0.7rem",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',fontWeight:"700",fontSize:"1.2rem",textShadow:"0 2px 4px rgba(0, 0, 0, 0.1)"}},"Ests seguro que deseas cerrar sesin?"),o.createElement("p",{style:{color:"#374151",marginBottom:"1.3rem",lineHeight:"1.4",fontSize:"0.88rem",opacity:"0.9"}},"Tendrs que iniciar sesin nuevamente para acceder a tu perfil."),o.createElement("div",{style:{display:"flex",gap:"0.7rem",justifyContent:"center",flexWrap:"wrap"}},o.createElement("button",{onClick:c,style:{background:"linear-gradient(135deg, #6b7280, #374151)",color:"white",border:"none",borderRadius:"18px",padding:"0.7rem 1.3rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"5px",boxShadow:"0 3px 10px rgba(107, 114, 128, 0.3)"},onMouseEnter:f=>{f.currentTarget.style.background="linear-gradient(135deg, #374151, #1f2937)",f.currentTarget.style.transform="translateY(-2px)",f.currentTarget.style.boxShadow="0 4px 14px rgba(107, 114, 128, 0.4)"},onMouseLeave:f=>{f.currentTarget.style.background="linear-gradient(135deg, #6b7280, #374151)",f.currentTarget.style.transform="translateY(0)",f.currentTarget.style.boxShadow="0 3px 10px rgba(107, 114, 128, 0.3)"}},o.createElement("i",{className:"bi bi-x-circle",style:{fontSize:"15px"}}),o.createElement("span",null,"Cancelar")),o.createElement("button",{onClick:l,style:{background:"linear-gradient(135deg, #ff69b4, #ff1493)",color:"white",border:"none",borderRadius:"18px",padding:"0.7rem 1.3rem",cursor:"pointer",fontSize:"0.85rem",fontWeight:"600",transition:"all 0.3s ease",display:"flex",alignItems:"center",gap:"5px",boxShadow:"0 3px 10px rgba(255, 105, 180, 0.3)"},onMouseEnter:f=>{f.currentTarget.style.background="linear-gradient(135deg, #ff1493, #dc143c)",f.currentTarget.style.transform="translateY(-2px) scale(1.02)",f.currentTarget.style.boxShadow="0 5px 18px rgba(255, 105, 180, 0.5)"},onMouseLeave:f=>{f.currentTarget.style.background="linear-gradient(135deg, #ff69b4, #ff1493)",f.currentTarget.style.transform="translateY(0) scale(1)",f.currentTarget.style.boxShadow="0 3px 10px rgba(255, 105, 180, 0.3)"}},o.createElement("i",{className:"bi bi-box-arrow-right",style:{fontSize:"15px"}}),o.createElement("span",null,"Cerrar Sesin")))))),o.createElement("style",null,`
        /* Animaciones */
        @keyframes fadeInBackdrop {
          from { 
            opacity: 0; 
          }
          to { 
            opacity: 1; 
          }
        }

        @keyframes slideUpModal {
          from { 
            opacity: 0;
            transform: translateY(40px) scale(0.9);
          }
          to { 
            opacity: 1;
            transform: translateY(0) scale(1);
          }
        }

        @keyframes bounceIcon {
          0%, 100% { 
            transform: translateY(0); 
          }
          50% { 
            transform: translateY(-6px); 
          }
        }

        /* Responsive para tablets */
        @media (max-width: 1024px) {
          /* Ajustar posiciones en tablet */
        }

        /* Responsive para mviles */
        @media (max-width: 768px) {
          button[title="Cerrar sesin"] {
            padding: 6px 11px !important;
            font-size: 11px !important;
            height: 30px !important;
          }
          
          button[title="Cerrar sesin"] i {
            font-size: 12px !important;
          }
        }
      `))},jge=({children:t,userRole:e="admin",showSidebar:r=!0})=>{const[n,a]=p.useState([]),[i,s]=p.useState([]),[l,c]=p.useState([]),u=async()=>{try{const v="https://deliciasoft-backend-i6g9.onrender.com/api";try{const h=await fetch(`${v}/insumos`);if(h.ok){const E=await h.json();console.log(" Insumos cargados:",E.length),a(E)}}catch(h){console.error(" Error al cargar insumos:",h)}try{console.log(" Cargando ventas desde:",`${v}/venta`);const h=await fetch(`${v}/venta`);if(h.ok){const E=await h.json();console.log(" Ventas cargadas:",E.length);const y=E.map(b=>{var x,w;return{idpedido:b.idventa,idVenta:b.idventa,fechaVenta:b.fechaventa,fechaEntrega:b.fechaentrega||b.fechaventa,nombreCliente:b.cliente||((x=b.clienteData)==null?void 0:x.nombre)||"Cliente",idEstadoVenta:b.estadoVentaId||b.idestadoventa,estadoVentaId:b.estadoVentaId||b.idestadoventa,nombreEstado:((w=b.estadoVenta)==null?void 0:w.nombre_estado)||b.nombreEstado||"Desconocido",tipoVenta:b.tipoventa,total:b.total,fechaActualizacion:b.updatedAt||b.updated_at||b.fechaventa}});console.log(" Ventas transformadas:",y.length),s(y)}}catch(h){console.error(" Error al cargar ventas:",h)}try{console.log(" Cargando producciones desde:",`${v}/produccion`);const h=await fetch(`${v}/produccion`);if(h.ok){const E=await h.json();console.log(" Producciones cargadas:",E.length);const y=E.map(b=>({id:b.idproduccion||b.id,idproduccion:b.idproduccion||b.id,nombreProduccion:b.nombreproduccion||`Produccin #${b.idproduccion}`,tipoProduccion:(b.TipoProduccion||b.tipoProduccion||"").toLowerCase(),estadoProduccion:b.estadoproduccion,estadoPedido:b.estadopedido,fechaCreacion:b.fechapedido||b.createdAt,fechaEntrega:b.fechaentrega,fechaActualizacion:b.updatedAt||b.updated_at||b.fechapedido,numeroPedido:b.numeropedido}));console.log(" Producciones transformadas:",y.length),console.log(" Tipos encontrados:",[...new Set(y.map(b=>b.tipoProduccion))]),c(y)}}catch(h){console.error(" Error al cargar producciones:",h)}}catch(v){console.error(" Error general cargando datos:",v)}};p.useEffect(()=>{u();const v=setInterval(()=>{console.log(" Actualizando notificaciones..."),u()},12e4);return()=>clearInterval(v)},[]);const f=async()=>{try{const h=await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/venta");if(h.ok){const y=(await h.json()).map(b=>{var x,w;return{idpedido:b.idventa,idVenta:b.idventa,fechaVenta:b.fechaventa,fechaEntrega:b.fechaentrega||b.fechaventa,nombreCliente:b.cliente||((x=b.clienteData)==null?void 0:x.nombre)||"Cliente",idEstadoVenta:b.estadoVentaId||b.idestadoventa,estadoVentaId:b.estadoVentaId||b.idestadoventa,nombreEstado:((w=b.estadoVenta)==null?void 0:w.nombre_estado)||b.nombreEstado||"Desconocido",tipoVenta:b.tipoventa,total:b.total,fechaActualizacion:b.updatedAt||b.updated_at||b.fechaventa}});s(y),console.log(" Pedidos actualizados")}}catch(v){console.error("Error actualizando pedidos:",v)}},m=async()=>{try{const h=await fetch("https://deliciasoft-backend-i6g9.onrender.com/api/produccion");if(h.ok){const y=(await h.json()).map(b=>({id:b.idproduccion||b.id,idproduccion:b.idproduccion||b.id,nombreProduccion:b.nombreproduccion||`Produccin #${b.idproduccion}`,tipoProduccion:(b.TipoProduccion||b.tipoProduccion||"").toLowerCase(),estadoProduccion:b.estadoproduccion,estadoPedido:b.estadopedido,fechaCreacion:b.fechapedido||b.createdAt,fechaEntrega:b.fechaentrega,fechaActualizacion:b.updatedAt||b.updated_at||b.fechapedido,numeroPedido:b.numeropedido}));c(y),console.log(" Producciones actualizadas")}}catch(v){console.error("Error actualizando producciones:",v)}};return o.createElement("div",{className:"layout-container"},r&&o.createElement(Rge,{userRole:e}),r&&o.createElement(Dge,{insumos:n,pedidos:i,producciones:l}),o.createElement("div",{className:`main-content ${r?"with-sidebar":"full-width"}`},o.createElement("div",{className:"content-wrapper"},t||o.createElement(rz,{context:{actualizarPedidos:f,actualizarProducciones:m,cargarDatosParaNotificaciones:u}}))))};function Fge(){const t=Wd(),[e,r]=p.useState("cliente"),[n,a]=p.useState(!1),i=t.pathname==="/iniciar-sesion",s=t.pathname.startsWith("/admin"),l=t.pathname==="/perfil",c=t.pathname==="/pedidos/personalizar";p.useEffect(()=>{const f=localStorage.getItem("authToken"),m=localStorage.getItem("userRole");f&&(a(!0),r(m||"cliente"))},[t]);const u=n&&e==="admin"&&s;return o.createElement("div",{className:"App"},!i&&!u&&!l&&!c&&o.createElement(Oge,{isAuthenticated:n}),u?o.createElement(jge,{userRole:e,showSidebar:!0},o.createElement(GN,null,o.createElement(ha,{path:"/admin/pages/CategoriaInsumo",element:o.createElement(aK,null)}),o.createElement(ha,{path:"/admin/pages/insumos",element:o.createElement(LK,null)}),o.createElement(ha,{path:"/admin/pages/compras",element:o.createElement(UG,null)}),o.createElement(ha,{path:"/admin/pages/usuarios",element:o.createElement(BK,null)}),o.createElement(ha,{path:"/admin/pages/Roles",element:o.createElement(qK,null)}),o.createElement(ha,{path:"/admin/pages/Clientes",element:o.createElement(GK,null)}),o.createElement(ha,{path:"/admin/pages/proveedores",element:o.createElement(mX,null)}),o.createElement(ha,{path:"/admin/pages/Ventas",element:o.createElement(lY,null)}),o.createElement(ha,{path:"/admin/pages/Dashboard",element:o.createElement($pe,null)}),o.createElement(ha,{path:"/admin/pages/CategoriaProductos",element:o.createElement(Hpe,null)}),o.createElement(ha,{path:"/admin/pages/Productos",element:o.createElement(ige,null)}),o.createElement(ha,{path:"/admin/pages/Produccion",element:o.createElement(hge,null)}),o.createElement(ha,{path:"/admin/pages/Recetas",element:o.createElement(wge,null)}),o.createElement(ha,{path:"/admin/pages/Sede",element:o.createElement(kge,null)}))):o.createElement(o.Fragment,null,o.createElement(GN,null,o.createElement(ha,{path:"/iniciar-sesion",element:o.createElement(QB,null)}),o.createElement(ha,{path:"/",element:o.createElement(OB,null)}),o.createElement(ha,{path:"/conocenos",element:o.createElement(IB,null)}),o.createElement(ha,{path:"/contactenos",element:o.createElement(_B,null)}),o.createElement(ha,{path:"/cartas",element:o.createElement(DB,null)}),o.createElement(ha,{path:"/sedes",element:o.createElement($B,null)}),o.createElement(ha,{path:"/pedidos",element:o.createElement(GB,null)}),o.createElement(ha,{path:"/pedidos/personalizar",element:o.createElement(sU,null)}),o.createElement(ha,{path:"/detalle-fresas",element:o.createElement(jB,null)}),o.createElement(ha,{path:"/detalle-obleas",element:o.createElement(eU,null)}),o.createElement(ha,{path:"/detalle-mini-donas",element:o.createElement(tU,null)}),o.createElement(ha,{path:"/detalle-cupcake",element:o.createElement(rU,null)}),o.createElement(ha,{path:"/detalle-arroz",element:o.createElement(nU,null)}),o.createElement(ha,{path:"/detalle-postres",element:o.createElement(aU,null)}),o.createElement(ha,{path:"/detalle-sandwiches",element:o.createElement(oU,null)}),o.createElement(ha,{path:"/detalle-chocolates",element:o.createElement(iU,null)}),n&&e==="cliente"&&o.createElement(ha,{path:"/perfil",element:o.createElement(yU,null)}))),!i&&!u&&!l&&!c&&o.createElement(Tge,null))}function $ge(){return o.createElement(T7,null,o.createElement(uz,null,o.createElement(Fge,null)))}d$.createRoot(document.getElementById("root")).render(o.createElement(o.StrictMode,null,o.createElement(T7,null,o.createElement($ge,null))));export{Ra as _,Bv as c,wa as g};
